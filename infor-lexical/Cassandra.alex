test.unit.org.apache.cassandra.db.commitlog.CommitLogCQLTest
calling memtable directly applies flush memtable happen recycling segment commitlog region previous segments view active segments clean tracker active flush force recycle segments cfs segment manager memtable table empty cql tester retain collection current memtable instance integer commit log junit execute formatted query format db current column family store util column family store cql execute commit log segment array commit log cql keyspace table throwable commitlog truncate segment discard
test.unit.org.apache.cassandra.utils.HexTest
utils min hex hex conversion length hex hex junit arrays max util expected hex conversion array hex
test.unit.org.apache.cassandra.triggers.TriggersTest
conditional execution trigger stmt conditional execution trigger stmt itrigger collections add message junit storage service timestamp micros buffer util format db util load schema cql execute internal partitions trigger impl metadata cql update conditions reject generated updates table cf system nano time configuration cross table trigger execute trigger cql insert partition key query processor trigger created triggers setup table trigger key triggers invalid request cf mutation init server consistency level fb utilities service cql collection expected schema partition key untyped result row update builder trigger augment setup request execution table metadata partition trigger error mutations applied process utils schema update augmented cross partition trigger execute trigger cql batch conditions instance empty build execute trigger cql batch insert cf true schema loader error trigger update singleton execute trigger cql insert conditions update executed cql update conditions reject generated updates partition message
test.unit.org.apache.cassandra.cql3.validation.entities.TypeTest
reversed compatibility results invalid message size untyped result existing cql tester entities date compatibility junit cql uuid compatibility execute keyspace table throwable validation
src.java.org.apache.cassandra.streaming.messages.KeepAliveMessage
serialize stream message streaming session io stream session message version readable channel nio util data output stream io serializer channels deserialize alive messages alive message serializer
src.java.org.apache.cassandra.cql3.statements.AlterTableStatementColumn
stores column optionally alter table statement alter table statement store altered dropped null dropping null add statements alter table statement column column column metadata col cq data raw column cql schema
src.java.org.apache.cassandra.cql3.restrictions.ClusteringColumnRestrictions
restrictions clustering composite filtering checks underlying restriction underlying restriction checks underlying restriction slice underlying restriction slice checks underlying restrictions require underlying restrictions require ignore clustering columns handled restriction secondary index manager check false row filter clustering comparator db bound util cql restriction index manager inclusive append bound column clustering btree column column defs restriction wrapper table btree index merge column metadata build bound slice restriction query options add restriction supporting index restriction reverse multi column clustering column restrictions filter handle filter options invalid request statements multi column slice restriction start clustering bound restriction start navigable restriction filtering table metadata clustering missing elements slice empty schema restrictions key position multi cbuilder comparator bounds clustering filtering restriction utils bound override slice append empty build request validations restriction start single restriction builder add row filter build bound invalid request position column
src.java.org.apache.cassandra.cql3.AbstractMarker
single bind bind multi column raw version raw placeholder multiple single single represent invalid request raw bound user assignment term text multi column raw collect marker specification override function functions bind index keyspace marker instance add functions exact add column identifier udt assignment testable constants variable specifications collection column specification weakly assignable db kind util marker make receiver cql terminal result error collection prepare cf bind marker raw receiver marshal
src.java.org.apache.cassandra.io.util.TrackedDataInputPlus
track read reset counter method deprecated track read unsigned unsupported operation read read fully read skipped read utf io read read read data input skip source read tracker count read read data input read unsigned len util data input stream io read read reset read length read line tracked data input
src.java.org.apache.cassandra.cql3.restrictions.CustomIndexExpression
bound prepare column specification collect marker specification table add row filter target index table metadata keyspace row filter indexes index found column identifier spec schema variable specifications term expression col id db query options cql restrictions index prepare index restrictions add custom index expression options filter raw raw custom index expression idx marshal bind
test.unit.org.apache.cassandra.db.CounterMutationTest
initial update make increment decrement initial update make increment decrement update check initial update remove increment increment make shadowed rid complete increment ensure stay def cfs column row util cached counter add cell junit columns count dk buffer util db counter cfmd deletes cells single cell define schema cmd metadata write timeout expected ccfs ccfs column metadata cbuilder delete row configuration add row apply unsafe add check counter context add keyspace key context row truncate blocking simple cb keyspac mutation apply total open consistency level clustering rows ccfs ccfs include row add check expected schema expected def keyspace column family store prepare server row update builder comparator def batch counter mutation delete utils add cf column family store cfs instance build cf cfs schema loader empty keyspace params counter mutation batch
src.java.org.apache.cassandra.db.BlacklistedDirectoriesMBean
file mark unwritable db unwritable directories util mark unreadable unreadable directories blacklisted directories mbean io path
src.java.org.apache.cassandra.exceptions.FunctionExecutionException
function failure function functions fee function detail cql function function db util cql init code cql request execution function execution throwable marshal
src.java.org.apache.cassandra.gms.HeartBeatState
heart beat state generation data output serialize version io sizeof serialized size force highest version unsafe heart beat version state version iversioned serializer max heart beat state gms integer force newer generation unsafe sizes format read data input db util io update heart beat gen generation deserialize hb state heart beat state serializer write version generator serializer ver
src.java.org.apache.cassandra.auth.IInternodeAuthenticator
decides peer connect method socket immediately remote address ip address connecting remote port port connecting true connection false validates configuration iinternode authenticator configuration configuration remote port authenticate iinternode authenticator remote address auth inet address net configuration validate configuration
src.java.org.apache.cassandra.notifications.MemtableRenewedNotification
memtable renewed inotification memtable renewed notification db notifications
src.java.org.apache.cassandra.cql3.functions.UDFByteCodeVerifier
verifies udf checks disallowed method calls additional code tree unit constructor execute impl method buffer execute impl method buffer outer true anonymous add disallowed itf add disallowed method call udf code verifier visit field outer add disallowed method calls reader util cls sl bsm cql desc reader array collect acc common pkg google visit method field visitor visit method insn visit execute impl visitor starts multimap access version invokespecial constructor visitor method acc add disallowed put asm cls opcode signature tree opcodes acc disallowed visit invoke dynamic insn replace objectweb owner visit udf collection clazz disallowed method visitor visit insn disallowed acc visitor monitorenter monitorexit ctor sig multimap accept functions handle verify skip debug bsm errors error disallowed visitor udf
src.java.org.apache.cassandra.security.SSLFactory
factory providing client server ssl socket socket connect socket local address socket relevant socket options encryption relevant socket options encryption protocol build truststore supported ret ssl parameters ssl context filter cipher suites local port files instance tsf requireclientauth init ksf key managers logger immutable ssupported encryption options ssl server socket util ssl io warn enabled ssl factory logger common inet address security server socket factory google storetype server socket element enumeration iterables close port reuse address kmf checked expiry trust manager client auth ssl socket array tmf net aliases close quietly suppress warnings missing desired base socket address prepare socket trust manager factory array ssl parameters socket ctx filter server socket security iterable collect options load trust managers certificate key manager factory socket endpoint identification algorithm input stream supported cipher suites ciphersuites local address ldesired date length warn predicates copy illegal argument input stream truststore trust managers socket factory logger factory inet socket address paths io elements truststorepassword file logger keystore ssl context cert keystorepassword requireendpointverification ssl parameters config suites nio arrays expires certificate file utils enabled cipher suites key store algorithm bind server socket alias slfj ssl parameters
test.unit.org.apache.cassandra.index.internal.CassandraIndexTest
smoke secondary index update primary key script update update primary key script update update primary key script update update primary key script update multi partition single partition check rows built indexes rebuild index verify built status check rows built indexes slightly read rows methods util metadata retrieved cfs inherits base partitioner index base table real read table order generate unique check minimum required table tablemetadata build cql setup cql statements run dependent table run smoke creating check query indexed wait built validate indexed flush check force major compaction query reload base cfs verify queries work drop index longer query reload base cfs verify insert index query indexed modify indexed query original indexed column part primary skip update select statement query updated check entire row modified check primary key delete check found index delete check rows retrieved index flush verify deleted stay add back reset select row query original flush verify spin waiting index index frozen place operation query expression iterator delete partition cql index frozen index target compound row compact table system keyspace delete row cql unfiltered ttl arraycopy columns select order row compact util includes update index clustering column immutable primary key columns system keyspace index regular column query expression junit columns query expression buffer util format db current column family store util clause row size rebuild secondary index join cql wait index index manager copy row execute slices index frozen update expression iter collect index frozen place operation table common throwable index partition key column statement restrictions google backing table table system index index batch statements flush fail cfs index primary key liveness info clustering index slice filter reload base cfs array missing index message column metadata query expression markers iterators cfm partition key columns insert cql metadata index row clustering index filter run rows partition key decorated key delete partition cql built indexes script insert cql index column base key update ttl indexed clustering wait restrictions select row cql stream row column result current time millis filter keyspace length index clustering column index partition key column single partition read command index frozen entries replace operation row invalid request index key indexes multiple dimensions index correctly marked build removed spliterator column filter base pk drop index cql row drop index rows ignoring order fb utilities stream support rows indexed val table metadata update cql transform wait index build expected row unfiltered row iterator schema requires filtering message index regular column compact storage index rows delete row cql index frozen keys place operation index clustering column regular columns index row ttl built index indexes untyped result primary key collectors row null row target comparator read execution controller initial ttl max wait millis clustering columns insert tombstone removes entry index index cql array primary key columns column count decorate key slice post update query expression stream index statements conditions utils index frozen replace operation table definition query memtable disk index frozen entries place operation index frozen replace operation thread keyspace index counter query expression cql tester index frozen replace operation internal empty row unfiltered updated ttl command index cfs true empty sleep execution controller schema constants start time indexed joiner concat index invalid message index frozen select row cql index frozen keys replace operation false column family store index frozen place operation row joining
src.java.org.apache.cassandra.metrics.KeyspaceMetrics
metrics total amount live data stored excluding data structure overhead total amount data stored memtable resides including column related overhead partitions total amount data stored memtable resides including column related overhead partitions total amount live data stored memtables pending flush memtables resides excluding data structure overhead total amount data stored memtables pending flush memtables resides total amount data stored memtables pending flush memtables resides total number columns present number times flush resulted memtable estimated number tasks pending column family estimate number pending compactios cf disk space tables belonging cf total disk space tables belonging including obsolete waiting disk space bloom filter heap memory bloom filter heap memory index summary heap memory compression meta read metrics range slice metrics write metrics histogram number sstable data files accessed read tombstones scanned queries keyspace live cells scanned queries keyspace column update time delta keyspace time acquiring partition lock materialized view updates keyspace time local read materialized view update cas prepare metric cas propose metrics cas commit metrics writes failed ideal consistency ideal cl write latency metrics speculative retries speculative retry occured timed replicas number started repairs coordinator keyspace number completed repairs coordinator keyspace total time spent repair coordinator total time spent preparing repair time spent anticompacting total time spent creating merkle trees total time spent syncing data repair histogram number validated histogram number partitions validated metrics stored releasing creates metrics keyspace measure latency metrics table metrics histograms table metrics replicate updates add manually histograms keyspace gauge release latency metrics multiple metrics internally released represents column family metric metric column family current creates gauge sum current metric column families computes sum creates counter sum current metric column families counter computes sum extractor memtables heap size memtables live data size metrics range latency memtables heap data size keyspace metrics histogram group add write failed ideal cl repairs completed validation time db column family stores util cas propose live disk space pending flushes memtables heap size memtable count remove collect latency metrics common partitions validated release col update time delta histogram cas prepare keyspace metric google memtables heap data size append metric pending compactions memtable heap size array sum factory read latency bloom filter heap memory index summary heap memory counter timer memtable heap data size repairs started write latency timer keyspace metric metric cf memtable live data size memtable columns count memtable heap size bloom filter disk space speculative failed retries metrics registry live scanned histogram builder tombstone scanned histogram histogram cas commit column family store speculative insufficient replicas keyspace gauge view read time total disk space keyspace counter sstables read histogram validated register view lock acquire time metric speculative retries table metrics codahale repair time override compression metadata heap memory ideal cl write latency memtable heap data size metric factory keyspace metric factory metrics repair prepare time metrics anticompaction time count mbean add keyspace counter gauge repair sync time
test.unit.org.apache.cassandra.index.sasi.disk.TokenTreeTest
pack pack trees merging merging ram token ram token fail merge unsupported operation iterator simple build tree min token daemon initialization results token tree builder build serialize iterate buffer remaining disk packed write serialized size writer token merge skip tree add serialized size big single offset iterator null sequential writer junit build count dk max serialized size db token util framework temp file io build serialize toks iterator token iterator array compute commons dynamic token tree builder collect token common found multi collision disk token illegal argument tree key converter google token iterator build serialize iterate dynamic sync finish result entry skippable iterator close lang generate tree fake combined term hppc packable collision index build serialize iterate skip merge combined tree key iterators peeking iterator reader tree close quietly peek code builder key big tokens offsets builder decorated key serialized size dynamic opt position key base key offset put remaining array convert null sequential writer option sorted merging token trees colliding tokens length token offsets carrotsearch murmur marshal token tree skip past end dynamic perform skip format entry tree file count apply overflow elms open token tree size build serialize iterate skip single offset union token end data buffer decorated key builder key converter expected build serialize iterate skip dynamic peeking iterator tok min skip past end build serialize dynamic append tokens entry ordinal lookup setup dd buf tree iterator build serialize murmur partitioner token compose token iterator token tree flip tok max random access reader put cursor packable collision token token tree token compare cursors utils fail io override buffer size code elements function min range iterator max token token merge dyanmic tokens instance skip past end unpackable collision open dht config buffer ordinal build serialize iterate combined term tokens nio tokens tokens keys max factored allocate delete exit token merge range union iterator entry database descriptor token tree builder builder simple token file utils token entry offset file compare false entry sasi offsets
src.java.org.apache.cassandra.tools.nodetool.stats.TableStatsPrinter
index summary heap memtable cell count dropped mutations bloom filter false positives sstables level nodetool printf local read count number partitions estimate memtable count yaml printer stats keyspace space total maximum live cells slice minutes io override table sstable compression ratio tools read count tables compacted partition maximum memtable data size table stats holder maximum tombstones slice minutes bloom filter false ratio write count average tombstones slice minutes compression metadata heap json printer heap memory total read latency bloom filter heap memory index compression metadata heap memory stream format bloom filter heap heap stats printer util keyspaces number tables stats local write latency data space live space snapshots total average live cells slice minutes pending flushes join write latency percent repaired memtable heap memory memtable heap sstable count local write count keyspace printer bloom filter space leveled sstable index summary heap memory local read latency compacted partition minimum table stats printer stats table compacted partition
src.java.org.apache.cassandra.streaming.ReplicationFinishedVerbHandler
messaging service confirm replication replication finished verb handler streaming debug enabled logger message service id instance verb msg logger storage service iverb handler send reply net message verb internal response logger slfj debug response logger factory
test.unit.org.apache.cassandra.io.sstable.SSTableRewriterTest
make overlap early opened file compacting original file tmplink tmp files original file original file original file abort written original file original file finish written wrote original file files opened clear data running file added truncated canonical view table opened notified compaction sections ranges obsoleted emulates anticompaction writing source sstable table writer base iterator table txn writer live disk space singleton interrupted table sections ranges truncate blocking collections atomic directory tables stream session linked row token check count small files writer compacting positions uuid gen token file counts desc junit checked split writers count minimum token runnable dk buffer util format scanners end db view fragment cell size util token io compaction basic table splitter number files sizes table preempive open interval mb partitions serialization header tmplink positions table reader add table ref thread compaction strategy table random collect common abort truncate cf release disk partition unfiltered iterable compaction empty google prepare number filesabort table descriptor writer streaming table streaming sections abort result sstables iterables cfs append offline abort number filesabort number filesabort storage metrics sum canonical tables partition current update builder write files files number filesdontcleanreaders file pointer offline size ref metadata filename immutable btree partition run writer decorated key start size descriptor range validate cfs key time unit tracker throwable empty buffer abort helper cmd directories scanner table sections ranges keyspace force major compaction force blocking flush dir canonical view rewriter tables load txn ci current writer disk file pointer lifecycle transaction unknown disable auto compaction construct originals prepare commit stats scanner apply scanner range open select fb utilities clustering rows failed thread add atomic integer sleep uninterruptibly time uuid pair integer unfiltered row iterator sections metric files row number filesfinishemptynewwriter open reason table split cf orig keyspace controller delete recursive column family store orig operation compaction controller filecount table rewriter row update builder join wait deletions thread factory unfiltered iterator partition count disk total disk space early descriptor row count positions ranges preview kind number filestruncate scanners file count canonical table rewriter compacting table scanner utils false regular columns partitioner abort uncompressed length io execution sstable positions encoding stats write file compaction strategy manager start storage metrics load open reason keyspace cell count uninterruptibles offline abort column family store select function util partition build keys readable key count dht config start compaction iterator true finish construct early opening truncate arrays early metrics concurrent singleton tables file utils count database descriptor rewriter lifecycle view sec collection add sections rewrite splitter builder gc validate keys increment writer basic file modify directory live tables view fragment atomic section milliseconds left
src.java.org.apache.cassandra.db.ReadCommand
general read commands range single partition informations local secondary index manager attempt provide selective store results lookup repeating lifetime flag index manager queried select index result lookup repeat digest version digest creates instance limits updated metadata table metadata table time time query avoid expired buggy counting time configured timeout configured timeout filter columns columns fetched cql restrictions directly handled includes restrictions include pk columns restrictions satisfied clustering index filter clustering restricted indexes restriction handled filter holding expression rows limits limits query digest query digest query digest requested digest requested digest version query command digest digest query command digest read digest digest command note independently command digest query command carrier digest version digest query copy digest version version digest command digest read clustering index filter command provided note method called key queried sake filter key range command slightly key partition key queried partition key copy copy consulted index valid result cached cached index consulted index registered index suitable flag cache result index manager cfs determines execute call validation method check violates specific validation executes command local execution controller execution controller spanning iterator result executing command result iterator closed fine potentially close iterators created inside close original closing result satisfy primary expression point checking filtering row filter optimize pushing layer dropped efficient sooner discard stuff processing wraps provided iterator metrics scanned command log tombstone overwhelming updated relies check approximate time creates message skip purgeable safe memtable sstable save avoid making tombstone overwhelming purgeable tombstones extend artefact compaction lagging counting recreate cql note general original user single syntax information columns queried pk query relied good debugging purpose monitorable flag receive command thrift mixed cluster reminder flag drop compatibility release thrift confuse happen user error comment complain loudly wrong kind digest flag gc iterator live present selection deserializer row filter nano time stopping transformation query failure threshold marker row digest query predicate copy tombstone failure threshold row filter response cfs searcher range tombstone marker iversioned serializer clustering prefix apply row logger index metadata optional append cql clause write unsigned vint searcher apply partition iterator db kind util io open store index manager partitions cell partition range read command deserialize system keyspace iter column filter logger check abort index digest version index purgeable tombstones selection serialized size monitorable impl unknown index data output system read unsigned vint index read sizes warn tombstones compaction strategy manager close sizeof transformation append index unfiltered partition iterator purgeable tombstones thrift selected read response count tombstone partition cell read data limits version read command data input read query net approximate time metadata clustering index filter kind live rows index flag suppress warnings runtime purge function tracing close decorated key delay execute internal starts aborted write sleep quietly serialized size key index serialized size clustering index filter search purge repaired tombstones service iteration delay millis single partition message selection deserializer current time millis filter execute locally tombstone overwhelming single partition read command current key row query storage format serialize command column filter table id parse apply digest query database descriptor fb utilities clustering validate index rows table metadata checked apply partition transform tombstone scanned histogram msg integer unfiltered row iterator digest response empty schema function abort sizeof unsigned vint live scanned histogram builder index id index metadata warn keyspace controller partition key column family store write limits metric recording client warn serializer respect tombstone thresholds info serialize selection property limits comparator timeout read execution controller cells data response deserialize index metadata tracing existing table metadata logger factory start time nanos updated filter result iterator latency nanos utils command table metrics tombstone warn threshold io override cql logger id metric oldest unrepaired tombstone monitoring updated limit keyspace index queryable unfiltered partition iterators message partition range instance error record latency metrics recording index schema config live data ordinal digest version warning threshold trace index stop illegal state update metrics execution controller schema constants tombstones digest validate purge evaluator sec searcher post index query filter index manager queried state tracking slfj flags selects full partition time apply marker sb serializer
src.java.org.apache.cassandra.cql3.statements.PropertyDefinitions
property property property statements pattern format obsolete put keywords logger regex compile syntax val number format integer logger lower key property matches matcher parse util key simple key validate cql property definitions properties warn add property pattern positive logger slfj logger factory
src.java.org.apache.cassandra.cql3.statements.DropRoleStatement
check superuser status existing roles caching info roles exist validate login check access avoid leaking user existence anonymous rejected clean grants permissions dropped invalid request drop role statements check access revoke existing role result message role resource unauthorized user role manager role client state validate transport service permission drop authentication statement state role exists drop role statement ensure anonymous config roles format auth user database descriptor cql request validation authorizer execute superuser status request execution authenticated user revoke messages role check permission
src.java.org.apache.cassandra.db.transform.StoppingTransformation
transformation stop iterator earlier natural invoked partitions iterator transformation applied item invoked iterator transformation applied item signalled base rows base partitions stop nicoulaj base row iterator stopping transformation override transformation rows dont inline partition close transform attach net annotations compilecommand base iterator close db partitions stop partition stop child
src.java.org.apache.cassandra.db.rows.AbstractRangeTombstoneMarker
buffer bound close unfiltered clustering rows table metadata range tombstone marker size schema kind nio open reversed db include clustering keys clustering bound boundary validate full details validate data boundary kind comparator range tombstone marker subtype range tombstone marker metadata
src.java.org.apache.cassandra.db.marshal.TimeUUIDType
compare signed comparison transform simple comparison input signed machine converted unsigned complement unsupported operation unix timestamp time uuid timeuuid reorder timestamp buffer cql temporal custom source uuid gen input remaining column specification topbyte format db util serializer uuid uuid temporal time millis cast duration serializers empty meaningless comparison version cq constants term substract duration marshal uuid msb marshal msb wrap serializer simple signed time uuid limit compare utils cq parse override signed parsed instance add duration nio json compare custom lsb lsb exc length fixed position time uuid serializer
src.java.org.apache.cassandra.db.marshal.DurationType
represents duration stored duration stored months days empty buffer empty utils protocol version marshal cq duration cast buffer override parsed transport order serializer serializers source compatible internal comparison instance empty protocol version cq constants term nio buffer util format buffer db json empty buffer simple duration serializer cql serializer references duration duration exc deserialize duration json marshal decompose
src.java.org.apache.cassandra.locator.RackInferringSnitch
simple endpoint snitch assumes datacenter rack information octets ip datacenter endpoint rack inferring snitch integer address locator inet address net network topology snitch rack
test.unit.org.apache.cassandra.net.OutboundTcpConnectionTest
check queue expiration outbound tcp connection behaves properly droppable verifies assumptions verb dropped make produce wrong results droppabilty messages droppable messages dropped expiration time passed time expired messages expire check previous harder expired fills outbound tcp connection elements message verb droppable nano timestamp expiration performed offset chosen times expiration time future nano adds messages expiration starts verb defines message messaging service outbound tcp connection pool droppable verbs lo nano time enqueue daemon initialization system unknown host atomic nano time droppable message droppables droppability expiration time nanos verb droppable atomic integer verb mutation net outbound tcp connection config junit otc pool true initial fill backlog purge size enqueue otc outbound tcp connection nanos util concurrent verb inet address database descriptor nondroppable error nano time expired outbound tcp connection localhost timeout verb nondroppable backlog expired messages fill purge size nanos timeout increment expire messages message id false time unit message id message gossip digest ack milliseconds
test.unit.org.apache.cassandra.dht.PartitionerTestCase
recurses randomly depth split token call initializes populate points potential problems initialization solved stop recursion describe ownership midpoint wrapping daemon initialization collections buffer token ratio random token add junit storage service util token mintoken array random total ownership system describe ownership fail nio token factory factory runtime midpoint ipartitioner range key init dd token rand describe ownership init partitioner wrap size service tok sort token factory random token midpoint keyspaces partitioner token factory array minimum token num tokens split ratio max array midpoint minimum mid instance split dht config token factory midpoint minimum ownership database descriptor tokens midpoint split split ratio min partitioner depth clean compare left
src.java.org.apache.cassandra.db.Columns
immutable sorted columns note store regular index complex creates holding column column newly created holing columns provided newly created columns fast path common columns columns number simple columns number simple columns number complex columns number complex columns total number columns total number columns simple simple complex complex ith simple column index simple column satisfy simple column ith complex column index complex column satisfy complex column index provided simple column provided simple column index index simple column index provided complex column provided complex column index index complex column provided column column check presence result merging provided merge result union operand operand subset superset provided columns inclusion columns iterator simple columns iterator simple columns iterator complex columns iterator complex columns iterator columns iterator columns iterator columns order global alphabetical iterator columns complex iterator columns alphabetical wildcard columns alphabetical irregarding complex equivalent columns provided column column column newly allocated columns columns predicate columns included assuming tes columns passed predicate sorted predicate inclusion sorted columns apply function column definition forwards reversed find data dropped fail deserialization grab column metadata ensure column ignore ends superset columns send ends provide identically weight small majority items expect serializing result supersets fewer encode bitmap equates columns positive integer typically vint encoded neatly perform bitmap vint encoded adding subtracting sending bitmap bit encodes bit assumption presence consistent encoding represent index encounter columns count bits bottom expect index moves bits start missing begins count adding write flag indicating lengthy write present write missing write flag indicating lengthy write present write missing superset column metadata iterator bitmap nicoulaj buffer complex column count digest current index predicate serialized size cur instance add columns write unsigned vint count skipped buffer util primary key kind search iterator select order iterator util io read vint length cql illegal state dir simple iterator simple column count iter merge collect regular common security simple google simple idx data output expect index read unsigned vint serialized size vint length remove dropped column btree append slice merge complex idx btree search iterator code iterators immutable complex columns net metadata kind sizes complex runtime data input builder simple complex complex deserialize large subset simple columns deserialize subset column merge sorted btree removal marshal order inclusion tester singleton column serialize write vint length serialized subset size apply columns columns size find index dont inline table metadata serialize large subset collection asc duplicate column identifier ceil index length prev annotations empty schema function sizeof unsigned vint builder reversed op delta encoded consumer serializer message digest kind idx tree index current ut find index find complex idx def column count missing index utils io override superset count complex idx collection serialize subset deserialize instance empty build auto nio comparator compilecommand db position update empty buffer complex encode bitmap btree add natural order interned update function builder compare sb serialize large subset size serializer
test.unit.org.apache.cassandra.cql3.validation.miscellaneous.PgStringTest
markers multiple empty marker multiple stange valid conventional quoted invalid syntax index bounds invalid syntax row syntax marker pg fail pg cql tester expected junit pg syle function rows miscellaneous throwable cql execute keyspace table pg syle insert validation
src.java.org.apache.cassandra.repair.RepairJobDesc
repair job desc repair processes distinguish repair job repair session id repairing range size repair google version messaging service data output utils serialize write utf streaming repair job desc bounds io preview kind override validate partitioner serialized size rt uuid serializer read range collection code global partitioner iversioned serializer net dht read utf sizes sizeof read data input db util token base io write repair job desc serializer desc ranges parent session id uuid deserialize array token serializer range keyspace session id ranges common column family add write preview kind log prefix serializer
test.unit.org.apache.cassandra.db.partition.PartitionUpdateTest
current table metadata cfm partition update operation count compact table utils fb utilities operation count partition update cql tester update builder add build junit schema timestamp micros row db update framework cql operation count partitions row update builder table metadata builder partition build update table
src.java.org.apache.cassandra.serializers.BooleanSerializer
utils serialize marshal serializer buffer wrap true serializer serializers format instance remaining nio buffer util empty buffer validate false deserialize position
src.java.org.apache.cassandra.serializers.CounterSerializer
serializer serializers counter serializer
src.java.org.apache.cassandra.metrics.ClearableHistogram
adds ability reset creates reservoir reservoir histogram reservoir ref google reservoir decaying estimated histogram reservoir visible histogram metrics clearable histogram codahale common annotations clear
src.java.org.apache.cassandra.db.partitions.SingletonUnfilteredPartitionIterator
unsupported operation element remove close rows table metadata singleton unfiltered partition iterator unfiltered row iterator schema db util unfiltered partition iterator partitions iter metadata
src.java.org.apache.cassandra.tools.nodetool.SetConcurrentCompactors
google nodetool probe airlift concurrent compactors node probe arguments io tools title preconditions usage integer node tool airline description node tool cmd base command concurrent compactors execute required check argument common concurrent compactors
test.unit.org.apache.cassandra.locator.ReplicationStrategyEndpointCacheTest
token existing token newly created token search token size called natural endpoints simple fake network topology strategy run endpoints cached network topology strategy token metadata locator strat run cache respects token lang open config options fake simple strategy join initial replication strategy strategy replication strategy endpoint cache strategy options metadata tmd snitch search token fake network topology strategy net dht junit configuration replication strategy schema loader calculate natural endpoints random partitioner update normal token network topology strategy iendpoint snitch db util keyspace token keyspace params tmd setup token metadata prepare server strategy token metadata endpoints endpoints cached cache respects token replication strategy define schema remove endpoint array keyspace commons big integer token keyspace token inet address schema keyspace utils simple strategy
src.java.org.apache.cassandra.db.AbstractReadCommandBuilder
ctor false compact filter clusterings compact reproduce behavior note code called add slice slice builder comparator start key buffer bottom row filter add make filter partition position optional columns incl excl db collection util comparator cql start inclusive end key partition range builder partition range read command lower clustering bound make column filter data range key excl operator clustering including excluding bounds cfs selection builder partitioner clustering index filter slice clustering index slice filter column metadata make limits data limits read command fb utilities comparator metadata clustering index filter collection cql limits bb read command builder builder decorated key bounds range key excluding bounds reverse limits column filter length decompose single partition read command op column clustering bound column filter bounds navigable ct table metadata include row key incl limit start max key bound column identifier top empty schema sec reversed partition key column family store kind comparator bounds def minimum token decorate key paging limit slice key excl clusterings utils partition key clustering comparator partitioner excl override filter end upper clustering bound serialize partition key empty build dht single partition builder nio single partition slice builder limit make key slices key incl keys compact table cql limit error marshal end inclusive interned paging limit key incl paging tree make
src.java.org.apache.cassandra.cql3.restrictions.Restrictions
restrictions applied column def column restrictions applied checks empty number columns number columns checks underlying restriction underlying restriction checks underlying restrictions key underlying restrictions checks underlying restrictions underlying restrictions checks underlying restrictions eq underlying restrictions eq size restrictions column def slice restrictions column metadata util restrictions schema empty restrictions cql restriction
tools.stress.src.org.apache.cassandra.stress.StressGraph
parse log append stats array detect running multiple thread detect thread detect mode process graphing expects lower results append fresh stats block intervals running multiple thread counts files group big decimal title graph replace metrics add parts graph html input stream reader tc split matches matcher stress graph util replace io report nextiteration utf lower commons common thread count message read line google log stream pattern generate graph stress metrics close lang starts stats pattern uri reading mode reader math mode stress arguments runtime parse log stats length graph html file parse existing stats writer simple aggregates input stream put file input stream size regex log matcher json json stats current thread count line stress setttings join json array read compile array json standard charsets json trim paths file parse io operation charset headmetrics write html stress number format revision json head temporary log file nio arrays loader metrics start stress streams path stress resource stream html file input stream buffered reader command file format utils
src.java.org.apache.cassandra.utils.memory.MemtablePool
represents amount memory allocated specific tasks child memtable allocator total memory note difference makes resources makes shared resources unavailable owner acquire allocate distinction total permitted ratio spare excluding trigger total allocated cache calculation determining allocation threshold methods tracking triggering clean clean limit methods allocate space apply size adjustment bypassing limits reduces allocated signal cleaner reclaimed utils atomic field updater reclaiming updater factory codahale allocator atomic pool cleaner allocated heap wait queue current acquired blocked timer context cur reclaiming ratio memtable allocator memtable pool metrics start heap trigger pool memory size metrics registry timer max heap memory runnable clean max heap memory blocked allocating clean threshold cleaning signal na timer metrics concurrent context memtable cleaner thread allocated updater updater clean updater released adjust allocated compare util metric update clean allocator room allocate limit time clean add ratio reclaiming
src.java.org.apache.cassandra.cql3.restrictions.Restriction
definition definition definition definition column definitions position column definitions position adds functions component functions add check restriction indexed index manager index restriction indexed adds row filter expressions filter row filter add expressions index manager secondary index options query secondary index manager column metadata column column defs function index functions row filter add functions schema restriction db util query options supporting index cql index manager restrictions add row filter filter token options column
src.java.org.apache.cassandra.streaming.StreamEvent
google event plan id streaming stream event collections progress event override stream session session info stream operation stream prepared success session index stream request unmodifiable progress net dht session complete event immutable transferred ranges keyspace peer util stream complete token copy session prepared event progress info uuid success file progress stream operation range collect session common inet address requests
src.java.org.apache.cassandra.tools.nodetool.TableHistograms
calculate percentile row size column build arrays store percentile min max empty estimated partition size largest bucket offset google max partition size hist na nodetool probe airlift offset percentiles override node probe arguments io overflowed array utils table lang metric percentiles array tools utils jmx timer mbean min estimated column count percentiles percentiles preconditions split usage input size node tool airline metrics registry read latency table histograms description format node tool cmd system util estimated row size percentiles base command column family metric lang metrics execute sstables read err write latency array commons check argument keyspace length estimated column count common percentile column count hist jmx histogram mbean estimated histogram
src.java.org.apache.cassandra.serializers.AsciiSerializer
ascii serializer marshal text serializer buffer serializers charset instance nio validate ascii limit standard charsets position
src.java.org.apache.cassandra.exceptions.UnavailableException
unavailable request execution required db dc alive code msg consistency unavailable consistency level
src.java.org.apache.cassandra.utils.CounterId
assume fixed length size lazy holder opens system keyspace triggered pack valid counter id resulting ids respects numerical creating handcrafted easy understand contexts unit generate special id update contexts performance function interns provided performance function reference internal clients modify result uuid gen local id utils override system keyspace atomic buffer wrap code id local counter id holder comparable position local id counter id put atomic reference current instance duplicate allocate dup remaining local host id local id nio bb compare arrays db util concurrent local id offset generate id illegal argument length time uuid limit compare low bits uuid buffer util
src.java.org.apache.cassandra.index.sasi.conf.view.RangeTermTree
required interval tree support custom relied items comparable terms upper compare term buffer utils add index interval count intervals conf disk index comparable min lower add range term tree build interval tree max term nio db builder interval search table index util max term plan min term mode expression term tree comparator array disk index builder mode compare sasi marshal range tree view
src.java.org.apache.cassandra.transport.DataType
serialize custom client version required serialize custom client version required reversed detail care compatibility date timestamp result metadata fall back custom target data message timeuuid time uuid text elements bigint buffer user compose instance instance tt field custom add codec protocol version smaller opt netty dest parser db inet address mt util field dt cql read duration uuid array time common data ascii serialized size google write greater visible protocol version date transport collection arrays version math body simple date ascii request validation max id timestamp base put field keyspace timestamp buf time marshal uuid cb format max id keys size read counter column reversed write pair ut inet varint option udt decimal illegal state integer obj tuple tuple internal annotations decompose read unsigned size write utils counter ids parse duration codec protocol version io decode date cb util id smallint varchar id decimal blob nio buffer max write existing field pair id error current udt data serialized size field identifier protocol entry left
src.java.org.apache.cassandra.utils.ExpiringMap
expiring add multiple threads expiration ttl cache storage proxy equipped deal nominally send messages sit thread rest server shutdown comments key put cacheable expiration google clock post expire hook utils entry concurrent sleep uninterruptibly put age remove shutdown scheduled executor service apply logger nano time created function trace service start uninterruptibles cache interrupted key instance empty max nano pair logger previous schedule fixed delay runnable key expiring concurrent runnable run ready die entry await termination reset nanos util concurrent base nanoseconds key debuggable scheduled thread pool executor error entry key size illegal argument logger slfj shutdown blocking common timeout time unit logger factory clear milliseconds
src.java.org.apache.cassandra.tools.nodetool.ListSnapshots
display column size iterator node tool probe airlift system node probe io snapshot details override table tools management snapshot details true snapshots size stringify file size add empty entry formatter tabular data nodetool snapshots description runtime node tool cmd util key openmbean command file utils tabular index index array execute table builder entry airline snapshot detail
test.unit.org.apache.cassandra.db.lifecycle.LogTransactionTest
complete transaction files simulate tracking sstables failed transaction log file called sstable table complete transaction releasing simulate tracking sstables committed transaction log file called sstable table complete transaction avoid leak fake called tables table complete transaction avoid leak fake called tables table complete transaction avoid leak insert mismatched insert full record partial insert full record partial insert partial sstable record full commit insert partial sstable record full commit insert commit insert commit insert mismatched fake error condition txn commit true remove leftovers false sstables files complete transaction avoid leak make transaction tidier transaction log files transaction log empty transaction number files created fake commit invalid fake lines invalid fake commit invalid checksum delete fake commit invalid checksum wrong record format fake commit fake lines simulate tracking sstables committed transaction checksum modify transaction log disk state sync folder make remove unfinished leftovers picks txn files files files make exclude files deleted filter progress record corruption recoverable commit record unreadable transaction remove make exclude files deleted intermediate line ignore tx log remove make run tidier avoid leaks increase modification time data minute simulate tracking sstables committed transaction checksum sstable remove complete transaction avoid leak make run tidier avoid leaks race asynchronous deletion txn log matter completed deleting files releasing race asynchronous deletion txn log violating requirement transaction finish deleting files releasing check temporary file expected exist exist longer windows check file existing transactional aborted temporary files safe obsoletion cfs read lines modified replaced sstable remove unfinished leftoversmultiple folderspartial recordssecond log transaction compaction sstable directory tables sstables table tidier filename wrong checksum line missing file files raf data folder data folder expected files files tmp unparsable record empty mock schema table null files junit untrack table index file immutable remove unfinished leftoversmultiple foldersmismatched records thread format builder directories temporary files db collections commit multiple folders util framework sync directory io compaction accumulate sstable serialization header recoverable table reader metadata ref file files directories filter remove remove unfinished leftoversabortmultiple folders log transaction collect common commit throwable obsoleted files changed null dir path dir sstable sstable record log aware file lister google logs exists generation transactional remove unfinished leftoversmultiple folderspartial recordfirst system wrong checksum line wrong record format internal open directory complete fail close cfs append origi folder present filter obsoleted descriptor commit tidiers ret wrong checksum line prepared files reset tidying mark obsolete index summary make abort primary index metadata file transaction run empty make commit component remove unfinished leftoversabort release files remove unfinished leftoversmultiple folderstoo records normal table exclude existing files track abort array obsoleted data file update time changed modifier collectors descriptor txn logs components progress existing files current time millis filter sstable log record pathname iterable remove unfinished leftoverscommitmultiple folders commit remove unfinished leftoversmultiple folderspartial recordsfirst txn singleton stats metadata temporary files multiple folders log file paths txn file paths replace txn err canonical collection prepare commit keyspace size wrong checksum line abort delete table format txn file num sstable files table data file files add path remove unfinished leftovers tidier record sstable lister header missing checksum line unparsable record schema function error stats open reason committed abort multiple folders missing checksum line write prepare add column family store commit operation io error temporary consumer folder sleep skip temporary remove unfinished leftoversmultiple foldersmissing recordsfirst wait deletions comparator raw canonical file ignore random access file length match reader bounds remove unfinished leftoversmultiple folderspartial recordsecond remove unfinished leftoversmultiple foldersmissing recordssecond directories temporary files completing obsoletion abort num files files file stream shared copy untrack utils corrupt record table accept log files substring iterables directory abort io toc file path id sstable temporary files keyspace data make component length sstable transactional cleanup empty metadata metadata collector commit data folder true finish commit desc nio arrays file testable transaction concurrent log remove unfinished leftoversmultiple folderserror conditions file utils runtime file reader lifecycle concat temporary files path chop lines partitioner ends tmp files file big false remove unfinished leftoverscommit file handle bi consumer
test.unit.org.apache.cassandra.ConsoleAppender
output stream ch qos suppress warnings target io flush override logback status write output stream appender original start add status core output stream console appender stream target add status original err io len target stream target logback status listener warn status
test.unit.org.apache.cassandra.db.compaction.LeveledCompactionStrategyTest
disable tombstone histogram rounding standard leveled cf clean ensure grouping operation preserves levels grouped kb make easy multiple entropy prevent compression size predictable compression data level adds data trigger multiple sstable checking completely bad exercises code kb make easy multiple data level adds data trigger multiple sstable checking completely bad wait leveled compaction quiesce run compaction strategies wait strategies empty atleast run single data directory unrepaired good note check data compact make tables leveled scanner level scan total kb make easy multiple data level adds data trigger multiple sstable verify sstables changed level verify manifest correct amount kb make easy multiple data level adds data trigger multiple sstable unrepaired make repaired sstable ends level repaired remove existing data start clean predictable number disable auto compaction kb make easy multiple add data trigger multiple sstables data sstables data data total sstables compact tables bit hackish prior key works tables compacted table resulting compact tables point tables tables compact scanners gc iterator parent rep session group level interrupted manager singleton collections buffer compaction strategy manager force compaction token range token keys token range compaction enable compaction sstable group add logger junit columns group tables anti compaction metadata serializer lcs thread format scanners db util framework token live tables compaction sstable sstable desc table reader uuid iterator level define schema array random leveled compaction strategy remove manifest logger token sleep metadata repaired generations mutate level level size token ranges system streaming repair job desc sstables submit validation fail cfs run repaired table count level size update builder truncate standard leveled size configuration compaction progress num iterations token range error decorated key current time millis range validator key register parent repair session apply unsafe scanner empty keyspace ordered junit runner keyspace range force major compaction force blocking flush level count repair singleton truncate blocking simple standard cfmd disable auto compaction random uuid keyspac compacting wrap array open active repair service fb utilities grouper levels rows service token range collection enable auto compaction strategy remove table repaired table key key dk schema grouped tables compaction params total uncompressed strategies notifications column family store property prepare server unrepaired sstable count reload table metadata table count level mutate level wait leveling strategies descriptor mutate repaired table repair status changed preview kind logger factory compaction manager table level table scanner repaired runner handle notification utils leveled compaction strategy count io table level logger sstable count table added notification sstable current position cf standarddleveled column family store level util instance empty dht compaction strategy true schema loader nio arrays unrepaired update levels keyspace params compaction strategy manager row keyspace strategy manager slfj validator broadcast address validation multiple table level false token ranges
test.unit.org.apache.cassandra.cql3.validation.entities.FrozenCollectionsTest
overrides selecting partitioner table exposed overwrite overwrite overwrite overwrite support indexing keys collections primary key work normal indexes frozen collections support index lookup index lookup ordering index lookup full full full large text row syntax instance entities add message frozen junit storage service error message db util table cql partition key usage execute array commons remove frozen table throwable statement restrictions frozen nested clustering key usage flush frozen lang clustering column filtering frozen configuration rows index restrictions column usage marshal invalid request frozen classname invalid message drop index nested partition key usage fb utilities invalid operations service statement elements bigger invalid message requires filtering message frozen option tuple tuple prepare server large text ordered partitioner elements bigger invalid elements bigger partitioner unsafe fill utils fail secondary index cql tester normal column usage user defined instance table statement dht true clustering key usage empty frozen arrays frozen validation max unsigned invalid index creation message frozen collections clean index utils
src.java.org.apache.cassandra.cache.CacheProvider
cache provider icache cache
src.java.org.apache.cassandra.tools.nodetool.GetInterDCStreamThroughput
nodetool probe airlift system node probe io override tools inter dc stream throughput node tool description node tool cmd command inter dc stream throughput execute airline
test.unit.org.apache.cassandra.repair.AbstractRepairTest
repair google participan global utils daemon initialization incremental streaming unknown host active repair service array instance system token service rang participan register parent repair session participants cfs coordinator uuid gen time uuid repair net dht config junit immutable unrepaired sstable repaired buffer util db preview kind util range participan column family store session id database descriptor error ignore uuid partitioner token current time millis rang collect rang common register session inet address
src.java.org.apache.cassandra.utils.concurrent.RefCounted
ref counting defines tidy cleanup retain references tracking resources clean construct ref directly pointing encapsulates call proxies calls ref counted users ensure references ref retained method ensure ref collected leaks detected managed incrementing null ref utils ref concurrent ref counted tidy ref tidy
src.java.org.apache.cassandra.io.util.DataOutputBufferFixed
data output stream fast array output stream buffer copies version expand runs capacity buffer overflow completely thread reachable paths hit flush spirit things count reallocate override nio buffer flush clear size util data output buffer fixed io io data output buffer buffer size buffer overflow
src.java.org.apache.cassandra.utils.TimeSource
current time current time method measure elapsed time related notion system sleep amount time sleep unit time time source sleep sleep amount operation request amount time sleep unit time time source sleep time source sleep uninterruptibly utils interrupted current time millis util concurrent sleep time unit sleep nano time unit
test.unit.org.apache.cassandra.cql3.validation.entities.SecondaryIndexOnMapEntriesTest
cql tester require filtering directive multiple restrictions reject queries null entries query row index frozen find rows matching restrictions entities add message text junit format colname util clause cql execute bar index invalid column array baz commons remove index table throwable treat queries frozen indexes invalid insert simple table recognize altered deleted entries fail lang preds rel foo rows expected message rows qux key key array invalid request accept unsupported relations entries update simple table put database descriptor size rows find rows matching single restriction valid key params integer simple table index valid index clause untyped result ordered partitioner join secondary index entries invalid partitioner unsafe invalid key instance rows conditions find rows matching multiple restrictions dht config true raw results validate key invalid relation validation invalid rows conditions base query entry index utils
src.java.org.apache.cassandra.index.SecondaryIndexBuilder
manages building entire index column family runs compaction index secondary index builder db compaction info build compaction holder
src.java.org.apache.cassandra.hadoop.cql3.CqlBulkRecordWriter
output pairs column applies binded prepared associates turn responsible writer groups cql queries endpoint responsible rows cql queries executed directly responsible thrown check table column correspond order insert stored key null fills deprecated record writer cql config helper output keyspace user interrupted timeout buffer output handler insert statement write host ignore delete src stream throughput outbound megabits sec delete source success writer add message external client input partitioner logger te resolve host addresses split max failed hosts util config helper io directory cql table metadata uuid output column family mapreduce logger table loader client debug inet address dir stream throttle mbits table alias exists system ignore hosts streaming unknown host ignores close output keyspace table metadata ref runtime ignore hosts configs progress net configuration stream state output dir buffer size mb cql bulk output format partitioner ipartitioner host key output cqlss table writer closeable throwable record writer table aliased cf null output handler keyspace separator context prepare writer max failures invalid request warn statements addresses table schema random uuid loader table statement parse table size reporter collection output location cql bulk record writer reporter msg integer schema configuration deprecated buffer size mb output location output port output partitioner progressable external client murmur partitioner property success raw add row table loader future time unit logger factory hadoop compat conf stream output initial address ssl options utils parse null io execution override logger buffer size task attempt context sstable format hadoop delete recursive instance build dht config nio failed hosts output keyspace password mapred mkdirs concurrent future offline tools table insert statement file utils database descriptor table directory builder partitioner slfj file milliseconds state
src.java.org.apache.cassandra.db.MutationVerbHandler
check forwarding headers recipients send ack send message addresses forward size messaging service payload send reply mutation io forward local nodes forward message id parameters failed message address fast array input stream instance address forward mutation write response reply net accept read mutation verb handler parameter compact endpoint serialization helper trace reply tracing db util data input stream io verb address iverb handler wto message deserialize tracing verb apply future verb send message inet address write timeout forward serializer
src.java.org.apache.cassandra.index.sasi.disk.Token
compare google utils primitives disk hppc index combined offsets db decorated key token sasi token common compare carrotsearch iterable
test.unit.org.apache.cassandra.cql3.validation.entities.udfverify.UseOfSynchronizedWithWaitL
unsupported operation codec data buffer protocol version transport functions interrupted entities params protocol version datastax wait execute aggregate impl core nio runtime driver udf context util cql data wait execute impl param udf context udf udfverify validation
test.unit.org.apache.cassandra.index.sasi.analyzer.NonTokenizingAnalyzerTest
tokenizing analyzer utils wrap buffer index sensitive instance init options ensure incompatible input skipped analyzed junit true nio buffer util db analyzer analyze tokenizing analyzer lower reset tokenizing options ut options false insensitive analizer sasi marshal sensitive analizer
tools.stress.src.org.apache.cassandra.stress.StressYaml
stress yaml keyspacedefinition specname table query def config pagesize columnspec tokenrangequeries columns format util extradefinitions tabledefinition insert stress token range query def fields cql keyspace queries
src.java.org.apache.cassandra.transport.messages.SupportedMessage
message server ready receive version read supported codec io override cb util transport supported decode dest codec protocol version encode write response body supported message buffer util msg netty encoded size messages size buf message
test.unit.org.apache.cassandra.cql3.validation.entities.UFVerifierTest
udf code resource good collections udf code verifier write initializer initializer entities initializer empty input junit cls url util io call clone initializer initializer wait wait cql call datastax throwable field disallowed pkg runtime call clone notify notify net body invalid code suppress warnings add disallowed call call datastax invalid code ud keyspace wait initializer wait li input stream invalid message clazz read entry field wait initializer code verifier notify wait array udfverify error io functions verify cql tester read notify call call open connection initializer call arrays loader uf verifier replace singleton array output stream input stream entry validation
test.unit.org.apache.cassandra.security.JKSKeyProviderTest
secret key key password io secret key secret key key password transparent data encryption options null config junit jks key provider io encryption context generator keyalias encryption options jks key provider jks key provider setup remove security tde options
src.java.org.apache.cassandra.cql3.statements.TableAttributes
compression property temporarily accept defined compression maintain backwards min index interval cdc compaction altered table params previous comment syntax add immutable format util deprecated crc check chance compaction dc local read repair chance cql illegal state max index interval simple lower cdc collect common key google max index interval property option read repair chance configuration dclocal read repair chance builder parse memtable flush period kw id time live comment valid builder table params statements gc grace bloom filter fp chance min index interval table id valid keywords parse table params compression caching params integer schema option compaction params property definitions compression opts compression params illegal argument speculative retry crc check chance obsolete keywords compression unbuild caching id gc grace time live id speculative retry param memtable flush period crc check chance build number format read repair chance validate lang table attributes builder speculative retry option caching bloom filter fp chance
src.java.org.apache.cassandra.utils.vint.VIntCoding
protocol buffers data interchange google redistribution source binary permitted provided conditions redistributions source code retain conditions redistributions binary form reproduce conditions documentation materials provided google contributors endorse promote products derived software specific prior written software provided holders express implied limited implied warranties merchantability fitness purpose event owner contributors liable consequential damages limited procurement substitute goods loss business caused theory strict negligence arising advised possibility borrows idea early fails give part extra read encoded including extra bit invert count number upper simply invert aided fact work negative upcast upper bits inverting decode zig zag encodes signed efficiently encoded negative bits varint unsigned stored signed explicit unsigned signed encode zig zag encodes signed efficiently encoded negative bits varint signed unsigned stored signed explicit unsigned compute number encode compute number encode unsigned ensure magntiude compute unsigned vint size utils ii read unsigned vint read nicoulaj number extra read extra io override encode extra read vint coding read vint data input param vint write encoding space encode zig zag input net size annotations max size write unsigned vint initial compilecommand extra read decode zig zag util concurrent io integer inline encode vint netty compute vint size fast thread local mask number leading data output magnitude write vint output retval encoding buffer
test.unit.org.apache.cassandra.tools.BulkLoaderTest
runner bulk load host keyspace loaded fail ordered junit runner tools run schema loaded run tool runtime bulk loader unexpected threads started server loaded bulk loader datastax junit core tools tester driver system loaded clsm loaded sstable dir bulk loader
src.java.org.apache.cassandra.io.sstable.SSTableSimpleIterator
utility handle deserializing atom note full fledged job user close underlying deserialize tombstones partition deletion rows io helper deletion utils read row header file data input unfiltered btree row current format iterator empty deleted row rows table metadata tombstone unfiltered current format tombstone iterator live io error serialization helper unfiltered serializer builder deserialize row metadata clustering deletion time data input db util io sorted builder iterator serialization header deserialize iterator compute end data builder table simple iterator sstable row empty row schema serializer row
src.java.org.apache.cassandra.utils.Pair
handles nulls google utils override code pair base common left
src.java.org.apache.cassandra.db.ClusteringPrefix
clustering prefix unit holds clustering columns table prefix slices inclusive exclusive common parts represents clustering clustering represents bound slice range represents threshold adjacent range kind clustering prefix kind rest ordering matters comparison kind basically sort clustering compares provided comparing clustering override method inverse current invert start end inclusive exclusive invert kind exlusive inclusive number prefix clustering number retrieves ith index ith note adds data clustering prefix provided digest digest add size data hold size data hold prefix size size data generates proper representation metadata metadata table clustering prefix representation fo stop clustering partition methods decorated key partition keys easily specific method keys prefix note require array modify array efficient prefix serialize serialize serialize serialize serialize batches avoid garbage deserializing incur fewer method generate garbage piggyback vint encoding clustering expect handled callers method handle size special callers method handle size special clustering column empty distinguish store fixed width appending size empty clustering prefix includes bits element bits encode element modulo arithmetic execute modulus rh operand modulo arithmetic execute modulus rh operand modulo arithmetic execute modulus rh operand helper makes deserialization clustering prefixes reason deserialize rows bunch rows skip beginning index block rows requested make answer question row disk requested work providing comparison method deserialize decide point deserializer clustering prefix bounds reduce allocation reuse elements previous element proper note condition hold range tombstone rows fixed size save common exited size incl end bound header skip buffer clustering serialized size serialize size cache excl start bound excl end bound clustering prefix clustering comparator extended flags write unsigned vint buffer util deserialize db compare component clustering bound util io size deserializer deserialize serialization header clustering deserialize bound null security row cmp clustering unfiltered data output excl end incl start boundary read unsigned vint deserialize clustering read sizes result data size remaining deserialize size max size version digest limit unfiltered serializer metadata serialization header clustering kind make header incl start bound data input raw offset skip skip size comparison read deserialize bound serialize partition key deserialized size marshal end serialize bound compared clustering header size clustering rows skip table metadata invert component write integer clustering size top schema sizeof unsigned vint size serialized size reversed kind incl end excl start boundary write serializer message digest kind comparator math deserialize written length row skip imeasurable memory read unsigned compare clustering bound boundary utils close io min clusterable make length empty build config ordinal composite nio open start empty buffer close bound boundary database descriptor compare boundary open bound boundary mask prepare flags serializer
src.java.org.apache.cassandra.db.compaction.CompactionLogger
produce compaction starting writing write start statement written medium capturing tag identifier strategy distinct statement written medium capturing summary tag recognized writer start tag identifier strategy distinct accessed logger service thread drop change log error node csatf move format table compaction strategy atomic sstables files logger service output stream executors minutes make add input weak reference remaining format tables format db execute compute absent util io folder node increment table reader summary log result logger common compaction strategy output identifier folders google exists generation system compare flush disk length cfs codehaus jackson collect describe strategy version ref strategy summary compaction strategy table function rolled describe table write local summary error table array node log strategies end time node current time millis acs sstable folder maker strategy logger executor service options put compaction strategy atomic integer apply csm ref ioe select line separator stream collection strategy start strategies json statement stream weak keys function enable log directory json node time unit write column family store start strategy path version consumer logger count property enabled descriptor pending sstable level logger factory path json node factory paths file repaired utils writer strategy shutdown strategy tag io logger spam logger function keyspace id write instance compaction strategy write start compaction log node csm nio strategy folders fixed thread pool concurrent disable start time cfs ref compaction strategy manager standard open option compaction logger lang output stream writer write atomic compaction log serializer slfj array node live tables consumer serializer compaction
src.java.org.apache.cassandra.dht.AbstractBounds
token bounds bounds put pair bounds including split including split original bounds position left bound split yield null forms wrapping unwrapping note semantic slightly sense minimal methods false true confusing fix bounds hierarchy cleaner changing true range intersects ranges range bounds tokens keys negative kind keys preserve serialization token older support messaging serialize token range system table format deal preserve serialize method wasa range serialized serialize method represents side bounds side exclusive exclusive serialized size min inclusive left kind partition position serialize format read unsigned db util token io start inclusive boundary strictly wraps deserialize token serializer end inclusive range iterable minimum left data output range inclusive bounds serializer sizeof key validator kind flags data input code inclusive max version inclusive min net serializable sizes read closing decorated key ranges write range boundary excluding bounds ipartitioner bounds key range ipartitioner dependent serializer strictly wraps marshal serial version uid opening messaging service ring position ab max left including excluding bounds intersects boundary size collection start pair token flag unwrap inclusive left write token kind start inclusive bounds version inclusive bounds row position serializer inclusive utils partitioner start inclusive flag io override end inclusive flag min empty split dht ordinal max bounds left end inclusive left boundary flags compare position serializer left
src.java.org.apache.cassandra.index.IndexRegistry
collection index instances base secondary index manager column family store index register order subscribe stream updates applied partitions base provide searchers support queries relevant search index index unregister index index indexes collection util register index index registry index metadata index metadata schema
src.java.org.apache.cassandra.index.sasi.exceptions.TimeQuotaExceededException
index time quota exceeded runtime sasi
src.java.org.apache.cassandra.cql3.statements.GrantPermissionsStatement
statements result message authorizer user role permissions management statement client state transport resource service permission grantee state permissions config iresource auth util database descriptor cql request validation execute grant permissions statement request execution grant messages
src.java.org.apache.cassandra.io.util.FileSegmentInputStream
stream fixed file data input offset file unsupported operation buffer mark supported eof pos file data input io override remaining seek size remaining capacity format path mark file pointer remaining nio file path buffer file segment input stream util data position offset reset illegal argument past mark position data input buffer
src.java.org.apache.cassandra.io.util.FileHandle
access file including written typically call access readers underlying times lifecycle early opening builder reference file channel makes copy close longer rebufferer factory constructing optional compression metadata dealing compressed path file factory configured method reading content random access reader configured method reading content reading file rate limited limiter rate limiter rate limiting random access reader drop page cache start uncompressed position start file dropped end perform clean resources held configures file read cache chunk cache chunk cache provide reading compressed metadata compression metadata mmap mmapped true buffer size buffer size buffer size buffer heap buffer buffer complete building overriding file complete building overrides file override length override file length read built simple chunk reader present drop page cache channel proxy rate limiter file descriptor limiter mmap rebufferer compressed file length update regions cache standard cleanup logger optional skip cache file path chunk cache compressed chunk reader util compression metadata accumulate compression metadata cached nullable chunk logger common reader google mmap file data input ref counted data length disk length close ref capacity chunk reader fail reader size metadata suppress warnings builder compressed offset path file length mmapped regions heap shared closeable impl length rebufferer limiting rebufferer buffer size wrap chunk cache throwables library add auto closeable identity collection complete null simple copy shared copy extend disk optimization strategy err rebufferer factory override length random access reader compression metadata error logger factory invalidate file rebufferer rebufferer factory instantiate rebufferer utils tidy cleanup io throwable override logger buffer size identities chunk cache seek regions channel buffer valid compress concurrent mmapped buffer tidy channel copy slfj max buffer size position file handle
src.java.org.apache.cassandra.tools.nodetool.EnableHandoff
execute probe node tool cmd nodetool description airlift override enable hinted handoff node probe command airline io enable handoff tools node tool
src.java.org.apache.cassandra.db.CachedHashDecoratedKey
key nio buffer decorated key filter cached decorated key db token dest override token buffer dht cached
src.java.org.apache.cassandra.db.columniterator.SSTableReversedIterator
cell iterator reversed clustering order index slice load disk iterator handle range tombstone extending multiple index load disk note false avoid wasted resizing number rows stats number rows partition stats rough estimate number divide number regular columns table fix collect stats estimated histogram method worth risk bubble read iterator read note reuse buffer slices alternatively feels include stop slice end slice called reading reads unfiltered disk load reader stops reading fully start null block covering beginning block start skip open skipped open index block open marker feed marker marker close kindly marker block gonna read current slice easy open marker end data block adding block start marker open block add buffer reason mentioned wait reach skip iterated item item iterating reverse deserialize reach requested end strict inequality reasoning empty row reason expressed open close reverse problem start deserialize slice covering slice end add close marker buffer note block marker closed previously block add buffer sake skip skip iterated item item iterating reverse order slice iterating index block previous slicing past beginning find index block read block reverse start reverse read note proper block happen previous requested ended block reuse reading slice read block previous slice handle current move slice start block bounds computed matching slice block idx reads current previous block read previous block current block blocks read current slice start slice meaningful block read read blocks reverse block iterator clear open marker internal collections unfiltered math update open marker start idx bottom read previous block block idx range tombstone marker reader internal rows columns table reversed iterator format index entry db util io reusable partition data illegal state partitions table reader iterator iterator skip iterated item range tombstone marker estimated row count slices open marker deletion info block index state initial row capacity file data input empty iterator close btree slice current block idx skip iterated item regular columns indexed stop reading disk metadata immutable btree partition row builder row builder decorated key percentile key skip stats end data filter sstable marker end deletion builder deserializer load disk estimated rows partition slices clustering bound column filter row index entry slice find block index reader size ifile rows table metadata add start internal top schema include slice start include slice end partition key buffer partition level deletion reset index state compute comparator slice index unfiltered iterator table iterator regular columns clustering columns reverse indexed reader row columniterator column count slices io utils blocks count element read current block file override estimated column count marker start encoding stats iterator built mutable deletion info empty build unfiltered reverse order reverse reader skip iterator range tombstone bound marker buffer max slice end btree compare past current block block idx close file builder empty row file handle row
test.unit.org.apache.cassandra.cql3.validation.operations.SelectOrderedPartitionerTest
select statement require queries undefined migrated check table pk migrated check dense tables migrated limit bugs migrated bug generally order multiple rows migrated migrated migrated migrated operations filtering partition key token primary key requires filtering message partitioner unsafe invalid syntax index token index rows undefined columns composite index pk invalid message token function invalid column token function partition key clustering key arguments flush range key rows ignoring order row cql tester token function multi column partition key instance statement restrictions limit bug token function compound partition clustering cols dht config junit select ordered partitioner token function single column partition key order multikey empty rows arrays execute token collections util framework rows database descriptor cql index composite collections restrictions ordered partitioner null single column partition key token token restrictions mix multi column partition key index token token restrictions mix multi column partition key token token restrictions mix length table truncate caching throwable validation filtering partition keys token restriction invalid
test.unit.org.apache.cassandra.io.util.BufferedDataOutputStreamTest
action iteration times big add array bit unsupported operation copy small buffer write vint buffer dosp position read vint canonical data output stream utf count junit write unsigned vint reset primitives fuzz endian util data io strict flushing negative offset write slow order apply channel random write utf unsigned writable channel common throwable output data input buffer google generated write min system write utf fuzz array output stream flush fail close nano time append remaining capacity read unsigned vint data input array allocate buffer overflow write suppress warnings runtime write canonical offset apply channel null pointer src declared field obj accessible adapter length write vint action dup data output buffer simple null channel channels put wrap array buffered data output stream size vint coding fake stream val random duplicate null buffer write expected integer utf data format output stream allocate direct wrapped data output stream builder buffered data output stream data output buffer fixed byes data output buffer fixed data output stream write big offset negative length buf count write excess slow write utf big illegal argument expected size iteration data output remaining put limit str read utf write generated utils ii field seed io memory override baos apply channel misaligned unsigned vint ndosp write unbuffered data output stream data output buffer fixed buffer vint write write utf max enrich canonical big length channel unsigned write utf legacy write nio open utf index arrays unsigned integer array input stream reflect generated data input stream big length offset baosbytes vals order lang compute vint size dob data checked action sb compute unsigned vint size retval order index bounds
src.java.org.apache.cassandra.index.sasi.utils.RangeIterator
iterators current position skipped forwards finding element bigger end token skip iterator forward current token skip iterator number iterator number tracks added ranges direct answer iterator produce update statistics information updates combined token count tracks range number range range update statistics minimum intersection biggest minimum individual maximum intersection smallest maximum individual check range disjoint added produce cleanup range storage added ranges overlapping common min max min max min range size ratio iterator google utils iterator visible ranges statistics io count close maximum token count index comparable statistics suppress warnings min range iterator combined build iterator add current perform skip minimum empty build current size union annotations peek disjoint comparator builder max compare iterator empty range iterator update util null safe max min range max range illegal state intersection closeable null safe min count priority queue range count token count compute sasi recompute range compute common end data skip overlapping token
tools.stress.src.org.apache.cassandra.stress.generate.values.GeneratorConfig
size distributions utils size distribution clustering distributions io seed str buffer identity distributions deflt format config append generator config serializable hashx nio buffer util builder identity distribution sb distribution buf generate stress clustering distribution remaining position murmur salt distribution factory
src.java.org.apache.cassandra.db.HintedHandOffManager
proxy deprecated legacy hinted handoff manager mbean remove unsupported operation delete hints endpoint schedule hint delivery resume dispatch delete hints mbean management register mbean management factory instance truncate hints mbs platform mbean server hinted hand manager suppress warnings runtime deprecated hints service db pause hints delivery util mbean server host pause hinted hand manager mbean endpoints pending hints hints lang delete hints endpoint pause dispatch
test.long.org.apache.cassandra.utils.LongBloomFilterTest
run run big sequential generator present utils random elements bf elements result bloom filter printf logger arraycopy ifilter timeit false positive count buffer util hashx filter filter key length current dest add target fp bit count bits logger size bits junit fp random generator filter helper filter thread local random bffp ratio key generator sumfp system util concurrent big random fixed constrained gen fill info filter factory buckets element false positives filter key random mask spec logger slfj murmur logger factory clear generator
src.java.org.apache.cassandra.index.sasi.sa.SuffixSA
element term index position encoded avoid binary search suffix sorting suffix compare google current term buffer compute utils finish suffix term result buffer clear complete bit terms disk index sa suffix iterator end data add complete decode partitial duplicate max term term tim sort pair current term mode sort term finish term iterator nio count current term length db token tree builder tokens base processed suffix mode min term term index sa position charsets tokens term utf suffix suffix comparator suffix sa sasi term disk index builder complete bit dynamic token tree builder length suffix common term position sa left marshal indexed term suffixes
test.burn.org.apache.cassandra.concurrent.LongSharedExecutorPoolTest
basic idea levels load executor initially small max queue moving progressively larger max queued longer wait random amount time submit tasks stages emptied give threads opportunity spin submit random batch free executor batch executor items permitted longer forecasted completion descending random results lock support nanos timeout math comparable add interval nanos junit pending runnable format max batch ceil util bit runs commons common timeout park nanos google executor system target total elapsed result math base time nano time executor index code max work time work count run executor nanos multiplier promptness execution length max queued result executor service tree work time thread counts size start executor count submit sleep uninterruptibly time integer shared executor pool complete poll shared minutes count wait task thread count future microseconds time unit distribution clear compare sample locks execution min work time end uninterruptibles executors interrupted empty events weibull distribution shared executor pool clear bit concurrent future error executors work nanoseconds load increment compare milliseconds
src.java.org.apache.cassandra.cql3.MultiColumnRelation
relation tuple typically affects multiple select select select select marker markers creates gte entities columns lhs relation relation marker instance creates relation entities columns lhs instances creates relation marker entities columns lhs marker single marker single relations marker single disallowed check clustering columns bound check false eq restriction entities add entities column specification format term bound util cql term array entities raw marker operator raw multi column relation restriction collect column metadata check true variable specifications term terms receivers relation multi column restriction single marker relation restriction restriction prepare collectors multi column keyspace invalid request statements marker multi column raw collect marker specification operator table size table metadata terms marker relation schema restriction marker restrictions builder rename identifier slice restriction restriction key relation tuple restriction slice restriction def restriction stream inclusive previous position raw tuples override append request validations relation eq restriction error clustering column builder bound invalid request position
src.java.org.apache.cassandra.io.util.ChecksumWriter
checksum incremental result checksum compute buffer included full translating partial checksum serialized data checksums file checksum calculated external tools mismatch include compressed sequential writers serialize partial checksums inline compressed data chunks checksummed sequential writers serialize put digest file google io checksum writer checksum incremental result buffered writer file append buffer write error files nonnull zip buffered writer mark write duplicate allocate array offset io error full checksum path nio bb update util write chunk size base io incremental checksum annotation charsets reset incremental checksum utf write full checksum file array data output length common buffer cr write incremental append direct
src.java.org.apache.cassandra.index.sasi.analyzer.StandardAnalyzer
eof stop word filter upper filter pipeline builder standard tokenizer impl buffer min token length hiragana add input input stream reader buffer util db input reader util io stemming filter katakana token execute utf tokenizer options standard analyzer token common lower terms data input buffer google visible hppc index lower locale hangul stop word filters reader analyzer filtered current token sensitive analyzer put filter carrotsearch options yylength open text input stream tokenizing reader filter pipeline executor val init standard tokenizer num annotations ideographic southeast asian reset filter pipeline task basic result filters ut standard charsets filter pipeline scanner utils tokens io normalize token filter pipeline charset ignore stop terms instance max token length build upper terms reached eof stem terms yyreset nio empty buffer token pipeline increment token standard tokenizer options current token builder marshal validator alphanum stemming filters sasi build operation
test.unit.org.apache.cassandra.schema.MockSchema
clean data directory stored data ksname file collections atomic directory tables filename children data file locations mock schema build immutable memtable buffer util format metadata collector directories db util temp file io add partition key column table metadata serialization header table reader metadata comparator ref collect ref add clustering column release metadata dir google exists normal generation internal open cfs present filter table metadata ref partitioner random access file runtime cache allocate reader mock primary index common empty offsets builder canonical component descriptor table absolute path directories filter sstable marshal stats metadata index summary header cfname size keyspace metadata table metadata buffer decorated key atomic integer length caching params dir ut schema token stats complete open reason keyspace simple column family store cfs child shared copy murmur partitioner temp descriptor reader bounds raf file table format utils io memory toc data id index summary keyspace big make random access reader factory component delete recursive instance cleanup metadata dht config file empty buffer concurrent keyspace params delete exit file utils database descriptor memtable builder add regular column increment components caching file handle
src.java.org.apache.cassandra.transport.Message
message cql binary encounter unexpected io log debug generally caused unclean client disconnects actual remember connection null send initial startup message side driver attempted connect protocol version lower minimum respond protocol error message correct frame header reschedule provide error message client channel protocol close channel message include channel info logged information unexpected false choose log level based client issues logged server error make things worse unclean client generally unhandled io network actual bug server client binary protocol handled runs flush options message execute channel future listener item results server connection atomic buffer reset warnings jvm stability inspector query state alt protocol encoder auth response math custom payload predicate promise raw version instance supported ready message add version channel protocol version smaller release logger dispatcher flush item immutable channel handler capture warnings protocol decoder format batch message error message request schedule util io stream id illegal state netty execute uuid array cb codec ignore logger tracing requested runnable common auth success ready query state request source frame illegal argument write empty body google execute message message message encoder message warnings frame io debug level concurrent tracing id qstate custom payload event message nano time transport system authenticate tracing id collect req flusher read uuid ctx flag warning run custom payload apply state transition channel handler context attribute key add version request register message auth challenge response version direction prepare message tracing requested base result runs work error opcode idx response encode compare log error auth response max opcode error message startup queued simple channel inbound handler length extract version opcode loop buf stream id message prepare event loop tracing channels header credentials message source frame wrap apply message poll greater query message size encoded size service start register flusher decode attach handler opcode response query start nano time flusher lookup tracing id direction version direction supported message tracing message message decoder time unit read connection sharable version size uuid info custom payload attr frame inspect throwable unexpected channel handler header future error auth success query logger factory event clear read caught payload close authenticate message messages utils flush result message client warn source frame tracing requested put absent codec stream id io throwable override cb util logger options allocator message size operation complete concurrent linked queue warning connection write write beta codec build forced protocol version credentials custom payload channel validate message concurrent size nio trace warnings buffer max auth challenge batch work add listener concurrent running nanoseconds startup message write flush flushed response write uuid current channel read open channel future builder event loop request slfj flags protocol beta size atomic warnings
src.java.org.apache.cassandra.hints.EncodedHintMessage
specialized version encoded bytebuffer hint sends optimization dispatching hint file current messaging version node messaging common saves extra buffer allocations redundant hint deserialized encoded hint message receiving side deserialize message messaging service unsupported operation buffer hint data output utils serialize host id io write unsigned vint message uuid serializer hint write version iversioned serializer message net size remaining encoded hint message sizeof unsigned vint sizes nio data input db util serialized size io verb serializer hints hint creation time uuid deserialize message illegal argument hint serializer
test.unit.org.apache.cassandra.auth.RoleOptionsTest
hypothetical irole manager supports login drop role existing role present setup role manager manager singleton collections empty syntax message empty junit immutable illegal access auth roles util include inherited role options role manager collect common google database descriptor fail superuser option supported options configuration field request validation revokee request execution options invalid request format roles role manager message role options fb utilities alter role irole manager invalid options iresource validate configuration copy role alterable options role resource authenticated user setup grant role login performer empty utils revoke role field login options validate login custom options reject option multiple times option grantee field reject unsupported options config true resources reflect validate password lang role false opts
src.java.org.apache.cassandra.schema.KeyspaceMetadata
immutable representation keyspace metadata validate tables functions google format schema constants override swapped iterables table code empty tables keyspace metadata table metadata views index views nullable indexes add params concat cf exclude nullable find indexed table tables views metadatas optional configuration view metadata length index table view nullable functions index metadata util base index keyspace params helper annotation lang existing index table view metadata valid collect regular common schema iterable view
src.java.org.apache.cassandra.utils.EstimatedHistogram
series counts series starts grows time removing give timing resolution microseconds precision numbers bucket represents bucket current buckets element longer bucket offsets element greater estimated histogram bucket bucket data bucket histogram bucket inexact bucket higher increments count bucket closest rounding increments count bucket closest rounding count reset buckets current histogram smallest added largest added estimated ceil histogram bucket weighted illegal state greater largest bucket histogram bucket weighted illegal state greater largest bucket total number largest bucket true histogram overflowed larger largest bucket bound record overflow emit log empty ranges start demarcate populated code clarity omit record accept unnecessary whitespace prefixes occasionally original histogram greater entry inserted atomic array append range count atomic math serialized size range add bucket offsets count max db ceil util max length io illegal state bucket data estimated histogram serializer deserialize common debug add round google eh data output result sizeof append index rv sum code pcount max sizes offsets read data input buckets len write base overflowed bucket offsets write length percentile estimated histogram serialize formatstr size find index log builder delta reset bucket raw utils binary search read io override logger buckets min format offsets bucket count elements arrays largest bucket offset concurrent iserializer bucket count increment slfj sb serializer
src.java.org.apache.cassandra.db.view.TableViews
groups views number times changed view created massively exceeded number times read mutation validated existing view calculates pushes updates views replicas determined update update base table represented write commit log write commit log view base complete time epoch local base mutation read modified updates base table existing rows affected generates mutation applied provided views views potentially affected updates base table updates existings existing rows affected decide view obsoleted update gather columns part update view entry compute minimal updates applied view entry simply updated empty view building assume sec current time mutations apply iterate updates existing rows view update existing update happen range tombstone marker fetched existing row due deletion build read command existing read existing row change read method slightly easily avoiding bug handle updating row care existing rows update deletion partition range existing entry deleted partition previous update empty exclusively exclusively drop build passed build update null iterator range removes ignore view updates make mutations search update range removes ignore view views potentially updated provided updates updates applied base views affected command read existing rows required generate view updates provided base updates base table updates views views potentially affected sec current time command read base table rows required generate view updates gather slices fetch partition range tombstones covered deletion invalidate existing view read views involved filter base table clustering restrict partition simply slices view select overlap handles note involve reading view involved clustering restrictions range theoretically difference range tombstoned slices easy compute simple improve read row prove impact view slices deletions efficient read existing state prove update affect slice deletions row affected merge queried columns views simple include change note views restrictions regular apply existing row match view update change existing easy merge row filter multiple make sense special single view small number updates check update modify restricted view simple existing base row update apply generate apply mvs provided existing base row base table row update base row newly updates made generators view update generators add sec current time decide data live existing empty insert brand entry update existing base row treat empty small avoid allocating empty row null empty row slightly row fairly building avoid dummy allocation empty row multi view update builder deal extracts potentially mutations generated provided view update mutation views base table passed base table metadata metadata base table generators generators extract view mutations mutations created generators view common optimize bit simple helper tracks current deletion time open range tombstone deletion partition deletion build mutations live table metadata ref iterator rtm row filter existing slice builder system keyspace atomic unfiltered add view update generators existings peeking iterator deletion info open deletion time generator base table metadata row filter discard tables add generators atomic live affects views existing base row views db util token generate view updates matching views updates view read time open store partitions builder dump memtable iterator slices range tombstone marker definition mutation view update generator build views cfs collect schema common add base table update array iterable view clustering existings iter google btree clustering index filter system deleted slice iter iterables btree row btree update row nano time table metadata ref range tombstone marker clustering index slice filter merge iterators data limits mutation read query fb utilities builder metadata peek view clustering index filter slices write commit log ranges decorated key builder selects key partition deletion key service execution controller row base complete put key filter keyspace build order group table views single partition read command remove row partition deletion truncate blocking update base row range iterator select statement partition update mutations empty row copy write array affected rows table id collection deletion clustering index filter marker navigable open size clustering rows table metadata transform remove read existing rows command start push view replica updates metric peeking iterator schema mutate mv updated views deletion info keyspace existing row partition key column family store partition level deletion commit log position row deletion unfiltered row iterator view cfs comparator unfiltered iterator read execution controller merged base row updates deletion time unit query start nano time current deletion truncated compare slice queried columns clustering filter utils empty deleted row updates iter deletion tracker column filter id separate updates storage proxy dump memtables element execute locally collection make unfiltered partition iterators column family store instance empty build deletion force blocking flush dht read query clear deletion time open select query update concurrent regular save truncation record singleton iterator existings deletion view sec add nanoseconds cmp cfs range tombstone command replay commitlog
src.java.org.apache.cassandra.index.sasi.disk.OnDiskIndex
search term bigger data start search rows match terms inside expression index exp expression iterator rows terms optimization single term requested build additional union convert single range accept exclusions bounds calculate range splits based sorted optimization fetch upper block query lower lower beginning block single iterator optimistically assume blocks full block saves cover block partial reasons element element inclusive save check upper element individual results included simply read block iterators blocks aligned block range read covered read matched previous block index covers time remainder previous previous block request cover calculate block offset move mmap supports step partial prefix encountered query reached start query range skip current term lower bound flip flag bounds avoid expensive check term block upper bound satisfied expensive upper bound checks unsupported operation search index min offset iterator channel proxy min key block index collections buffer exclusions iterator lower satisfied query max offset disk ptr count content pointer term navigable exclusion add block cnt current block pointer block block iterator blocks offset term size read term iterator buffer util level end db close quietly util backing file io index path pointer level eq op term start block iterator level math array collect token base offset mode read error found block size key fetcher align iterable cmp upper google ptr offset tokens read utf result iterables close merge block read length index data term random access file search result block idx tree cast iterators idx block idx term block offsets term count size supports comparator index size common index path term terms sparse suppress warnings offsets block size builder marked partials decorated key comparable ranges descriptor step base offset eq closeable search range search max term collectors combined index absolute path disk index builder put range key add exclusion length block idx block end marshal block mode individual tokens check upper block index perform skip format block index entry bound order range union iterator range upper satisfied index file prefetched key reader block aligned start upper block token tree fb utilities data block start lower block read disk index asc max key duplicate tail prefetched tokens iterator block op pointer peeking iterator sort full block idx peeking iterator entry disk block block count channel block min term op add expression lower position term size upper covered block comparator compute key illegal argument upper search point descriptor parent sparse data offset exp token token tree tokens compare find pointer end data stream inclusive utils bound offset prefix current io upper position sparse full block idx partial function filter data level iterator min range iterator data iterator order range sparse tokens empty build index key check lower buffer current term data level nio buffer max current iterator block num levels levels block index plan file utils start data block lower data desc checkpoint block offset lower range count expression builder token pointer total blocks disk block validator file compare position iterator sasi exclusions
src.java.org.apache.cassandra.repair.RepairSessionResult
repair session repair repair result uuid repair job results keyspace skipped replicas ranges token collection util range session id repair session result dht
src.java.org.apache.cassandra.schema.DroppedColumn
drop millisecond google override column metadata dropped time code add schema dropped column dc base helper column common
src.java.org.apache.cassandra.dht.tokenallocator.TokenAllocatorBase
initialise shared group info unique group unit info link group identifier group replication points previous group enable walking groups clearing terminator unit information created vnodes point evaluate improvement form chain units affected candidate evaluate improvement holds ownership candidate inserts unit circular starts head head removes starts head head start replication span token group replicated ownership unit range closest position candidate replication candidate start moves determine replication start insertion rf minus token group current replicated number reflected previous unit token existing tokens candidates token info existing unit info group comparable group prev ring unit format adjusted ownership token info util token circular navigable replicated ownership token count collect token cmp google weight prev populate replication start entry base token info common remove group info suppress warnings unit terminator groups ipartitioner put entry replicas en unit strategy insert group prev head replication threshold tokenallocator prev token allocator base token allocator unit floor entry compare override unit infos dht sorted tokens ni group ownership entry prev weighted replication strategy partitioner compare
src.java.org.apache.cassandra.tools.nodetool.InvalidateKeyCache
invalidate key cache execute probe invalidate key cache node tool cmd nodetool description airlift override node probe command airline io tools node tool
src.java.org.apache.cassandra.cql3.functions.AbstractFunction
base ignore fact receiver frozen comparison functions frozen reference google stream assignment text exact match cq override lang function functions keyspace str builder column freeze add functions code add append builder assignment testable size cq function column specification multi cell function weakly assignable db freezable util compatible base cql result append separators collectors column arguments commons collect common receiver sb assignable marshal function
src.java.org.apache.cassandra.tools.nodetool.RemoveNode
nodetool probe airlift system force remove completion node probe arguments io override lang tools empty remove node title usage node tool remove operation description remove node node tool cmd command execute required commons airline removal status utils
src.java.org.apache.cassandra.utils.memory.ContextAllocator
wraps calls pool allocator provided function clones op order utils put buffer override group allocator mark duplicate allocate memory size memtable buffer allocator nio buffer util buffer clone cloned concurrent allocator reset empty buffer context allocator remaining op group
src.java.org.apache.cassandra.io.sstable.ISSTableScanner
table scanner multiple table scanners chained close propagate google io inspect throwable utils scanned table scanner close jvm stability inspector throwable length unfiltered partition iterator current position throwables collection db util base propagate backing files partitions add suppressed scanner compressed length sstable common throwable scanners
src.java.org.apache.cassandra.config.EncryptionOptions
protocol enabled storetype keystore ciphersuites requireclientauth internodeencryption keystorepassword requireendpointverification config cipher suites ssl socket factory encryption options dc optional net client encryption options algorithm ssl truststorepassword rack truststore server encryption options internode encryption
src.java.org.apache.cassandra.db.partitions.PartitionIterator
iterator number partition iterator row iterator unfiltered partition iterator unlike guaranteed partitioner call guaranteed valid call consumer reference longer make copy rows base partition iterator partition iterator db row iterator partitions
src.java.org.apache.cassandra.db.compaction.writers.SplittingSizeTieredCompactionWriter
compaction aware writer splits input differently sized biggest sstable biggest result put find sstables min sstable underestimate keys sstable txn partition estimated disk written lifecycle transaction directories min repaired current write row index entry current writer io data directory override logger rie cfs potential ratios current ratio rows suppress warnings logger total size tables writer copy range length index manager make writers smallest table splitting size tiered compaction writer  comparator logger unfiltered row iterator math metadata smallest sstable location disk table writer point index estimated total keys format arrays metadata collector directories trace db sstable writer append util expected compacted file size op column family store compaction ratios current partitions write indexes lifecycle serialization header current ratio index table reader originals compaction location directories expired tables location real append round sstable slfj pending repair debug writer table descriptor logger factory ratio compaction aware writer
src.java.org.apache.cassandra.schema.SchemaChangeListener
flag change triggered event impact statements column alter table argument aggregate keyspace drop table table alter aggregate view drop view drop alter alter function alter keyspace schema function schema change listener drop function affects stataments db util drop aggregate function affects statements aggregate keyspace alter view drop keyspace table marshal view
test.unit.org.apache.cassandra.locator.EC2SnitchTest
messaging service end point datacenter snitch daemon initialization dc ec mr snitch locator unknown host io ec snitch az outbound tcp connection pool regions service instance stop client nonlocal init server application state cleanup tear override gms net config junit storage service configuration reset schema loader add saved endpoint db mkdirs util keyspace add application states inet address database descriptor comip rac pool endpoint state endpoint datacenter ec snitch ec snitch connection pool versioned local setup put rack url gossiper state destroy connection pool io factory initialized rack aws api call
tools.stress.src.org.apache.cassandra.stress.StressAction
creating keyspace column required creating graph output todo move queue wrapper gates progress based poisson provided separately support recursive call mixed command command warmup output iterations warmup hotspot compiles methods warm nodes cluster stress warm nodes speaking todo permit varying thread todo vary thread count based percentage improvement previous fixed pause arbitrary period time commit log make increase decrease run improved throughput significantly previous summarise starting worker wait lot pants start counting release operation rate limited operation rate limiter thread safe shared consumer expect start time blocking stream operations method block operation operation null ops synchronize start consumer ops thread operations shared operations results interrupted ended sleep atomic math op disconnect cur improvement add message ops sec override atomic nodes partition cnt spsc array queue runnable thread format auto stop util updates report warmup desc jctools success array min improvement sclient common output operation queues ops google rate limiter client min system rate result stress metrics count latch duration measurements reporting keyspaces nano time transport release consumers factory spsc unbounded array queue record row cnt intended time lower mode command wait converges run suppress warnings runtime result logger target uncertainty curr op index prev thread count queue op index truncate tables threads op rate min threads log warmup connection api measurements recycling summarise stream operations noop simple simple client op stream stress cancelled err fixed work manager api iterations cancel poll count size run ids start truncate driver client sleep uninterruptibly op distribution factory prev minimum uncertainty measurements op measurement offer started acquire op count illegal state consumer count warmup partition count thread count stress action abort uniform rate limiter time unit max threads intended start measurement sink locks single maximum uncertainty measurements average improvement ready park nanos min uninterruptibles lock support add empty op distribution continuous work manager driver client node intended truncate jclient interval await op measurement run multi interval millis metrics concurrent simple client op distribution work manager op duration units stress driver consumers command work manager average improvement op consumer
src.java.org.apache.cassandra.utils.memory.HeapPool
cleaner op order ensure noop utils ensure heap buffer group heap cleanup threshold heap pool memtable allocator memtable pool heap allocate memory size memtable buffer allocator runnable nio allocator concurrent pool max heap memory ensure heap op op group allocator
src.java.org.apache.cassandra.db.partitions.PartitionUpdate
stores updates made partition update requires performed read updates write partition update read called result mutable written immutable typical usage update add rows range tombstones methods level deletion time helper constructor methods special records update method update writing rejected manual make implicit requires simple creates empty immutable partition metadata metadata created key partition key created newly created empty creates immutable partition update deletes metadata metadata created key partition key partition created update timestamp timestamp sec current time local deletion time partition newly created partition deletion creates immutable partition update single row metadata metadata created key partition key partition row row newly created partition update creates immutable partition update single row metadata metadata created key partition key partition row row newly created partition update turns iterator iterator iterator turn filter column filter querying include data skipped reading writing method close provided caller close turns iterator iterator iterator turn filter column filter querying include data skipped reading writing method close provided caller close deserialize partition update provided buffer serialized version version update deserialized update serialize partition update update partition update version version serialize update newly allocated buffer serialized creates partition update deletes metadata metadata created key partition key partition created update timestamp timestamp sec current time local deletion time partition newly created partition deletion merges provided yielding update incorporates updates collection updates partition update include updates modify update timestamp live data deletion timestamp timestamp reason expect paxos code ensure inserted ballot timestamp respect order update decided paxos timestamp deletions win timestamp delete overwrite complex deletion delete previous collection adding complex timestamp delete tombstones wins timestamp guarantees deletion delete previous number approximate work update count rows updated ranges deleted partition number performed size data size data superclass calls triggers build columns passed holder proper columns built rows bypass partition update read call makes update modifiable note calling method result optimal behavior sense added update update sparingly turns end optimizing make extra things work properly called concurrently avoided safe iterator iterates rows update clustering note trigger sorting update modifiable anymore iterator rows validates data data update maximum timestamp maximum timestamp update counter counter counter marks counter aliases rows update update immutable intent adds row assumption made order row added partition add row multiple row note columns added row subset columns creating row row possibly limited removing introducing possibly limited removing introducing intentionally override avoid iterating rows result triggered lead errors partition update creates simple partition update metadata metadata table partition partition key partition key columns identifying partition key column passed directly pass single newly created building partition updates geared generally performance matters convenient build update constructor performance utmost metadata table builder timestamp additions builder derived timestamp timestamp timestamp time microseconds ttl additions builder derived ttl ttl ttl ttl current time additions builder derived sec current time current time time adds row identifier provided clustering builder clustering clustering columns row add table clustering edit note shortcut pass builder row identified deletes partition identified builder partition level adds range tombstone builder range tombstone builder newly added build update represented built shortcut built wrapped build range methods represented range inclusive start end includes start end start built range provided start act end built range provided end act start range start range end range end range counter mark basically pointer counter update inside partition pointer update counter based read understand bit giant hack place mutate row makes counters iterator primary key liveness info counter mark buffer merge regulars complex deletion math row excl end queried data excl start instance simple builder cell path stats marks live add range tombstone logger partitions marked delete columns unfiltered row iterator serializer timestamp partition key db initial capacity util simple io updates collect counter marks illegal state built cell deserialize iterator updates array auto single row update iter logger quick resolver common data output buffer path row collector deletion info mutation clustering google unfiltered ttl clustering iterators initial row capacity shadowed data partition key deletion time iterables btree row btree append range tombstone marker stats deletion time collect column metadata regular columns cell flag version serialization helper holder simple builder metadata partition update serializer clustering kind complex column data range tombstone runtime data input builder row builder decorated key simple add key row estimate operation count cur row count column data input buffer filter range deletion builder deserialize header row size partition deletion singleton reversed open partition update serialize cd column filter header table id timestamp serialized size columns fb utilities rows table metadata complex data transform key start live data output simple builders unfiltered row iterator empty schema iterator build builder cell counter flag partition key incl start partition update builder holder update timestamp max timestamp kind comparator unfiltered iterator cells tree unfiltered row iterators header merged add partition deletion btree partition existing table metadata logger factory add marks row counter cell delete decorate key rows transform filter utils incl end io built override full partition delete logger empty update id encoding stats data size element header created sec end row iterator mutable deletion info empty build unfiltered schema reverse order partition deletion secs nio buffer max update row iterators build mutation sb stats validate btree local sec range tombstone builder range count update function builder partition partitioner slfj column data row format empty row serializer
src.java.org.apache.cassandra.utils.memory.MemtableAllocator
mark allocator permit outstanding allocations overshoot maximum memory limit flushing begin mark memory allocator memory resources allocator longer release memory automatically signals mark bb permitting reclaimed tracker memory amount amount memory reporting ensure reclaimed mark tracker called allocate permits allocations allocate memory mark blocking permitted overshoot allocate retroactively mark amount allocated acquired retroactively mark amount acquired mark register op order reclaimed utils atomic field updater memtable allocator allocator pool cancel group allocated memtable pool wait queue signal na rows blocking signal discarding blocking state release heap acquired live allocate memory live ownership ratio size clone row builder target state parent updater reclaiming updater decorated key builder db illegal state discarding util concurrent blocked timer context await uninterruptibly discarded key heap ensure heap reclaiming life cycle cur compare discarded prev mark reclaiming released updater signal transition room ensure heap allocate adjust limit add row op group atomic
test.unit.org.apache.cassandra.cql3.validation.entities.TupleTypeTest
incomplete invalid positional field select syntax introduced migrated migrated todo dtest invalid syntax tuple modification invalid message rows tuple notation row tuple cql tester tuple entities max nested tuple junit tuple partition key tuple unset tuple put rows invalid queries tuple cql select statement tuples execute index invalid table unset throwable invalid input tuple validation tuple clustering key
src.java.org.apache.cassandra.utils.Wrapped
simple wrapper lambda modify variable utils initial wrapped
src.java.org.apache.cassandra.tools.nodetool.DisableGossip
execute probe stop gossiping node tool cmd nodetool description airlift disable gossip override node probe command airline io tools node tool
src.java.org.apache.cassandra.serializers.TimeSerializer
nano start attempt parse time time specific parsing loosely based parse convert missing character parse time strictly buffer math source remaining buffer util format matches matcher period util colon minute deserialize time serializer micro time pattern result append raw time serializers nano index colon nanos hours digits days length pow parse serialize marshal nanoss parse regex serializer integer builder minutes hour illegal argument compile digit time unit left pad minutes trim utils substring hours instance format error milli number format nio empty buffer concurrent validate time pattern lang ananos sb
src.java.org.apache.cassandra.db.LivenessInfo
stores information relating liveness primary key columns timestamp row primary key top info ttl local expiration note liveness info expiration liveness info info expires row liveness info rest row data unaffected rest row data note ctor expiration current liveness info empty liveness info empty timestamp liveness liveness info timestamp info info ttl row primary key columns note ttl originally expiration time info expiring info live expiration time sec current time liveness info live adds liveness information provided digest digest add liveness information validate data liveness marshal data size data liveness information size data liveness information liveness information supersedes greater timestamp compare info supersedes copy liveness info updated provided timestamp timestamp liveness info copy timestamp liveness info ttl utils min marshal updated timestamp expiration time override sizeof data size empty fb utilities serializers liveness info timestamp code empty digest timestamp live integer timestamp supersedes expiring sec ttl sizes format max db util validate expiring message digest update expiring liveness info expiration time local expiration time security update
src.java.org.apache.cassandra.db.rows.UnfilteredRowIteratorSerializer
unfiltered row serialization composed rows range tombstones iterator read end partition unfiltered serializer header table partition bit flag bit bit leftmost flags iterator iterator reversed clustering partition row columns iterator information decoding serialized deletion time partition row partition serialized number rows purpose sizing receiving end relied note format format basically header written actual row range tombstones written note consume called simple recreate iterator serialize selection iterator read vint length unfiltered row write vint length unfiltered serialization helper serialized size live live io error logger columns write unsigned vint unfiltered row iterator serializer buffer util format read unsigned db unfiltered row iterator util io sorted builder serialization header deserialize logger header table data output partition deletion serialized size end partition read unsigned vint serialized size vint length row btree row stats read deletion time regular columns flag version serialized size messaging unfiltered serializer metadata sizes data input builder decorated key key partition level deletion partition deletion row estimate end data key filter deserialize messaging deserialize header row partition deletion serialize column filter header size rows table metadata write end partition write deletion time unfiltered row iterator schema sizeof unsigned vint flag partition key write compute header empty reversed logger factory decorate key rows empty iterators helper utils io override logger partitioner slfj empty unfiltered reverse order deserialize row row estimate deletion time encoding stats row estimate stats reversed builder serialize messaging deletion time serialized size sh flags row empty row serializer
test.unit.org.apache.cassandra.db.rows.UnfilteredRowsGenerator
filter constructs unfiltereds integer clustering specification sorted open tombstone xx yy deletion stands close tombstone adjacent close open markers boundary empty xx xx yy live time zz input liveness rows explicitly parsed prefer merger check live attach boundaries iterator collections buffer row group source range tombstone marker empty row includes end live input junit parse unfiltered matches bound kind db unfiltered row iterator clustering bound util dt invert iterator positions array random inclusive remove clustering boundary open marker iterable clustering unfiltered pattern compute excl end incl start boundary system deletion time includes start close btree row btree append compile primary key liveness info liveness info del time cell live row content si boundary dump metadata clustering kind decorated key raw close marker unfiltered row iterators merge val matcher items prev unfiltered range decompose span marshal row reversed multiplier marked delete deltime pos open deletion time curr unfiltered close deletion time deletion marker apply open size regex rows table metadata time generator matcher add start live verify valid integer prev empty schema function sec builder reversed generate source open inclusive close inclusive incl end excl start boundary partition level deletion unfiltered row iterator reverse kind bound comparator source delrange range tombstone marker str end data builder defaultliveness sort compare rows curr inclusive utils regular columns parse fail close override function encoding stats clusterable make di length instance split deletion timestamp open true range tombstone boundary marker nio comparator range tombstone bound marker arrays start regular stats btree deletion time error sz clustering partition key time false empty row unfiltered rows generator
src.java.org.apache.cassandra.hadoop.cql3.CqlConfigHelper
cql columns input conf job configuration cql query limit input conf job configuration cql user defined clauses input conf job configuration cql prepared statement output conf job configuration method left backward protocol options unsupported operation cql config helper present tcp delay input cql clause config socket options keystore path input tcp nodelay alive consistency level compression files cql tcp delay cipher suites tsf port input ssl truststore path truststore password input connection timeout input ssl keystore path input ssl truststore password query options input ssl keystore password output cql protocol version output port input cql columns config input cql optional read query options columns split input page row size tmf cql page row size fetch size input reuse address ssl config helper linger io output port constructor plain text auth provider unrecoverable key input stream input send buffer size input cql input max connections remote absent inputcolumns input core connections input tcp nodelay truststore path receive buffer size commons host distance key store hosts common timeout pooling options input protocol version security input ssl trust store path linger google suites pooling options read consistency level input receive buffer size input read connection timeout connections input ssl cipher suites tcp nodelay query options protocol version user password clauses lang port secure random input reuse address input stream protocol version input connection timeout load auth provider limited local node local balancing policy input reuse address input max connections host input receive buffer size net configuration connection threshold core solinger input ssl truststore password socket options conf runtime input solinger driver builder load balancing policy load balancing policy input send buffer size query options base read load balancing policy input send buffer size fetch size read socket options trust manager factory input tcp nodelay input max simult req connections factory input cluster input ssl cipher suites core connections ctx input port connect timeout millis instance cert input auth provider context pooling options output cql cipher suites size algorithm input alive key manager factory input alive host distance socket options input cql page row size config input ssl cipher suites input clauses parse input auth provider auth provider add contact points reuse address auth provider cql compression algorithm stick hosts load balancing policy input max simult req connections input connection timeout ksf input ssl keystore path input ssl keystore password integer datastax username input cql core connections host input receive buffer size instance key managers trust managers ssl connect timeout millis max simultaneous requests array send buffer size keystore password input port input ssl truststore path key management auth provider output cluster input core connections client auth provider reuse address username cluster ssl context policies max connections input solinger paths consistency level input max simult req connection io jdk ssl options ssl options input ssl trust store passward ssl context input core connections host reqs ssl options file host input read connection timeout path ssl context password input cql page row size cluster cl hadoop input port pass ssl options empty build max connections host kmf input max connections parameter css auth provider input auth provider nio output cql arrays input read connection timeout send buffer size certificate input alive receive buffer size input ssl key store passward password local input columns protocol version key store util read timeout millis input ssl key store path blank builder init input clauses read pooling options alive utils read timeout millis input solinger
src.java.org.apache.cassandra.db.NativeDecoratedKey
size allocator op order utils buffer group allocator allocate memory dht remaining nio write op db decorated key buffer concurrent token decorated key key memory util peer big endian order key token order
test.unit.org.apache.cassandra.utils.CassandraVersionTest
version parse build support supported invalid utils major target matchers result invocation target junit matchers method method snapshot version parse identifiers negative parsing supported version prev junit minor expected true message version parse identifiers arrays declared methods util parameter invoke parse identifiers positive lang reflect accessible comparison illegal argument patch str compare throwable fail array
src.java.org.apache.cassandra.cache.ICache
similar requires maintaining require put remove efficient avoiding deserialize icache remove replace cache size put absent cache util key put iterator clear hot key iterator key key iterator
src.java.org.apache.cassandra.index.sasi.analyzer.filter.StopWordFilters
filter input matching stop process locale index stop words language stop word filter stop word filters input analyzer util stop words filter pipeline task locale filter sasi stop word factory
test.unit.org.apache.cassandra.dht.BoundsTest
size token linked overlapping bounds add overlapping bounds dht junit true overlapping bounds bounds util token murmur partitioner bounds bounds left
src.java.org.apache.cassandra.db.rows.Cell
cell atomic unit single single cell holds timestamp cell live regular complex expiring top regular ttl local deletion time tombstone local deletion time tombstone cell counter cell cell counter cell cell cell cell cell cell cell cell expiring cell local deletion cell local deletion cell tombstone expiring cell tombstone cell tombstone cell expiring note correspond cell liveness ttl cell cell expiring cell live current sec current time decide expiring cell expired cell live cells belonging complex collection path cell path cells complex overrides provide precise overrides provide precise serialization format cell flags timestamp deletion time ttl path size path size arb arb field present flags guaranteed fields flags cell bit represents flag explained timestamp cell present cell deletion local deletion time present cell deleted expiring ttl ttl present row expiring size size present cell columns fixed path size size path present iff cell complex cell path cell path column cell cell tombstone cell wether cell empty tombstone wether cell timestamp row cell wether cell ttl row cell skipped cell actual cell presence ttl serialized size skip row liveness buffer ttl timestamp serialized size deleted serialization helper serialized size buffer cell cell path live buffer util timestamp read unsigned db util cell path comparator allocator local deletion time tombstone serialization header updated deserialize skip cmp updated column read ttl data output counter remaining row timestamp mask write ttl liveness info max size column metadata cell write local deletion time ttl column data input row ttl local deletion time serialized size column skip row timestamp deletion time serialize cell header path path comparator row ttl mask database descriptor size rows read skip timestamp skip ttl read local deletion time write memory integer schema write copy serializer write timestamp complex comparator purge local expiration time cell path serializer expiring counter cell empty mask compare skip local deletion time helper utils mark counter local cleared io override allocator deleted mask empty max column data config nio comparator clear counter empty buffer read timestamp expiring mask sec deletion purger written length purger flags compare io serializer
test.unit.org.apache.cassandra.cql.jdbc.JdbcDecimalTest
serialize buffer jdbc big decimal cql expected junit math nio buffer compose decompose decimal serializer serializers actual deserialize jdbc decimal decimal
src.java.org.apache.cassandra.utils.SearchIterator
searches direction iterator required key greater method choose correct incorrect fail permitted search past end key search present direction utils search iterator key
test.unit.org.apache.cassandra.db.compaction.CompactionAwareWriterTest
disabling durable write dont smaller files diff estimated actual note fix big sstable avoid actual compaction gc iterator level counts target table count collections compaction buffer compaction strategy manager row compact writer rows written uuid gen junit tear format scanners db execute sorted tables live tables compaction major leveled compaction writer cql execute internal table reader size array random common schema change google compaction aware writer disk length cfs max table size writer rows fb utilities runtime throwable max table size writer expected size directories keyspace length force major compaction force blocking flush txn ci truncate blocking lifecycle transaction sstable size wrap scanner open payload size rows query processor expected table tracker time uuid sort row partition append keyspace controller column family store operation compaction controller comparator count originals splitting size tiered compaction writer scanners smallest sstable compare disable auto compaction utils override io primitives sstable cql tester column family store writers splitting size tiered compaction writer compaction strategy compaction iterator finish nio populate compaction writer row count lifecycle validate data sec util compaction writer table level modify major leveled compaction writer compaction aware writer
test.unit.org.apache.cassandra.schema.IndexMetadataTest
true valid negative index metadata valid positive index metadata index false valid index junit schema
src.java.org.apache.cassandra.cql3.statements.CreateAggregateStatement
statement parsed cql sanity check converts initcond cql literal parse back avoid udt supported frozen frozen keyword moment freeze replacing validate function matches existing code state present execute initcond cql aggregate function collections buffer state func grant permissions creator system user cql literal add message protocol version keyspace metadata change function state format replaced db auth function util unauthorized keyspace cql ud aggregate resource raw raw query state ival array state func replace null literal keyspace query state schema change client state transport serializers function permission alter state prepare keyspace applicable permissions cq constants term local target runtime cql request validation prepare request execution frozen singleton event keyspace client state marshal invalid request statements check access schema altering statement marshal authorizer user database descriptor size service prepared aggregate statement ud aggregate state function schema function iresource find function builder compatible function resource add null empty freeze announce aggregate updated authenticated user state arguments raw keyspace func state func sig raw state cq role resource initcond exists called null input schema function functions terms raw grant created frozen ensure permission instance role append aggregate config prepare nio migration manager scalar function announce migration validate validate keyspace system current state raw ud helper sb
test.unit.org.apache.cassandra.metrics.CassandraMetricsRegistryTest
ending registration metric metrics true stream choose codahale memory usage gauge garbage collector metric category metrics management management factory collection jvm buffer pool metric metric junit platform mbean server metrics registry count jvm metrics registration starts metrics registry util choose registry lang metrics strange register filter metric
test.unit.org.apache.cassandra.utils.ResetableIterator
reset iterator utils util resetable iterator size
test.unit.org.apache.cassandra.gms.SerializationsTest
serializations tester daemon initialization gd collections data input stream endpoint state read application state add serialized size gms junit storage service endpoint state util token io heartbeat st vv fact deserialize gossip digest ack array inet address endpoint state write gossip digest ack close data input net fb utilities load heart beat state serializations ipartitioner gossip digest ack versioned factory init dd load singleton serialize put input digests size service random token data output stream version count gossip digest syn gossip digest read versioned execute writes canonical gossip digest write utils vv vv states output io endpoint st add application state instance ack dht config status syn update heart beat database descriptor token metadata bootstrapping partitioner broadcast address serializer
test.unit.org.apache.cassandra.service.DataResolverTest
counter generate address read response install imessage sink capture inspect good checks provided data resolver expected number repair futures method future faking replica responses timeout closing result waits signal pass completely fake response matter async response signal cares message collects peer repair row peer peer repair expect resolved superset peer repair row covered range covered range range covered rows peers row peer rows row peer row peer response columns timestamped delete deletion deletes columns interleaved order columns created previous column created peer partition delete peer row peer peer deletion peer row peer peer deletion peer peer row peer responses merge tombstone merge combination boundaries note data resolver resolve empty source depends exact timestamps tombstones reconciled streams roughly ranges subtlety included stream strictly higher range receives repair stream covers message message boundary source covered source deletion timestamp boundary make handle checking fail handle rt boundary deletion side useless created legacy code manually ensure boundary reconciled repaired repaired forces start exclusive condition forces end exclusive condition empty cleared overwritten iterator resolve disjoint single row buffer row resolve disjoint multiple rows repair column prepare server resolve complex delete preprocess read command junit msg partition iterator msg unfiltered row iterator util column verb cql local deletion time condition partitions exclusive end read repair cmd iter null cfm unknown host cfs unfiltered partition iterator bb net clustering boundary metadata runtime incoming message complex column data ranges ascii repair results add regular column resolve empty marker fb utilities resolve collection overwriting deleted exclusive start live twothree msg empty fivesix unsorted builder column family store actual row update builder compute setup build update regular columns repair future empty update simple end message empty cfm closenine data resolver config add message sink partition deletion address add complex deletion range tombstone bound marker keyspace params data response remote data response sec add range count end resolve range tombstones boundary wins resolve multiple deleted data resolver util timestamp nio message recorder iterator resolve collection resolve disjoint multiple rows range tombstones clustering true request response rt column metadata read response verb add range tombstone onenine repair columns builder partition update raw put inject message sink partition updates end data length tree messaging service singleton partition update tombstone tombstone cell message open payload size service message recorder async response schema clustering kind target cf standard unfiltered iterator range tombstone boundary marker future repair deletions column fourfive repair deletions range tombstones empty deletion info start bound peer start peer peer row row iterator build command complex column data local deletion time local deletion time start clear rt bound imessage sink openone marked delete live excl end bound null dk db row iter expected repairs resolve define schema deletion info common unfiltered deleted slice empty iterators nano time inclusive end deletion time boundary kind incl start bound key message keyspace onetwo expected cell marked delete clustering bound cd rows mutation table table metadata expected unfiltered row iterator unfiltered partition keyspace add cell incl end excl start boundary integer marked delete threefour comparator cfs resolve range tombstones boundary slice utils id encoding stats element inclusive start make boundaryfive resolve deleted collection deletion time end bound peer remove message sink stats database descriptor address suffix row builder tombstone empty row range iterator incl end bound cf collection daemon initialization collections buffer cell instance instance expected cmplx delete columns cell path add cell live singleton unfiltered partition iterator buffer util format unfiltereds read response message repair range tombstone boundary resolver add partition key column single row update collect add clustering column inet address inclusive end google excl end incl start boundary system schema loader btree row resolve deleted empty slice partition iterator iterators outgoing message resolve range tombstones boundary left wins configuration range tombstone resolve newer single row decorated key peer resolve empty keyspace sorted timestamp timestamp timestamp marshal row column keyspac currentversion consistency level clustering rows start column identifier builder builder clear message sinks inclusive iter iter iter iter full partition delete repair metadata repair resolve range tombstones boundary timestamp column family store message excl start bound rt boundary complex deletion update cell false
src.java.org.apache.cassandra.cql3.functions.FunctionName
google override code functions function function system keyspace schema function function schema constants keyspace cql keyspace base common
src.java.org.apache.cassandra.db.compaction.CompactionManager
singleton manages executor ongoing scheduling compaction accomplished swapping sstables compacted scheduling attempts ignore thread local current thread compaction counter context figure log warning invalid counter compaction rate rate unit rate limiter rate limit rate rate node rate put mb sec throughput mb throughput throttling call compaction call turn shutdowns compaction validation cancels running compaction waits tasks complete tasks shutdown executors prevent interrupt compactions wait tasks compaction tasks interrupted shuold fairy interrupted tasks actual sstables compact determined run created task submission execute run operation sstables jobs cfs column family store run operation operation operation jobs number threads status location directory index based key make key boundary splits token ranges sstables pending repair make marked compaction calling caller reference validated repair sstables ranges ranges repair carried validated repair tables repaired referenced passing parent repair session parent repair session notify repair status changed compute task compaction present confuse run compactions disabled deadlock cancellation extract keyspace columnfamily group extract keyspace columnfamily group sstables compaction compacted inefficient performance sensitive acquire reference critical mutate inform remote end hang repair determines cleanup remove data table cleanup checks unwrap sort ranges lhs keys lte token start range ownership exclusive iterate ranges key end range falls start split wrapping range keys ran end sstable check range found key end found key function file removes keys node responsible keys node responsible flush ensure lose tombstones sstables compact creating overlap note anticompact unrepaired original migration drop sstables back original place repaired sstable performs readonly sstables order validate complete writing merge meant bugs cfs attempt validate droped effort avoid useless scenario validation submitted started prior drop sstables validation compaction concurrently ahead scan snapshot created session read note populate parent repair session creating sstables snapshot supposed flush validating data similar parent repair session removed repair session failed node removed merkle trees suitable hold estimated partitions blindly assume partition evenly distributed sstables validate cf iterate clear snapshot global snapshot validation clear determine max tree depth proportional range size avoid blowing memory multiple capping prevent large tree determine tree depth number capping max tree depth mt serialize note grab existing sstables grab marked miss ranges compacted splits sstable tables store repaired store anticompation original sstable marked subsequently repaired transaction repaired sstables ranges repaired ranges repaired table tracked repairs place unrepaired repaired work repaired sstables result repaired avoid repaired make actual repaired splitting sstables worth iterate sstables check repaired unrepaired ranges intersect current range sstable save repaired save writers operating convenience transaction forbidden call permit redundant transitions calls transition state occupied performing disjoint work sstable indexes expiring columns purge tombstones deleted add gc grace indexes local controller validation compaction note call sstables sstables guaranteed active run repair reason purge including gcable tombstone repair digest depends scheduling compaction perfect gcbefore dependend current time validation compaction bad normal repair broken repair solution agree gcbefore node note validation compaction includes problem tombstone shadow column doubly validation compaction thread redundantly modified debuggable thread pool executor compaction interrupted snapshots deleted windows segments root element unmap segments free snapshot successful submit task executor executor rejected execution cancelled task task task log future deliver task future cancelled task increasing reducing stop compactions note method wait compactions loop compacting column families column families stop compaction interrupt validation true validation operations repair interrupt signal compaction ksname operation iterator compaction manager synchronous queue compaction holders range limiter writeable location file sstables bounds verify info indexes wait cessation executors compacted message gc wait future repaired key count predicate force compaction token range metadata collector directories key compaction strategy index util key latest version io sorted ranges difference maximum compactor threads serialization header splitter table reader scanned fast thread local array empty tasks iter logger scrub info partitions validated anti compacted millis core validation threads cleanup filename active compactions metrics listenable future task iterables joined cfs append table op status index multimap descriptor compacting verify finish compaction version wrapped runnable max threads metadata unrepaired sstable futures anti compaction writer empty runtime ranges descriptor begin compaction ratio table mark compacting global snapshot validation perform maximal ctx log prefix queue sstable mutated repair statuses validator rate limiter validation compaction iterator txn tasks entry maximum compactor threads unit fb utilities relocation stop requested throwables open data uuid gen token range collection rejected execution call time uuid disk length tabular data annotations platform mbean server sort flush indexes blocking bootstrap mode descriptors warn pending repair column family store auto saving cache snapshot deleting task writer anti compaction live tables task time inspect throwable rate cache cleanup executor executor modifier validated compacting cf table scanner stream concurrent multiset await termination interrupt compaction cfs compaction interrupted abort cache cleanup executor purge evaluator destination checker schema normalize verify info verify compaction rate limiter perform cleanup interrupted num delay empty validated repair sstable iterator config total preview predicate compactions reduced arrays stop table interval tree skip corrupted ceil shutdown lifecycle view gc sorted tables reschedule failed tasks add range ratio futures maximum pool size aborted compact live tables local ranges finish compactions shutdown anti compacted table count anticompact redistribute summaries disk tables system keyspace jvm stability inspector expected size predicate full cancelled future sstable group ref cleanup cache callable compaction history compression ratio storage service group tables anti compaction pending tasks runnable tombstone option index range preview kind expected compacted file size submit user defined estimated keys ranges execute iterator snapshot validation compaction strategy submit timeout debug partitions repaired iterable consistent user defined minimum incremental thread factory operation parent repair session maximum validator threads array total compacted ret validation compaction controller bounded operation max scanned table rewriter filename estimated total anticompacted tables delete partition force shutdown openmbean base put concurrent validations min threads core compactor threads filter anticompacted length repaired scanners normalized ranges upgrade sstables merkle trees singleton system keyspaces lifecycle transaction length read min index interval number collection auto compaction disabled open active repair service size management split output service column families compaction info construct perform garbage collection add merkle tree params core pool size compaction holder schema trace enabled sec suppressed acquire task verify increment aborted localized message holder perform anticompaction tables validate perform table rewrite tree table timer thread count compaction info positions ranges run sstable logger factory compactions scanners anticompaction group compaction task mbean compacting anti compact group repaired ordered range checker locations table metrics partitioner perform scrub prs stop compaction purge repaired tombstones min array multimap preview instance handle log max timestamp comparator build total compactions completed background task table validation time file trace exec successful controller submit maximal callable mbean server singleton cleanup strategy max depth anticompaction time active count approximate key count runnable cache clear parent repair session stop compaction id table readers num partitions session id compare snapshot table readers garbage collect milliseconds canonical compaction throughput mb sec present sstables submit index build find math redistribution depth cleanup scrub extended verify register mbean table level mixed tables cache management factory live compaction manager mbean count submit background writeable locations max db totalkeys written compaction summary file utils completed tasks token index manager compaction controller netty pending tasks scrubber sstables droppped compactions remove interrupt validation common release throwable core pool size builder view increment compactions reduced increment sstables droppped compactions submit pending anti compaction min sstables validate cleanup submit validation fail close nano time data directory suppress warnings filename relocate tables expected bloom filter size pretty memory disk boundaries jobs table metadata force user defined cleanup nanos compaction file location key time unit debuggable thread pool executor format core validation threads invalidate cached partition concurrent compactors collectors background compaction candidate select reference absolute path repaired table writer key keyspace compression ratio completed tasks unrepaired key count directory executor service table descriptor trim ci cleaned pow cfses snapshot exists notify table repaired status changed cancelled range shutdown cancel sstable range force user defined compaction cfname compacting positions ranges table metadata union table operation parallel table operation cfss strategy sleep uninterruptibly repaired table writer pair unfiltered row iterator maximal tasks compaction rate limiter acquire grouped tables user defined tasks keyspace scrub info compaction range partition counts group max data age grouped disk partition position maximum validator threads fut reload table metadata comparator put mb sec partition count mutated anticompaction error validation executor concurrent validations disable auto compaction grouping scanner tracker metadata serializer blocking queue io execution override flush progress logger execute reset trace session wrapper gc make ref view fragment unable cancel writer verifier split throughput dht force keyspace flush compaction iterator finish submit view builder obsolete originals valid bounds filenames parent session id database descriptor scanner transaction partition repaired nanoseconds compaction task cleanup strategy entry parent repair session id left index summary redistribution table metadata ref partition key repaired collections compaction strategy manager total compactions completed metric serialized size rate add location input logger run compactions disabled ranges min key bound table writer initial thread format linked blocking queue token compaction jmx enabled thread pool executor desc uuid header anticompacting collect correct location holder id merkle trees google prepare commit visible system streaming max size duration perform verify starts min priority rate limiter snapshot transactions wait futures compaction executor stats collector submit cache write preconditions select concurrent compactors holder run secondary index builder decorated key directory index range compaction id ranges check data clear snapshot mutated repair status notify metrics validation directories check argument range scrub parent repair session construct early opening local ranges commit table metadata scanned disk boundaries repair save cache endsize tables stats metadata filter tables column family stores validation executor verifier cf store count compaction executor mbs rows modify log prepare token range max key bound compactions aborted start exclude current version disk integer function complete anticompaction compaction params run index summary redistribution listenable future compaction controller minutes info originals execute debug enabled startsize mutate repaired tombstone option intersects compaction manager status code view validation compaction compaction task scanner indexes writer submit running core compactor threads writer utils unrepaired tables data files floor uninterruptibles column family store cleanup multiset compaction metrics max data age gc scrub view builder scrubber update min level concurrent permit redundant transitions future context size comparator compaction strategy manager entry extract throwable lang lookup table sstable candidates maximum pool size refs finished sstable slfj validator interrupt compaction time directory relocate compression ratio serializer
src.java.org.apache.cassandra.tools.nodetool.Rebuild
check specific sources nodetool probe airlift node tool node probe arguments io override tools option title rebuild usage rebuild description node tool cmd tokens source data center command execute illegal argument keyspace airline
src.java.org.apache.cassandra.db.transform.UnfilteredPartitions
wrap iterator unfiltered partition iterator base partitions unfiltered partitions table metadata partitions db transform unfiltered row iterator metadata rows input schema
src.java.org.apache.cassandra.auth.Resources
construct chain resource parents starting resource ending resource staring resource chain form start creates iresource instance external resource inferred matching root level iresource instance created chain utils hex role resource data resource append resources parent format add jmx resource builder root buff iresource starts deprecated auth util function resource resource parent array keyspaces component root illegal argument hex
src.java.org.apache.cassandra.db.rows.UnfilteredSerializer
single unfiltered encoded format unfiltered bits flags flag flags extension presence extension assumed row clustering serialized row sizes unfiltered disk previous present sstables efficiently skip rows forward row primary key liveness ttl local deletion time absent based row presence flags conists timestamp local deletion columns present row encoded absent columns data column encoding data depends simple complex columns simply encoded columns encoded deletion column flags vint encoded inde complex marker bound serialized marker deletion serialization defined unfiltered flags signal end field encoded unfiltered marker markers applies encoded row timestamp encoded row expiration info encoded row deletion encoded row columns header encoded row complex deletion read extended encoded row extended row assumed row deletion extended flag row deletion assumed write size previous unfiltered make reverse queries efficient obtain column data directly originates column sstable recently serialize column metadata extended deserialize provided input header serialization header serialized helper helper builder row passed allocate deserialized read end method guaranteed empty skip empty deserialize deserialize single provided empty row row row data dropped code expect rows meant exposed consumer method make skip empty wrong unsorted inefficient make deserialize row deserialize row skip previous unfiltered marker previous unfiltered skip row previous unfiltered corrupted data triggers row bug builder trigger impossible priori make real bug data corrupted bad io hide make properly mark sstable shadowable live skip complex column iterator ttl serialized size skip row liveness deletion time serialized size nicoulaj unfiltered ttl timestamp serialized size row clustering collections start deletion time file pointer skip deletion time range tombstone marker live columns size complex column write unsigned vint count marker unfiltered timestamp serialize row body serialized marker body size search iterator clustering bound util io sorted builder inline local deletion time serialization header clustering deserialize deletion expiration time collect common data output buffer skip row clustering table google deserialize tombstones read ttl data output timestamp ttl serialized size end partition read unsigned vint file data input deletion time expiration time btree row skip row body local expiration time empty primary key liveness info deletion time liveness info ttl column metadata previous unfiltered size cell deserialize marker body version row bm net serialization helper unfiltered serializer write local deletion time cells count row kind sizes runtime data input builder complex column data simple end partition serialized size local deletion time serialized size extension flag skip marker body includes sorted columns column end partition dropped timestamp row dropped complex deletion row size serialize skip fully bound cd cell header serialized subset size deletion marker apply write ttl add primary key liveness info columns size clustering deserialize subset rows add row deletion write end partition transform start complex column write deletion time annotations position schema boundary sizeof unsigned vint read simple column deletion shadowable write deletion columns complex deletion scratch buffer kind read complex column range tombstone boundary marker range tombstone marker header columns expiring write timestamp end complex column clustering bound boundary helper liveness info utils empty deleted row shadowable deletion io seek marker size length serialize subset si read extended flags write empty extended flags deletion deserialize column data wrapped data deserialize row end deletion time extended flags read unsigned complex deletion range tombstone bound marker compilecommand db error clustering boundary serialized row body size read timestamp extended build data read local deletion time read deletion time complex deletion deserialize row body pk liveness dob builder add cell serialize row add complex deletion flags serializer time position write complex column ttl
src.java.org.apache.cassandra.index.sasi.memory.IndexMemtable
key valid buffer utils index memtable column index validator conf logger disk key validator index column index range iterator size add column memory logger fb utilities remaining pretty memory nio db decorated key token plan column expression search util upcast expression key logger slfj validator error logger factory sasi marshal mem index
test.unit.org.apache.cassandra.cql3.TraceCqlTest
make wait trace events complex tables tuple data bound tracing bound surrounded single account single quotes adding expected trace cql execution info tear cql statement tracing substring enable tracing session trace state impl bound instance query trace cql prepare session net wait pending events timeout secs tt tuple cql tester cfloat table tuple datastax cql junit cint core prepared statement trace protocol version driver codec registry current table cql tuple parameters pstmt execute data tracing require network keyspace session text query trace bind throwable wait pending events timeout secs newest supported
src.java.org.apache.cassandra.service.GCInspector
field tracks total number direct memory requires dummy field assume gc partially concurrent side channel calculate application stopped time due gc recognized assume concurrent side serial young generation possibly concurrent assume gc generation collection invoking unrecognized gc gen retrieve garbage collection notification duration supplied notification info includes application stopped time concurrent job good stopped tracking cumulative time spent blocked fast finished gen collection lot reduce care failed gc info gc atomic total check threshold mbean gc state gc log threshhold math instance exists register mbean management factory memory usage handback start nanos platform mx bean proxy logger info gc bean gc log threshold memory usage db util key io allocated direct memory gc warn threshold total reclaimed max real time elapsed server logger debug throwable gc garbage collector mxbean domain gc warn threshold gc log threshold system state add notification listener registered compare duration nano time extra elapsed mbean server user data sun memory usage keys state composite data millis status logger runtime openmbean key gc inspector mx bean gc state memory usage gc sum squares real time elapsed log array declared field total real time elapsed gc info length bits inspector garbage collection notification info lifecycle transaction notification duration cd put total mbs management mbean registration service reschedule failed deletions prev platform mbean server sort gc builder garbage collection notification warn malformed count previous total temp illegal argument accessible bits total capacity canonical time unit logger factory gc log threshold trace enabled utils collection time memory usage gc field extra io reset stats logger atomic reference assume gc gen gc info gc states handle notification notification listener append query gc warn threshold config trace arrays max gc total duration reflect concurrent sb database descriptor lifecycle compliant mbean lang gc inspector status threshold nanoseconds register slfj assume gc partially concurrent notification garbage collector mx bean gc warn threashold
src.java.org.apache.cassandra.tools.nodetool.DisableBinary
execute probe node tool cmd nodetool description airlift disable binary override node probe command airline io stop transport tools node tool
test.unit.org.apache.cassandra.metrics.DecayingEstimatedHistogramReservoirTest
percentile empty histogram percentile histogram element histogram percentile empty histogram percentile empty histogram percentile histogram element expected clock time tick percentile decaying estimated histogram reservoir codahale min overflowed std dev bucket count clock millis decaying percentile math max max  landmark reset interval overflow delta junit round clock true actual min max  estimated quantile update histogram metrics  snapshot snapshot  simple tick decaying add finding correct buckets half time decaying estimated histogram reservoir snapshot std dev  false add millis
test.unit.org.apache.cassandra.cql3.validation.entities.StaticColumnsTest
migrated check writetime works predict exact easily check check columns check correctly column select slicing part clustering key check things work select request columns internally require debugging check selecting column distinct yield query result querying columns correctly yield full check deleting row implicitely deletes explicitely deleting column remove check add column drop migrated support migrated paging additional limit columns present migrated bug migrated migrated shouldn clustering ensure deleting compacting row purged sort numdim index flush rows vals invalid message force flush columns empty clustering columns compact alter clustering rows keys cql tester columns secondary index entities columns distinct integer row junit true empty rows arrays column purging util framework check distinct rows cql sleep ranges execute null columns length table thread columns limit throwable validation invalid
src.java.org.apache.cassandra.hints.HintMessage
message dispatch forward encodes host id hint meant hint host id determine store apply host id receiving node host apply host id receiving host store scenario dealing regular hint scenario hint node decommissioning streaming null fail decode hint unknown table id hint deserialization fails due unknown table hint message null serializing hint size receiver message gracefully deserialize failure table simply skipping unread scenario hints file streamed partition updates exist handle gracefully dropping connection size messaging service google version hint data output utils serialize serializer read unsigned vint host id table id io primitives message hint size uuid serializer hint id skip iversioned serializer message net unknown table id require null schema write unsigned vint sizeof unsigned vint sizes nullable data input db util serialized size io verb annotation serializer hints uuid deserialize unknown table message hint read counting common checked cast hint message tracked data input
test.unit.org.apache.cassandra.db.rows.RowAndDeletionMergeIteratorTest
incl end bound del time iterator daemon initialization range tombstone collections buffer util buffer cell bottom start inclusive partition level tombstone shadowing tombstone add excl end bound clustering prefix rows junit dk buffer util timestamp db col util row deletion merge iterator add partition key column cql rt marker row partitions cell iterator define schema tstamp excluding end including start marker add row add clustering column millis configuration range tombstone cfm unfiltered excl end incl start boundary row iterator empty iterator btree row cfs deletion time rt column metadata single cell row exclusive start metadata kind bound range tombstone incl start bound builder decorated key ascii partition del time keyspace filter partition timestamp add regular column row greater range tombstone column simple partition update column metadata clustering bound column filter keyspac cell open fb utilities clustering rows table metadata live row deletion merge iterator start live column identifier unfiltered row iterator top schema reversed range tombstone iterator keyspace incl end excl start boundary column family store prepare server range tombstone iterator kind row comparator setup time range tombstone marker range tombstones decompose inclusive start slice tombstones including end excluding start marker utils regular columns exclusive end inclusive end clustering bound boundary range tombstones start bound encoding stats end make cell make column family store instance excl start bound unfiltered cf standar config greater range tombstone true schema loader nio end bound update row iterator keyspace params empty row stats database descriptor deletion time end inclusive builder marshal bb def tombstone merge iterator false greater
src.java.org.apache.cassandra.concurrent.SharedExecutorPool
pool worker threads shared executors created executor treated concurrency task queue threads service tasks executor free hop executors producers incurring unnecessary executor processing tasks adding tasks executor involves placing task work queue updating task permits imposes max queue length guaranteed task maximum concurrency producer schedule thread work context worker spinning worker threads schedule assigned attempt partner worker service work outstanding queue finished task repeat attempt assign tasks enter sleep random interval number threads total amount time approximately fixed number spinning waking assign executor outstanding tasks result scheduling partner committing steady state task arrival generally spinning worker ready promptly incoming workers actively committed order prevent executor pool acting noisy neighbour processes workers detected current rate operation decided total time spent spinning workers workers workers descheduled assigned workers id collection executors serviced periodically ordered traffic number workers spinning coordinate stopping collection threads spinning state workers scheduled queue scheduled correctly ordered skip collection threads workers scheduled work spinning queue descheduled expect hoping find worker work matter atomically task collection workers empty schedule general workers manage spinning count increment avoid starting worker spinning count stop pool descheduled copy write array spinning poll entry atomic entry concurrent skip jmx path schedule atomic integer sep worker current add atomic stop check shared executor pool start spinning worker max queued tasks executors work util concurrent max concurrency sep executor worker id work spinning local aware executor service increment executor shared assign executor compare
src.java.org.apache.cassandra.index.sasi.analyzer.NoOpAnalyzer
op iterator iterate unmodified buffer index init input op analyzer nio db analyzer util reset marshal validator analyzer sasi options
test.long.org.apache.cassandra.io.sstable.CQLSSTableWriterLongTest
google builder high data dir io close init server append files writer service wide row temp dir instance add build buffer size mb tempdir table size junit storage service schema cqlss table writer schema loader insert builder mkdirs schema columns util directory cqlss table writer prepare server table query absolute path array random add row sstable separator common file query columns setup
src.java.org.apache.cassandra.cql3.selection.FieldSelector
invalid request selection factory column filter output buffer protocol version override field selector selection column add column field selected factory aggregate selector factory selector user column transport protocol version builder split column specification add fetched columns nio format instance factory db query options field field buffers cql reset result builder builder options filter results column length add input fetched columns marshal
src.java.org.apache.cassandra.db.transform.Filter
generally true direct row rows iterator marker base row iterator override close transformation rows filtered rows filter empty apply partition transform row iterator range tombstone marker empty filtered unfiltered row iterator unfiltered rows purge apply db filter sec deletion purger row apply row iter purge apply marker empty row close empty row
src.java.org.apache.cassandra.io.sstable.SSTableTxnWriter
wrapper table writer lifecycle transaction writer participant transaction safely log writer closed log writer closed total size send log writer closed column family store table multi writer iterator writer metadata collector db table reader util io compaction accumulate desc serialization header collector commit throwable simple table multi writer index transactional range aware table writer close sstable level cfs append index table metadata ref table multi writer file pointer offline metadata filename suppress warnings runtime descriptor open result abort keyspace commit txn lifecycle transaction header prepare commit open rows collection lifecycle open result unfiltered row iterator schema uuid write keyspace finished pending repair column family store operation comparator descriptor table format utils table multi writer abort io override sstable format column family store indexes transactional key count post cleanup finish range aware concurrent table txn writer prepare repaired
src.java.org.apache.cassandra.transport.CBCodec
body netty dest buf buffer encoded size cb codec decode encode version io protocol version transport
test.unit.org.apache.cassandra.cql3.validation.entities.UFTest
pairs select statement pair function drop statements removed cache statements dropped function removed statements referencing function removed time statements select tables scoped dropping function removes stmts provide delayed collection cache dropping function removes stmts provide delayed collection cache prepare statement function function drop verify statements provide delayed removed cache prepare statements function provide drop function scoped prepared select drop removed statements reference control statement remain present drop function statement simple check recreate comply validate works replace method incompatible proper validate method function drop unexisting complain drop longer text considered work preparation overload specifically varchar work functions multiple overloads fail overloaded overload drop function ambigious check created check replaced function correct ensure system ensure ut referenced ut referenced function driver function execution code load srn nulls iterator execute net src drop keyspace check delayed correctly identify functions buffer empty math row wrong keyspace broken function token schema change function drop prepared statement irn entities add function target keyspace tokens protocol version timestamp null junit change allocate prepared select keyspace keyspace metadata prepared select udt function buffer util created db updated util drop keyspace cql function reserved replace function execute sin array duplicate table schema common function execution reversed output schema change null event body google version repeat stop forcing prepared drop function drops prepared statements delayed collection fail schema change client state function overloading transport brc smaller bcc function execution net dropped function existing keyspace function core kind target function system rows function creation drop overload broken rows prepare statement delayed throwable query processor drop keyspace function drops prepared statements delayed prepare rows net function execution messages keyspace statement id function execution current table marshal row invalid request replace nulls bcn prepared invalid message parse function kind size keyspace metadata service existing scc prepared icc date integer datastax ud function schema function icn uf source irc ksm function removed untyped result function drop keyspace brn collection literal columns schema change sin internal calls invalid query function drop keyspace drop invalid control based ud function swapped utils nulls result message user drop prepare statement delayed tuple protocol versions functions scn format cql tester instance sin functions sin true nio empty source driver prepared reflect broken function greater force prepared invalid message fee function overload empty buffer prepared insert prepared insert false validation
src.java.org.apache.cassandra.db.commitlog.CommitLogSegmentReader
read sync section commit ending position current sync crc good good written file truncated grab file end file loop room segment write data present replay commit log data offset file section offset file section logical ending position buffer derives section commit log section boundaries derived commit log sync section commit log start position position file begin reading section start position file position beginning buffer logical end determine tolerate errors current result decryption written result decryption written iterator tolerates errors section buffer encrypted file segment input stream enabled sync marker size encryption context message input commit log read handler buffer util format reader db util io tolerate segment errors decryptor section start position desc iterator crypto file end position crc op segmenter common read error read sync marker security iterable google end position visible file data input unrecoverable descriptor error chunk provider invalid crc uncompress allocate file pointer icompressor compressed length compressed segmenter suppress warnings runtime read current segment end position file start position compressor cr offset file length start position end data length collect encryption context read fully handle unrecoverable error segment iterator wrap encryption utils fb utilities tolerate errors section compression zip update checksum path cipher msg decrypted buffer annotations schema chunk provider filecrc handler tolerate truncation compressor compressor position count commit log segment compute compression params logical start commit log descriptor random access reader descriptor segment read segment sync segment commit log read total plain text length utils decrypt compressed buffer uncompressed length io commit log segment reader seek id iterator uncompressed buffer segment end position nio segmenter file segment input stream compress empty buffer encryption context cipher end ioe segmenter current start commit log read error reason commitlog encrypted segmenter
src.java.org.apache.cassandra.triggers.ITrigger
trigger partition update received coordinator constructor parameters itrigger instantiated multiple times server life number times trigger folder itrigger dependency instance api beta called cf mutations atomically update update received additional modifications applied supplied augment triggers partition db update collection itrigger util mutation partitions
src.java.org.apache.cassandra.service.CassandraDaemon
defines activate deactivate hooks lifecycle methods register metrics instrumented appender access metric consists appender metric separate appender remove standard property jvm agent started jmx behaviour clients log warning skip server configured remote port connector server accessed local port property server loopback auth options applied remote ssl remote local port jmx effectively hook concrete daemons initialize subclasses override finish job delete failed snapshot deletions windows persist startup write system keyspace make error logged populate token metadata sstable partitioning load schema clean debris rest skip system cleaned initialize disable auto compaction commit log replay replay commit log segments found token metadata commit log recover peers loaded system keyspace enable auto prepared enable metrics provided initialize yaml start server writing happen schedule periodic background compaction task simply backstop compactions due scheduling errors race schedule periodic dumps table size estimates asynchronously load row key cache threads compound future error handling pushed cache load cache loads fail handled initialize daemon based hook arguments passed start assuming initialized hook stop ideally idempotent hook jsvc shut rpc jsvc care rest stop entire system prunsrv jsvc rely shutdown hook drain clean resources obtained lifetime hook convenience method initialize start daemon put references database descriptor force initialization server start bean adjust system timer windows minimum impacts timer thread driver warn user stdout warn user stdout convenience method stop destroy daemon completely shut start method shoud restart server stopped runtime server stop method stop server started runtime server server code log system info delete snapshots load file resource daemon initialization meter apply config jmx connector server factory system keyspace key cache jvm stability inspector mbean scrub data directories reporter config exit fail register load jmx port host windows timer interval register mbean build views load saved async management factory flag system keyspace init base activate jvm gms jmx server logger max memory storage service runnable thread url report file location db schedule util metric parse io destroy running cql successful pid file runtime mx bean stop transport resource shared metric registries cache service jna memory lockable key cache load schedule fixed delay handle corrupt table logger gossiper schema common debug inet address keyspace error thread aware security manager google mxj tool log stack trace visible system corrupt table debug enabled unknown host persist local metadata compaction strategy manager close cfs runtime buffer pool metric error handler storage metrics mlockall info enabled recover segments disk active repair service background compaction task submitter exit net mbs configuration pretty memory enabled init server complete setup suppress warnings reporter tracing futures uncaught init jmx windows failed snapshot tracker access mbean local throwable query processor row cache view manager table metadata concurrent tracing loopback address server sstable local host separator error handler size recorder interval enable metric load disk err transport service column family stores stop run managed cfm start timer period mbean metrics reporter config file parse message enable auto compaction open fb utilities management service start view rebuild memory usage gauge jmx server utils message pool windows timer library integer annotations store schema metrics registry total memory optional tasks illegal state listenable future keyspace memory pool mx bean column family store property preload prepared statement minutes startup checks peak usage info code property transport service keyspaces setup inspect throwable daemon size estimates recorder meter added uncaught handler populate token metadata install error time unit deactivate logger factory initialized metrics access setup completed disable auto compaction scheduled executors utils metric registry listener substring stack trace codahale transport running io override logger input arguments metric garbage collector metric functions register daemon keyspace verify runtime file descriptor ratio gauge metrics instance standard mbean memory lockable arguments startup appender wait settle commit log config startup checks add listener index row cache load trace uncaught handler rpc ready loader addthis file metrics mbean server handle error schema constants load row key cache async delete exit file utils tables views database descriptor runtime windows memory pool mx beans lang warn gc inspector remote integer jmx server meter ring delay platform mbean server slfj broadcast address uncaught file concat indexes start transport commitlog retval finish startup milliseconds
src.java.org.apache.cassandra.cql3.ColumnIdentifier
represents identifer cql column todo support mode text representation compared stash efficiently compared prefix majority comparisons answered flipping top bit ensure signed comparison unsigned bit representation identifier safe directly cql quotes inside quote replacement compare unsigned text prefix buffer previous comparable cache sizes read matcher db util replace allocator cql lower collect common interned key empty size google pattern min measure remaining interned code matches unshared heap size excluding data literal key raw text created unshared heap size maker size marshal make interned quote regex size heap excluding data matcher pattern quote duplicate column identifier memory ut reserved reserved keywords unquoted identifier compile locale imeasurable memory weak compare size heap utils put absent override cql id allocator escaped quote buffer util instance interned instances concurrent nio clone empty buffer concurrent minimal buffer interned compare prefix comparison
tools.stress.src.org.apache.cassandra.stress.report.TimingInterval
represents measurements interval single timer results merged timer percentile latency milliseconds medianlatency start meanlatency percentile median latency min oprate timing interval error count partition rate end nanos ranklatency format na latency percentile histogram run time add start nanos hdr histogram service time partitioncount max maxlatency end started max empty sample latency histogram operation count row count total count percentile rank response time adjrowrate report illegal state latency rowrate reset stress max latency row rate ended partition count partitionrate errorcount wait time fixed op rate timing parameter adjusted row rate
test.long.org.apache.cassandra.db.compaction.LongCompactionsTest
compaction wide compaction lots skinny compaction lots small sstable highest give garbage collection bit time rows force multiple block indexes disable compaction make max timestamp compacted sstables recorded properly compaction thresholds low force loop submitting parallel compactions compaction attempt launched background completing control compactions wait futures singleton collections compaction sstables math compaction util compaction manager add tables simple add max timestamp compaction thresholds junit pending tasks submit background dk buffer util format db execute util compaction task live tables compaction sstables compaction options partitions table reader define schema array cmd standard column compactions sleep configuration rows sstable min system active compactions compaction compaction slim tree update builder scts size metadata decorated key key millis perform maximal keyspace sstable count keyspace max timestamp expected force blocking flush table utils txn truncate blocking lifecycle transaction partition update standard cfmd nano time put keyspac clear unsafe apply open fb utilities rows prepare compactions min index interval collection start readers params cleanup files tracker store schema compaction params keyspace column family store timestamp operation prepare server cf standard table metadata time unit sorted disable auto compaction utils compaction wide partitions table io current time millis schema gc grace thread sstable column family store cfs instance build timestamp schema loader max empty buffer concurrent future nanoseconds keyspace params inserted lifecycle compactions row add force compactions builder gc write rows partition modify
src.java.org.apache.cassandra.db.marshal.ShortType
empty buffer empty divide compare unsigned number utils marshal cq multiply buffer override diff parsed transport smallint serializer serializer serializers source format protocol version comparison custom instance add empty protocol version constants term nio buffer util buffer db json empty buffer simple position cql input serializer mod substract left left deserialize parse number cq negate compare custom json marshal decompose
test.unit.org.apache.cassandra.cql3.validation.entities.JsonTest
prepare select select prepare select select prepare select select prepare select select prepare select select receiver fails json handle ascii valid places bigint overflow blob date decimal accept numbers represented inet overflow smallint smallint overflow tinyint tinyint overflow text time timestamp timeuuid uuidval varint accept numbers represented duplicates tuples ud duration order fields missing ascii bigint blob date decimal inet smallint tinyint text time timestamp timeuuid uuidval varint tuples ud duration select json column leave explicit specification implicitly mix null explicitly explicitly null leaving unset retains literal bind explicitly null leaving unset retains results preserve quote handle frozen frozen frozen json accept representations keys keys bigint varint smallint tinyint decimal udt keys frozen page size text insert json syntax unset select json paging frozen row rows net big decimal executors entities insert json syntax keys message junit storage service func runnable buffer util format util cql uuid execute time array random table time serializer throwable key select json paging frozen system json fail json fct stack trace serializers json simple date format net math full key run rows prepared key inet address uuid fixed thread pool big integer select json paging frozen keyspace key executor service rand key nano time invalid message submit shutdown service add num rows num threads date time zone tuple instance await termination simple date serializer key worker sdf partition key function exc ordered partitioner json thread safety date days future json fct full key executor time unit invalid insert json syntax collections partitioner unsafe select json syntax insert json syntax utils select json paging frozen udt parse user seed schema change override time zone cql tester insert json syntax tuples ud instance dht sensitivity execute net paging true time zone empty buffer concurrent future alter udt futures function overload duration select json paging frozen tuple validation quote json
test.long.org.apache.cassandra.db.commitlog.CommitLogStressTest
leave blank maintain plain vanilla commit logs choice compression encrypted commit makes data replayer correctly rejects earlier complete left wait concurrent segment allocations skip random size iterator serializer max memory random daemon initialization random size messaging version sleep atomic buffer scheduled executor service desc segment manager serialization helper row iterator compose ratio segment id commit log location executors temp segments increment run time add table metadata location discard completed segments atomic clt files junit allocate scheduled commit log read handler skipped dk thread read thread id stop cell size util original dir schema definition io data source load schema commit log reader handle unrecoverable error commit log segment size partitions netty discarded pos deserialize array mb random remove disabled context scheduled thread pool common throwable security content size data input buffer dir true google active segments compressor total memory system commit log segment size input buffer discarded run fast thread local thread await management tasks completion num cells fail commit log compression data size verify sizes remaining commit log sync batch window slice capacity runtime active disk size current update builder flag sz exit log reader rl row clean dir update num threads data input active segment starts commit log location initialize configuration active segment compression ratios tlr commit log sync parameterized storage directory encryption context fixed size shift encryption put current time millis length commit log sync period read mutation discarded run threads log file marshal cell row key rand ratios current thread free memory partition update cf random sync ii mutation shutdown reader parse file input stream commit log config size clustering rows compression skip segment error failed local mkdir processors atomic integer start duplicate handler combined size integer entry location ut schema files error mutation allocate direct thread local random tester acquire channel simple partition updates encryption context generator allocated memory commit log position disk size commitlog thread schedule fixed rate join err commit log stress cells flip commit log descriptor stop unsafe rate limit limit disabled executor commit log read time unit log configs builder delete context counter active content size cell flush await termination commit log archiver sync blocking stack trace directory runnable io override discarded avg id commit log segment source dummy handler runtime format interrupted util instance run empty build encryption context handle mutation commit log schema config read files clsp schema loader nio runnable db time iterator concurrent encryption context buf database descriptor runtime segment rate limiter row log file collection clear start threads increment shutdown blocking fis file compare position commitlog quantity min position commit log sync
src.java.org.apache.cassandra.db.marshal.MapType
interning created duration keys json convert keys comparator buffer compatible frozen previous syntax references user instance parser add protocol version frozen instances db compute absent util comparator cql serializer iterator instances array cmp concurrent decode json freeze json protocol version terms read transport remaining starts serializers tprev comparison intern arrays math compatible frozen read collection size configuration stringify parameters term multi cell ignore freezing key user size size serializer put key marshal entry marshal cell path keys size rows keys comparator duplicate freeze nested multicell compatible bbs builder include frozen freezable pair simple serialized collection collection serializer kind cells comparator json bb bb compare utils parser override collection size parsed min key format append compare parameters concurrent frozen nio custom keys json concurrent buffer sb entry references duration entry delayed compatible compare custom quote json serializer left
test.microbench.org.apache.cassandra.test.microbench.CompactionBench
hard link interrupted compaction bench average time tear benchmark write statement threads read statement level directories db util file utils cql execute directories table measurement throwable snapshot files setup system snapshots state scope compact cfs fork reset snapshot thread group files warmup microbench descriptor threads active live files concurrent directories keyspace force major compaction force blocking flush truncate blocking current thread column family stores iterations enumerate table open teardown system annotations keyspace jmh column family store prepare server parent err openjdk ignore cf directories time unit delete disable auto compaction file keyspace active count directory daemon io execution invocation thread sstable cql tester column family store cleanup setup load tables trial mode txn err time unit sstable lister path file snapshot file time output time unit io milliseconds benchmark mode
src.java.org.apache.cassandra.io.sstable.IndexSummaryBuilder
offset keys memory region summary data length property permitting lookup readable boundary perspective data file position index length property permitting lookup readable boundary perspective index file position synced data file synced index file summary interval boundary fully readable data index represents boundary guaranteed fully readable index file data key key readable index data files flushed stored low min index initializing data adjust estimates based sampling summary index entry remove index file flushed provided stash recalculate max readable data file flushed provided stash recalculate max readable grab readable boundary prior position data index lowest stash clear data prior longer decorated key key index start position index file record index end position index file read read data end position data file read read tracking readable key summary stash calculate key store method called finished appending truncate memory exact amount required represent building build summary provided backed shared memory multiple invocations build close builder release effective index interval solve min sampling level max index interval algebraic explanation calculating sampling level original num entries space space space current num entries downsamples existing index summary sampling existing existing sampling level target level current level partitioner partitioner index downsample index rounds round starts position removes nth pattern evenly space items decreases calculate starting indexes downsampling calculate copy entries determine skip starting points downsampling index covered write position actual entry index summary capacity min index interval existing data sync position summary count math offsets outer data logger order end summary max index length db effective min interval ceil util base sampling level sampling level index end io entries accumulate key count logger readable boundary write throwable entries sampling level prepare commit summary index expected keys effective min sampling level data length close max index interval mark data synced tree mark index synced allocate max boundary max expected entries suppress warnings offsets decorated key calculate sampling level ipartitioner key size full sampling write key sstable length sampling level data end head min index interval readable boundary target num entries index summary put readable boundary start points size index interval matches downsampling entries length entries start sampling level readable index integer entries length auto closeable index sync position index entries current num entries shared copy count max number entries position summary entries readable data safe memory writer position logger factory clear floor entry add entry entries offset io memory refresh readable boundary logger keys written min downsample decorated key write current buffer build current sampling level start points dht sample position nio entries length index summary builder entry sample position order warn index start max summary size partitioner slfj position order
src.java.org.apache.cassandra.cql3.functions.NativeScalarFunction
base functions function db aggregate scalar function called null input scalar function cql marshal
tools.stress.src.org.apache.cassandra.stress.Operation
unsupported operation time retry normal system intended time io ready message run op transport stack trace ignore level errors format start message message minimal verbose driver client run message log intended time error stop timer util row count io stress key compare report write level intended start log error stress err success partition count permits simple timer client work manager operation simple client
test.unit.org.apache.cassandra.serializers.TimestampSerializerTest
millis marshal serializers timestamp serializer unparsed dates add empty junit true util date timestamp date dates date timestamp array timestamp serializer
src.java.org.apache.cassandra.cql3.conditions.IfNotExistsCondition
clustering clustering add conditions statements request exists condition db conditions exists override query options cq cas request cql conditions options add exist
src.java.org.apache.cassandra.cql3.statements.ListRolesStatement
cf actual datasource dependent irole manager executing user describe permission root roles overridden users statement include legacy authorize existing role authorization statement collections custom options instance root level select empty role column specification format db auth roles util unauthorized sorted cql execute role collect common google roles statement result client state transport permission array immutable state ensure anonymous metadata auth keyspace current user request validation request execution messages result message marshal invalid request statements check access roles auth keyspace role manager authorizer user irole manager role manager database descriptor service options column identifier ut schema sort cf roles login root decompose rows roles describe result result message role resource role recursive sorted roles grantee instance format results config schema constants validate add column
src.java.org.apache.cassandra.utils.concurrent.IntervalLock
reentrant read write lock provide write lock acquired provided acquiring write lock interval passed call interval true acquired false release acquired interval google time source acquired utils visible release interval lock locks unlock atomic time source reentrant read write lock interval acquire atomic annotations write lock acquire util concurrent interval interval lock current time millis common interval lock lock
src.java.org.apache.cassandra.tools.nodetool.EnableAutoCompaction
nodetool probe airlift enable auto compaction node probe arguments io override tools parse optional tables enable auto compaction table usage node tool description runtime node tool cmd util keyspaces io parse optional keyspace execute array keyspace airline command
src.java.org.apache.cassandra.gms.ApplicationState
padding specifically pad adding states existing load dc tokens release version internal ip rpc ready host id net version application state gms rack schema status removal coordinator padding severity rpc address
src.java.org.apache.cassandra.db.rows.Cells
methods work collect statistics ont cell cell collect collector stats update existing yielding index updates note method assumes provided cells reconciled cells row column cell path column note cell provided provided matters index existing reconciliation correspond update newly added function simply copy deletion deletion time applies cells deletion time delete builder row builder result reconciliation sec current time plays role deleted cells precedence timestamp deciding cell live depends current time due expiring timestamp delta existing deleted note method assumes provided cells reconciled cell row column cell path column method commutative cells cell participating cell participating sec current time plays role deleted cells precedence timestamp deciding cell live depends current time due expiring cell reconciliation counter cells newly allocated save allocating cell turns cell complete superset merge clocks computes reconciliation complex column cells updated generating index update note method assumes provided cells reconciled cells row complex note cells provided provided matters index column complex column cells existing reconciliation correspond update newly added function simply copy cells deletion deletion time applies cells deletion time delete cells builder row build result reconciliation sec current time plays role deleted cells precedence timestamp deciding cell live depends current time due expiring smallest timestamp delta cells existing timestamp delta computed difference cell cell cell path cell cells cell path adds builder representation existing cell update produces result merging original simple cells original cell existing update newly added function simply copy deletion deletion time applies cells deletion time delete builder row builder result filtering sec current time plays role deleted cells precedence timestamp deciding cell live depends current time due expiring adds builder representation existing cell update produces result merging original simple cells original cell column complex column cells existing update newly added function simply copy cells deletion deletion time applies cells deletion time delete builder row builder result filtering sec current time plays role deleted cells precedence timestamp deciding cell live depends current time due expiring compare update legacy counter shards reconcile iterator deletion time add shadowed existing cell buffer reconcile complex collector legacy shards math deletion time rows comparator merge min column metadata time delta cell cell path update abs resolve counter deletion timestamp conflicts builder merged schema reconciled merge counter ttl nio comparator max cells db update util live add cell cell path comparator counter cells resolution local deletion time deletes partitions sec max add shadowed complex left wins iterator collect stats column builder buffer cell existing wins partition statistics collector path cmp counter cell resolve regular row
src.java.org.apache.cassandra.tools.nodetool.Info
memory introduced older versions data key row counter chunk chunk cache global table check node total heap memory total heap memory column family probe airlift load memory usage node probe max gossip initialized db execute util data center iterator cache metric gossip running token keyspace system instance found joined row cache save period option cfamilies column family store mbean info runtime node tool cmd mem max command storage metric table key airline printf mem tools size management service current generation number counter cache save period uptime cache service mbean node tool tokens heap usage cache service mbean column family metric heap memory nodetool transport running io override local host id heap mem heap memory usage stringify file size cf tokens description cache service key cache save period file utils entry rack lang column family store mbean proxies entry
src.java.org.apache.cassandra.index.sasi.disk.OnDiskBlock
offsets terms term num terms iterator order min offset max offset utils middle disk index block index offset result buffer starts query block disk data index block index search result duplicate cast end start combined index term position token tree dup term count order index size buffer term nio suppress warnings db descriptor block index data desc block offset search idx block index size combined index offset comparator combined index term sasi disk index builder element disk block descriptor limit compare position block block size pointer marshal block cmp
test.unit.org.apache.cassandra.cql3.validation.operations.SelectGroupByTest
makes range range queries range query range queries partition range query partition limit range queries aggregates range queries aggregates partition range queries partition limit range query range query distinct range query order single partition single partition queries single partition queries single partition queries single partition queries partition single partition queries aggregates single partition queries aggregates partition single partition queries order single partition queries order partition single partition queries order queries query query distinct queries partition queries order queries order invalid composite partition table clustering makes range range queries range queries partition range queries partition limit columns range range query range query range queries partition range query range queries distinct single partition single partition query single partition query single partition query partition single partition query query query query partition queries distinct columns makes range range queries range query range query partition range query partition limit range queries aggregates range queries aggregates partition range queries partition limit range query range query distinct range query order single partition single partition queries single partition query single partition query partition single partition queries aggregates single partition queries single partition query order single partition queries order single partition queries order partition queries query query partition queries partition limit queries aggregates query query distinct query order queries order makes range range queries range query range queries partition range query partition range query aggregates partition range queries aggregates range query partition limit range query range query distinct range query order single partition single partition queries single partition query single partition queries single partition query partition single partition queries aggregates single partition queries order single partition queries order single partition queries order partition queries partition queries queries query distinct makes range range queries range queries partition range queries partition limit columns range range query range query range query partition range query partition limit range queries range queries distinct single partition single partition query single partition queries single partition queries query query query partition query partition limit queries queries distinct makes range range queries range query range queries aggregates range queries partition range queries partition limit range query aggregates partition range queries range queries distinct single partition single partition queries single partition queries single partition queries aggregates single partition queries single partition queries order single partition queries order queries queries queries aggregates queries partition queries partition limit queries query distinct operations page size group range query paging invalid message row rows net group paging cql tester group columns paging group paging junit execute net paging empty rows cql execute select group group range query paging compact option table group columns paging group paging deletions throwable validation
src.java.org.apache.cassandra.cql3.selection.ForwardingFactory
forwards method calls subclasses override methods modify behavior backing factory desired decorator backing delegate instance methods forwarded invalid request selection factory column filter simple selector factory fetched columns override add fetched columns function index functions add column add functions aggregate selector factory selector column writetime selector factory selection column column specification forwarding factory instance builder db util query options cql simple selector factory builder options filter results column delegate ttl selector factory marshal
src.java.org.apache.cassandra.gms.IEndpointStateChangeSubscriber
called instance iendpoint state change publisher interested parties state instance node figures state endpoint notifies interested parties upto instance decide modules state inform interested parties change endpoint endpoint state change ep state state changed called node note guarantee node previously marked restarted node marked join change iendpoint state change subscriber ep state application state state dead gms net change remove state key restart endpoint state inet address endpoint versioned alive current state
src.java.org.apache.cassandra.repair.consistent.PendingAntiCompaction
performs anti compaction tables token isolating unrepaired give token range pending repair group compacted modify cancelling running attempt cancel flight compactions null release report failure back txn table acquisition results sstables submit acquisition results pending anti compaction callable add logger run compactions disabled format db util token live tables compaction table reader dht uuid array logger acquire result common debug metadata iterable google submit pending anti compaction consistent listenable future task result iterables cfs parent repair session collect array ref prs id run suppress warnings runtime async function futures ranges release range tracker ref txn filter sstable force blocking flush parent repair session executor service repair tasks lifecycle transaction column family stores apply active repair service size service transform collection call acquisition callable utils listenable future column family store operation info pending anti compactions future executor pending repair logger factory compaction manager intersects prs repaired refs failed future abort io logger keyspace instance empty successful acquisition callback concurrent session id tables lifecycle anticompaction task refs parent repair session slfj compaction result modify acquire tuple
src.java.org.apache.cassandra.schema.SchemaVersionVerbHandler
messaging service utils send reply message message uuid serializer id instance verb logger schema logger schema trace util iverb handler version schema version verb handler net uuid message verb internal response logger slfj response logger factory serializer
test.unit.org.apache.cassandra.cql3.validation.operations.TruncateTest
operations execute validation empty rows row flush cql tester truncate table throwable cql table junit truncate
src.java.org.apache.cassandra.io.sstable.SSTableSimpleUnsortedWriter
table writer assume rows sorted writer buffers rows memory write sorted avoid loading entire data amount rows time threshold table created buffer compute row serialized note accounting row bit inaccurate file format optimization maintaining buffer size general improve count closer serialized debatable count lot space memory buffer size foremost avoid oom add column io report wrap temporary runtime raw add row slightly lame report good synchronous queue disk writer tree jvm stability inspector row messaging version serialized size sync buffer writer add columns entry db util latest version update partitions serialization header netty updates common throwable metadata google inspect throwable sync fast thread local thread table simple writer sentinel close append sync table metadata ref disk writer regular columns check writer write queue previous unfiltered serializer current size run runtime decorated key base key put sstable row partition update partition update header entry rows throwables buffer size mb start schema offer info join unfiltered iterator table simple unsorted writer time unit utils io override buffer size writer format interrupted empty count row blocking queue finish encoding stats buffer concurrent propagate entry stats ioe table txn writer file directory io serializer
src.java.org.apache.cassandra.tools.nodetool.SetStreamThroughput
nodetool probe airlift node probe arguments io override tools title usage integer node tool description node tool cmd stream throughput stream throughput command execute required stream throughput airline
src.java.org.apache.cassandra.cql3.statements.AlterTypeStatement
validation left announce migration easier constructing updated change announce update basically change tables find existing user cf change present alter statement query state alter keyspace access references user field add ksm keyspace metadata change updated initial condition state db auth util keyspace field unauthorized keyspace cql renames array make updated find raw query state event multi cell keyspace schema change client state transport permission user state configuration update local target request validation service idx field key filter keyspace marshal invalid request statements check access schema altering statement entry add size statement keyspace metadata user announce migration addition schema check aggregate updated field position check duplicate alter prepare keyspace udas cq override schema functions renames format instance ut announce update add migration manager aggregate entry validate add field identifier prepare entry
src.java.org.apache.cassandra.schema.SchemaPullVerbHandler
sends current schema state form mutations reply remote request made detects schema disagreement messaging service send reply mutation message message migrations serializer convert schema mutations collection id instance verb logger logger schema trace migration manager db util iverb handler net schema pull verb handler schema keyspace message verb internal response logger slfj response logger factory
src.java.org.apache.cassandra.db.lifecycle.SSTableSet
version current sstable replaced visible sstable original replacement completely replaces live versions including partially written noncompacting db live canonical table lifecycle
src.java.org.apache.cassandra.index.transactions.CleanupTransaction
performs garbage collection index entries notifies registered indexers partition removed compaction cleanup simpler dealing incoming concerned cleaning stale index multiple versions row cleanup transaction notified versions diffs merge forwards registered instances instances scoped single row improved batch multiple rows single index rows deletion time transactions row row delete db cleanup transaction op partition deletion commit row index transaction start deletion time
test.unit.org.apache.cassandra.serializers.TimeSerializerTest
upper partial raw serializer serialize marshal bad nano high result buffer time serializer bad hour low microseconds serializers nano instance buf build expected hours source bad high milli bad low milli expected bad hour high nt junit str result nio format time empty nanos concurrent serializer input validate minutes minute bad high util bad nano character deserialize hour bad minute high time serialization days bad nano low micro negative time raw overflow time serializer time unit bad minute low milliseconds
src.java.org.apache.cassandra.db.filter.DataLimits
charge tracking fetch data complicated single count support due group deal distinct queries querying full partitions limiting result row partition distinct creates instance paginating internally group state instance paginating internally group sec current time decide expired assume live data counter assume row passed live check live false count partitions data partitions data valid max number results limits note actual definition depends queries number group queries number maximum number results limits equivalent limits internal state track paging grouping estimate number results full scan provided cfs false propagate stop signals number results note definition number results number rows number rows number rows counted current number rows counted current called process limits counts query distinct query read querying single partition fetch row limit partition limit equivalent practice argument partition limit limit number row precise number iterate cached partition avoid number rows cell greater number rows consume iterator counted start storing stats number rows number columns count rows cql point merge rows count key key rows accounted force live row false make count group queries queries group queries paginated number rows avoid limits track number rows number group counted group end data group limit number limit number groups estimated number rows good estimating number groups problem key partition number rows counted number rows counted current number groups counted group counted number groups current end partition reached time row group counted due based previous partition partition rows previous page partition exhausted state partition key updated accounted row force live row false make count increment count groups reached content added closed group note group started false partition limit reached previous previous partition rows group previous partition marked starting partition group count previous partition page start preserve group current partition pager retrieve count partition started bumped number groups transformation call ignore row check row belongs group goal minimize chances data detect deleted row reached row made increment group count row count rows cql point merge rows count groups counted end group end group detected group end data end data reached group limit number rows counted smaller internal page unsupported operation selection group maker page size read vint length cache iter enforce limits stopping transformation buffer row serialized size paging aware counter partition close cql group limit partition limit state exhausted row limit group partition limit live empty rows expiring cells increment group count counter apply partition iterator assume live data max read unsigned db aggregation cql group paging limit util io key write partitions empty row comparator clustering slices cached buffer util iter apply current partition key base rows base partitions partition count data output paging limits regular columns serialized size vint length counted current partition write vint length write unsigned vint group limit sizeof transformation append unfiltered partition iterator group aware counter cql limit data limits version paging group aware counter group group started close metadata distinct kind cql limits data input cql group limits counter decorated key distinct group current partition cql row limit row counted limits row count key empty state key read retry group limits columns group internal paging row clustering apply partition estimate total results group maker fetch serialize column filter rows apply size clustering rows distinct read count live data transform state integer unfiltered row iterator error sizeof unsigned vint cached partition builder estimate keys partition key paging write count partitions data group spec serializer count read unsigned vint kind unlimited unfiltered iterator stop partition columns cql counter clustering group limit partition utils clustering comparator group counted base row iterator io override filter row counted current partition cql limits increment row count deserialize distinct limits cfs row iterator rows current partition partition attach increment group current partition count limit remaining sizes ordinal live row nio cql paging limit stop key remaining aggregation specification row current partition sb apply row grouping state sec cql group paging limits group maker counter cql paging limits live data rows partition row column family store counted serializer
src.java.org.apache.cassandra.index.sasi.SSTableIndex
min key atomic buffer disk ref index db util token io index path illegal state common table reader commons sstable ref mode read error release google exists obsolete compare lang ref append index decorated key fetcher descriptor code column reader mark obsolete close quietly filename marked partials decorated key base offset search max term referent disk index builder global count marshal mode key validator references path index file apply reference atomic integer disk index max key table index min term expression column index delete conf utils column index io obsolete atomic function sstable range iterator format table build code builder nio concurrent plan file utils decrement expression builder validator file sasi
src.java.org.apache.cassandra.db.rows.LazilyInitializedUnfilteredRowIterator
unfiltered row iterator lazily initialize partition range queries partition key defer initialization rest unfiltered row iterator iterator utils unfiltered close initialized encoding stats rows iterator table metadata regular columns initialize iterator unfiltered row iterator reverse order columns metadata lazily initialized unfiltered row iterator deletion time db decorated key stats partition key partition level deletion compute end data init row schema row
test.unit.org.apache.cassandra.cql3.GcCompactionTest
synchronous table drop avoid flushes causing flaky delete overwrite table data count complex table reader atom local deletion time gc compaction cells collections clustering count query row readers live junit keyspace predicate execute formatted query run compaction thread format reader db execute current column family store util table def live tables compaction gc compaction complex column cql partitions table table table table range tombstone marker iter remove collect table common throwable google unfiltered count rows gc compaction flush iterables cfs sum count complex cells fb utilities cells count filename gc compaction rows count tombstone markers complex column data deletestep scanner sstable force blocking flush count cells partition predicate row singleton key count instances apply force user defined compaction size rows gc compaction partitions table integer count cells unfiltered row iterator keystep function column family store partition level deletion untyped result deletion sleep count gc compaction compaction manager delete inserts table io stream gc compaction ranges utils format query table scanner override function cell count cql tester instance table true row count sec add readdstep delete inserts complex column column data live data row ccd
src.java.org.apache.cassandra.hadoop.cql3.CqlBulkOutputFormat
acts output format reduce tasks store keys bound variable cql rows respective prepared statement hadoop job provided make provided make fills deprecated output format information current write output fills deprecated output format hosts ignore comma delimited data bulk loaded conf job ignore nodes csv comma delimited nodes hosts data bulk loaded conf job ignore nodes nodes hosts ignore collection conf job nodes ignore collection ignore nodes csv output format job context io table schema job null output committer task commit configuration ignore hosts interrupted collection ignore hosts output committer table alias delete source conf progressable override setup job buffer output keyspace insert statement unsupported operation task attempt context cql bulk output format output committer commit task delete source success hadoop collection cql bulk record writer delete source success file system job conf progress configuration schema ignore hosts table alias prefix nio mapred record writer delete src util table insert statement config helper io column family cql check output specs job context insert record writer output cql insert prefix ignore nodes table schema abort task mapreduce deprecated cleanup job alias table alias task context setup task context filesystem output cql schema prefix hadoop compat table insert statement
src.java.org.apache.cassandra.cache.ChunkCache
start buffer released managed reference invalidate caches rebufferer providing cached chunks data obtained instance created cache power instance shared unsupported operation capacity channel proxy caffeine preferred buffer atomic buffer cache loader math removal listener buffer cache alignment mask source policy removal miss latency invalidate position propagate instance file path file util key prime chunk reader common release google reference enabled visible file cache size mb compare iterables close capacity collect buffer holder caffeine code misses loading cache key crc check chance invalidate timer base key offset file length estimated size obj ctx filter sstable rebufferer requests rebuffer executors load invalidate context maximum weight put eviction references path wrap size bit count throwables atomic integer mark builder duplicate cache miss metrics memory integer dfile annotations direct executor enable page aligned pos buf reset chunk size rebufferer factory ref count corrupt table close reader removal caching rebufferer executor read chunk result invalidate file file weigher rebufferer factory instantiate rebufferer utils codahale io throwable override reserved pool space mb chunk cache instance build cache size config channel removal listener buffer pool nio buffer max metrics concurrent propagate rebufferer wrap cache size database descriptor github decrement weighted size benmanes time position file handle
tools.stress.test.unit.org.apache.cassandra.stress.settings.StressSettingsTest
stress output stream serializable io junit util stress array output stream put stress write
src.java.org.apache.cassandra.service.paxos.CommitVerbHandler
messaging service send reply id message payload service message message instance write response net commit verb handler trace tracing db paxos state commit iverb handler tracing verb commit paxos
src.java.org.apache.cassandra.io.util.MmappedRegions
perfect smaller size grow add number region slots original shared tidier regions actual copy latest update time original state updated share copies access existing thread safety mmapped regions reference original state original state channel file mmapped regions instance hold shared copy snapshot memory snapshot existing mmap supposed released readers file channel array region offsets array region buffers maximum file length index region added round entry insertion forcing unmapping segments undocumented unsafe sun fails sun wait gc works thread access hell unleash channel proxy buffer jvm stability inspector math copy fail add shared copy file path max region region alloc size update state util accumulate max segment size chunk chunk logger close quietly read error release throwable cleaner chunk state ref counted data length close segment offset buffers capacity mode buffer holder arrays state metadata extend offsets segment size offset cleaned mmapped regions stream shared closeable impl length rebufferer read pos channels size file op throwables duplicate integer empty copy copy position idx err illegal argument inspect throwable compression metadata error logger factory stream utils tidy binary search tidier io read end min perform format empty channel chunk length nio buffer valid compress concurrent file utils floor tidy file channel slfj clean position original
src.java.org.apache.cassandra.cql3.statements.AlterRoleStatement
validate login check access avoid leaking user existence anonymous superusers role modify subset attributes determined attempting alter ensure alter permissions invalid request statements alter role statement present existing role result message role resource user role manager unauthorized role alterable options client state options validate transport alter role option service permission authentication statement irole manager alter state role ensure anonymous empty config option format auth roles key user database descriptor cql request validation role options execute check access request execution superuser authenticated user messages role check permission opts
src.java.org.apache.cassandra.io.sstable.IndexSummaryManagerMBean
current actual memory usage index summaries amount memory table filenames current effective index resize interval minutes index summary manager mbean redistribute summaries average index interval io memory pool size mb integer util io memory pool capacity mb resize interval minutes resize interval minutes memory pool capacity mb sstable index intervals memory pool capacity mb
src.java.org.apache.cassandra.utils.streamhist.StreamingTombstoneHistogramBuilder
histogram constructed streaming original algorithm yael elad streaming parallel decision tree histogram represented collection point weight point exists add recorded point point add point weight point added collection size lorger nearest points collection theese points weighted point optimization make histogram builder big saves excessively merging small max spool size points accumulate weight merges points organized primitive odd elements points event elements spool resize number collisions bigger threashold size large spool drained sorted collection distances points find nearest points constant bin organized sorted reduces garbage collection pressure find elements time binary existing bin pairs packed buffer buffer distance sorted nearest larger buffer spool data voluntarily give resolution spool adds point adds point spool flushing insert drain temporary spool find points smallest merge creates snapshot current state leaves builder open subsequent additions degree wrt sstable early shift array evaluate handle overflow prev odd elements elements save points consecutive cells reprobing linear cluster elements large give distances flush full datum add result code max capacity point accumulator add add result streamhist build bin boxed max util neighbours result prev max bin size success unwrap cell remove merge unwrap point common point histogram data consumer google weight system point result streaming tombstone histogram builder inserted math index capacity sum arraycopy cell arrays remove power math log key collectors key filter length collect smallest difference prev point consume unwrap key pow tombstone histogram wrap size spool prev unwrap copy delta holder rounding mode distance add accumulate mb prev point distance holder point accumulated stream utils binary search  ff ff ffl round key spool override histogram data consumer merge result point point empty fill merge result merge bin flush histogram data holder update round data spool ceiling attempt large prime clear point max spool size add consumer joining
src.java.org.apache.cassandra.db.filter.ClusteringIndexFilter
filter selects subset rows partition cql correspond clustering columns selection correspond storage engine filtering restrictions columns found filter query rows reversed clustering order filter query rows reversed clustering order filter continuing paging filter clustering comparator comparator table filter clustering query paging resulting filter results filter comparison strict depends inclusive include newly page filter selects results guarantee cached partition data selected partition cached method assumed rows partition table guarantee data selected filter filter selects head partition reversed selects rows filter selects head filter selects row partition filter selects row partition row selected clustering clustering row selection row clustering selected iterator rows provided iterator filter method counterpart quickly simply iterate filters avoided difference method filter columns assumes provided iterator column filter columns include rows result iterator iterator filter iterator rows selected row iterator rows partition selected column filter columns include rows result partition partition rows unfiltered row iterator rows selected provided sstable data selected filter sstable sstable sstable included answer clustering iterator data output serialize column filter serialized size slice inclusive fully covered io include cql clustering column filter clustering index filter rows table metadata format unfiltered row iterator version paging unfiltered row iterator selects clustering comparator schema head filter clustering index filter kind cached partition data input reversed partition db kind util clustering index slice filter io serializer partitions reversed table reader comparator deserialize slices internal deserializer partition filter sstable filter indexed selects partition deserializer metadata slices serializer clustering index filter
src.java.org.apache.cassandra.cql3.Lists
helper methods elements assigned receiver receiving elements exact match empty fundamentally representation elements representation representation items items items mapper mapper items representation representation exact items items items mapper mapper retrieve element exact items collections small hack validate called serialized compose validation elements null represent basically similar function evaluated execution work bind excessively column column specification markers blocker bother due false support marker generate unique decreasing bit time adds number representing precision make number rely fact user provide milliseconds timestamp reference time jan delete frozen append note removed previous good frozen overwriting cell call bind possibly reject queries provided call discard element discard converting operation requires limits big discard small message bound present unset requires read nanos atomic buffer row cell precision time pt assignment instance cell path uuid gen multi item terminal lt protocol version assignment testable optional bind column specification discarder index buffer util max weakly assignable db index spec util setter index cql serializer current clustering mapper execute result add functions array cells count collect operation iterable deserialize protocol validate assignable assignment system compare discard protocol version appender transport rt index serializers raw column metadata current buffer text version math options cq constants variable specifications term complex column data multi cell decorated key unset buffer marker query options cell index uuid bind index collectors column items current time millis filter keyspace decompose receiver element path setter elements marshal terminal row invalid request marshal spliterator cell literal collect marker specification path wrap apply size stream support rows prepare marker serialized add column identifier params add tombstone schema function prefetched row assignable existing row partition key complex deletion time overwrite terminal add collection serializer idx prepender time uuid bind spec exact pack elements compare stream complex data utils reference time find terminal override atomic reference function functions terms discarder update parameters format millis add functions instance empty buffers complex column data cf exact elements nio existing size max time spec concurrent protocol version null current delayed bind marker append add cell element assignable joining
src.java.org.apache.cassandra.utils.memory.MemtableCleanerThread
thread reclaims memory memtable pool actual reclaiming work delegated cleaner pool cleaning ensure memory marked reclaiming completion signalled true called cleaner utils override memtable pool wait queue heap heap trigger memory cancel runnable run thread signal cleaning daemon simple await uninterruptibly memtable cleaner thread pool wait concurrent signal register
src.java.org.apache.cassandra.db.marshal.TypeParser
parse cache parsed specially parse simplier avoid creating parser care concurrency worst parsing parse current position skipping skipping skipping skipping skipping empty instance field apply parameter skip blank true left idx positioned character stopping helper function ease writing helper function ease writing helper function ease writing iterator sequence identifier raw collections buffer hex syntax instance cache parser add message declared method buffer util illegal access db read identifier skip blank comma syntax error cql illegal state iterator fields array iter method keysace collections parameters eos stringify aliases parameters compare aliases configuration stringify user parameters bb empty ignore freezing empty parser put skip blank declared field target alias parameters hex key keyspace length field marshal blank size method stringify collections parameters entry method fb utilities hex comma found pair collections lang builder msg init substring collection idx stringify parameters str field alias utils parser parse field invocation target invoke format column key parameters append number format parameters defs parse parameters nio reflect entry entry user parameters util field identifier alias sb hex
src.java.org.apache.cassandra.streaming.messages.RetryMessage
retry support removed closing constructed channel remain messaging service retry currentversion sequence number utils serialize cf id channels streaming session io override stream session message append data input stream input stream uuid serializer version deprecated readable channel input net builder nio suppress warnings read data input util data output stream io serializer stream message uuid deserialize messages channels write sb serializer retry message
src.java.org.apache.cassandra.service.IEndpointLifecycleSubscriber
interested parties notified high level state note iendpoint state change subscriber notify gossip called node notified higher level called node joins bootstrapped endpoint newly added called node leave cluster endpoint endpoint called node marked endpoint endpoint marked called node marked endpoint endpoint marked called node moved endpoint endpoint endpoint service join cluster leave cluster iendpoint lifecycle subscriber inet address net move
src.java.org.apache.cassandra.io.util.DataOutputBuffer
data output stream fast array output stream buffer copies completely thread threshold resizing transitions doubling increasing recycle output buffers larger buffers trimmed back scratch buffers serializing call memory overhead large actual observed hotspot make override checking buffer sides max expression arithmetic avoid integer capacity ensures large buffers increase unsupported operation google buffer initial buffer size saturated size visible size saturated array size cast channels put buffer result io flush override close array config array offset math position min flush runtime data write checked array size cast duplicate preconditions allocate max integer growing channel size config annotations reallocate initial nio open scratch buffer buffer max buffered data output stream wrap util concurrent position base io calculate size src max array size count netty remaining capacity fast thread local buffer integer clear validate reallocation max recycle buffer size flip channel check argument array writable channel common length data output buffer doubling threshold property prefix
src.java.org.apache.cassandra.cql3.statements.GrantRoleStatement
statements result message user role manager role client state transport service grantee grant role statement state role config database descriptor cql request validation execute request execution messages grant role role management statement
src.java.org.apache.cassandra.db.RangeTombstoneList
data structure holding range tombstones essentially sorted range tombstone start end range deletion infos timestamp local deletion marked timestamp define priority overlapping tombstones tombstones marked tombstone precedence tombstones added range tombstone store local deletion time tombstone marked del times avoid starts arrays adds range method faster tombstone sort existing common assume fast path add sorted insert expect insertion point term interval adds range tombstones basically techniques repeatedly call tombstones merge bigger calling merging note memtables uncommon update cf adding diffing responses multiple tombstone bit roughly speaking ignore fact updating element constant size tombstones merging crank logarithm computation story merging bad choice size lot bigger addds remaining tombstones add internal increment size pair deleted matter counter timestamp tombstone deletion time tombstone overlapping null covered index range covering idx range cover index range start greater note bounds range fall bounds bounds bound part potentially intersect range stop idx range care previous make range stricly included queried slice make easier combine things iterating successive make range stricly included queried slice make easier combine things iterating successive range range start idx range care previous include stop idx range care previous make range stricly included queried slice make easier combine things iterator successive make range stricly included queried slice make easier combine things iterator successive range range inserts element starting index method assumes start start exclusive end start inclusive start range tombstone range start bound end range overlapping overwrite current deal newly added start element stops current start end current element current overwrite current element overwrite update current element end element inserted start current stop current element note comparison end form words element inclusive good overwrite insert update reflect overwritten overwrite current interval starts current insert stop start current insert interval insert beginning current overwritten current element residual parts extend insert remainder adds tombstone index growing moving elements make room grow leaving index grow arrays match length move elements index assuming arrays free slot null position update iterator marked collections buffer arraycopy deleted iterators forward iterator bottom cache add clustering prefix marked singleton iterator update timestamp end clustering comparator sizes size array timestamp db pos util allocator local deletion time internal iterator boundary heap size collect common empty size collector iterable cmp clustering range tombstone google min system deleted slice empty iterator result measure sizeof data size collector nio slice capacity deletion time range tombstone length dst del time code cell math search deletion time ends sizes bound range tombstone start idx end idx max marked finish idx src search idx collect stats starts length unshared heap size search internal update timestamp marked delete clustering bound cell add internal size clustering rows range tombstone end invert start memory top grow free reversed tombstones copy copy kind comparator compute range tombstone bounds end data counter cell imeasurable memory del times compare slice utils binary search override end cmp allocator encoding stats start end make empty copy arrays reverse iterator finish deletion time arrays max clone start iterator grow move elements add insert end range tombstone start update local deletion time tombstone
tools.stress.src.org.apache.cassandra.stress.generate.DistributionBoundApache
inverse cum prob bound distribution bound sample override seed cum prob math val min real distribution max inverse cumulative probability illegal state distribution bound generate stress commons seed reseed random generator delegate distribution
test.unit.org.apache.cassandra.security.SSLFactoryTest
enabled ciphers subset configured ciphers identical google enabled ssl factory supported io iterables filter cipher suites keystore server socket ciphers array ciphersuites predicates keystorepassword net config junit server encryption options enabled cipher suites encryption options ssl server socket ssl base io array ssl factory socket desired local host truststorepassword server socket filter collect filter cipher suites truststore common inet address security array options
test.unit.org.apache.cassandra.io.sstable.LegacySSTableTest
backwards compatibility adding sstable add generate care commit add sstable files git add descriptor legacy sstable key cache successfully saves presence keys loads correct number generates sstables cql tables sstable format matches run version introduced format remove annotation read simple table legacy cql tables rand cf directories interrupted load tables file stream session legacy versions scp table pattern compact write token buf dir column index cache size add files logger null stream legacy tables junit storage service details count buffer util format read big db execute util token io src dir ck cql execute internal table reader load legacy tables define schema force keyspace flush array random ck logger debug throwable legacy version tear compact suffix legacy sstable root system streaming table streaming sections version file input stream stream operation cfs append compact suffix descriptor load legacy table table suffix legacy sstable prop load legacy cql tables submit write size ref configuration big format latest version ipartitioner descriptor range truncate tables query processor ignore transfer files table dir copy sstables data keyspace ranges sstable length force major compaction absolute file file row ck cf dir truncate blocking invalidate key cache mkdir random tables legacy table table open init server fb utilities service start count truncate legacy tables table dir read simple counter table integer val pk load legacy cql tables shallow load saved read clustering counter table builder keyspace column family store pk key cache version stream plan untyped result prepare server info read clustering table property target cache service stream legacy cql tables estimated keys ranges positions ranges logger factory initialized minimum token directories verify reads table format utils partitioner directory io execution logger generate sstables compact legacy tables invalidate counter cache val ck column family store instance file output stream max end count dht config true ck schema loader mkdirs compact suffix concurrent database descriptor legacy clust rows copy file verify cache stream legacy table pk slfj broadcast address file big sb copy sstables data
src.java.org.apache.cassandra.net.BackPressureState
meant track state replica called message called response received called response received current rate host state refers response received response timeout message message host back pressure state inet address net back pressure rate limit message
src.java.org.apache.cassandra.cql3.functions.NativeFunction
base function functions function arrays function db util function cql marshal
test.unit.org.apache.cassandra.cql3.validation.entities.udfverify.GoodClass
unsupported operation codec good data buffer protocol version transport functions entities params protocol version datastax param execute aggregate impl core nio driver udf context util cql data execute impl udf context udf udfverify validation
src.java.org.apache.cassandra.cql3.functions.FunctionResolver
special token function function argument depend table function sole handle special keyspace current provided arguments provided function receiver receiver cf receiver receiver function accept instances instances handling selectors place due argument json receiver function fully add add function fully qualified fast path favor exact checks arguments arguments arguments checks function assigned fun function receiver receiver function assigned method match arguments method provide precise errors override worth minor code concrete argument bind validate provided execution exact match exact assignable iterator receiver cf receiver instance add candidates assignment testable column specification function format weakly assignable db util validate keyspace cql functions result negation array raw instance match token fct assignment receiver operation fcts provided collect cq function markers token function collectors match aguments keyspace marshal invalid request statements exact match compatibles size marker collection column identifier schema make spec funs assignable expected match function resolver table metadata fun operator stream json fct schema function functions provided function function invalid request instance empty request validations lower operation add json fct assignable joining
test.unit.org.apache.cassandra.cql3.validation.entities.udfverify.CallComDatastax
unsupported operation codec data buffer protocol version transport functions entities params protocol version datastax param execute aggregate impl core nio driver udf context util cql data cint execute impl data udf context udf udfverify call datastax validation
src.java.org.apache.cassandra.net.CompactEndpointSerializationHelper
read fully serialize read inet address io inet address serialized size data input address write net address io write compact endpoint serialization helper buf endpoint deserialize data output length inet address
src.java.org.apache.cassandra.db.Truncation
truncate operation messaging service version truncate data output serialize write utf read utf io sizeof truncation serializer serialized size message verb iversioned serializer net truncation sizes data input db util io truncation deserialize message keyspace column family serializer
src.java.org.apache.cassandra.streaming.StreamSummary
summary number files transfer streaming size google version data output serialize streaming table id read io override sizeof append serialized size total size stream summary serializer code iversioned serializer builder serializable schema files sizes read data input db util base io stream summary deserialize write summary table id common write sb serializer
src.java.org.apache.cassandra.db.commitlog.CommitLogSegmentManagerCDC
initiates shutdown process management stops cdc size calculator reserve space current segment provided mutation space cdc allocation expected wte segment disallows cdc mutation mutation allocate segment size total size created allocation write timeout segment disallows cdc failed move segment room move files recovery flush table mutations cl subsystem segment flag segment accept cdc mutations based total allocated unflushed cdc segments contents tracks total disk usage cdc defined summation unflushed commit log segments data segments archived atomic unflushed increment flushed requires directory walk determine potential deletions cdc size walk remove chance unit synchronous size recalculation segment call lead delays segment delays thread signaling wake waiting allocation writer reached segment management thread commit log segment manager size recalculation synchronize reduce race overlap window size reference directory sizer bench information performance directory size synchronization opportunity kick recalc pick consumer file synchronization add flushed size decrementing unflushed window false opportunity kick recalc pick consumer file flight satisfied approach slower windows validation size tracker production give update time cdc size tracker synchronous queue local cdc size calculation executor calculate size sleep attrs segment manager files cdc state submit overflow size recalculation commit log segment manager cdc process segment allocation cdc log location path logger commit log segment manager mutation thread level rename confirm db util size progress io commit log segment size thread pool executor segment write logger common write timeout google rate limiter visible walk file tree close add size rate limiter segment size allocate cdc space mb allocating directory size calculator advance allocating basic file attributes storage directory add absolute path cdc length separator handle replayed segment discard log file delete confirm visit file handle commit error add flushed size cdc state mutation shutdown path commit log total cdc size disk unflushed cdc size consistency level size cdc state log disk size discard policy submit start annotations forbidden acquire commit log segment cdc cdc state lock time unit logger factory process discarded segment delete file recalculate overflow size attribute utils io override logger spam logger cdc size tracker interrupted instance cdc disk check interval update cdc total size commit log tracked cdc config nio trace warn concurrent file utils database descriptor segment path rejected execution alloc executor service permitted slfj file visit result file commitlog forbidden
src.java.org.apache.cassandra.tools.nodetool.Assassinate
nodetool probe airlift node probe arguments io override lang tools assassinate empty title usage net node tool description runtime node tool cmd command execute endpoint required commons assassinate endpoint unknown host airline utils
tools.stress.src.org.apache.cassandra.stress.operations.predefined.CqlOperation
process cql succeeds query executes key count increment succeeds result query executes null item expect check row lots building functions standardise results processes results client array key processes results client array key constructs cql query replacing instances query base query parms sequence query formatted cql query operations cql cache buffer query rows handler run op row connection style style generator result handler param quoted cql blob add store cql cache columns hex buffer util execute util wrap quotes io report illegal state predefined operation array instance driver wrapper mode simple client google marker keys handler result time retry transport predefined buffer params error empty arrays common core cql operation run format cql query index driver partition generator timer column definitions base command cql run op succeed key generate seed manager cql query prepared statement simple client wrapper messages timer key length idobj query id op term wrap apply array parms size rows prepare prepared statement id driver handler handler params integer datastax cql run op cql run op match results build query builder parm simple client handler client wrapper substring formatted query partition count expect rows build run op query parameters utils result result message cql prepared io override id function cql run op empty variable column count qobj statement id append row key count driver client execute prepared empty buffers prepared statement nio arrays row count stress validate row count handler stress client command position seed manager query params consistency level
src.java.org.apache.cassandra.tools.nodetool.stats.CompactionHistoryPrinter
empty google nodetool yaml printer override obj collections io iterables table tools stats chr empty add convert json printer compaction history printer printf compaction histories stream format stats printer util size convert data data index array formatter compaction history holder table builder collect printer common
test.unit.org.apache.cassandra.net.MatcherResponse
sends response incoming message matching actual behavior instance inspected interacting responses intercepted outbound respond provided message reply intercepted outbound message message mock reply respond limited number times provided message reply intercepted outbound response message mock reply limit number times respond respond message created provided function called intercepted outbound fn response function call creating reply based intercepted message target respond message wrapping payload created provided function called intercepted outbound target address intercepted message automatically created sender fn response function call creating payload based intercepted message target verb verb reply respond limited number times message wrapping payload created provided function called intercepted outbound target address intercepted message automatically created sender fn response function call creating payload based intercepted message target verb verb reply responds intercepted outbound message creating response message wrapping element provided reply send queue responses prepared payload messages verb verb reply responds intercepted outbound message creating response message wrapping element provided method block queue elements responses prepared payload messages verb verb reply respond limited number times message created provided function called intercepted outbound fn response function call creating reply based intercepted message target prevent outgoing message send matcher send mocked retry semantics sending message multiple times id response asynchronously match communication execution stops registered response respond spy messaging service empty registered callback matcher response destroy incoming message respond collections atomic imessage sink id limit message fn response message dont reply function poll instance matcher limit counter interrupted atomic integer payload add verb outgoing message max msg integer net apply start blocking queue function bi function thread matches matcher respond nwith payload receiver queue concurrent verb matching response sink callback info response util decrement remove message sink receive message currentversion add message sink callback responses mock messaging spy matching message respond payload receiver inet address cb send responses
src.java.org.apache.cassandra.index.sasi.plan.Expression
index expressions priority lowest operation reaching range suffix range numeric lower range numeric step check exclusions covers handles conclusion make term matched iterator validate add exclusion buffer lower satisfied disk requested lower inclusive add logger remaining gt buffer util format db util cql op term upcast array commons logger common operator definition cmp upper google upper visible lang append index error data term collect column metadata upper inclusive indexed code iterators column matches analyzer eq neq pretty memory analyzer query controller eq util analyzer range marshal op size reversed suffix validator upper satisfied lower operator fb utilities transform disk index checkpoint duplicate op ut schema gte lower controller match lte op expression match reset upper illegal argument suffix annotations column index literal regular column logger factory compare inclusive utils upper column index prefix conf logger operation ends instance lt build code builder column nio starts valid plan satisfied lower lower builder bound slfj validator compare prefix sasi exclusions
src.java.org.apache.cassandra.cql3.functions.ToJsonFct
invalid request utils json fct instances buffer protocol version parameters transport functions instance format instance protocol version scalar function size parameter ut concurrent nio buffer util function db util concurrent func cql function execute put json marshal
src.java.org.apache.cassandra.schema.SchemaPushVerbHandler
called node receives updated schema state schema migration coordinator user makes local schema migration nodes act node sends updated schema form alive nodes schema payload mutation logger message submit message merge announce version collection id instance migration logger schema stage trace db util concurrent stage iverb handler net verb logger slfj stage manager logger factory schema push verb handler
src.java.org.apache.cassandra.tracing.TraceStateImpl
thread local state tracing presence instance thread local denotes operation wait submitted timeout trace state impl ttl jvm stability inspector run async pending futures add logger thread db elapsed util common uuid logger stage manager completable future key collections google visible system wait pending events nano time ret mutation net wrapped runnable stage tracing stage inet address execute mutation array overloaded tracing thread session id trace keyspace trace impl trace state current thread mutation parse message consistency level size service integer annotations trace enabled make event mutation tracing time unit warn fut property inspect throwable error run wait pending events timeout secs logger factory mutate trace utils coordinator throwable logger storage proxy trace slfj concurrent trace concurrent singleton future session id mutate
src.java.org.apache.cassandra.db.lifecycle.LogReplicaSet
log iterates replicas writing ensuring consistency hiding replication details log replicas closed prefix record invalid move mismatched entry file giving duplicate add record record fail write fail write partial present log record add replica current line add logger optional db file util records sync directory accumulate illegal state partial collect common throwable key add replicas google exists directory reduce logical close linked starts logger ret fail suppress warnings error log replica put collectors read records directories key files log replica entry max num lines path open size file paths throwables collection concat integer annotations function auto closeable suppressed visible lines replica error file error replicas join err record str logger factory delete trace enabled io stream utils parent file raw prefix match replica contents errors file override logger function replicas file perform make format read lines length append builder current lines trace replicas max replica entry lifecycle identity line warn slfj file directory entry
src.java.org.apache.cassandra.db.partitions.UnfilteredPartitionIterator
iterator number unfiltered partitions partitions deletion call guaranteed valid call consumer reference longer make copy rows table metadata db metadata unfiltered row iterator unfiltered partition iterator base partition iterator partitions schema
src.java.org.apache.cassandra.service.GCInspectorMXBean
interval real time real time real time gc warn threshold service gc inspector mx bean gc warn threshold gc log threshold threshold status threshold reset stats gc log threshold
src.java.org.apache.cassandra.transport.Client
start connection read commands ugly hack page playground code usage argument parse options message iterator resp collections buffer jvm stability inspector query arraycopy hex password page size snappy compressor add message protocol version exit input stream reader event handler matches encryption options db auth trim results util io credentials cql lower splitter execute utf iterator current array iter common read line key event simple client google execute message system wrap encode credentials sasl flush close port transport req version msg compressor register message splitter run empty username key prepare message query options base establish connection frame compressor idx auth response internal calls messages host upper queue connection put message marshal simple event handler hex md digest put credentials message parse poll query message consistency level compression decode omit empty msg integer initial response ut username cql version simple client line err illegal argument inspect throwable response standard charsets read credentials decompose trim parse line utils substring io id event handler encryption options charset length event instance split number format password key config index nio request singleton client initialization startup message database descriptor password authenticator client encryption options options bb buffered reader kv
tools.stress.src.org.apache.cassandra.stress.operations.predefined.PredefinedOperation
operations row population ratio unsupported operation counter write cql reader cql cache cql leeway buffer math row lb generator add store cql cache spec columns rnd util report data spec partitions insert predefined operation array partition operation mode indices operation round cql counter getter max columns key operation predefined slice current partition generator timer counteradd total count command distribution generate seed manager cql inserter key length cql cache seed manager read cql version select size val start column spreadover thread local random write count empty array ub column count row population count ratio distribution distribution fixed partition key cql counter adder row timer count distribution nio counter read arrays concurrent stress column selection cql version stress add cq distribution factory
src.java.org.apache.cassandra.db.compaction.Upgrader
estimated rows math predicate upgrade writer integer uuid gen table writer estimated total keys format metadata collector total db ceil util compaction task compaction index manager serialization header table reader output handler uuid iter collect common upgrader output estimated tables google compaction strategy manager sstable level cfs append max data age fb utilities comparator sstable metadata collector metadata filename writer decorated key base key sstable table metadata table descriptor txn parent repair output handler stats metadata lifecycle transaction min index interval table rewriter throwables construct scanner params time uuid compaction writer function controller pending repair column family store compaction controller indexes originals scanners strategy manager utils parent file io close override purge evaluator originals make max compaction strategy scanners compaction iterator finish upgrade controller max table arrays max propagate compaction strategy manager lifecycle sec approximate key count transaction repaired table level op file time directory
src.java.org.apache.cassandra.locator.SnitchProperties
block handles potential incomplete empty property snitch property load open stream stream resource system input stream locator rackdc property filename io logger property config url logger properties url loader util net file utils properties warn key property url logger slfj close quietly logger factory snitch properties
src.java.org.apache.cassandra.utils.concurrent.WaitQueue
easy utility general purpose thread thread awaiting state change wait queue signal signalling changing calls wake wake waiting understand intuitively idea simply considers incapable making registers awoken changed checking registering thread made change unable signal checks condition sleeping thread synchronisation scheme advantages condition acquisition actual waiting operations result consumers block vice making threads signalled put runnable state immediately progress serially acquire reducing scheduler delay notes thread exit guarantee condition altered depending design outer condition checked signal single true times choose wait signal condition met waited signal signalling thread awake signals prevent queue growing provide cancel ensure counted wait care selecting ensure waiting condition progress complex tempting wait condition local progress task aiming race leave waiting met longer scheme thread calls call waiting calling thread thread calling thread thread signal waited called wait times signal waiting thread signal waiting signal waiting avoid race condition met woken thread managed wait queue finish signalling pick random thread hold reselect random thread progressively solution problem queue permits snapshot solution attempt remove cancelled beginning atomic cas threads signal mechanism thread wait notification state transitioned interested check potentially state change necessarily expected state signal wake woken definition signal tied whilst registered signal building block definition compose signals signal thread registered obtain underlying thread true discarded true discarded state fixed signal cancels signal true true called signal signalled propagates signal waiting exit thread interrupted interrupted flag wait interrupted interrupted normal exit interrupted thrown wait provided time thread true method method false interrupted interrupted thrown nanos wait true false timed signal signal registered signalled assuming correct api called registered signal signalled propagates signal waiting signalled cancelled propagate registered signal stores stops timer cancelled finished timer started signal registered tracks time registering invalidating signal wrapping multiple delegate signal wraps multiple signals single signal wraps multiple signals finished signal provided signals signal provided signals loops waiting supplied condition wait queue condition iterator lock support nanos park nanos atomic signals add supplier thread signal util interrupt condition iterator signal remove waiting system compare signalled nano time signal state timer unpark waiters thread atomic integer field updater queue context signalled updater signalled current thread signal clean cancelled updater cancelled cancel poll iter random thread registered signal check interrupted function park await uninterruptibly delta cancelled count check clear multi signal utils locks codahale override concurrent linked queue interrupted timed signal wait queue empty stop signal await await metrics concurrent context signal wait condition register interrupted signalled
src.java.org.apache.cassandra.cql3.statements.CreateViewStatement
validation announce migration reduce doubling make primary key includes columns base primary make select statement match base make primary key include make clause select make table make base table gc grace enforce keyspace rf logic wait specific replica build select intermediate multiple columns include primary key columns base table order make overwrite support base table smaller number rows view generate view generate order surprise include provide columns left include filter partition single partition key table params bound selection compact storage partition key bound variables collections query state parameters alter partition key columns instance base add include def pk selectable missing clustering columns columns build cf properties expected size db auth util clause keyspace raw select unauthorized add partition key column keyspace cql desc duration column identifier array raw common add clustering column query state key event iterable view empty google def target primary key parameters counter pk column multi cell keyspace parsed statement iterables schema change client state transport target permission view statement column metadata column family state validate table base cfm primary key column metadata term base primary key cols local column family view builder relations clause groups selectable field selection properties request validation restrictions identifier cdef service column internal calls clause view collect created definition cf marshal invalid request column statements check access exists schema altering statement included cfm column family access orderings table params select size table metadata empty prepared base pk column identifier params concat target primary keys table schema view metadata target clustering columns relations statement included columns writetime ttl builder defined ordering selector raw selector base prepare keyspace change clustering columns raw statement select clause def function raw exists add column id element selection partition keys time live keyspace select statement column format restricted announce view id instance statement restrictions empty append bound variables clustering keys schema cf migration manager restrictions prepared clause text gc grace adder announce migration validate reversed view reversed slice selection builder single partition key add regular column alias prepare target partition keys
src.java.org.apache.cassandra.db.WriteResponse
empty response replica inform coordinator write messaging service version data output serialize io request response serialized size message instance verb iversioned serializer write response net data input wm db util io response serializer deserialize message serializer
src.java.org.apache.cassandra.db.compaction.CompactionStrategyManager
manages compaction separate compaction strategy instance repaired unrepaired pending sstables completely copy schema compaction parameters decide update compaction strategy due user local compaction strategy alte compaction compaction background task compaction strategy estimated remaining sstables completed sort compaction task suppliers remaining tasks pause compaction cancel ongoing separate call save compaction strategy differently based repaired status vnode compaction strategy belongs correct compaction strategy token starts disk add compaction compaction strategy files care sstable local tokens start compacting write sstables correct locations give correct compaction strategy boundaries index descriptor based existing figure location based sstable compare schema configuration ignore locally drives reload compaction called changing configuration bit gymnastics replace sstables compaction compaction finished start compaction write lock moving sstables write lock move sstables strategy instance enable make strategies ready disable avoid disabled strategies compaction table scanners delegates call compaction strategies lcs run compactions disabled cancels active compactions disables make strategies mark sstables sstables marked compactions compaction tasks sstables split sstables repaired disk task disk location repair sstables sstables gc gc grace tombstones older compaction tasks sstables avoid creating compaction strategy wrong pending repair index based sstable scanners user defined tasks unrepaired added iterator reload leveled manifest unrepaired removed compaction strategy handle notification tasks collections supplier sstables math pending manager pause group grouping call enabled repaired pending removed repaired added callable present add illegal table argument location location size pair strategy folders input partition position run compactions disabled storage service compaction logger unrepaired memtable submit background num pending repair finished tasks writeable locations format metadata collector directories db local compaction strategy compaction strategy index util deleting token unrepaired count level compaction split output repaired tables index strategy level size serialization header splitter table reader parse uuid iterator header compaction strategy array keyspace leveled compaction strategy deprecated logger common debug repaired suppliers iterable sessions index google level size schema compaction params concurrent modification scanners visible table count level unlock directory index originals iterables level fanout size collector cfs index handle changed notification data directory reload resume pending repair ret boundaries idx table multi writer add table singleton metadata compaction task unrepaired sstable enabled repaired directories suppress warnings pending repair managers deleted ranges descriptor range maximal task pending repair count level strategies purge repaired tombstones table table active pending added write lock strategies table metadata stream inotification absolute path directories repair finished task ids compaction manager filter sstable length repaired count level collect table metadata options disk boundaries txn add tables groups close propagate lifecycle transaction repaired removed entry pos transform subscribe startup shutdown scanner active repair service repaired index size anticompaction groups repaired service reentrant read write lock pending pending repair managers inotification consumer collection strategy handle deleting notification remove table params log user defined task read lock pair integer maximal tasks tracker schema function override enable changed notification open reason compaction params marked suspect user defined tasks estimated remaining tasks read lock pending repair column family store pending tables replace flushed logger compaction params sender count match num pending collectors compaction strategy instance partitioner pending repairs enabled annotations early descriptor strategy info pending max table table repair status changed pending repair logger factory sorted suppliers canonical sort compaction task io stream defragment lock utils locations binary search table multi writer locks unsupported operation table deleting notification table scanner group tables anti compaction logger key unleveled tables table added notification purge repaired tombstones unrepaired tables max table open reason gc unrepaired index indexes pending repair instance max level count sstables group empty pending repair tasks background task key count dht table scanners pending repair manager folders write lock clear added trace starts arrays max handle flush notification unrepaired level fanout size concurrent session id disable supports early open tables validate compaction compaction strategy manager entry lifecycle concat compaction logger memtable task add replace tables notifications table changed notification removed max estimated remaining tasks slfj notification sum arrays handle repair status changed notification disabled jmx left
src.java.org.apache.cassandra.dht.OrderPreservingPartitioner
copies characters acknowledge codepoints convert big integer remainder additional high order bit added end remaining bit significant apply bitmask tokens count shorthand initializes counts calcs ranges looping splits size add sum count divide fractional unsupported operation random buffer row splits shift add gms storage service min index interval sizes big db util token sorted ranges tokens token array random keyspaces token schema rtoken empty size token validator charpos measure ltoken append token token factory current minimum math comparable token size math configuration token runtime decorated key midpoint ipartitioner range key remainder big integer service rndchars put key length sorted tokens order preserving partitioner midpair size serial version uid hex minimum token heap size entry describe ownership maskpos big entry total fb utilities ratio left table metadata params pair ut schema token factory thread local random builder shift left preserves order cached decorated key sigchars versioned big array str charbig mask decorate key token factory utils partitioner override array buffer util skey charset instance split dht node nio partition ordering buffer max concurrent random token tables views validate cfmd delimiter str character coding marshal token left
test.unit.org.apache.cassandra.locator.OldNetworkTopologyStrategyTest
rack rack external rack rack external basic methods move easy moves left part moves part moves position middle ring stream fetch sort build expected moves neighbor sort build expected moves previous neighbor stream natural endpoints iterator daemon initialization singleton collections endpoint token id endpoint address fetch expected tokens move rf init token metadata add tmd move neighbors junit storage service update normal token key tokens util token token array big integer token token inet address moving node init tokens system unknown host result ep move big integer endpoints big integer endpoints big integer endpoints build result ip part net endpoint token endpoints suppress warnings current ranges ranges range address array network topology strategy idx put token length opts rf pending address ranges key token id updated ranges addresses fetch locator size service replication strategy init collection strategy pair integer stream expected sort tokens move left expected results setup dd moving node idx move middle ring rack inferring snitch add endpoint token metadata moving node idx move move previous neighbor network topology strategy endpoints utils endpoint snitch address ranges instance key token dht config token metadata current random partitioner arrays clone database descriptor init tokens move hosts expected token metadata move calculate stream fetch ranges left
src.java.org.apache.cassandra.security.JKSKeyProvider
retrieves keys lovely behavior jceks files aliases load paths file format input stream ignore io secret key logger key alias files password instance prop keystore pw runtime key key provider empty array key transparent data encryption options logger config store prop keystore info prop keystore nio jks key provider prop key pw io key jceks key store lower input stream input stream logger slfj security logger factory options
src.java.org.apache.cassandra.index.sasi.disk.Descriptor
descriptor sasi index similar based sstable index version current version ab descriptor version aa version current version disk sasi
tools.stress.src.org.apache.cassandra.stress.generate.RatioDistribution
yields stress divisor max min distribution ratio distribution max distribution min generate math
src.java.org.apache.cassandra.triggers.CustomClassLoader
custom loader load ccl url find required parent loader ccl triggers found google url loader add url system add path put io override logger load exists files lib cache mkdir ends uri clazz files find io error net concurrent url parent url trace load internal custom loader util concurrent temp file io accept delete exit copy logger info property parent path dir triggers absolute path loader input jar filter logger slfj filename filter common file logger factory dir
src.java.org.apache.cassandra.tools.SSTableExpiredBlockers
compaction drop entire sstables expired tombstones cover expired sstable blocked dropped timestamp newer oldest data outputs sstables blocking sstables dropped user figure sstables blocker collections columnfamily sstables filename add message table lister format directories db util key table reader collect throwable metadata iterable google system max timestamp cfs append multimap tools init database descriptor validate table exit reader min timestamp common stream table expired blockers descriptor directories current time millis sstable length table metadata load disk singleton entry put open size lister table metadata max local deletion time params schema builder keyspace column family store skip temporary potential blocker format expiry tracing io key data schema gc grace keyspace array multimap component column family store util instance empty check expired table blockers open tables blockers txn err entry sstable lister gc sb
src.java.org.apache.cassandra.db.SystemKeyspace
previous version written legacy read suffice upgrade proceed upgrading current previous version information assume previously installed process starting fresh keyspace write history table turn flush view built fail restart place view flush delete restart writing deletion skip view build method remove information truncation time column record tokens day remove stored tokens method update system keyspace tokens stored tokens ip store ip preferred ip endpoint endpoint ep endpoint address preferred ip endpoint ip addresses dc rack release version release version ep endpoint address release version null version version version things happen read system files present read files great node files present read user opp brand system foolproof foolproof larger ip close sanely nodes ignore gossip messages node lower generation previously read host id system creating host uuid id generate local host id called system table replacing stored rack local null rack stored data center local null data center recently accepted ballot update paxos state erase proposal commit timestamp erase recent proposal commit optimization exclude accepted proposal older restorable meter tracking average read rate restoring keyspace keyspace sstable belongs table table sstable belongs generation generation number writes current read rates table store ttl handle corner cleanup clears persisted read rates tables writes current partition count size estimates delete previous single range add cql row primary token clears size estimates table table compare release version table included snapshot tables system intended called startup backup system tables restarting snapshot system determine previous installed primary source truth release version version determined node install version include version read table special indicating previous version legacy version inconceivable upgrade node straight current version read previous version check existence legacy attempt read informs completely previous version information assume report back found system format token ranges serialized system tables formot maintain support messaging support pass version trigger legacy worth stable text format ranges save user friendly serialization format pretty range version ksname raw ranges transferred ranges buffer query truncation record blob aggregate fcts row tk wait future saved tokens directories expected size results util column clear size estimates io dc local read repair chance logged keyspace cql partitions array array token serializer logger millis keyspace data input buffer cast fcts load tokens tables functions data directory estimates sstable activity operation fcts replicated cfs range tombstone built views index removed version net metadata datacenter batches empty runtime load host ids ranges ranges view built paxos result key force blocking flush uuid repairs serialize entry compaction history apply fb utilities save paxos proposal open data local host id generation number time uuid bootstrap state views builds progress tabular data ut empty ranges index mrate regular columns warn partition key column family store view built conversion fcts index scratch buffer err buffer host id put repairs buffer stream truncated position deletion time release version recent streams preferredip data input update compaction history prepared statements empty begin view build config truncation record multimap description view built replicated max update transferred ranges paxos state schema constants fifteen minute rate keyspace params bootstrap complete sec current file built views live tables rpc address bootstrap truncation record description meter finish view build status system keyspace views simple builder update ranges system keyspace compaction history storage service immutable compacted timestamp records truncation entry token debug data output buffer uuid previous version hour rate generation transferred ranges ep mrate open req factory saved tokens files scts bootstrap state empty commit empty tokens builder ipartitioner openmbean reset ranges put schema keyspace query processor write days length update schema version endpoint snitch messaging service save paxos promise partition update md digest random uuid table id local size keyspace metadata management service params uuid schema execute internal increment generation reset prepared statements cql version tokens timestamped snapshot local partitioner illegal argument time unit logger factory truncated result peers rows partitioner prepared statements rows merged restorable meter instance local host id build host id micros timestamp trace query result dc rack metrics position rack table activity error execute internal buffer range release version broadcast address commitlog time uuid singleton bootstrap progress force flush update peer info math range uuid fcts uuid gen version local load prepared statements timestamp micros range xfers load paxos state db execute internal view build status rebuffering input stream common index built stream operation update tokens min check health peer events persist local metadata nano time token factory suppress warnings update preferred ip time fcts state built indexes null version key remove endpoint system collectors read key keyspace decompose paxos comment batches memtable flush period spliterator bootstrap state mutation table read meter truncated table cfname stream support table metadata cql token pair proposal child directories inet address compaction history tabular data keyspace untyped result transferred ranges decommissioned update size estimates comparator save paxos commit ranges slice utils parse io logger view status replicated id time live make hours iendpoint snitch dht nio update view build status database descriptor paxos built req record deprecated system column builder ranges entry deserialize tokens left collections raw range previous tables clear table read meter size estimates immutable add protocol version io error logger snapshot version change built indexes lcs buffer util format token compaction commit accepted uuid deserialize collect peer events inet address unreadable version google built indexes system streaming time period stream operation transport snapshot buffer read truncation records mutation configuration view system table decorated key range truncation records peer persist table read meter current time millis range commit marshal row truncate blocking statements decommissioned local address locator table statement promise update hints dropped currentversion ranges update rows completed ranges collection remove prepared statement integer save system keyspaces schema paxos ttl sec write prepared statement compaction params uuid init copy cluster commit log position remove truncation record info load dc rack info compaction history views builds progress stored generation index built record size estimates preferred ip saved cluster multimap promised token factory view removed functions gc grace ballot completed column family store snapshot peers range xfers update concurrent save truncation record snitch entry progress local lang build req unsafe system tokens partitioner slfj streamed ranges finish startup serializer
src.java.org.apache.cassandra.io.util.FileDataInput
file pointer rewindable data input eof pos path util file data input io io remaining seek closeable
test.unit.org.apache.cassandra.utils.OverlapIteratorTest
sort compare point utils random intervals collections increment random intervals current comparable overlaps extra add points empty build interval tree integer size junit true count thread local random interval update util concurrent base overlap iterator search array tree iter remove range overlap iterator init point act exp init count missing tree
test.unit.org.apache.cassandra.db.ColumnFamilyStoreCQLHelperTest
column present drop add record drop proper trim ensure column column definition substituted validate empty unquoted lz json parser dc local read repair chance singleton collections buffer indexes dynamic composite cfm index json aliases files instance user table metadata cql immutable snapshot custom alter table keys junit system snapshot timestamp micros min index interval lcs buffer util format db snapshot manifest file util compaction add partition key column record column drop cql execute define schema manifest collect table common add clustering column compression params throwable add column configuration tables google custom index option dynamic composite table counter indexes wrap compact dynamic run cfm compact storage cql cfs exists index column metadata read repair chance immutable snapshot composites size metadata kind dropped columns cql compact counters dropped columns cql index user cql builder dropped ascii snapshot schema file cfm columns cql keyspace put compact table keyspace extensions sasi index column identifier charset add regular column comment column statements simple memtable flush period bloom filter fp chance cfm options cql cfm indexes cql index targets speculative retry param table open fb utilities compression table metadata dense user cql json counter column dynamic composite table add column schema files parser cfm counter cql compaction params index target index metadata keyspace column family store integer prepare server parse remove regular column readded columns json array file reader dense compact table regulars regular column speculative retry field identifier directories keys dense table utils charset reg reg reg substring runnable io schema change id runtime gc grace time live keyspace column family store cql helper charset cql tester column family store max index interval instance crc check chance build true schema loader nio starts arrays singleton keyspace params validate reversed marshal dynamic composite interned json builder dense cfmd ends snapshot column family store cql helper false sasi column family
test.unit.org.apache.cassandra.locator.PendingRangeMapsTest
size pending range locator unknown host gen range add pending range pending range random partitioner collection pending endpoints net dht junit true util token pending endpoints pending range range big integer token wrap ranges inet address endpoints left
src.java.org.apache.cassandra.tools.nodetool.PauseHandoff
execute probe node tool cmd nodetool description airlift pause hints delivery pause handoff override node probe command airline io tools node tool
src.java.org.apache.cassandra.cql3.statements.BatchStatement
statement parsed cql columns modified table table columns note batch single partition creates statements statements attrs additional attributes statement validates prepared batch statement validating nested batch validated regular protocol statements apply sizing partition update backing good checks batch size ensure threshold warning mutations batch warn batch spanning multiple mutations log threshold suggested original ticket introduced columns conditions null table metadata statement partition key bind statements multiple send partition key bind statement invalid request bound batch metrics linked batch query options add conditions cas internal unlogged batch warning check false attrs buffer counters query state put expected size mutations suffix updated rows make cas request instance execute internal add message timestamp time live logger local columns multiple cfs bound variables timestamp db util key cq cas request unauthorized attributes cql exist condition add row update partitions execute tables gc execute conditions cas request message formatter array logger common query state cql statement iterable multi table columns builder clustering batch size fail threshold google cf build partition key mutations counter update partitions batch metrics condition builder update regular result data size parsed statement iterables batch statement client state nano time transport array format updates row table condition columns collect partition key bind indexes statement variables column metadata regular columns state mutation table verify batch size warn enabled size batch statement batch size warn threshold metadata system pretty memory tracing builder decorated key stmt query options key raw table request validation warn partition updates service request execution tracing cf messages key keyspace helpers execute internal conditions client state updates regular rows options updated columns parsed statements statements check access regular builder query start nano time partition update entry mutations partitions logged batch table id collect marker specification timestamp apply validate consistency level fb utilities clustering cf statement rows log table metadata clustering key restrictions columns conditions timestamp collection prepared update params statement pair id schema table builders imutation bound terms pks restrictions bound terms updated partitions partitions unlogged batch add updates mutate atomic warn partition key partitions counter batch logged minutes counters conditions cas illegal argument key relation execute conditions prepare keyspace column family error time unit logger factory unlogged batch partitions warn threshold decorate key columns conditions rows utils counter result message execute internal condition client warn warn threshold variable specifications mutate triggers override logger spam logger prep attrs function functions gc grace element unlogged collector level logged add functions parsed row iterator logged batch low gcgs warning empty build clustering request validations functions config cl validate indexed columns nio trace storage proxy partition key bind indexes update metrics concurrent exist condition verify batch serial consistency entry database descriptor consistency fail threshold update add builder statements request parsed partitioner build cas result slfj prepare modification statement updates collector format left statement options
src.java.org.apache.cassandra.index.internal.keys.KeysIndex
additional clustering columns clustering stale unsupported operation index comparator base metadata index cell prefix buffer path clustering index table metadata ref rows table metadata base cfs column metadata cbuilder cell cell path add internal clustering prefix cell indexed column row index entry schema nio keys decorated key builder db index metadata build index clustering prefix live partition key column family store index def indexed sec decode entry index entry cf def index indexed add index clustering columns compare keys index builder cell row
src.java.org.apache.cassandra.security.EncryptionContext
immutable wrapper encryption attempt load cipher situation user disabled existing commitlogs sstables disk encrypted add compression someday encryption headers found headers merged google chunk length utils visible iv iv decryptor encryption cipher keyprovider collections io chunklengthkb key alias iv transparent data encryption options lz compressor compressor parameters encryption context factory illegal state init cipher empty transparent data encryption options hex config annotations configuration chunk length header parameters empty arrays hex compress util encryption context base io icompressor encryption iv keyalias encryption key alias compressor enabled crypto encryptor length cipher cipher factory common put cipher factory security tde options enabled hex
test.unit.org.apache.cassandra.cql3.validation.operations.UpdateTest
put explicitely text column rejected text fine integer constants works integer compatible binary representation invalid missing primary key token multiple time multiple time primary key element unknown invalid operator invalid missing primary key token multiple time multiple time primary key element unknown invalid operator missing primary key treat error clustering keys update checks memtable empty memtable operations invalid syntax minute update astatic column update metric force flush update multiple partition key components max ttl memtables live data size invalid message lang open cfs update clustering columns keyspace size cql tester update result memtable empty empty update column family store row junit updates empty restriction mutations true rows arrays error msg db update ttl util keyspace column family store current table attributes cql untyped result execute index flush keyspace commons casts update secondary indices compact option table update ttl unset update empty restriction throwable validation utils invalid row
src.java.org.apache.cassandra.tools.nodetool.DisableHandoff
execute probe disable handoff node tool cmd nodetool description airlift override disable hinted handoff node probe command airline io tools node tool
src.java.org.apache.cassandra.auth.JMXResource
permissions granted parses role resource role resource data role resource instance matching form resource represents pattern exact full version illegal state called resource parent execute google exists format describe modify override lang code jmx resource parent management permission root management factory illegal state parts empty select mbean mbs root split authorize iresource immutable level error auth util mbean server malformed base mbean parent lang null pointer level root illegal argument commons collect length applicable permissions common query jmx permissions root resource platform mbean server utils
src.java.org.apache.cassandra.notifications.SSTableDeletingNotification
fired removing table reader notifications inotification format sstable table deleting notification io deleting
src.java.org.apache.cassandra.cql3.statements.DropViewStatement
validated invalid request statements check access schema altering statement cf find base table column family access schema change announce migration query state client state alter transport table metadata ref service permission state exists announce view drop table drop view statement schema local target migration manager db auth dropped unauthorized validate cql base table view keyspace change column family query state configuration cf event view
src.java.org.apache.cassandra.auth.jmx.AuthorizationProxy
proxy mbean server instance authorization method conjunction suitable attaches authenticated configured iauthorizer verify subject required permissions execute methods mbean server mbeans represents individual jmx resources fit hierarchical approach modelled utilised enable grants performs custom matching filtering pushing configured pulls back permissions active filtering retain grants target mbeans represented resources iauthorizer manages cache methods split invoked mbean server apply mbean construct invocations performed mbean server distinction made methods argument invoking method implies caller concerned specific invoking method primarily function mbean server distinction order identify jmx resource subject requires permissions operations users recorded blacklist circuit authorization process attempted remote whitelist permitted methods mbean server methods thought relating mbean server mbeans whitelisted methods essentially require subject describe permission root jmx blacklist method permitted executed remote privileges check role authenticated subject delegates overridden retrieve permissions granted permissions local turn loads configured overridden decide authorization enabled depends overridden find matching mbeans invocation target pattern querying mbean server overridden check pattern determine auth setup completed expect overridden retrieve subject current mbean server iff performed behalf connector server performs actual authorization identified subject execute remote method subject principal making execution null represents local jmx connector method method array invocation element authz purposes invocation mbean invocation method permissive authorization operations performed locally behalf connector server restrict access methods remote reject user assume principal good make control principals choose associate subject successful role superuser status method invoked method mbean server authorize execution method mbean server mbean whitelisted methods match criteria descriptive methods concerned mbean server mbeans managed server check describe permission jmx resource result method security authorization authorize execution method mbean managed note includes query mbeans methods mbean server pattern methods accept null handled result method security authorization work permission execute method called find jmx resources authenticated subject granted reqired filtering matching resources check jmx resource grants exact match wildcard match target whichever grants required permission authenticated resource permission applies filtering matching calling jmx resources subject granted required check required permission granted authenticated subject specific true subject granted required permission false jmx resources subject granted check match representing target required granted job method verify target invocation covered members true registered beans match target matched jmx resources subject granted permissions false required permission granted root jmx full beans match target iterate resources permission granted query server retrieve full matching remove target target empty matches requirement unsatisfied targets jmx resources insufficient grants permit jmx resources subject granted check match representing target method required subject granted job method target invocation matched member true permitted resources matches false required permission granted root jmx method permission required invoke refer methods mbean instances invoked invoke method mbean server called authorization required authorizer invocation performed connected call authenticated successfully thrown nodetool query configured iauthorizer permissions granted jmx resources specific permissions granted specfied subject transitively inherited roles subject filtered include permissions granted permissions cache receive multiple lookups subject quick execute iterator context authz required invocation handler supplier jmx resource pattern system user instance permissions cache max entries authorize mbean method role logger storage service immutable require authorization roles permissions util modify replace load permissions resource remove logger mbean server method whitelist common debug throwable security subject matching google check pattern visible required permission permitted resources select subject collect permissions update interval method method base proxy acc auth setup complete collectors method blacklist filter security authorize method authorization proxy authorizer target bean subject authorize mbean server method apply mbs management service permissions update interval throwables annotations function jmx user resource superuser auth cache warn malformed match superuser status target authenticated user illegal argument logger factory root required stream describe role resource principals permissions cache override invocation target logger role resource function permissions validity permitted resources jmx permissions cache invoke permission instance empty details query target principals config trace access controller reflect mbean server auth permission permission details database descriptor access control context permissions cache max entries lang required permission permission slfj check exact permissions validity principal
test.long.org.apache.cassandra.cql3.CorruptionTest
prepared flooding server threadpool size basename session buffer consistency level row add contact point current thread executors port transport port put statement junit runnable thread util io cql execute array local quorum logging retry policy retry policy putdata connect count latch append retry policy configuration core run key count policies time unit prepare result keyspace session embedded service bound statement executor service row key dump keys put wrap consistency level pw service run corruption start table datastax schema shutdown builder failure bound statement getdata minutes corruption setup cluster policies executor file writer builder utils result cluster io override interrupted id write instance build schema config prepared statement schema loader nio arrays statement await driver fixed thread pool concurrent buf database descriptor clear file
tools.stress.src.org.apache.cassandra.stress.operations.PartitionOperation
operations row population ratio partition key iterator builder target count ratio distribution permits seed data spec ready apply write size permits partition generator add key integer seed manager spec option ratio distribution partition iterator keys partition generator timer util stress ratio report distribution generate partitions reset stress success partition count array partition operation row population ratio timer partition cache seed work manager operation seed manager
src.java.org.apache.cassandra.db.partitions.FilteredPartition
filtered partition holding rows provided note method close provided iterator caller iterator deletion info row iterator close filtered partition rows table metadata regular columns row iterator live empty build reverse order columns schema immutable btree partition db decorated key util partition key partitions iterator rows iter row metadata row
test.unit.org.apache.cassandra.io.util.BufferedRandomAccessFileTest
writing data reading small amount data handled initial read read writing buffer bigger page trigger writing file size file reading written back initial read read buffer read past mark methods fully write file read size read write chunk smaller sync data check write buffer hold check reading file reading read file seek past end file produce back beginning skip file skipping negative amount initial position position writing position change skip bigger buffer single read eventually braf filename mark move rw expect call closing read bdosp np buffered output stream closed generates npe bug notably npe kind corner flushing file copy fixed file seek past end file daemon initialization big data buffer remaining util remaining generate array read negative length path sequential writer junit count mark reset buffer util read reader util temp file io eof read write capacity reader read initial position fout read write eof sync bigger buffer flush close buffered random access file content arrays file content file pointer close temp file builder tmp file expect offset seek null pointer length expect eof buffer size file read fully arr skip mark open length path skip expected buffer size read complete setup dd copy reset target illegal argument past mark random access reader error past mark negative limit file pointer eof compare file utils io buffer size seek sync util contents file output stream config true finish nio truncate buffer write temporary file past mark data position delete exit fh database descriptor data error write builder write negone file position file handle
test.unit.org.apache.cassandra.db.RepairedDataTombstonesTest
insert live row make sstables dropped dropping point repaired sstables expired drop tombstones repaired gcgrace properly make unrepaired expired make tombstones unrepaired gcgrace properly tombstones oldest tombstones partition key avoid sstables iterator collections include purgeable row util row live junit metadata serializer dk buffer util format db table reader current column family store util row iter io cql partitions execute repaired table cmd collect table common sleep google read unrepaired read row tombstones read unrepaired iterables expected rows cfs unfiltered partition iterator partitions found read command read key throwable read partition tombstones compaction key sstable force major compaction compaction drop expired table verify repair singleton query storage notify table repaired status changed verify including purgeable size clustering rows val verify including purgeable repaired data tombstones unfiltered row iterator tracker max val min val partition key column family store found rows reload table metadata read execution controller descriptor mutate repaired disable auto compaction repaired utils flush io thread execute locally verify cql tester build table table true execution controller tables lifecycle false live tables
src.java.org.apache.cassandra.utils.IntegerInterval
expands interval cover extending sides mutates common mutable closed integer stored normalized form overlapping intervals converted single interval covering adds interval performing local copy avoid risk changing midst extend cover ranges record directly preceding end extend past max end floor greatest end record directly preceding start extend lower greatest start true completely covers true completely covers local copy avoid risk changing midst floor greatest end lower bound upper bound local copy avoid risk changing midst upper google stream utils atomic field updater updater override intervals atomic lpos primitives integer interval empty upper bound ranges expand cover make transform code start add prev interval updater extend arrays end util concurrent lower bound covers binary search rpos src lower obj collectors interval ranges dest collect length iv common collection joining compare
src.java.org.apache.cassandra.config.Config
configuration properties node runs properties declared mutated prefix properties internal configuration strategy random ophf initial token ring triggers automatic allocation tokens replication strategy referenced keyspace max size protocol frame size columns indexing kick retry support removed commit enc options backward compatibility warning logged ttl trace maintain statistics writes achieve ideal consistency expiring strategy coalescing messages whitespace subclass microseconds wait fixed strategy amount time message received accompanying moving average maximum amount time waited interval messages arrive coalescing backlog expiration interval milliseconds size cql prepared statements cache heap size whichever optionally disable asynchronous udf disabling asynchronous udf execution implicitly disables async udf execution enabled detect ud run forever fail fast stop approach user wrong disable async udf users pay attention ud run forever destabilize time milliseconds warning emitted log client udf runs time milliseconds fatal udf situation detected action defines udf ran longer options emit warning client daemon shut shut daemon immediately prevent chance client receive log dangerous migrate client mode process pure code base read write local database migrate ignore npe field broadcastaddress cdcrawdirectory streamthroughputoutboundmegabitspersec crossnodetimeout broadcastrpcaddress initialtoken commitlogtotalspaceinmb internode compression ssd concurrentcompactors internodeauthenticator put fields enablescripteduserdefinedfunctions rpcinterface backpressurestrategy diskfailurepolicy cascontentiontimeoutinms field mmap internodecompression clustername readrequesttimeoutinms credentialsupdateintervalinms streamingsockettimeoutinms user function timeout policy logger rangerequesttimeoutinms preparedstatementscachesizemb maxmutationsizeinkb interdctcpnodelay streamingconnectionsperhost otcbacklogexpirationintervalmsdefault credentialsvalidityinms maxhintwindowinms memtablecleanupthreshold batchlogreplaythrottleinkb stop dc concurrent util disk optimization strategy tracetypequeryttl interdcstreamthroughputoutboundmegabitspersec commitlogdirectory authorizer memtableoffheapspaceinmb hintedhandoffdisableddatacenters snapshotbeforecompaction sensitive keys stopparanoid otccoalescingenoughcoalescedmessages slowquerylogtimeoutinms streamingkeepaliveperiodinsecs datafiledirectories die array ignore logger dynamicsnitchupdateintervalinms keycachekeystosave rowcachekeystosave common illegal access commitlogsyncbatchwindowinms concurrentcounterwrites incrementalbackups filecachesizeinmb rolescachemaxentries google autobootstrap client mode otccoalescingwindowus phiconvictthreshold indexsummaryresizeintervalinminutes concurrentreplicates compactionthroughputmbpersec userdefinedfunctionwarntimeout hintscompression nativetransportportssl rowcachesizeinmb compactionlargepartitionwarningthresholdmb diskoptimizationestimatepercentile tracetyperepairttl maxhintsfilesizeinmb besteffort standard memtableheapspaceinmb tricklefsync rowcachesaveperiod collect tree gclogthresholdinms permissionsvalidityinms dynamicsnitchresetintervalinms rolesupdateintervalinms credentialscachemaxentries columnindexcachesizeinkb diskoptimizationstrategy backpressureenabled storageport maxstreamingretries batchsizefailthresholdinkb server encryption options rowcacheclassname otccoalescingstrategy dynamicsnitch unslabbedheapbuffers join maxhintsdeliverythreads commitlogsync windowstimerinterval maxvaluesizeinmb base nativetransportmaxthreads modifier otccoalescingwindowusdefault null pointer commitlogperiodicqueuesize client mode parameterized enableuserdefinedfunctionsthreads serverencryptionoptions countercachekeystosave autosnapshot nativetransportport concurrentvalidations clientencryptionoptions listeninterfacepreferipv hintedhandoffthrottleinkb sstablepreemptiveopenintervalinmb mmapindexonly nativetransportmaxframesizeinmb disk access mode info userfunctiontimeoutpolicy config entry batch spinning nativetransportmaxconcurrentconnections config consistency level unloggedbatchacrosspartitionswarnthreshold requesttimeoutinms log encryptionoptions commitlogsyncperiodinms allocatetokensforkeyspace sslstorageport truncaterequesttimeoutinms nativetransportmaxconcurrentconnectionsperip offheapbuffers integer listenaddress bufferpooluseheapifexhausted heapbuffers cdcfreespacecheckintervalms commitlogmaxcompressionbuffersinpool hintedhandoffenabled diskoptimizationpagecrosschance deprecated memtableallocationtype authenticator transparentdataencryptionoptions tricklefsyncintervalinkb startnativetransport permissionscachemaxentries concurrentreads counterwriterequesttimeoutinms rolesvalidityinms hintsdirectory client mode listenonbroadcastaddress disk failure policy memtable allocation commitlogsegmentsizeinmb rpcaddress time unit countercachesaveperiod logger factory columnindexsizeinkb commitfailurepolicy cdctotalspaceinmb keycachesizeinmb days field listeninterface dynamicsnitchbadnessthreshold logger cdcenabled numtokens dieimmediate na tombstonefailurethreshold gcwarnthresholdinms commitlogcompression idealconsistencylevel periodic seedprovider max auto permissionsupdateintervalinms transparent data encryption options rpckeepalive config encryption options endpointsnitch minfreespaceperdriveinmb modifiers savedcachesdirectory npe db concurrentmaterializedviewwrites memtableflushwriters keycachesaveperiod reflect concurrent commit failure policy writerequesttimeoutinms indexsummarycapacityinmb userdefinedfunctionfailtimeout hintsflushperiodinms joiner internoderecvbuffsizeinbytes internodesendbuffsizeinbytes tombstonewarnthreshold lang rolemanager client encryption options concurrentwrites countercachesizeinmb diskaccessmode stopcommit partitioner slfj rpcinterfacepreferipv add enableuserdefinedfunctions otcbacklogexpirationintervalms batchsizewarnthresholdinkb offheapobjects property prefix commit log sync
src.java.org.apache.cassandra.metrics.HintsServiceMetrics
metrics histogram hint delivery delays histograms hint delivery hints succeeded google update delay metrics caffeine meter factory factory codahale global delay histogram logger loading cache delay direct executor builder metric factory cache caffeine histogram metrics hints service metrics build net hints failed common metrics registry update histogram util concurrent endpoint address delay endpoint replace host address logger metrics github metric hints timed meter warn logger slfj benmanes executor inet address logger factory executors
src.java.org.apache.cassandra.utils.SystemTimeSource
time source backed jvm google utils system sleep override nano time unit time source uninterruptibles interrupted sleep uninterruptibly util concurrent convert sleep current time millis common time unit nanoseconds system time source
src.java.org.apache.cassandra.tools.nodetool.CfHistograms
table histograms cf histograms deprecated nodetool description airlift command airline io hidden tools
src.java.org.apache.cassandra.tools.nodetool.Compact
compact nodetool probe airlift token provided force keyspace compaction node probe arguments io override lang tools force user defined compaction empty option title parse optional tables empty table start token usage node tool end token description force keyspace compaction token range runtime node tool cmd util keyspaces command split output parse optional keyspace execute join user defined array keyspace commons user defined files airline utils
src.java.org.apache.cassandra.db.lifecycle.Helpers
update contents provided ensuring items remove items add removing contents provided update contents provided ensuring items remove items add removing identity contents provided ensure removed exact ensure convenience method encapsulating action multiple table reader accumulate null thrown thrown convenience method encapsulating action multiple table reader accumulate null thrown thrown readers identity domain provided iterable union duplicates represented encountered defined order predicate yielding true item present provided predicate yielding true item present provided filter matching filtered elements present provided present filter filtered elements present provided results accumulate log transaction identity predicate readers immutable add empty select immutable db collections util key replaced table reader array remove merge obsoletion throwable iterable google abort obsoletion result iterables obsoleted collect reader mark obsolete common col builder base helpers replaced txn logs filter sstable length concat uniq replace put id apply select size filter throwables collection tidier concat predicates copy setup online utils abort io check replaced format obsoletions empty build prepare obsoletion obsoletion lifecycle builder filter original
src.java.org.apache.cassandra.db.rows.Row
storage engine representation row holds clustering columns identifying row level primary key liveness infos row deletion data columns collection note storage engine cell deleted row clustering collection columns data simple present row correspond row deletion row liveness information primary key columns row uniquely identified primary primary key share liveness information distinguish dead row live cells primary key info live row pk columns null live primary key liveness note info eventually deletion apply primary columns impact row note row live cells pk liveness primary key liveness informations makes live cells added users encouraged row correspond row row correspond row row information pk liveness cells complex deletion row row live information deletion cell simple simple column fetch cell row cell complex column cell complex column fetch path cell path fetch cell row data complex groups cells complex deletion complex column complex data row data iterable cells iterable guarantees cells order iterable cells iterable cells row cells columns sorted simple columns complex cells sorted column iterator cells legacy meaningful compatibility metadata table row reversed cells reverse iterable cells row row stores complex deletion complex row stores data complex row deletion info cell expired cell complex sec current time decid cell iterator efficiently search data search iterator cells copy row includes data column included include data belongs dropped column copy row includes data column included include data belongs dropped column include data row deletion iff supersedes row copy row deletion info purged purger decide sec current time decide deleted expired row deletion info purged purged row copy row include data queried excluding internal reasons queried user filter deciding user querying row method row data queried user copy row counter cells shard marked copy row live timestamp replaced timestamp timestamp timestamp timestamp live data commit copy row deletion row deletion current row method check row shadowed deletion created row caller verify reasonable row deletion apply function column apply funtion column row stop condition row row deletion consists time regular row shadowable row deletion exists row deletion valid newer insert row note row timestamp lower shadowed row shadowable deletion timestamp update made row timestamp update row shadowable deletion concrete consequence update cells timestamp lower cells deletion contrary normal deletion deletion preserved cells shadowable row deletions materialized time row time row deletion shadowable deletion shadowable note guarantee wether deletion live actual deletion represents deletion building builder row abid called thing called called construct builder variants sorted unsorted sorted builder expects user abid additional calls strictly increasing column calls methods give column call column call column calls strictly increasing cell order defined give cells passed shadowed data row deletion deletes row timestamp cell added similarly cell added deleted deletion column cell unsorted builder expect rules unsorted builder multiple calls result follow usual reconciliation rules cells reconciled multiple complex deletion column creates copy copy builder sorted builder requires calls sorted order prepares builder build row clustering call clustering clustering clustering row clustering row adds liveness information partition key columns call optional equivalent calling info liveness information partition key columns built adds deletion information call optional skipped row deletion row deletion row adds cell cell cell adds complex column column add complex deletion complex deletion time builds built row built row builder geared deals building rows efficiently internal geared building rows column meant place performance utmost build schema mutation note contrarily api expected clustering row built provided constructor timestamp note method called column addition timestamp row timestamp timestamp timestamp time microseconds ttl note method called column addition ttl row ttl ttl ttl ttl adds column column add proper equivalent appends collection method similar collection elements added method delete previous called collection note method replacement slightly expensive avoid tombstone inherent column column add proper illegal argument column collection deletes generally method called builder removes column column column include primary key built built built utility merging rows multiple inputs clustering row version active deletion filter single data shadowed empty shadowable queried data simple builder collections unfiltered ttl digest cells legacy order stop condition key change reduced iterator complex builder search iterator cell path live cell live update timestamp columns message digest format timestamp cells reducer search iterator util column commit cell iterator array merge common security iterable clustering google primary key liveness info merger reduce merged rows empty iterator btree row data size empty complex deletion column data iterators primary key liveness info row liveness info column metadata code cell arrays column data reducer row deletion size supersedes metadata column builder complex column data predicate simple unshared heap size excluding data base cell reducer complex full details deletes reverse idx column filter row info update paxos active deletion row info marked delete complex cells cd column filter column data reducer timestamp deletion path apply add primary key liveness info fb utilities clustering rows service add row deletion add collection sorted schema function row cell reducer reversed active deletion row add cell op copy consumer deletion merged row deletion complex deletion merged clustering comparator versions cells data buffer purge table metadata builder delete append reconcile fill utils row mark counter local cleared override btree empty build deletion complex column data merge iterator shadowable add complex deletion deletion time shadowed db active deletion regular btree data sec deletion purger update function clear purger rows merge column data live data time
src.java.org.apache.cassandra.io.sstable.AbstractSSTableSimpleWriter
base sstable writers partition update suitable write writer provided key partition key update update partition tied decorate key make range aware buffer table format generation partition update accept existing update header collections atomic io stats active repair service encoding stats table metadata ref rows service keyspace range aware cfname format regular columns atomic integer range aware writing current add files empty desc columns schema table unrepaired sstable file nio decorated key file filter db max gen util concurrent format io column family key closeable partitions serialization header descriptor writer descriptor descriptor filename increment partitioner sstable pending repair table txn writer file table format directory table simple writer metadata generation fmt
src.java.org.apache.cassandra.cql3.functions.UDFExecutorService
executor service exposes stats internal execute execute methods forbidden udf execution utils udf executor service linked blocking queue thread factory throwable jmx path fb utilities functions thread factory jmx enabled thread pool executor keepalive runnable thread util concurrent processors integer cql execute integer execute time unit milliseconds
test.unit.org.apache.cassandra.db.compaction.CompactionsTest
disable tombstone histogram rounding disable compaction wait force single enable submit background wait sstable ttl make max timestamp compacted sstables recorded properly sstable expired compacted column family store store compaction strategy manager strategy manager tombstone removal compaction promote keyspace keyspace column family store cfs cf meta data table decorated key key buffer sc shadow subcolumn supercolumn check shadowed column table reader sstable bounds table scanner scanner unfiltered row iterator ai keyspace keyspace column family store store disable compaction keys keys overlap wait force single enable submit background wait sstables candidate tombstone executed overlapping token sstable key range overlap sstable key range overlap enable magic background task wait compacted make max timestamp compacted sstables recorded properly check echoed row skipp keyspace keyspace column family store cfs disable compaction insert keys sstables trigger causing decorated key key mutation rm compact reinserting compact previous make purge decorated key key mutation rm table reader tmp table sstable tmp table force compaction row remove sstable created force echoed row hide cf bug keyspace keyspace cfname column family store cfs disable compaction decorated key key mutation rm sstables table reader sstable prev generation file submit user defined compaction flushed wait user defined compaction cf sstable generation number sstables prev generation keyspace keyspace column family store cfs disable compaction cf meta data cfmeta directories dir keys array backed sorted columns cf descriptor desc writer desc writer compact force compaction row sstable stats metadata stats cf column family store cfs sstables generations integer uuid task id compaction logs unfinished compactions compaction logs regression keyspace keyspace column family store cfs disable compaction add decorated key key mutation rm sstables query filter filter remove rm column family cf cf null sleep removal purgeable gcgrace sstables compact sstable cf cf null mutation rm disable compaction write groups contiguous range spans separate ranges span range missing beginning range end range ranges middle range covering existing iterator sleep ttl math util add max timestamp junit make ranges pending tasks submit background dk buffer util format uncompressed length db util token live tables compaction single table compaction size tiered compaction compaction options announce table update table reader define schema array configuration cleanup token cfm min system active compactions cf supe cf supe max timestamp cfs run wait futures max scts fb utilities metadata single table compaction canonical decorated key ignore range start row key insert row key apply unsafe ranges concurrent compactors range keyspace put ordered junit runner keyspace max timestamp expected force blocking flush marshal key simple length standard cfmd cf ascii keyspac collection enable auto compaction open size clustering table metadata compactions clear unsafe cfmd integer max timestamp observed start store schema compaction params size tiered compaction strategy key keyspace column family store concurrency property prepare server row update builder ordered partitioner cf dens cf supergc time unit end row key compaction manager original size strategy disable auto compaction runner utils unbuild io core compactor threads current time millis gc grace end sstable column family store instance build timestamp cf standar cf standar cf standar dht cf standar true schema loader populate keys migration manager empty buffer concurrent keyspace params cleanup dense cfmd false
src.java.org.apache.cassandra.net.MessagingService
bits waste preface message number recipient validate sender verb handler identifiers reads responses internal similar nt dummy verb remember add verbs serialize extension point adding custom handled file stream task messages receive incoming tcp connection verb kind message determine deserialize message reply told fine verb handler knew payload handled deserialization avoid extra copy intermediary wire callback info kind serializer wire based outbound records results message id placeholder code inbound tcp connection pass message id lookup table registering message handlers based verbs drop request queued longer request correspond client requests triggered drop internal messages bootstrap repair total dropped message counts server protocol versions nodes message sinks updates state sending host enabled message callback supports host replica host state refers callback message message actual updates state reception host enabled message callback supports host replica host state refers callback message timeout true updated false applies configured local host removed remote hosts hosts apply timeout nanos max track latency information dynamic cb callback message message interested address host replied called gossiper notices node hack listen local ep inet address port listen reuse address connection pool constructs null internode authenticator fails authenticate connection pool null internode authenticator attempt connect nodes authenticate connection message specific constructs null internode authenticator fails authenticate connection null internode authenticator register verb verb handler messaging verb handler handler method verb handler handler registered null verb handler reference iverb handler handler mutations call overload send message method specifies invoked actual message message endpoint message cb callback pass responses suggest timeout occurred invoker timeout timeout reference message id match send mutation message paxos commit method specifies invoked actual holds message mutation determine trigger hint storage proxy message message endpoint message handler callback pass responses suggest timeout occurred invoker reference message id match send message method adheres fire style message messages endpoint message message sinks pooled connection connection write wait callbacks created require writing schedule hints mutation erroneous shut mutation stage attempt humor stop restart message sinks callback version version announced node min version announced node assume announced determine connection decide thread calls dirty hack clean shutdown osx state update dropped mutation count keyspace streaming repair response version server channel version message dropped tasks mutation expiring socket highscalelib tree request concurrent util key verb io host address increment dropped mutations read repair magic failure unused unused unused unused unused logger count stage manager millis min rpc timeout truncation simple condition gossip digest ack add latency gossip message dropped tasks counter mutation cfs hppc total timeouts version snapshot version net ssl handshake suppress warnings runtime incoming message tracing total timeouts sink stage address closeable partitioner age receive verb handler migrations serializer echo message tree response hint message trace state read serialize entry anti entropy initialize message apply version fb utilities uuid serializer hint response handler mutation gossip shutdown msg verb stages port annotations platform mbean server bits large message pending tasks warn failure callback connection managers definitions announce version hints gossip digest syn endpoint join callback determined serializer ip listen gate stream scheduled executors accept states supports back pressure dropped request response internode encryption interrupted config add message sink batch store failure reason param back pressure strategy stream reply boot strapper wait started failure callback param shutdown parameter repair message token metadata enqueue dropped messages register callback shutdown blocking log dropped interval back pressure enabled increment timeout unsupported operation response received mbean paged range range rpc timeout update back pressure receive dropped messages logs optional expired callback info storage service count runnable subscribers register verb handlers destroy connection pool ssl factory cliffc schedule fixed delay large messages close quietly timeout debug key array iterable metric logs truncate data output reset version small messages closed channel ep index scan ssl storage port array log dropped messages read response ret verb read command verb serializers nic stage await timeout reporter ipartitioner base bootstrap token put service thread increment dropped messages messages local aware executor service length streaming repair request incoming tcp connection server socket add callback open messaging service messaging service mbean unknown paxos commit channels table id message open payload size management handle serializer range slice async response schema trace enabled imutation completed messsages deprecated iasync callback failure executor locals target back pressure state write response handler enabled unknown host counter mutation bind time unit logger factory validate magic table ids latency snitch cross node dropped latency truncate response serializer put absent gossip message pending tasks throwable latency response timeout min failure callback instance small message completed tasks blocking trace time back pressure rate limit metrics mbean server data input stream pair iverb handler error send rr runnable clear broadcast address left timeouts host milliseconds socket present bind server socket imessage sink validate partitioner ilatency subscriber math completed tasks register mbean management factory state iversioned serializer schema check info clear callbacks unsafe write response encryption options db batch protocol magic dropped messages ssl remove registered callback illegal state pending tasks connection pool remove incoming streaming connection common message id callback info back pressure prepare response small message dropped tasks connections asynchronous close close verb handlers alive packed status logger message snapshot handle registered callback callback deserializers server encryption options iar hint data input echo back pressure state stream request collectors repair message message key connection send raw version send rr failure receive timing cb version rpc timeout mutation dropped messages cp stream support reuse address message delivery task back pressure enabled log dropped mark subscriber pair metrics registry bounds wait version max time internode authenticator keyspace apply back pressure timeout internal response error server socket channel listen bounds hints connection utils hosts io override logger storage port id result storage proxy small message pending tasks dropped message metrics add latency dht outbound tcp connection cross node ordinal nio migration manager remove message sink socket threads callback id database descriptor input stream recent paxos nanoseconds failure response param increment entry local ep consistency level timeouts snapshot command gossip message completed tasks listening atomic messaging metrics timeout nanos previous paxos prepare serialized size hint large message completed tasks add back pressure state gms io error logger thread format signal execute stream callbacks collection commit outbound tcp connection pool deserialize dropped cross node header gossip digest ack server collect iasync callback copy write array inet address security large message dropped tasks google batchlog visible system send reply definitions update message counter write rpc timeout message read rpc timeout  trace submit hint port reset dropped messages socket threads migration outgoing message scheduled tasks convict configuration run message sinks read misc update host global partitioner id stage back pressure strategy socket tracing batch remove carrotsearch replication finished gossip digest ack cacheable repair droppable verbs pending messages local address timeout existing pool paxos propose locator atomic integer dropped mutations entry currentversion consistency level mbs verb handler log subcriber submit start id verb signaled internodeencryption request failure reason integer server sockets shutdown back pressure enabled dropped messages network scope write rpc timeout reset property versions id gen bounds internal dropped latency migration request inet socket address inet address clear message sinks dropped internal id handle io close server encryption options gossip digest syn metric function column family store back pressure host wait listening table id metric update back pressure send concurrent socket thread write callback info connection metrics closed concurrent registered callback age authenticate file utils gossip listen broadcast address lang truncate rpc timeout partitioner gossip messages slfj mutation opt column family store gossip digest ac serializer
test.unit.org.apache.cassandra.schema.CreateTableValidationTest
sanity table cql tester exc junit table keyspac throwable fail cql table validation configuration invalid bloom filter fp ratio schema
test.unit.org.apache.cassandra.utils.memory.BufferPoolTest
adjust sizes adjust sizes released buffers allocate make current chunk override free slots check buffer free slots mask reset free make thread local storage multiple chunks adjust sizes expected release buffer make thread local storage thread allocate page size heap daemon initialization mt multiple sizes multiple buffers postponed request size sleep buffer free slots cur size immediately buffer pool address buffers add message null junit free slots runnable thread size rnd recycle multiple threads release buffer executor service random frees size buffers chunk chunk exhausted sizes thread sizes chunk random max memory exceeded smaller chunk size negative size request memory usage threshold gc array multiple threads release buffer round arrays order frees max memory exceeded chunk size order frees chunk frees check buffers mt multiple sizes buffer remove count latch fail buffers index capacity fill chunks total size sum put check page aligned compact capacity macro chunk size num buffers run num chunks free ignore mt sizes buffer address buffer buffer disabled idx executor service mt size postponed length max free slots sizes buffer size rand addresses num buffers thread free slots check buffer put clean mt multiple sizes buffer postponed max memory exceeded heap array count size size shutdown buffers submit free multiple threads release buffers memory expected multiple buffers chunk mt multiple sizes multiple buffers chunk size put system finished num buffers chunk setup dd executors chunk mt sizes buffers postponed reset stack trace illegal argument thread count random access reader buffer pool disabled check buffer slots utils mt sizes buffer postponed max memory exceeded direct override allocate heap exahusted seed global pool io throwable idxs buffer size free size check multiple threads heap buffer direct interrupted empty single buffer chunk mt sizes buffers rewind fill config true request max memory buffer pool nio buffers slots buffer await compress random frees fixed thread pool concurrent memory util database descriptor big request error util release idxs buffer mt size page aligned clear seed size request false current chunk
src.java.org.apache.cassandra.utils.btree.UpdateFunction
defining function applied replacing btree intended replace replace replacing original tree update updating collection insert true fail heap size extra heap space allocated previous abort early google utils heap size apply allocated btree function wrapped function bi function replacing update util base op simple update function common
test.unit.org.apache.cassandra.hints.HintsDescriptorTest
mess parameters attempt serialize make sizes deserialize compare message google serialize system random uuid serialize descriptor fail hints descriptor io current version data input serializer normal files serialized size parameters descriptor immutable data input code serialize deserialize loop version actual timestamp expected junit temp dir hints writer lz compressor read file host id suppress warnings serializer empty parameters read file deserialize descriptor compress file util framework io delete exit streams corrupted deserialize deserialized descriptor hints path uuid deserialize dob current time millis collect length array common file directory data output buffer descriptors hints descriptor
test.unit.org.apache.cassandra.db.marshal.ReversedTypeTest
empty buffer reverse comparison instance buffer util instance utils db compare junit empty buffer reversed marshal reversed
test.unit.org.apache.cassandra.db.marshal.IntegerTypeTest
sort compare sanity null wrap buffer message length array math rng integer instance allocate comparison failure expected integer junit math true sorting special extended version nio null arrays compare db util length array common prefix integer signum data null pointer big integer comparator null left random length sorting trimming array marshal signum
src.java.org.apache.cassandra.utils.ConcurrentBiMap
variant bi permits concurrent expects uniqueness domain synchronize concurrent readers lookup races lookup worried prior back key prior back key key utils entry put val collections remove entry inverse collection illegal state empty unmodifiable size concurrent util concurrent key reverse concurrent bi key forward clear key entry key illegal argument put
src.java.org.apache.cassandra.io.util.SpinningDiskOptimizationStrategy
spinning disks add spinning disk optimization strategy disk optimization strategy round buffer size util override io buffer size record size
src.java.org.apache.cassandra.io.sstable.format.SSTableFlushObserver
observer events lifecycle writing called writing data called partition written cells processed key key appended index position position key table called unfiltered cluster written preceded call cluster assumed belong unfiltered cluster unfiltered cluster added called data written file ready finished key begin rows unfiltered format decorated key unfiltered cluster db index position unfiltered cluster start partition sstable complete io table flush observer
tools.stress.src.org.apache.cassandra.stress.settings.SettingsRate
option cli utility max threads max counter write printer printf throttle opt remove accept substring override exit ops io thread options parse auto options math illegal state fixed opt params select rate integer grouped options serializable command runnable option simple arrays auto user system util threads min threads option count write stress throttle illegal argument options thread count fixed length command result logger cl fixed options
test.unit.org.apache.cassandra.cql3.validation.entities.UFTypesTest
combinations ud called null null udf table reference row null check argument input check called null input check called null input null check null null input check null null input null table ddl cql tester nulls row check function frozen entities uuid gen protocol version null junit def util column cql uuid execute complex null array function frozen table defs throwable null transport udf tree version def core rows function frozen ud put array keyspace row udt reference random uuid invalid message size add time uuid date integer datastax tuple function frozen tuple unsafe uf function untyped result null null function frozen table utils protocol versions execute net insert dml tree arrays driver replace function tup index validation called null
src.java.org.apache.cassandra.net.CallbackInfo
encapsulates callback ability message hint written due timeout response callback info target target send serializer serializer deserialize response failure callback true callback handle callback info target callback failure callback hint iasync callback iversioned serializer failure callback io inet address net serializer
src.java.org.apache.cassandra.service.AbstractReadExecutor
sends read request replicas satisfy perform additional requests provide redundancy replica speculating read executor send request extra speculating read executor wait original request timing performing extra digest version request smallest version target replicas produce older digest reverse talking preserve digest format moving rid stop compatible delay local read till end avoid stalling remote perform additional requests original time block original requests answered replicas involved target replicas extra send initial wait blocks success responsibility call additional replicas executor configured speculative read excluding reads potential miscount dc uae early speculative retry disabled disable speculative retry order prevent miscounting dc simply extra replicas handle separately log failed attempts speculate due lack contact node full data requests amount requests turn digest request full blown data multiple repair decision replicas find replacement percentile true speculation occur block time send speculative latency speculating due lack log failure due lack cl rr result covering read executor forces replica hitting additional targets read replica preferred extra data read start replica rr fail entire read replies matter nodes perform data reads speculation stats callback fires waiting attempting speculate dc local contacted replicas dc local read repair chance read failure math digest query read repair metrics additional replicas read timeout target replicas live sorted endpoints add log failed speculation sample latency nanos logger partition iterator db util quorum resolver make requests partitions digest mismatch execute immediately timeout retry command logger local endpoint stage manager common inet address metadata digest version iterable read executor google local request cfs read repair decision retry collect open read repair chance current read command read callback net stage tracing nanos stage speculative retry logger factory table metadata message keyspace digest resolver single partition read command send rr failure speculating read executor messaging service trace state read repair decision read global repair decision local read runnable read command speculated currentversion message digest query consistency level size service collection mark handler params speculative failed retries speculate wait query start nano time thread local random attempted keyspace schema partition key column family store read executor version copy speculative insufficient replicas read timeout endpoint trace state make digest requests speculating read executor speculating read executor replicas tracing time unit endpoints address blockfor metric speculative retries iterables replica make data requests override logger speculative retry param storage proxy block unavailable extra replica min message column family store id instance digest version filter query trace await metrics concurrent chance initial replicas assure sufficient live nodes nanoseconds execute async slfj command milliseconds data present consistency level
src.java.org.apache.cassandra.cql3.QueryProcessor
prepared statements internally mix user bother expiration direct calls process statement increment callers process statement responsible correctly notifying work initialization clears prepared statement memory memory caches check key handled threads prepare live bother queries executed created statement special version execute internal time query note make sense selects accept select statements concatenate current keyspace mix prepared statements keyspace keyspace query keyspace execute statement bigger check bound variables point match count markers variables keyspace statement require clear internal statmeent cache remove overloads argument matching change updating function imply changed body invalid statements definition picked function resolved preparation function multiple invalidate statement refering requires matter updating function imply changed body invalid statements definition picked function resolved preparation function multiple invalidate statement refering requires matter bound page size minute evictions count antlr internal caffeine existing statement size write prepared statement clone keyspace system keyspace atomic buffer prepare internal parsed statement remove affects statements removal listener statements predicate prepared statements cache size mb remove invalid prepared statements function iterator row iterator untyped result cache system keyspace function internal add message protocol version singleton iterator empty version schedule fixed rate remaining load prepared statements query info keyspace metadata partition iterator buffer util format syntax db query start nano time collections util keyspace parse unhandled query str cql execute internal partitions execute functions iterator cf array statement column family iter process batch logger common stored prepared statement query state process statement cql statement remove invalid persistent prepared statements present google visible concurrent compute batch cql metrics cache size mb result keyspace measure iterables batch statement alter aggregate client state nano time transport system error prepared statements evicted collect pager runtime cql rows caffeine cast iterators state remove invalid prepared statements statement invalidating listener select scheduled tasks check true capacity prepared statements count regular statements executed bound validate key invalidate empty instance tracing statement cf query stmt register listener unset buffer query options base key batch statement query processor request validation client state prepare request execution batch query options tracing assignable messages parse statement key keyspace length statement id compute id client state runtime marshal executors invalid request make internal options max unsigned statements check access cl clear prepared statements variables cache entry md digest ce maximum weight measure deep prepared alter function entry evicted validate consistency level size drop function cf statement rows store prepared statement service prepared statements executed alter table atomic integer prepared builder drop aggregate statement execute internal paging pair function annotations direct executor schema execute internal schema change listener bound terms raw cql statement reset prepared statements bound terms cql version md digest warn simple remove minutes logger function pstmt count cql parser internal statements custom payload illegal argument raw keyspace prepare keyspace checked cast executor time unit logger factory statement decompose trace enabled rows query state weigher scheduled executors process utils drop table result result message preload prepared statement substring cql fragment parser put absent recognition query pager primitives logger partition iterators function functions sizes select statement clear internal statements cache resultify id instance query build request validations fb utilities schema config internal query state internal calls klass select statement concurrent invalidate nio trace put drop keyspace prepared metrics concurrent schema constants modification statement matches function database descriptor modification statement pager remove prepared statement consistency function sec current github query handler aggregate memory clear partition aggregate execute internal options increment slfj keyspace cql benmanes prepared statements entry internal state instance process prepared left
src.java.org.apache.cassandra.db.Conflicts
prefer longest ttl matter counter timestamp tombstone left precedence left greater left handle empty counters empty counter cell read column cell queried user due optimization handle wins local deletion time buffer left local deletion time left left live instance conflicts remaining nio left timestamp db timestamp merge resolution resolve counter merge counter live counter context left wins merge context compare resolve regular left
test.unit.org.apache.cassandra.config.DatabaseDescriptorTest
result load custom server accepts single address checked confirm ability select confirm address confirm ability select confirm address size rpc configuration loader intf addresses elements runner element setup database descriptor system enumeration property inet address listeninterface config inet address configuration loader clustername address collection database descriptor tokens load config listen ipvand ipv empty net loader config junit configuration true rpcinterface arrays listen address db listen address network util keyspace config select suitable inet addresses apply address config run database descriptor host address loopback daemon initialization tokens rpc address listeninterfacepreferipv listenaddress ipv suitable network ordered junit runner addresses rpcinterfacepreferipv rpcaddress inet address rpc address loader initialized tokens ipv
src.java.org.apache.cassandra.db.marshal.ByteType
empty buffer empty divide number utils marshal negate cq multiply tinyint buffer override parsed transport serializer serializers source format protocol version comparison custom instance add empty protocol version left constants term nio buffer util buffer db json empty buffer simple position cql input serializer mod substract serializer left deserialize number cq parse compare custom json marshal decompose
src.java.org.apache.cassandra.cache.SerializingCacheProvider
external row cache unlike cfs support cache provider icache row cache sentinel data output serialize serializing cache serializing cache provider write read io sizeof size serialized size read cache config sizes sentinel id cached partition data input db util sentinel io cache serializer database descriptor row cache serializer iserializer partitions deserialize write irow cache entry row cache size mb entry row cache key
src.java.org.apache.cassandra.db.PartitionRangeReadCommand
read command selects range creates read command query data metadata table sec time newly created read command queries equivalent command queries data provided range restrict command method proper command applied range continuation direct continuation previous range matters states paging context parallel state make sense range queried range previously query yield practice ranges false slightly pessimistic counting data include bit dealt replica dealt results note range state parameter continuation range previously ignore states data limits group assumes middle make assumption query range fetch data current historical tables correct close closing result close closing result iterators empty offline creates update tables read update tables read note rely fact advance costly operation reading partition key index due call merge lazily check partition row cache covers close put row filter data range end result query reconciled passed cql layer serialize selection query partition key restrictions satisfied selection deserializer row filter selects partition sstables range rpc timeout close math range latency digest query deserialize make partition iterator post reconciliation processing row filter cfs add version protocol version partition position optional range continuation memtable serialize partition iterator format scanning started max db execute util unfiltered row iterator io deserializer filter fully covered partitions table reader partition range read command clustering cached array keyspace iter column filter collect common view clustering index google selection serialized size data output selects clustering result empty iterators protocol version iterables close client state transformation transport index unfiltered partition iterator apply index data limits verb read command select data input net view fragment read count updater metadata clustering index filter kind suppress warnings runtime tracing decorated key post processor paging state range selects key serialized size key cache filter raw cached partition suppressed dk clustering index filter select live service limits request execution tracing selection deserializer scanner filter sstable range size messaging service query storage table reads listener increment read count append cql clause min local deletion time column filter partition range query pager fetched columns apply partition range slice open consistency level fb utilities clustering rows repaired table metadata merge lazily transform data read pager iterators state integer selects metric empty schema check cache filter unfiltered partition data range cached partition builder range slice index metadata keyspace partition key column family store read count updater limits copy add nano data unrestricted add suppressed data range timeout read execution controller message client state memtables execution controller bounds utils table metrics clustering key restrictions satisfied base row iterator io query pager override cql record latency oldest unrepaired tombstone storage proxy updated limit min unfiltered partition iterators message column family store partition range paging state error empty append partition key memtable unfiltered partition iterator dht config expression clustering regular columns digest version range trace metrics query start nano time compact table digest database descriptor pager lifecycle view sec memtable latency nanos partitioner key range selects full partition consistency sb serializer
src.java.org.apache.cassandra.io.sstable.format.SSTableReader
table reader constructed number typically read disk constructed flushed replace existing sstablereader open reason describes current stage reader read startup flushed early reader result reader failed restored normal reader compaction replacement incomplete represent partial result finished part completed early time normal reader compaction compaction partially fully partially fully replace start key updated represent reads normal reader low traffic amount memory index summaries index summary note parallel descriptor tmplink normal state readers readers replace normal tmplink early state readers reader result large replacement opened early completes order present result consumers reader changed start longer represents minimum permit reads directed reader represent early file represent compaction partially complete complete immutable sstable part macro compaction action fully compaction results briefly early open state prior early opening reader created multiple times shared underlying exact shares instance differ track lifetime underlying resource reference instance ref instance tracks references expire releases refs underlying shared cleanup behaviour sstablereaders stage early normal occur readers kind single sstable managed tidy global tidy managed resource instance tracks ref instance ensure resources cleaned safely debugged fill details tracker lifecycle interactions compaction start thread pool client immediately remove read meter sync task regular introduce special easy max data age timestamp local server time represents upper newest piece data stored sstable items field serialized relying truncate sstable max data age time sstable created max data age max merged age milliseconds epoc local indexfile null call technically compacted unreferenced good extra layer protection reference counting bugs delete data based change level calculate approximate key cardinality estimator method key index sstables tables calculate key estimated key load forced estimate keys wrong cardinality calculate index estimates keys sstables compacted offline track offline track open table reader batch opened minimum components check sstable created partitioner older version sstable stats skip minimum components sstable stats component hold serialization header deserialize sstable check sstable created partitioner older version sstable stats skip load index open row indexed reader state initialized normal operation sstr initialize wired rest server bf avoid reading missing primary index happen bf filter component bf fp chance sstable metadata changed bf enabled fp chance matches configured load bloom filter loads dfile optionally recreates bloom save summary created bulk loading summary absent avoid persisting disk tidier release files build index optionally bloom reading recreate bloom filter true recreate bloom summary loaded true index summary loaded build read positions braf worry entry spanning mmap statistics supposed summary read disk primary load index summary file loaded index summary index interval current stored file deleted false rebuild true index summary loaded successfully delete fall back creating delete fall back creating save index summary save index summary corrupted delete load runnables anonymous retain reference chain clone reader provided start open clone key replacement original due opening compaction reason cloned reader replacement clone reader clone key replacement original due opening compaction reason summary index summary cloned reader replacement run close anonymous retain reference chain merge save table reader properties table reader index summary built target table reader instance marked deleting task periodic sync task sampling level desired sampling level index summary rebuild summary primary index sampling level read entries changed entries full sampling sampling forcing raise sampling existing index summary make smaller save resampled read positions braf worry entry spanning mmap position index file start scanning find key index interval keys modulo downsampling index binary search index key searched insertion compression metadata illegal state sstable amount memory heap compression amount memory heap compression purposes amount memory heap bloom amount memory heap bloom estimate number keys table based index estimate number keys ranges adjust current sampling number entries full approximately keys approximate number entries index summary full key index summary entry index determine minimal section left range start left past end range end inclusive previous index binary search give index key stricly greater empty determine minimal sections extracted table cover sorted pairs cover ranges datafile index determine minimal section truncate range covers empty retrieves position updating key cache key key apply rhs key key selection token bounds op op operator defining matching nearest key target matching operator retrieves position updating key cache key key apply rhs key key selection token bounds op op operator defining matching nearest key target matching operator listener handle key key apply rhs key key selection token bounds op op operator defining matching nearest key target matching operator update cache stats true updating stats listener listener handle internal index entry null key finds key token table null key length data compressed thing disk size length disk size compressed thing data length crc check argument supplied property called property updated mark sstable compacted newer calling caller ensure table reader referenced threads holding multiple times buggy direct table scanner defined range range range keys scanner seeking rows direct table scanner entirety scanner full content direct table scanner defined collection ranges ranges range keys scanner seeking rows direct table scanner iterator range iterator keys scanner seeking rows columns columns data range filter reading listener listener handle internal read scanner seeking rows sstable data newer age param localhost current milli works conjunction max data age upper bound data age age compare max data measured millisec epoc true iff sstable data newer age hint read path key location caching saves index summary lookup index file iteration whould pretty presence promoted column move someplace comparison result call desired field operator match greater match sstable tombstones guaranteed note method guarantees sstable tombstones whatsoever cell range tombstone maker expiring guarantee simply sstable guaranteed tombstones min local deletion time bigger valid deletion reloads sstable metadata called level changed sstable dropped remove future component component modified time component exist io error number key cache number key cache increment total read count read rate incremented accurate actual sstable stats instance table reader instance tidiers time reopen sstable global tidy single logical instance tidier releases reference global tidy cleans reference shared tidy release reference shared cleanup sstablereader fully instance logical tracks shared cleanup shared state method shared stash reference released references shared tidy keyed shared global tidy read meter shared instances overridden scheduled persistence cancel instances sstable shared state managing logical sstable track read rates tables system keyspace bother load read meter client track read rates running client tools mode sync average read rate starting minute ideally drop page cache file instances reference shared global tidy ksname file data input iterator skip global instance tidier existing buffer limiter filename run ref counted update cache stats message position atomic stream heap size schedule fixed rate compression metadata heap size gt init sync executor drop page cache total reset tidying key util ge io index file entries summary cardinality estimator reload table metadata serialization header table reader metadata positions array key cache hit logger index buffer size index size millis disk normal size effective interval client tool initialized load summary iterables ref cfs isummary early compaction metadata sample key count current version crc check chance bloom filter serialized size metadata persist table read meter unrepaired sstable referenced index summary suppress warnings component ranges descriptor restored start compressed stream path recent false positive count array read ordering scanner filter sstable index access mode estimated key count open batch database descriptor bloom filter heap size slices stop read meter persistence obsoletion deletion time serialize linked blocking queue index serializer column filter estimated keys overflowed apply fb utilities ifile cleaned ordering max key bound sampling level annotations add index total rows summary warn pending repair column family store cardinality merge key cache cardinality setup online shared copy run setup input stream descriptor pending repair key cache key executor sample indexes ranges decorate key compare table scanner stream scheduled executors validation metadata await termination add entry substring index summary size data refc schema normalize metadata component key cache request decorated key interrupted empty config directories metadata change save summary disk optimization strategy await index decorated key global tidy clone replace index summary builder schema constants build summary clone start histogram count path index start file atomic unsupported operation ifile position live disk space max ttl compaction max local deletion time internal instrumenting cache unique identifier estimated partition size moved start ref simple iterator data start partitioner runnable index summary index binary search result chunk cache avg column row replaced min timestamp update stats remove cancel policy noop listener execute track hotness ref row index entry modified key samples merge token close quietly debug validation iterable minimum generation bound eof thread factory data length index serializer suspect bloom filter true positive count read length code sampled position reader force filter failures mark obsolete min timestamp ref primary index filename barrier builder reason base reader put repaired eq index table metadata ref estimated column count days filter length read meter bloom filter tracker binary search result false positive count index key op order table reads listener delete confirm release summary bloom filter fp chance min index interval scheduled future cell table id collection open active repair service size service summary loaded greater min ttl path params read meter total columns dfile min ttl schema fixed pool size data range reversed acquire total uncompressed make row range system keyspace snapshot directory path minimal key index scan position binary search result internal open compression metadata canonical time unit estimate rows index logger factory open index reader trace enabled summaries file repaired tidy tombstones partitioner put absent index channel start issue chunk cache open reason increment downsample primary index restorable meter component instance max timestamp comparator build channel cache key true positive count trace index dfile position creation time compress metrics header handle error data input stream position disk access mode sstable ordering mark suspect error approximate key count runnable clear table level table id cache keys compare caching add true positive sum estimate compaction gain present read meter sync future local hard link open validation total columns sstables bloom filter math ifilter recent bloom filter true positive count parameters open data reader cache links permit match past failed total key count weak reference columns skip cache info bloom filter false positive count index entry db listener data channel token illegal state key cache summary common release throwable exists recreate bloom filter bounds analytics disk length close nano time stats empty buffered input stream key cache setup estimated keys ranges pretty memory positions ranges parent key cache hit pending repair reader factory write length key compression metadata debuggable thread pool executor load bloom filter drop page cache ensure read meter key sampling level disk access mode executor service estimated histogram load identity collection range iterator key tombstone built summary header shutdown max index summary size cancel pending repair cfname table metadata format mark icardinality library pair unfiltered row iterator stats open reason buffered data output stream sync executor sstable comparator comparator partition position max number entries save summary created index file length position cache service total disk space handle corrupt table min local deletion time error total rows bounds run close instance id utils factory binary search channel proxy heap size sstable metadata uncompressed length marked compacted io primitives logger buffer size id encoding stats null gc file data input min index interval system keyspace barrier compression ratio crc check chance file output stream dht header nio bounds sample index range file found secondary index separator clearspring validate hyper log log base sampling level repaired nanoseconds tidy sampling level index summary random access reader components droppable tombstones entry left concurrent present wrap table metadata ref effective index interval collections atomic files serialized size increment read count mmap clone summary sampling level add index scan position max local deletion time logger min key bound metadata serializer size build summary level buffer util format cardinalities token processors compression metadata disk optimization estimate percentile desc estimated droppable tombstone ratio iterator deserialize slices source file left position collect operator error replacement estimated partition size google table read meter scheduled thread pool executor visible system selected columns max timestamp sstable level max index interval override read meter table metadata ref rate limiter log open storage metrics capacity exit file pointer read meter sync future index ranges max ttl global ref bf run index decorated key table format index summary heap size range percentile target link column family store instance file length replaced comparison idx singleton current time millis merge cardinalities index summary sampling level index position unified key table metadata op optimization strategy stats metadata crc check chance clone restored start open index summary dbuilder max timestamp index summary key wrap range config row index entry serializer rows compression ibuilder downsampling submit start tidier caching params recent bloom filter false positive count integer cached entry filter complete data buffer size cached position marked suspect greater overlapping uuid data output stream sample indexes range iter minutes serializer count filter factory data range stats metadata bloom filter fp chance left bound corrupt table key cache enabled greater paths intersects remove table key cache request file reader factory cache key estimated column count bloom filter tracker identities metric min local deletion time barrier summary builder lookup meter sync throttle max data age concurrent read length total key count concurrent size comparator file utils entry recent true positive count lang max mmapped validation metadata age partitioner periodic tasks slfj components file handle validation compression ratio serializer
src.java.org.apache.cassandra.cql3.Operations
operations regular operations checks operations apply operations apply checks operations apply regular operations apply regular regular applies regular statement delete operations delete full row operation applies columns regular operation regular operation regular operation operation adds operation operation checks operations requires operations requires operation incurs checks google statements iterator requires read override delete operation applies regular columns function functions regular operations add functions iterators add empty applies columns util cql concat operations iterator column array collect common operations operation statement iterable
src.java.org.apache.cassandra.hints.ChecksummedDataInput
wrapper calculates crc verify allocate extra array crc embedded input stream checked addition calculating enforce maximum blow heap deserializing corrupted sequence reading huge corrupted length seekable representation current compressed files chunk file offset exact position uncompressed view position source disable crc updates called reset crc channel proxy file descriptor buffer crc update disabled past limit remaining skip cache read max util io position crc check limit common google update crc eof check crc close source position crc position rebuffering input stream preconditions reset limit suppress warnings read len input position base subtract heap length check state buffer size read fully pos put open size seek position zip path duplicate library memory channel buffer buffer position hints reset flip random access reader limit cr uncache read file utils io override seek unprocessed file path read buffer channel buffer pool buffer offset buffer nio limit buffer compress update checksummed data input clear limit mark source position file position
src.java.org.apache.cassandra.dht.LocalPartitioner
avoid access workarounds embedded minimum token decorate key unsupported operation midpoint token validator utils random compare describe ownership partitioner local token token factory collections buffer measure override code singleton ratio left token factory sizes size heap obj comparable token array instance split memory heap allocator dht local partitioner heap size token factory nio buffer util partition ordering db clone decorated key random token util token key validate token prime ipartitioner cached decorated key comparator preserves order random token array empty buffer sorted tokens compare empty size marshal serial version uid left
src.java.org.apache.cassandra.db.view.ViewUtils
calculate natural endpoint view natural endpoint endpoint cardinality node replication cardinality number node store piece change replication strategy filter ring nodes local datacenter calculating token cardinality token cardinality token token rf view base token view token pairings nodes writes cardinality cardinality writes cardinality cardinality writes cardinality cardinality method called base token belong endpoint local base endpoint view view remove endpoint shared base select counts replication strategy base belong replication strategy placement number replicas tokens node base replica size utils network topology strategy locator natural endpoints open replication strategy fb utilities view endpoints replication strategy local data center base token index base endpoints view utils net dht config empty base idx datacenter view endpoint base endpoint db view token util keyspace token add database descriptor replication strategy optional array remove view natural endpoint broadcast address inet address endpoint snitch keyspace view
src.java.org.apache.cassandra.utils.IteratorWithLowerBound
lower bound utils iterator lower bound
src.java.org.apache.cassandra.streaming.StreamConnectionFactory
creates connection socket stream connection factory peer streaming io io inet address net connection
src.java.org.apache.cassandra.db.rows.AbstractRow
base good reason row extend comparator unfiltered digest row serializer include cluster keys live db collection util comparator local deletion time tombstone clustering subtype common security update clustering google buffer ct iterables append nio collection primary key liveness info serializers collect code cell user fb utilities metadata stream support kind complex column data simple field id full details collectors column marshal row marshal spliterator cd cell path size clustering rows table metadata transform elements schema function builder udt message digest kind comparator ut cells row stream complex data utils override cql function collection format deserialize deletion ordinal complex deletion field validate validate data sec column data live data time sb joining
src.java.org.apache.cassandra.db.transform.BaseRows
swap parameter order avoid casting transform existing base rows signalled rows run close rtm utils regular columns stop fail stop child base row iterator unfiltered override transformation row rows table metadata throwables stop transform apply partition key partition close add attach base iterator input row reverse order transformation columns schema apply db copy decorated key len apply partition key range tombstone marker throwable stack contents apply row merge length row apply marker empty row metadata row
src.java.org.apache.cassandra.streaming.messages.StreamInitMessage
stream init message node initiate true init message connect outgoing message receiving serialized compress true message version streaming protocol serialized message buffer compression streaming version put messaging service io data output utils serialize stream init message serializer write utf streaming write outgoing buffer preview kind currentversion message stream operation serialized size uuid serializer description read message plan id read version iversioned serializer allocate data output buffer fixed session index net size data description compress read utf sizes nio sizeof runtime buffer data input db protocol magic preview kind util stream init message pending repair io inet address compact endpoint serialization helper table level uuid deserialize header initiator messages flip length serialization val put write data output buffer stream operation serializer
src.java.org.apache.cassandra.serializers.DoubleSerializer
utils serialize marshal buffer serializer serializers serializer instance remaining nio buffer util format empty buffer validate deserialize
tools.stress.src.org.apache.cassandra.stress.generate.PartitionGenerator
column google stream max row count element clustering component averages buffer iterables sorted linked compose generator generator index clustering components permit nulls generate components min row count integer size index convert nio index component partition generator max util average partition key arbitrary min order concat stress shuffled collectors key clustering distribution put collect length common order decompose clustering descendant averages
src.java.org.apache.cassandra.index.transactions.UpdateTransaction
handling index updates write instances update transaction scoped single partition instance obtained cleanup transaction instance partition processed compaction make guarantees lifecycle called called end instance initialized registered transaction scoped specific partition assured events receive relate logical calls arrive impact indexers notified events delivered single necessarily relate single typical sequence events memtable update notify indexers start partition update implies called row present called row update version note existing row memtable updated version replacing incoming result merging incoming finish called partition swapped existing update transaction row index rows deletion time range tombstone start partition deletion range tombstone inserted updated deletion time range tombstone transactions op db index transaction updated commit row
src.java.org.apache.cassandra.concurrent.ScheduledExecutors
centralized location shared pool periodic fast pool periodic executor tasks longer execution executor tasks waited scheduled executors optional tasks scheduled fast tasks periodic tasks concurrent scheduled tasks debuggable scheduled thread pool executor
test.unit.org.apache.cassandra.cql3.validation.operations.SelectMultiColumnRelationTest
wrong order wrong number missing clustering wrong mix single tuple check tuple empty tuple tuple tuple tuple query tuple query reversed order partition key clustering reversed order reversed clustering reversed order reversed clustering check select tuple migrated operations invalid syntax multiple clustering mixed order columns utils relation multi single column relation mix mixed order columns mixed order columns multiple partition key multi clustering index mixed order columns invalid message buffer simple tuple query multiple clustering index single partition invalid queries big cql unset tuple cql tester statement restrictions allocate error msg empty row invalid column junit requires filtering message nio buffer util rows multiple clustering reversed components multiple clustering index multi column relation single clustering invalid queries single clustering restrictions execute index select multi column relation multi column restrictions index multi clustering invalid queries compact option table unset duplicate throwable validation invalid
tools.stress.src.org.apache.cassandra.stress.generate.values.Dates
range generated advance stress generator override date instance option distribution date generator config config dates identity distribution db util generate stress identity distribution marshal distribution factory
test.unit.org.apache.cassandra.db.marshal.TimeTypeTest
check time correctly recognized compare serialize time buffer serializers cql tester instance table row junit nio rows db nanos util concurrent throwable cql execute time serializer comparison days time time time unit marshal time
src.java.org.apache.cassandra.io.FSDiskFullWriteError
disk full write error override io throwable path write error
test.unit.org.apache.cassandra.utils.ByteBufferUtilTest
make bb null including edges foul things masking sign check buffer positions conversion accounts buffer offset limit chunk middle random slices prefix original prefix random position inside ends random random buffer array copy hex junit buffer util util io hex conversion array array data output buffer array copy put min direct wrap read array read length tmp starts slice read length current allocate buffer util ba bb read read write write length index put remaining actual read length check read write hex write length pos clone clone clone conversions decode input stream copy range mark position duplicate expected starts ends allocate direct thread local random reset input stream put array limit clone array bb utils io check array copy charset max true index nio arrays clone array input stream concurrent data input stream check index character coding clear ends false position
src.java.org.apache.cassandra.transport.messages.AuthResponse
sasl token message client mechanisms clients send initial token receiving challenge authentication send ready message authentication auth challenge login error message buffer mark success negotiator codec server connection io cb util override query state auth response transport evaluate response service instance sasl negotiator connection complete decode codec size version protocol version encode protocol remaining query start nano time body authenticated user write nio buffer mark failure request execute auth metrics auth success user response iauthenticator netty auth metrics read auth response dest authenticated user encoded size sasl negotiator messages client state response token buf query state message challenge
src.java.org.apache.cassandra.db.CompactTables
small utility methods pertaining encoding compact storage compact storage tables exists sake encoding internally thrift tables exposing tables note due internal compact tables correspond cql internal layout tables encode thrift layout table compact key column primary key clustering column regular store thrift columns present advance columns inserted declared compact tables defined interacting cql column column defined thrift note declaring table cql clustering columns ends internally variation table comparator underlying table clustering column element rest layout thrift column column families encoded table key primary key column encoded row column defined special column empty guaranteed conflict stores column empty conflict column validate compact regulars simple column count utils empty compact buffer complex column count table metadata compact column column metadata regular columns add compact column column clustering index columns schema kind nio buffer util candidate column column db empty buffer generator compact column empty compact index error util kind simple column clustering clustering compact tables regular metadata marshal
src.java.org.apache.cassandra.tools.nodetool.SetCacheCapacity
google nodetool probe airlift node probe arguments io override tools title preconditions usage integer size node tool airline description node tool cmd util cache capacities cache capacity base command execute array required check argument common
src.java.org.apache.cassandra.serializers.UTF8Serializer
converting worry converting buf state stays validate special modified null handling fun validate expecting expecting expecting degrade expecting degenerates invalid state fourbf threebf state text serializer buffer threebf threeabf slice serializers charset instance state fourbf remaining ut validator nio marshal start validate buf utf ut serializer standard charsets
src.java.org.apache.cassandra.serializers.InetAddressSerializer
utils serialize marshal unknown host buffer wrap serializer inet address serializer serializers address instance net remaining address nio buffer util format empty buffer validate host address error array deserialize inet address hex
src.java.org.apache.cassandra.db.commitlog.CommitLogDescriptor
match legacy version commitlogs support increment number commit log disc layout messaging version make handle additional headers segments pass custom header succeed parameters length corrupt segment filename filename true filename commit log based unsupported operation put data input messaging version collections buffer ignoring compression group parameters additional headers version encryption context input read format matches matcher db file util parameters io illegal state utf crc header parameters common read error security put google pattern visible standard charsets commit log descriptor construct parameters compression parameters key runtime tree filename checkcrc version file pointer net configuration suppress warnings empty read cr base put random access file parameterized parameters parameters length filename prefix read length eof encryption context filename extension messaging service valid simple read fully parse file cparams separator parse currentversion fb utilities regex compression zip matcher update checksum json params integer annotations classname parse compression illegal argument compile descriptor put version json put raf file utils parse io id charset empty split config json nio write header update compression key encryption context header commit log file pattern read header file commitlog
src.java.org.apache.cassandra.schema.CQLTypeParser
fast path common primitive primitive google utils cql parser parse raw cq parse udt prepare internal cql fragment parser buffer util keyspace unparsed user add build nullable lower schema immutable primitive builder db parse user raw cql cql parser builder upper lowercased collect common comparator marshal
tools.stress.src.org.apache.cassandra.stress.operations.SampledOpDistributionFactory
operations singleton ratios measurement sink entry key fixed op distribution collections distribution fixed entry math sampled op distribution clustering op distribution add op distribution factory pair size sink sampled op distribution factory keys partition generator distribution timer util enumerated distribution report generate desc warmup stress ops stress action array commons timer key operation op ratio iterable distribution factory
test.unit.org.apache.cassandra.cql3.CQLTester
base cql current server version supported latest preferred versions supported latest versions supported register endpoint snitch fixed code foce preparation expected cleanup stop unmap cls instances prior failures clean clean data directory stored data query internal cql tester prepared statement populate internal cache reuse prepared statements cached clear cache files avoid accumulating restore standard behavior clean dropping table dropping delete huge deal cleaner cleanup thas delete blindly table run taks scheduled push task queue find perfect good lazy initialization require copy copy clean data directory stored data accidentally delete directories prefix table index creation method searches system table index true finds index found statements relative change current statement reuse prepared statement avoid drop prepared cluster supply network setup time arrive adding check ignores ordering protocol version query mimicking real message text text message runs function flush checking behavior data memtables expected format special hackish rellly buffers make system partly rely conversion complain cast pass bases conversion pass wrong properly raise execute internal handle things tuple execute internal reach inside collections tuple transform decompose method collection reach inside collections reason collection collection override change serializer collection directly attempt find abstrac work good iterator codec results invalid sleep column spec buffer query row compact directory message junit function val endpoint snitch util actual rows io cql linked increment array drop keyspace iter invalid syntax message logger query state dir murmur partitioner simple statement append codec registry index session net version aggregate overload net start gossiper cq metadata datacenter empty runtime index cleanup leave dirs parse statement rows net prepared field change column definitions big integer tuple internal calls result server socket session force blocking flush timestamp options validate uuid extra metadata cleanup saved caches serialize entry build apply rows ignoring order fb utilities regex keyspace optional tasks datastax dir ut index keyspaces drop missing rows warn unsafe column family store function collection endpoint format schema change periodic tasks column functional install assignable stream scheduled executors substring index cql schema cql tester interrupted empty column definitions config directories true uuid uncaught handler stop await schema constants alter table current replace file schema change result invalid syntax system keyspace query state big seq number group loopback address tuple cleanup cache system keyspace checked function clusters optional storage service immutable keyspace runnable drop table matcher inet address current column family store framework table wait index serializer directories execute duration iterator table key event iterable remove tables restart unsafe meta connect schema change buffers protocol version transform ret formatted index arrays files math valid syntax host rows builder unset buffer base throwable put query processor prepare require network messages buffer length client state make row invalid message prepared open init server size service cdc dir endpoint snitch statement date store schema trace enabled expected row extra rows copy rac target formatted query aggregate expected cluster str time unit logger factory initialized invalid result message functions drop directory expected rows rows ignoring order extra clear internal statements cache instance build schema loader trace sb rack error runnable aggregate disable compaction execute internal commitlog joining linked page size present text server socket force flush parsed statement find syntax drop big decimal commit log location port data file locations cdc log location null aggregates drop compare endpoints column specification execute formatted query index db disable prepared reuse keyspace execute internal entry common version schema change illegal argument thread aware security manager qualified ser exists rows indexes result persist local metadata count latch fail close client state decimal fetch size slfj saved caches location serializers uncaught handler function filename user state target missing num expected rows server caches dir instance collectors absolute path query options key keyspace force major compaction decompose full query current table cl ignore row cache size mb table tuple row val sess table metadata flush atomic integer column difference actual function expected child directories empty query info array builder reuse prepared keyspace user table tuple untyped result prepare server format cql compile elt error make buffer expected column disable auto compaction partitioner unsafe utils cluster io execution override protocol versions logger local port thread keyspace field num delete recursive row count current keyspace commit log dht nio keys insensitive driver mkdirs force prepared tuple database descriptor max unsigned builder function overload rows ignoring order internal duration entry index daemon initialization collections atomic tables column specification addr actual row supported field add codec expected protocol version logger remaining change buffer util format prepared error message alter table deserialize server collect actual decoded inet address google pattern system flush transport starts function codec allocate configuration core server prepared run bb replace index ignore extra add contact points count actual data idx stop unsafe keyspace serialize tuples current time millis actual tables drop marshal row statements locator parse function drop index rows quote format serializer rows port matcher row cache size mb collection index created start column identifier integer configuration index regex keyspaces copy data center null empty info property bbs reuse prepared stop forcing prepared drop formatted table cluster table metadata latch view delete trim current table metadata protocol version result format query message functions sessions execute net column family store cleanup tear execute net paging empty aggregates prepared concurrent file utils entry index regex invalid message index pattern uncaught finish startup unset integer
src.java.org.apache.cassandra.tools.nodetool.DisableHintsForDC
google nodetool probe airlift node probe arguments io tools preconditions usage size node tool airline description node tool cmd util base command disable hints dc execute array check argument common disable hints dc
src.java.org.apache.cassandra.utils.progress.ProgressEventNotifierSupport
thread safe progress event notification utils copy write array tag progress event override event progress event notifier add progress remove progress listener listener concurrent fire progress event util progress event notifier support remove listeners add progress listener progress listener
src.java.org.apache.cassandra.io.util.ChunkReader
random file reader component reads data file provided buffer requirements size alignment caching rebufferer reference actual read chunk attempting fill capacity filled buffer positioned limit size source requirements positioning size buffer satisfied buffer size required power alignment specifies buffer caller attempt guaranteed nio rebufferer factory buffer preferred buffer compress buffer util chunk reader chunk size io position buffer read chunk
src.java.org.apache.cassandra.db.SinglePartitionReadCommand
read command selects single creates read command single metadata table sec time column filter column filter row filter row filter limits limits partition key partition key partition clustering index filter clustering index filter newly created read creates read command single metadata table sec time key partition key partition column filter column filter filter clustering index filter newly created read command row filter creates read command queries single partition metadata table sec time key partition key partition newly created read command queries rows creates read command queries single partition metadata table sec time key partition key partition newly created read command queries rows creates single partition slice command provided single metadata table sec time key partition key partition slice slice rows newly created read command queries query query columns table limit row forward creates single partition slice command provided metadata table sec time key partition key partition slices slices rows newly created read command queries query query columns table limit row forward creates single partition slice command provided metadata table sec time key partition key partition slices slices rows newly created read command queries query query columns table limit row forward creates single partition command provided metadata table sec time key partition key partition clustering rows newly created read command queries query query columns limit row forward creates single partition command provided metadata table sec time key partition key partition clustering row newly created read command queries query query columns limit row command suitable paging row previous newly created query row query limits limits page newly digest reaching close created iterator closing result method singleton unfiltered partition iterator ctor fetch rows requested read disk cache partition filter partition figure filter filter result cache attempt write invalidates potentially cache evict entire partitions writes read cache normal note tables clustering positive rows cache implies caching full cache read covers cache rows read user query rows cover trivial existing settle caching read user query query head partition common cache full read close closing result custom iterator data limits avoid stopping original cache rows cache previous replace sentinel cache query note cache full current query interested guaranteed queries memtable sstables fetch result note check row apply query row filter ignore applied record read metrics scanned cells publicly exposed places note created queried table require parameter enforce explicitlly query memtables sstables generic strategy filter optimize filter query specific make column queried data recent saving reading older imply guarantee data counters collection guarantee older sstable elements recent counters intrinsically collection shards added iterators closed closing merged eliminate full sstables based timestamp read eliminate sstable max timestamp rely sstable ordering max timestamp guaranteed row tombstone necessarily iterating max timestamp order recent partition tombstone minimize number sstables read partition partition tombstone timestamp recent update skip sstable tombstones check pass safely added iterators closed closing merged check sstables tombstones added iterators close closing merged columns include clustering stats sstable record sstable wrapped iterator closed update sstables iterated read sample note transformations framework greedily iterators initialized sstables closed closing result caller read querying relevant sstables sequentially order max query hope query recent query recent older sstables guarantee row collection counters method assumes filter add tables disk read sorted partition tombstone timestamp recent update rest queried filter partition impacts partition deletion costs seek general partition indexed key check tombstone tombstone skip partition deletion include requested data recent stop copying data track lifetime mutation skipping commitlog index updates fine existing remove rows requested deal regular remove selected column found requested row check remove row data recent sstable data cares data care row timestamp query cares row exists requested put row filter clustering index filter end groups multiple single partition read note difference command group partition key read order group commands start execution controller protecting sort sort commands partition required merging false called safe merging involved change behavior sort iterator retrieve query collect metrics table read number tables counter updated single partition behavior number tables number tables row cache miss regulars selection deserializer unrepaired keyspace buffer append key close row empty search iterator rows partition cache partition iterator unfiltered partition iterators search iterator util io difference partitions table reader array cache service commons iter stage manager iterables lang make row iterator transformation append index primary key liveness info unfiltered partition iterator cell version net sstable timestamp metadata selects full partition suppress warnings runtime tracing invalidate cached partition row cache hit stage tables iterated row cache reason sstable max rows query storage group increment read count slices read serialize replace column filter remove row apply select fb utilities cached partition mutation utils sort skipped tables tombstones partition key column family store single partition columns client state cache rows cache rows memtables stream defragment clustering key restrictions satisfied query memtable disk query pager cql remove record latency reduce filter update table iterated config full partition read arrays max lifecycle include view sec memtable add sb partition key restrictions satisfied unfiltered query memtable tables timestamp order digest query report read merged tables iterated query memtable disk internal memtable partition timestamp index current max deserializer tracing filter fully covered decorate key cell execute clustering column filter merge clusterings clustering cmd data output counter clustering index filter clustering index slice filter cache full partitions max size column metadata regular columns code verb read command queries multicell stage clustering index filter multi cell builder paging state selects key request execution selection deserializer filter selection reason row cache key tree size messaging service singleton table reads listener unfiltered row iterator lower bound partition update cache navigable auto compaction disabled open min timestamp partition level deletion service multi partition pager params schema tuple paging limits copy serialize selection remove unfiltered iterator read execution controller irow cache entry requested columns clusterings minimum compaction threshold rows repaired table metrics tombstones partitioner put absent oldest unrepaired tombstone btree filter min cached partition unfiltered row cfs partition close max timestamp comparator build partition key table trace consistency metrics singleton digest pager written length partition live data compare caching merged tables serializer row filter sstables rows counted cache iterator math cache live merged cached btree partition max index entry db listener merged tables selects partition execute internal cached common slices view selection serialized size min result empty iterators close client state instance stats left kind row data input key wrapping unfiltered row iterator suppressed clustering index filter commands collectors message key execute locally single partition read command marked delete min local deletion time included due tombstones mutation sampler sentinel read rpc timeout columns clusterings table metadata add write pair unfiltered row iterator query start nano time iterator builder cell index metadata keyspace controller intersecting tables limits comparator timeout optional min local deletion time clustering columns slice metric io override storage hook make iterator id storage proxy command message paging state nio add nano row count compact table row cache hit range database descriptor builder command row empty row metrics collector min timestamp collections compaction strategy manager partition key columns serialized size single partition pager row filter unfiltered row iterator protocol version live singleton unfiltered partition iterator sentinel replaced append cql clause cache format read add sample table read metrics collector requested rows selects full partitions deserialize slices collect reads google row cache sentinel valid read selects clustering protocol version max timestamp transport slice rows cache data limits mutation read query recent partition tombstone head filter read latency immutable btree partition partition decorated key read concurrent column tracing samplers filter indexed row row index entry consistency level clustering rows btree transform fetched columns integer view fragment make row iterator lower bound table selected row cache enabled error add suppressed data range selects unfiltered row iterators search iter updated limit unfiltered expression clustering regular columns digest version iterators execution controller unfiltered row iterator pager concat reversed latency nanos cache iterator partitioner sentinel success update sstables iterated rows iterator
src.java.org.apache.cassandra.db.filter.AbstractClusteringIndexFilter
read data output serialize serialized size internal sizes io sizeof append serialized size table metadata column metadata column version reversed builder schema ordinal clustering index filter kind write data input reversed read unsigned db util io write deserializer serializer reversed pfilter kind append order cql deserialize serialize internal filter filter serializer clustering columns sb metadata marshal serializer clustering index filter
src.java.org.apache.cassandra.metrics.CompactionMetrics
metrics identity running tasks compaction estimated number compactions remaining perform estimated number compactions remaining group keyspace table number completed compactions server total number compactions server total number compacted server total number compactions sstables drop total number sstables dropped total number compactions outright failed due lack disk space add estimate number compactions add number running estimation compactions running compaction failure meter factory collections compaction strategy manager table count add total db util metric compaction thread pool executor compaction metrics completed task count sstables droppped compactions remove key keyspace array collectors total compactions completed compacted collector cfs finish compaction factory compaction executor stats collector meta data holder counter begin compaction table identity pending tasks table keyspace completed tasks compactions reduced ci column family stores put open size table metadata mark compaction info integer schema metrics registry result keyspace column family store keyspaces compaction info table metadata compactions compaction manager register task number codahale override schema metric factory metrics instance metrics concurrent estimated remaining tasks compactions aborted compactions counter meter gauge pending tasks
test.unit.org.apache.cassandra.utils.SlidingTimeRateTest
utils sliding time rate rate sleep shutdown concurrent update sliding time rate update executors interrupted submit time source fb utilities await termination size junit true executor update decay util concurrent processors updates update past window size minutes prune fixed thread pool pruning update point time update windows time time unit executor service milliseconds
src.java.org.apache.cassandra.transport.ProtocolException
thrown client respect transport code runtime protocol error msg forced protocol version forced protocol version code protocol protocol version transport
src.java.org.apache.cassandra.io.sstable.format.big.BigTableWriter
track files perform sanity checks decorated key position data file data empty keys indexed column appends partition data iterator partition created index entry write error write data file writer writes partition key row index entry add serialized size find max readable open reader find actual readable key data file ensure data completely flushed state finalise state including write sstable save table encapsulates writing index filter state valid register listeners alerted data files finds decorated key guaranteed occur fully flushed portion index closes index making state writer valid bloom bloom filter extra keys reset dbuilder thing called afterappend assume worked truncate index save big table writer present iterator range tombstone bound marker decorated key open open early buffer file iwriter write error disk optimization estimate percentile row ifilter update clustering mmap cache start deletion time file pointer data length row size range tombstone marker index info add key logger desc optional remaining column index count invalidate position truncate table writer min index interval apply buffer util format metadata collector index entry partition key db table reader finish invalidate cache boundary util base sampling level index end io row index entry serializer accumulate compression metadata write metadata stats collector build row index serialization header nullable metadata uuid dbuilder early open length partitioner open early summary mark data synced logger checksummed sequential writer commit throwable writer option transactional proxy current time millis post flush listener estimated partition size end position max data age index samples transactional index file sync start partition crc data output stream internal open index summary deletion time estimated disk written close column index writer collector transformation append add partition size post cleanup index table metadata ref filename stats append open path offsets index buffer size add cell partition count table version mark index synced filter factory bm boundary row index entry serializer primary index metadata filename pretty memory bf header length suppress warnings runtime compress builder data mark decorated key save summary descriptor index writer percentile compressed key compressed sequential writer index info serialized size compression abort reader chunk cache key start position sequential writer option trickle fsync index summary builder key filter sstable trickle fsync interval reset truncate data end commit disk access mode index access mode partitioner optimization strategy txn append stream stats metadata lifecycle transaction length bloom filter fp chance serialize readable boundary index summary header path readable boundary marker apply config fb utilities clustering size ifile rows track early open result fos normal prepare commit transform collection mark builder params downsampling compression info unfiltered row iterator written key txn proxy schema trace enabled filter stats complete open reason data buffer size buffered data output stream compaction large partition warning threshold row index entry system observers prepare pending repair partition level deletion components flush offset shared copy minimal key reset partition close dfile index file length stats metadata sequential writer collect stats write length flush bf warn descriptor file output stream index file position max unsigned logger factory index start collecting rows chunk cache utils flush metadata serializer add entry column index abort io override logger buffer size data sync util table flush observer metadata component chunk cache open reason keyspace cell count metadata collector component trickle fsync interval kb transactional instance add empty build big key key count index serializer config end deletion time index info range tombstone boundary marker data file index length nio trace index info serializer buffer metadata max readable trickle fsync update serialized size length concurrent apply deletion data position entry file utils disk access mode database descriptor append toc lifecycle digest deletion time boundary disk file pointer mmapped repaired builder apply row log large partition warning slfj partition key error file compare apply marker position file handle row
src.java.org.apache.cassandra.db.lifecycle.SSTableIntervalTree
google utils intervals io iterables sstables empty collect collection add build interval tree partition position size empty build intervals format db table interval tree interval util lifecycle table reader array sstable common iterable
src.java.org.apache.cassandra.service.EchoVerbHandler
messaging service send reply id message message service echo verb handler instance echo message gms logger request response logger trace echo message verb iverb handler net message verb logger slfj logger factory serializer
test.unit.org.apache.cassandra.db.SinglePartitionReadCommandCQLTest
true partition level deletion execute cql tester empty db single partition read command cql current column family store table force blocking flush throwable cql untyped result junit
src.java.org.apache.cassandra.service.paxos.PrepareCallback
inject key empty commit comparing empty commits reply works clock node proposing ballot older record recent commit received older response replay update highest highest commit replicas answered prepare agree mrc coment basically make quorum learn commit commit previous commit guaranteed reach quorum commit proceed incomplete commit expired replicas paxos table paxos state forever grow end infinite loop explained avoid ignore mrc older ttl paxos rely hints repair ensure commit propagated google payload recent progress commit utils put collections promised empty commit iterables apply logger ballot message consistency level predicate table metadata logger latch system keyspace targets uuid gen empty progress commit net paxos ttl sec schema concurrent empty commit trace decorated key prepare callback db query start nano time update util concurrent inet address base unix timestamp sec sec key paxos callback logger recent progress commit update count count recent commit service key paxos message metadata replicas missing recent commit filter collect slfj commits replica common consistency inet address response logger factory iterable prepare response
test.unit.org.apache.cassandra.db.context.CounterContextTest
counts greater left superset nodes left subset nodes greater left higher higher left disjoint node left higher counts differing left lower left higher mixed nodes local counts remote counts reconciled local node counts remote node id counts reconciled merging exclusively global pick global shard largest merging global contexts pick largest merging global mixed global shards dominate lower clock contexts original alter single local alter global local global single global shard context shard local shard hardcoded context regular local shard sorting couple identified context state global daemon initialization counter context buffer clear local junit count length buffer util db find position write remote greater update context state merge update context write global min clock length disjoint merge total find position relationship counter id counter id header elt length mark local cleared state allocate clock count glock count header length local remote counter context context mixed clock count allocate cc marked wrap diff total update clock id id length update local id update context setup dd hd remaining merged header size length global diff utils step length write local util instance clear local config true nio clone database descriptor cleared counter update clear local false position update left
test.unit.org.apache.cassandra.repair.messages.RepairMessageSerializerTest
verifies repair message serializers working repair google messaging service prepare consistent request fail session utils propose coordinator commit io currentversion message propose prepare consistent response serdes peer serialized size promise inet address prepare consistent request repair message serializer uuid gen time uuid expected net version junit peer serialize commit promise buffer util peer io actual error repair message deserialize expected size fail session messages prepare consistent response collect limit common data output buffer data input buffer serializer
src.java.org.apache.cassandra.cql3.QueryHandler
statements batch query options process utils result message prepared buffer parsed statement query state client state id transport service batch statement custom payload prepared state query statement process batch query start nano time nio md digest util query options cql request validation query handler prepare request execution messages cql statement client state options process prepared
src.java.org.apache.cassandra.utils.OutputHandler
called info called info called user output handler utils system stack trace logger system output msg logger trace log output warn output info stack logger slfj debug throwable logger factory
tools.stress.src.org.apache.cassandra.stress.generate.values.Booleans
stress generator identity distribution db marshal instance override generator config config generate
test.unit.org.apache.cassandra.index.SecondaryIndexManagerTest
drop index verify removed built indexes index verify added built indexes index blocks rebuild index index creation task check index marked built creation verify wait index initialization verify rebuild index make wait rebuild proceed unblocking block verify rebuilding index previous index build task finished check index marked built build verify wait index initialization verify add sstables make wait build proceed unblocking block verify rebuilding index previous index build task finished check index marked built build verify wait index initialization verify rebuild index make wait rebuild proceed unblocking block adding sstables verify built index marked built pending unblock pending verify index wait index initialization verify rebuild index make wait rebuild proceed unblocking block adding sstables make build disable unblock pending verify index built due failing sstable rebuild index failure verify marked index queryable initialization index queryable initialization index queryable initialization failing partial build index successful partial build index index queryable initialization successfull full rebuild index index queryable failed successful partial build index socket interrupted stub index collections atomic jvm stability inspector sstables row handle jvm stablity failed index build task original killer system keyspace callable index withfailed initialization queryable partial rebuild message fail rebuild indexes blocking block build junit thread format unblock build db execute current column family store util recreating index marks index built live tables compaction async build cql wait index index manager builder table reader adding table build failure rebuild progress rebuild rebuild progress wait blocked table failed throwable throwable secondary index manager index table count latch fail throwable cfs wait latch index base cfs killer rows built indexes query net ref metadata collated view index building support await run rebuild initialization progress secondary index builder runtime built indexes count illegal state rebuild failure failed build trowable sstable build task support marked built singleton block initializing index queryable drop index latch killer rebuild table build progress collection block build start compaction info wait index tracker schema index creating index marks index built file found wait blocked build build blocking index metadata notifications column family store build wait latch adding tables marks index built replace killer marked built initialization task sleep kill jvm join index compaction info error clear canonical fail build utils mark indexes removed io override build latch table added notification killed keyspace index queryable cql tester handle notification system keyspace indexes handle jvm stablity failed rebuild adding table rebuild progress build table index building support true empty index withfailed initialization queryable full rebuild killer concurrent schema constants tables rebuilding index marks index built lifecycle rebuild block refs initializing index queryable partial rebuild unblock false index atomic
src.java.org.apache.cassandra.locator.EndpointSnitchInfoMBean
mbean exposing standard snitch rack depending respective snitch host datacenter depending respective snitch rack depending respective snitch datacenter depending respective snitch snitch snitch datacenter snitch endpoint snitch info mbean locator host unknown host net rack
src.java.org.apache.cassandra.cql3.statements.IndexTarget
prepared target target backwards index syntax index regular column index correct target target column collection target statements custom index option simple target option actual full collection table keys cql collection keys table metadata column metadata column identifier keys cql schema error column def full format keys index target cql simple index column raw prepare
src.java.org.apache.cassandra.index.sasi.utils.CombinedValue
index comparable combined utils merge sasi
src.java.org.apache.cassandra.db.PartitionPosition
add end ordinal serialize make write serialize key token recreated serialize minimum token min key bound min bound buffer decorate key data output utils ring position ordinal kinds read sizes write key size io key sizeof pos serialized size size data input max key bound version max bound dht remaining ordinal kind serialize nio buffer util decorated key db row key util token io key read length token partition position ipartitioner kind row position serializer deserialize write length key minimum ipartitioner dependent serializer serializer
src.java.org.apache.cassandra.metrics.ThreadPoolMetrics
metrics number active number tasks blocked accepted number tasks waiting accepted executor threads busy backing queue number completed number tasks waiting maximum number threads start queuing tasks metrics executor thread path thread pool thread pool identify jmx counter mbean google multimap key property format mbean server connection jmx reporter codahale registered io path max pool size jmx path runtime jmx management total blocked metric factory counter pool thread pool factory active tasks metrics query integer task count jmx metric completed tasks metrics registry mbean server conn active count counter current blocked util concurrent malformed multimap io mbean proxy jmx thread pools thread pool executor error metrics completed task count pending tasks metric thread pool metrics maximum pool size register put remove collect count gauge common thread pools executor thread pool metric factory jmx gauge mbean metric release
src.java.org.apache.cassandra.exceptions.SyntaxException
syntax error syntax code msg request validation
test.unit.org.apache.cassandra.index.CustomIndexTest
ensure deadlock flushing cfs backed custom deadlocks times face issues comments prove require full modifier frozen targets index multicolumn duplicate previous index additional options check generated smoke permutations multicolumn custom parentheses simple multiple expressions multiple expressions selective index adjusting selectivity observable custom selective index custom expression target index verify expression determined verify base table table metadata reload metadata reloading metadata invokes metadata reload flush end expiring row row ttl force index notified expired tables remain insert single wide partition automatically start index partition indexer artificially simulates additional flush activity periodically issuing barriers read write op indexing check base read ordering finish start hold single read multiple write perform writes operations relevant marked blocking progress ops considered insert single row partition automatically start index partition index creation stub index custom index add indexing entire partition potential problems caused whilst holding single read single write holding write group flushes holding read group prevents memory flushed index builder pages large finer grained write partition kick index build simulate concurrent flush periodically issue barriers current read write indexing checks states obtain simulate activity base table barriers read write analogous flushes processed indexing indexed rows target grab read base cfs compare starting invalid syntax secondary index manager iterator live index excluded build index target indexed row count sleep atomic files directory tables op order row compose group custom indexes require target column instance estimated result rows index overloaded validate options selective custom index doesnt support custom expressions partition indexed callable simple add message failingi flush excluded protocol version rebuild indexes blocking read command null optional junit columns build index partition full buffer util format deleted clustering range tombstone db reloads current column family store util selective index controls included build tables target column cql index transaction index manager partitions execute custom expressions target custom index ut expression index array cmd insert row collect table common read execution controller begin calls throwable transaction clustering google arrays custom index option index indexer indexes rows deleted flush fail row data cfs transport rows partition index metadata reload task unfiltered partition iterator range tombstone reload custom expression supported partition index custom expressions index regular columns keyspace targets immutable execute locally exclude truncate cfs custom index target key size issue inserts cfs backed index metadata searchers provided core kind read barrier rows group notify indexers partition row removal cleanup delete partition finish calls decorated key rows inserted reject duplicate columns target row data key notify indexers expired rows compaction custom expression restrictions op group blocking collectors execution controller read ordering write barrier directories update row keyspace length broken custom force blocking flush index created prior ops finished barriers current table validate options table metadata marshal row invalid request reload index metadata base cfs reload singleton truncate blocking statements base cfs write order index target columns put invalid message index targets table custom custom expressions disallowed modifications estimate fb utilities include collections rows table metadata searcher query validation atomic integer index found column identifier simulate concurrent flushing index expected integer datastax ut schema multiple expressions requires filtering message index index receives write time deletions correctly validate options index target build blocking index metadata partition deletions index selection prefers selective index column family store read ordering finish actual custom index expression syntax custom index rejects expression syntax index targets reset custom expressions index restrictions custom expression forces index selection index interned reject index time unit decorate key current table metadata range tombstones stream require full qualifier frozen collection targets settable selectivity index utils total rows multi column index including user column blocking flush task validate custom index barrier runtime barrier count metadata reloads index cql tester index metadata indexes util stub index compact statement restrictions empty custom index expression custom expression current tombstone index validate options true begin finish deletion time searcher transactions keys compare driver estimated result rows concurrent remove row write groups index included build included page size deletion time sec current invalid message read ordering start estimated result rows options indexer expression index increment command modification statement multi column indexes false partition delete index index building pages large partitions joining
src.java.org.apache.cassandra.tools.GetVersion
utils release version system version tools fb utilities
src.java.org.apache.cassandra.cql3.functions.ThreadAwareSecurityManager
custom performs access explicitly measurable performance cstar penalty percent standard logback configuration reloading configuration configuration file changed requires logback file file logback decides check modification config file executiing sandbox udf execution execution fail work custom reconfigure change filter prevents configuration file check reload executing sandboxed udf purpose prevent logback checking config file current thread executing sandboxed thread avoid security policy easier fine grained code access code access removes burden maintain configure policy files unit permission collect applicable protection domains applicable protection domains denies permission protection domain origin oridinary provided contract methods ja files reside file system assume ja files reside file system assume override checks permission current override checks permission current required driver code guava turns requires unsupported operation qos modify threadgroup permission secured thread logback logger installed protocol collections security manager policy refresh period started add tg turbo filter thread permission sm aware reconfigure change filter stop permissions util cql check access netty fast thread local logger access control context security thread aware security manager domain system enumeration code source runtime permission permission collection thread group change detected location turbo filter context concurrent ctx code source refresh period ch check access current thread security manager logback size initialized thread perm logger context start permissions turbo security thread group turbo filter turbo filter install logger factory permission thread initialized protection domain classic perms modify thread permission spi io policy reconfigure change filter logger pkg functions codesource check member access permission elements context initialize thread thread group turbo filter logger context implies permission permissions empty enumeration slfj reconfigure change filter check permission
src.java.org.apache.cassandra.dht.tokenallocator.TokenAllocation
worth replicated ownership calculation raise ratio ownership filter true iff provided endpoint occurs virtual allocating nodes share ownership node false ownership independent node allocating tokens node treated node treated endpoint iterator datacenter racks increase slightly token allocator token allocation min max group add tokenallocator logger descriptive format dc util iendpoint snitch token token allocator factory navigable net common topology dht iterator locator commons clone token logger inet address google standard deviation network topology strategy math stat tree current allocate tokens warn enabled configuration strategy datacenter calculate natural endpoints array capacity midpoint token allocator topology add unit put token metadata copy key sorted tokens collect update normal tokens entry en collection strategy unit size replication strategy strategy adapter topology tokens simple adjust cross datacenter clashes representative replication factor allocation ring endpoint token metadata logger factory simple strategy summary statistics normal bootstrapping token endpoint num tokens partitioner override logger add ownership filtered stat tokens replicas evaluate replicated ownership token metadata ownership snitch entry rack racks warn replication strategy replicated ownership stats partitioner slfj add
test.unit.org.apache.cassandra.utils.AbstractIteratorTest
unit kevin serialization slow gwt fully sample iterator signals reached end verify idempotence make invoked sample iterator signals reached end pass iterator undeclared checked behavior peek end data reentrant unchecked utils error sneaky element sneaky thrower unsupported operation gc remove override itr runtime called thread checked rep interrupted expected integer weak reference called end data ref junit behavior peek empty iteration true peek behavior suppress warnings illegal state system util throwable iterator frees reference lang iterator compute end data remove iterator iter empty false sleep fail sneaky
test.microbench.org.apache.cassandra.test.microbench.Sample
page size random lz param scope arraycopy math lz compressor benchmark random ratio snappy fast compressor spec lz decompressor fastest instance thread setup util throughput benchmark mode thread state runs trg measurement setup system state fork index current state threads net lz factory xerial warmup uncompress microbench run duplicate lookback jvm append jpountz raw length iterations parse snappy integer lz annotations lz fast decompressor thread local random jmh run count openjdk time unit unique pages random run length count snappy io min range split lz compressor fast decompressor compress decompress concurrent mode time unit sample time output time unit io milliseconds
src.java.org.apache.cassandra.db.view.View
view copies data base table view table queried independently update targets base table fed view updates properly created fed raw statement statement prepared mv view initialized part preparing requires keyspace results updates columns stored dependent base view column provided base column denormalized base column provided view view view affected provided note method absolute guarantee view guarantees partition key partition key update update guarantee inserting key affect view guarantee view affected clustering excluded view filter true filter regular update match view condition regular update invalidate update modify columns impacting view view column included view find update modify columns part view view view include base table update row deletion row liveness check pushing update dump optimize saves pass sec affected base row matches view filter note differs provide row state base updates method false row match view partition key partition key base row current state base sec current time decide live matches view select statement populate filter internal users access statement ensure read query filter internal users access query ensure builds text materialized select table metadata ref pk def part view pk find base table collections query expressions build select statement base pk columns view pk base column raw add live logger keyspace metadata columns query views db multi column relation util clause keyspace raw select compaction cql cf array view logger common debug definition iterable view google row filter internal calls selects clustering parsed statement iterables client state append primary key liveness info collect base cfs column metadata state rel primary key column read query size metadata term empty nullable decorated key update query options base table matches view filter affected definition single column relation prepare collectors column internal calls filter keyspace find row entity column statements select statement text include columns operator select fb utilities clustering keyspace metadata rows service collection prepared statement schema view metadata included columns builder ksm partition key column family store base table view column multi column prepare keyspace relation entities relations clause logger factory compaction manager view view column stream utils base table id cql logger id base column select statement instance empty build deletion schema update definition read query submit view builder trace view builder stop table metadata ref base row prepared satisfied data annotation view sec raw statement builder slfj column data sb joining
src.java.org.apache.cassandra.db.marshal.AsciiType
encoder reset time buffer buffer ascii serializer marshal wrap cq ascii json ascii io protocol version override parsed transport order serializer serializers source charset comparison serializer instance encoder protocol version encode utils constants error term initial nio buffer util buffer db json encoder util concurrent simple cql json reset netty fast thread local exc character coding ascii cast cq encoder standard charsets charset encoder quote json marshal format
test.unit.org.apache.cassandra.db.CounterCacheTest
flush counter cache load cache flush counter cache load cache flush counter cache load cache disabled save load interrupted counter cache column collections cached counter add junit count buffer util db util token add partition key column token define schema metadata schema add clustering column null write timeout clustering counter cfs counter cache capacity mb column metadata cbuilder submit write clock count builder read write service keyspace add regular column singleton truncate blocking simple cleanup saved caches cd keyspac apply counter cache invalidate open consistency level size clustering table metadata counter column counter table integer schema load saved keyspace column family store prepare server row update builder comparator cache service counter mutation decorate key utils configuration execution counte remove keyspace instance store keyspace instance invalidate counter cache put cached counter column family store instance cleanup build max dht dropped save load schema loader bounds concurrent save load keyspace params counter cache builder marshal
test.long.org.apache.cassandra.locator.DynamicEndpointSnitchLongTest
goal check initialized des work big hosts sorting making reproduce problem size random score updater iterations sorted proximity receive timing utils daemon initialization locator result io fb utilities service start dynamic endpoint snitch interrupted code instance add score stopped hosts net config junit storage service configuration address dsnitch random run concurrency dynamic badness threshold dynamic badness threshold score range util host io simple snitch database descriptor updater badness join dynamic endpoint snitch broadcast address thread inet address unsafe initialize array
src.java.org.apache.cassandra.metrics.LatencyMetrics
metrics latency total latency micro sec parent metrics replicate updates latency metrics prefix metric scope latency metrics prefix append metric prefix prefix append metric scope scope latency metrics prefix append metric factory metric factory prefix prefix append metric latency metrics prefix append metric run factory metric factory prefix prefix append metric parents amount parents replicate updates nanoseconds convert google nanos alias factory codahale total latency remove latency metric factory array factory metrics immutable parents scope metrics registry parent add nano counter update timer util concurrent copy prefix counter metrics add metric nanoseconds latency metrics factory timer collect common release time unit
src.java.org.apache.cassandra.serializers.ShortSerializer
utils serialize marshal buffer serializer serializers instance remaining nio buffer util format empty buffer validate serializer deserialize
src.java.org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy
ties compacting smallest sstables happen system tables make local copies changed sstable compact standard compacting single sstable droppable ratio greater buckets buckets total hotness min threshold minimum number sstables bucket qualify max threshold maximum number sstables compact bucket trimmed bucket sstables skip buckets min threshold limit buckets max threshold pair null sstables bucket meet max threshold coldest sstables trimmed meet sort sstable hotness build hotness change trim coldest sstables end meet bucket hotness sum hotness sstable reads key sstable read system tables read checked group files similar size sort order deterministic results grouping bucket group bucket average file bucket considered remove average similar bucket put table length pairs hottest bucket collections compaction sstables math outer sstable length pairs add candidates validate options logger pending compaction logger immutable buckets hotness comparator format max directories db ceil util compaction task avg size compaction split output table reader splitting compaction task interesting size tiered options remove logger background tables common hotness array iterable user defined google hour rate max threshold worth dropping tombstones size tiered compaction strategy options visible copy minimum compaction threshold compaction strategy manager iterables remove table cfs collect total size min table size estimated remaining tasks directories compaction aware writer max add table configuration suppress warnings key empty buckets maximal task compare tracker max table comparison trim threshold hotness hotness snapshot filter sstable read meter options txn tasks user defined task lifecycle transaction entry put hotness size sstr min threshold collection bucket hotness defragment sstables tombstones filter suspect tables pair hottest annotations schema sort bucket hotness compaction params size tiered compaction strategy estimated remaining tasks column family store operation comparator average size entry maximum compaction threshold min threshold disk bucket bucket high uncompacting tables pruned bucket logger factory files compare compaction task estimated keys utils disk length bucket low io override logger buckets estimated compactions tasks gc filtered tables writers empty splitting size tiered compaction writer unchecked options background task compaction strategy added trace arrays sorted files interesting bucket max threshold singleton tables pruned buckets hotness pair entry expired tables lifecycle option transaction min slfj modify size comparator compaction aware writer average size left
src.java.org.apache.cassandra.tools.StandaloneScrubber
load keyspace load sstables scrub make originals deleted avoid npe index check stop daemonized finish compactions shutdown parse open validation leveled manifest repaired manifest jvm stability inspector sstables snapshot directory predicate system output cli links add message usage exit keyspace metadata table lister option format directories db util option compaction table reader repaired predicate header scrubber array cmd commons manifest check option collect common debug throwable keyspace google debug option leveled compaction strategy system compaction strategy manager iterables skip corrupted option append repaired manifest verbose option max table init database descriptor standalone scrubber snapshot directory offline apply check manifest descriptor base level fanout size parse options level count repaired directories current time millis filter sstable max size mb cmd line options options valid column families load disk txn repaired output handler verbose lifecycle transaction rebuild failed scrub entry compaction strategy manager formatter add option path tools lister lifecycle manifest check handler command line parser predicates schema error msg keyspace column family store operation minutes compaction params skip temporary wait deletions err repair overlapping tables illegal argument inspect throwable cmd descriptor time unit compaction manager obsolete originals repaired utils parser parse stack trace io override key data keyspace component length cfs util instance builder schema cf command line cmd line options usage scrub components open tables bulk loader scrubber skip corrupted gnu parser concurrent scrub txn err entry tool sstable lister msg validate option collection array strategy manager validate klass file snapshot entry opts
src.java.org.apache.cassandra.streaming.StreamTask
stream task streaming task performed specific stream session task belongs total number files task total expected abort subclass cleaning stream summary describes stream summary abort total size stream task total number files streaming session table id summary stream session table id schema
src.java.org.apache.cassandra.db.rows.UnfilteredRowIteratorWithLowerBound
unfiltered row iterator lower bound retrieved sstable statistics row index lower bounds initializing sstable unfiltered row empty clustering lower empty row filtered result access due limit partition index lower bound accurate sstable metadata lower bound present iterator tombstones sstable metadata clustering added iterators closed closing merged check lower bound bigger item lower bound stored index entry removed lookup index info memory heap backed index info fix creating iterator ensures row index entry loaded bigger clustering stats sstable build lower clustering stats file records clustering component min null component guarantee unfiltered sstable clustering component null problematic general build lower bound guarantee guarantee clustering sstable true prefix null nat true prefixes range tombstone markers rows components null happen compact tables backward simply exclude note information disposal make condition precise cell tombstone expiring cells sstable range tombstone markers exclude exclude clustering hard collect range tombstone marker sstable stat file clustering arrays size match comparator support upgrade directly true ensure sstable global lower bound made clustering stored sstable note correctly compare tombstone metadata lower bound iterator columns index max clustering compact table buffer partition index lower bound row index entry live clustering prefix columns format columns index count db bound util io index heap table reader iter lower bound prefix slices unfiltered selected columns nio stats regular columns ret metadata filename clustering index filter suppress warnings runtime decorated key min clustering raw partition level deletion array lower bound column filter sstable length make bound table metadata row index info retriever table reads listener heap retriever stats metadata unfiltered row iterator lower bound inclusive open clustering bound column filter row index entry size clustering rows table metadata fetched columns initialize iterator unfiltered row iterator schema reversed partition key item retrieved metadata lower bound comparator compute iterator lower bound compare rows utils tombstones io override encoding stats clusterable empty reverse order cached position lazily initialized unfiltered row iterator deletion time comparator range tombstone bound marker row open index vals reversed listener init index info empty row
test.unit.org.apache.cassandra.db.commitlog.CommitLogUpgradeTestMaker
random size hard link max memory sleep atomic buffer scheduled executor service num threads commit log location executors cle run time add table metadata atomic files property scheduled runnable dk thread format read stop cell size util io data source load schema commit log temp array scheduled thread pool cells property common properties file throwable configuration google exists make log total memory system commit log upgrade maker num cells run data size remaining slice capacity rate limiter commit log upgrade prop current update builder exit allocate rl fb utilities metadata update fis threads key initialize configuration tlr keyspace put current time millis keyspace allocated memory runtime simple free memory random data dir mutation shutdown file input stream commit log size encryption processors start duplicate cellname table properties store schema compressor allocate direct thread local random tester acquire channel simple delete recursive integer property commit log position schedule fixed rate join err mb cells flip rate limit limit executor time unit counter data dir commitlog executor utils await termination release version ii stack trace io avg id source runtime interrupted util instance file output stream commit log segment size schema config clsp schema loader nio runnable db mkdirs concurrent keyspace params file utils database descriptor runtime row sz builder start threads make mutation increment shutdown blocking file time position commitlog quantity cfid property
src.java.org.apache.cassandra.service.paxos.Commit
google version data output partition update serialize serialized size mutation io commit override commit serializer ballot code rows service empty update flag prepare uuid gen iversioned serializer timestamp update timestamp proposal utils common empty commit format serialization helper data input ballot db update uuid serializer util base io min time uuid key local partitions decorated key uuid deserialize paxos metadata make mutation table metadata micros timestamp commit schema serializer
tools.stress.src.org.apache.cassandra.stress.generate.DistributionOffsetApache
inverse cum prob offset sample override seed cum prob math distribution offset val min real distribution max inverse cumulative probability delta distribution generate stress offset commons seed reseed random generator delegate distribution
test.unit.org.apache.cassandra.cql3.SerializationMirrorTest
size cols vals flush table append current cql tester add integer row junit thread local random builder util framework cql untyped result array execute clusterings concurrent array columns serialization mirror table throwable row
test.unit.org.apache.cassandra.cql3.validation.operations.DropTest
entry removed table table operations execute validation keyspace keyspace existing throwable cql tester cf rows ignoring order table invalid message drop table dropped columns drop cql junit
src.java.org.apache.cassandra.utils.Interval
handles nulls compare google asymmetric ordering max ordering utils override comparable min code compare asymmetric format max interval base data reverse min ordering common compare reverse max ordering left
src.java.org.apache.cassandra.tools.StandaloneUpgrader
load keyspace upgrade released commit upgrade failed make retain finish compactions shutdown table metadata ref parse open validation num tables jvm stability inspector upgrade system output cli source readers add message include backups usage release table lister ensure released option format directories db util option latest version compaction backups table reader ref upgrade sstables array cmd commons upgrader debug output add option debug option system snapshots cfs append init database descriptor current version exit offline primary index descriptor parse options directories key keyspace length cmd line options options load disk txn output handler lifecycle transaction entry cf header formatter command line parser upgrader tools size lister collection lifecycle handler source msg schema error msg keyspace column family store operation minutes info wait deletions err illegal argument inspect throwable cmd descriptor time unit compaction manager table format utils parser parse stack trace io usage data sstable component column family store util instance standalone upgrader builder schema command line cmd line options open tables bulk loader gnu parser concurrent txn err entry tool sstable lister snapshot components entry opts
test.unit.org.apache.cassandra.cql3.conditions.ColumnConditionTest
check results buffer cql buffer cell uuid instance column condition checked function cell path uuid gen message junit gt buffer util error message db util sorted builder condition uuid operator clustering column condition system apply fail btree row empty serializers column metadata tree cell single cell row neq conditions constants ttl builder query options key eq definition put current time millis sorted length marshal op invalid request deletion time serialize entry bound cell row condition applies ire size rows time uuid row gte collection bound applies lte add applies functional regular column schema simple bound satisfied utils bound collection bound satisfied key terms instance lt build true tree nio arrays empty buffer collection bound applies entry condition runnable bind builder add cell false entry row time uuid serializer
src.java.org.apache.cassandra.db.compaction.CompactionController
manage compaction note overlap iterator overlapping tables null good thing starts overlapping tables check finds expired works find min timestamp overlapping compacting sstables memtables build fully expired check candidates dropped dropped global remove compacting sstables included overlapping sstables overlap overlapping include fully expired care min timestamp overlapping sstables live min timestamp denotes lowest timestamp table memtable constructive candidates candidates constructive serve purpose predicate tombstones marked deletion time partition calculate checking deletion time min timestamp partition participating data sstables suppressed tombstone bloom filter file check index file caller close caller iterator present fully expired tables collections compaction strategy manager bloom filter math predicate candidate position open data reader ref add candidates empty release logger simple iterator overlaps memtable partition max local deletion time build intervals format tombstone option db compute absent util refresh overlaps overlap iterator compaction min timestamp partitions table reader iterator min timestamp array keyspace remove logger match common debug iterable google dfile limiter file data input keyspace iterables close cfs present filter stats rate limiter collect overlapping tables column family reader close quietly suppress warnings empty partition decorated key update operator base key eq filter sstable overlap iterator table metadata refresh overlaps tombstone row index entry cf store null compacting repaired min timestamp rows stream transform purge tombstones predicates unfiltered row iterator tracker schema function auto closeable memtable compaction params marked suspect overlapping shadow sources open data files column family store compaction controller partition position compaction params shadow iterator logger factory clear view memtables compacting memtables repaired utils tombstones provide tombstone sources marked compacted io max timestamp purge evaluator logger purge repaired tombstones reference overlapping live tables min filtered tables empty max timestamp trace table interval tree max concurrent open data file file utils lifecycle warn partition tombstone option refs gc slfj timestamp time position
src.java.org.apache.cassandra.exceptions.ExceptionCode
defined binary problem request problem validating server error code format put bad credentials function failure transport unavailable write failure config error unauthorized protocol error overloaded read timeout integer read failure write timeout bootstrapping truncate error invalid util unprepared code syntax error exists code length protocol
src.java.org.apache.cassandra.cache.AutoSavingCache
true cache flush execute required format change fix indexes version cache versions match partial fallback minor version sticking fine released introduced omits index info stores offset introduced cache keys exposed interrupt modern key key cache load purely schema changed cfs index serialized serializers delegated serializer specific cache key skipped key cache entry table kind unwise accrue unbounded number pending loop bounded number keyset change total todo check check schema version cf table ignore error messing time uuid cache wrapped data output stream data path listening decorator auto saving cache jvm stability inspector submit cache write write error math data input stream instrumenting cache executors cache cache load callable uuid gen rename files logger save period counter cache save count runnable cache crc path schedule saving index highscalelib db close quietly util temp file io compaction significant bits istream factory index manager ends uuid deserialize cliffc load saved async schedule fixed delay logger checksummed sequential writer common millis writer option cache format google save cache exists inspect throwable serialized cache path system writer entry future read utf length input stream progress current version cacheloader nano time key cache save saved caches location significant bits key cache finish close version submit write cache data path holder minimal peek run runtime data input error row cache key throwable checksummed random access reader service crc path sequential writer option write trickle fsync read trickle fsync interval schema constants update version cache loader executors temp cache files writer cache file paths stream factory unknown keys save serialize output stream cache file input stream put table id listening executor service shutdown trickle fsync interval kb cancel poll open schema version blocking size backing table table metadata start keys estimate submit builder compaction info call saved caches dir optional tasks pair integer stream factory direct executor schema trace enabled output stream load saved file found yield listenable future column family store operation corrupt file key cache version info delete cache files cache key cache service index compaction info future cache serializer absolute path time unit logger factory key iterator compaction manager delete file files icache file counter cache scheduled executors utils writer directory array deque io override flush progress logger keys written thread offer length cfs instance row cache save empty build schema config add listener trace column family store instance max trickle fsync iterator concurrent future save task crc file file utils system keyspace database descriptor input stream warn runnable single thread executor cache data output nanoseconds futures parent file hot key iterator buffered input stream slfj table id file format entry scheduled future left
src.java.org.apache.cassandra.streaming.messages.IncomingFileMessage
incoming file message receive table data filename unsupported operation inspect throwable file compressed stream reader utils serialize channels streaming session io jvm stability inspector stream session message data input stream input stream version table multi writer reader readable channel input stream reader incoming file message override nio suppress warnings read data input compress util file message header data output stream io serializer stream message deserialize header compressed messages channels sstable throwable serializer
src.java.org.apache.cassandra.dht.tokenallocator.TokenAllocatorFactory
token allocator logger replication aware token allocator strategy tokenallocator logger dht replication strategy replicas ipartitioner replication token allocator token token allocator factory navigable net info util partitioner logger slfj sorted tokens token allocator inet address logger factory
test.unit.org.apache.cassandra.transport.DataTypeTest
serialized size supported data serialization esize complex utils system encoded ut length ascii result io decode ssize encode decode data id custom instance add version transport pair simple data serialization junit expected sizes current buffer protocol version db unpooled smaller codec protocol version netty util serialized size array options dest data opt length buf write marshal data serialization left
src.java.org.apache.cassandra.db.RangeTombstone
range tombstone tombstone covers note storage range tombstone represented opening closing full partitions materialized memory precisely slice rows deleted range slice rows deleted range deletion time deletion time range slice deleted slice override rows deletion time code range tombstone marker deletion clustering comparator deletion time range tombstone db util slice comparator
src.java.org.apache.cassandra.index.sasi.memory.TrieMemIndex
reset memory size allocated current relies fact tree updates exclusive write method overestimate circumstances nodes replaced comparing underestimate breathing room memory node max overhead array node leaf array sequence unsupported operation radix concurrent suffix trie node keys starting prefix collections buffer keys ending disk concurrent radix tree suffix edge characters add logger size estimating node factory remaining reset mode db util token sequence illegal state op term definition outgoing edges logger mode iterable cell node factory key range iterator measure key validator index column metadata column size max term size exact key pretty memory empty builder decorated key analyzer concurrent trie mem index key eq definition search column analyzer disk index builder key length marshal trie mem index googlecode suffix validator operator smart array based node factory child nodes fb utilities node duplicate overhead memory update size op schema incoming edge expression match info comparator put absent concurrent prefix trie column index analyzer logger factory current update size keys trie utils column index prefix conf logger initial range iterator format empty build node nio root keys concurrent skip concurrent singleton cslm overhead plan range union iterator keys lower concurrenttrees skip mem index expression builder concurrent suffix tree thread local concrete slfj sasi
test.unit.org.apache.cassandra.utils.IntervalTreeTest
interval tree data output utils serialize write utf intervals collections io interval tree min ordering intersection add iversioned serializer build integer size junit sort search read data input interval util serialized size io constructor constructor iserializer lang reflect search deserialize array read utf serialization length array intervals write data output buffer iteration data input buffer serializer
test.unit.org.apache.cassandra.db.MultiKeyspaceTest
execute throwable table keyspace row cql tester flush db rows schema change multi keyspace cql open junit
test.unit.org.apache.cassandra.tools.SSTableExpiredBlockersTest
exit code sstables runner schema loaded keyspace loaded schema loaded expected threads schema run tools run tool unexpected threads started junit tools tester optional threads schema table expired blockers system loaded table expired blockers table expired blockers server loaded clsm loaded ordered junit runner
test.unit.org.apache.cassandra.db.RowCacheCQLTest
partial cache row cache cql service cql tester instance size junit empty rows db partial cache cql untyped result execute cache service row table row cache capacity mb throwable
test.unit.org.apache.cassandra.db.marshal.BytesTypeTest
invalid instance invalid serializers invalid hex db marshal junit valid expected valid hex marshal
test.unit.org.apache.cassandra.cql3.validation.operations.DropRecreateAndRestoreTest
drop flush clean restored restore saved restore point operations invalid request current table metadata reset unsafe hard link exists log path system file utils table id io id invalid id commit log location alter id segments format cql tester instance invalid archiver max expected commit log row config junit configuration active segment thread rows rename confirm db util schema restore point time database descriptor cql segment sleep drop recreate restore execute id duplicate id restore table current time millis table file time throwable commitlog validation
test.unit.org.apache.cassandra.gms.PendingRangeCalculatorServiceTest
blocks startup node introduce node major state acquire lock block pending range calculation spawn thread trigger handling bootstrap state change turn pending range calculation blocked blocked trigger state blocked thread expensive range calculation block hb ver application state add gms junit storage service thread endpoint state util token target bm rule uuid apply state locally array gossiper inet address token delayed response unlock unknown host run byteman net version pending range calculator service calculation lock bmunit jboss state net queued threads configuration run heart beat state states endpoint state endpoint network version action random uuid put contrib host id init server service heart beat version collection start alive tokens target location prepare server states ordered partitioner join runner lock tokens locks heart beat state target method interrupted add application state instance dht factory status host id schema loader normal reentrant lock concurrent bm unit runner host id bootstrapping node addr false
src.java.org.apache.cassandra.utils.StatusLogger
global cache key cache keys save messaging service small message pending tasks utils jmx thread pools pending large messages active compactions row index entry entry logger memtable live data size metric management log service keyspace cache management factory key cfs instance row cache keys save capacity memtable columns count integer net config jmx metric platform mbean server info pending tasks large message pending tasks status logger format max db util mbean server tpool column family store compaction entries database descriptor logger lang metrics row cache pending small messages cache service thread pool metrics weighted size irow cache entry auto saving cache server logger slfj key cache keys save key cache key logger factory row cache key compaction manager key cache row cache keys save
test.unit.org.apache.cassandra.db.monitoring.MonitoringTaskTest
check told clear queues monitorint slow timeout operation reported aborted operations logged operations operation collections log failed operations slow executors slow operations add monitoring task junit real scheduling operation thread timestamp report slow db util complete multiple threads executor service uuid array monitor timeout sleep max timedout operations true multiple threads failed ops monitorable impl num threads reduce system abort count latch fail operation nano time starts log slow operations wait operations reported slow abort cross node max spin time nanos approximate time monitoring task monitoring time num progress nanos aborted slow timeout count shutdown current time millis filter executor service current thread random uuid num slow report clean monitorable shutdown size report interval multiple threads failed submit start complete idem potent integer num expected operations complete max timedout operations precision finished max timedout operations report slow slow timeout count setup thread count time unit max timedout operations exceeded stream operation await termination wait operations complete stack trace abort override failed operations monitoring max timedout operations slow make interrupted instance cross node completed multiple threads slow arrays max await op count fixed thread pool concurrent failed operations progress abort idem potent num times false
src.java.org.apache.cassandra.streaming.messages.OutgoingFileMessage
outgoing file message transfer table data aborted safe filename unsupported operation google file sequence number component utils serialize visible channels streaming session io override stream session message ref id runtime stream writer format descriptor compression info file completed filename write writer version outgoing file message reader readable channel compression info pending repair ref annotations metadata compressed stream writer nio format compress header transferring util pair complete data output stream io compression metadata repaired serializer compression stream message table reader table level deserialize concurrent sections table level messages sstable finish transfer estimated keys common start transfer file message header serializer release
test.unit.org.apache.cassandra.cql3.validation.entities.TimeuuidTest
migrated migrated unix timestamp desc clustering timeuuid utils rows syntax row count timeuuid cql tester entities uuid gen invalid timestamp date row junit empty rows util rows cql timeuuid execute uuid length table throwable validation invalid
src.java.org.apache.cassandra.serializers.ByteSerializer
utils serialize marshal buffer serializer serializers instance remaining nio buffer util format empty buffer validate serializer deserialize
src.java.org.apache.cassandra.tools.nodetool.Decommission
unsupported operation force nodetool probe airlift node probe io override tools option title interrupted message node tool description runtime node tool cmd decommission command illegal state execute decommission airline
test.unit.org.apache.cassandra.db.NameSortTest
single multiple flushing concurrently keys force compaction concurrently sort buffer simple utils standard cfmd sort cd substring keyspac cmd io open cfs clustering rows column family store filtered partition column metadata column family store util instance add validate sort build sort expected sort junit columns configuration schema loader nio buffer util rub cell db cf sort apply unsafe io keyspace params key integer ascii prepare server partitions row update builder partition keyspace define schema cell val keyspace metadata keyspace length force blocking flush schema marshal row
test.unit.org.apache.cassandra.db.commitlog.CommitLogTest
disable durable writes system keyspaces prevent system end cl segments unexpected results wrt counting cl jvm nuked indication hit condition working cl expect killer force eof reading garbage flush read negative size negative roughly mb adding adding mutation roughly mb adding change delete adding mutation large cl entry segment forces half cl segment deleted write flush flush allocate size optimized hood computation log entry note size vint compute ovehead mutation max max size sanity check encoded size temporary commit log file descriptor commit log file reference position descriptor subsequent writes happen correct file write cipher iv descriptor make annoying things change id match make annoying things arbitrary number entries skip filter system writes flake skip process mutations deterministically system keyspaces mutated write attempt memtable make data replayed retries work subsequent flushes clear error change expect make metadata saves reads absence persisted data commit left expected write wait started flushes move commit log segment flush delete segments longer flushed stop errors retain segments flushing wait started flushes iterator additional headers ignore replay errors property buffer recovery garbage logignored property write error row segments snappy compressor data output stream junit util unwriteable flush recovery io recovery negative size argument partitions table reader cmd keyspace sync iterables cfs cfs replay files current version net flush action metadata suppress warnings uuids replay discard discard completed segments closeable checksum sstable force blocking flush disk failure policy metadata apply order log discard compaction zip distinct call prev run expecting tracker active segment parameterized column family store row update builder join mark directories unwriteable partition update killer commit log descriptor disk failure policy io stream lout accept dont delete dirty recovery bad size checksum interrupted order flush recovery compaction empty handle mutation commit log segment size config true arrays max syscfs killer durable writes keyspace params commit log alloc size file live tables reset unsafe jvm stability inspector util uuid callable encryption context memtable skipped file perform compaction dout recovery id mismatch recovery mutation size force recycle segments mutation overhead files reader rm policy empty partition updates write col length delete dirty log file hex messaging service partition update file table id path array open size caught system max record data size params id entry location schema output stream simple property commit log segment illegal argument auto snapshot function discard position recover order flush recovery instance dirty cf ids make unflushable build recovery log schema loader write header compress array output stream error compute vint size commitlog singleton commit log location enabled recovery garbage logfail columns generate data db temp file file truncate snapshot durable random common write throwable commit log compression clear property rm table ids fail close data size vint filter position current memtable array record limit rm deflate compressor commit log replay row recovery key replace killer apply unsafe storage directory collectors compaction manager keyspace force major compaction encryption context order log discard simple standard cfmd hex ascii mutation commit log recovery size tmp file table metadata recycle segments replay filter runner pair keyspace prepare server dirty table ids cfs cr context disable auto compaction utils auto snapshot recovery garbage log execution override id cell count file output stream commit log commit log compression nio killed encryption context database descriptor recovery bad compressor position truncate snapshot exceed record limit standar collections segment manager serialized size durable killer add replayer runners flat buffer util format checksum compaction encryption iv desc cf disabled context collect active segments security recovery empty log google active segments parameters system recovery bad size argument flush position header lz compressor ignore run killer id id allocate configuration commit log replayer parameterized log data concurrent entry overhead size keyspace bi consumer recovery log commit log position memtable current marshal row disk failure policy truncate blocking garbage column family stores keyspac keyspac currentversion config clustering rows compression collection integer files expected encryption context generator commit log position buf recover files reset cells flip limit auto snapshot original state view file local durable writes current position max mutation size column family store standar vint coding empty update encryption context simple counting replayer commit log compression reload table metadata size max write false replay simple serializer
tools.stress.src.org.apache.cassandra.stress.operations.userdefined.TokenRangeQuery
columns add order user specifies replace state token range store paging state retrieve track partitions start processing token token ranges call succeed added pages fetch warming ready move token add statement count operations stress yaml table metadata results statement query run op math row page size pagesize add sanitize columns remaining columns format token range util token io paging state report partitions netty execute fast thread local collect operation current state simple statement state execution info append fetch size column metadata ret state core run driver timer warmup key pk columns generate paging state collectors row count timer range num left row permits table metadata operation supported token range exhausted start statement paging state datastax end build query builder token statement fetching join token range query def partition count driver run token range query def ready time retry stream exhausted result partition key token io override session end min paging state driver client userdefined start update concurrent stress work manager partition key token range iterator stress columns runner partition client work manager token range iterator
src.java.org.apache.cassandra.cql3.restrictions.TokenFilter
decorator merge restriction token restriction partition partition key columns restrictions calculating incusiveness decorated restriction partitioner manage extracted token restriction partition key columns restrictions simply token range filter restrictions ignore token filter decorated options query matching token invalid request request filter tokens included tokens tokens restricted tokens included converts range buffers token restriction range converts slice range slice slice options query range invalid request request deserializes token buffer token restriction secondary index manager add functions filter range buffer range cql deserialize token row filter add remaining db util token token index manager array inclusive collect token common token google column column defs buffers token restriction index slice merge column metadata bound metadata end range builder range query options supporting index ipartitioner range filter start bound closed options invalid request singleton statements bound table open size table metadata start restrictions schema column def token factory restriction restrictions restrictions tokens partition key restrictions bounds filtering token filter inclusive end bound override function functions end slice range token restriction empty build dht bound unrestricted partition key components nio buffer immutable range start bound array add builder add row filter bound partitioner compare column
test.unit.org.apache.cassandra.utils.vint.VIntCodingTest
quick sanity check encodes read extra count close biggest utils flush compute size number extra read io encoded expected size baos vint coding size vint max data output stream junit write unsigned vint buffer capacity util framework array output stream expected size dob vint coding compute unsigned vint size remaining length array data output buffer
src.java.org.apache.cassandra.repair.messages.ValidationRequest
size repair validation request data output serialize validation request repair job desc io override message sizeof serialized size code version sec sizes read data input db util io desc message serializer repair message deserialize messages write validation request serializer serializer dis
tools.stress.src.org.apache.cassandra.stress.generate.PartitionIterator
partition reduce garbage internal batch generation clustering components bound time size generate huge partitions small number clustering generate seeds single generate batches difficult generating sorted require generator support support generating generate sort picks random bounds reuse save partition key seed based current work item contribute data permits iterating random subset procedurally generated rows mechanism visiting maintain stack clustering components clustering component generate average number children randomly choose visit generate children repeat time space average number clustering component opposed total todo support constraining reads rows seed generate current clustering components save recalculating recalc prior components remaining visited level current probability single row generated chance selection applied compound roll make chance reached adjust roll level track partition limited reusable collections generating unique sorted clustering initialise iterator expected behaviour batch count compounded visit count chance uniform chance visiting single row target count target count number rows visit chance write true action requires write true data false seed clustering calculate clustering components total rows loop picked reset exhaust real seek start clear prior chance previously expected row row expected distance row allocated defined wired expected row row position index row row prior position items visit move forwards prev row current loop item store theoretical move remaining practical item translate scalar position tiered position based expected scalar scalar decomposed target seek provided position initialise scalar scalar resultant iterator started position ascend back clustering advancing exhausted check exceeded position generated find real yield false select seed call advance honour select normal method moving iterator maintains row delegates move iterator leaf level method calculate seed generating row combining seed generated clustering fill row position advance leaf advance leaf run clustering components chance descending uniform multiplied number average generate generate multiplied chance reached beat chance beating fill clustering component increase reached update probability fill clustering remove clustering suffix skipped generate clustering components provided requires preceding generated seeds populated generate clustering components calculate seed based combination parent seed generated children row population ratio unsupported operation generator random scalar collections add buffer component count idseed multi row iterator arraycopy row comparable generator instance clustering components finished partition illegal state components add empty parent seed count partition iterator max decomposed db rnd util column significant bits write unique gen uuid current row iterator chance array remove collect common google max row count target count system number rollmodifier result write iterables append tmp index poll permit nulls current math row max key expected row count peek bound partition generator queue end partition key arbitrary generate seed manager advance obj shuffled clustering distribution assignable queue length seed mark write marshal seed manager rand row chance bound size deque bound limit pair integer mark write prev sort array deque thread local random success builder partition key single row iterator copy buf thischance reset left random bound state str total columns decompose compare fill utils element clustering component depth chancemodifier seed compare row sorted row seek move forwards na avg partition key limit min force na tosort reset bounds clustering seeds clazz nio arrays visits concurrent sb clustering component averages order stress seek current row row seed clear significant bits seed depth compare position row order clustering descendant averages
src.java.org.apache.cassandra.auth.AuthCacheMBean
max entries invalidate max entries update interval update interval max entries validity auth validity auth cache mbean update interval validity period
src.java.org.apache.cassandra.dht.tokenallocator.ReplicationStrategy
group iff hashable replicas tokenallocator unit unit dht group replication strategy
test.unit.org.apache.cassandra.db.SinglePartitionSliceCommandTest
check raw iterator check iterator memtable check iterator sstable selection iterator daemon initialization read response truncate blocking serialized size bottom row filter read command logger null junit columns buffer util db util io add partition key column cql execute internal partitions cell single partition slice command deserialize iterator slices define schema cmd column filter logger columns add clustering column data output buffer metadata data input buffer unfiltered partition iterator clustering index slice filter dst column metadata regular columns ret cell data limits net ri configuration data input decorated key key query processor column keyspace filter keyspace force blocking flush single partition read command add regular column row messaging service column simple serialize clustering bound column filter open fb utilities rows table metadata column identifier table pi ut add column schema cql safe call keyspace integer prepare server slice filter unfiltered row iterator comparator read execution controller cells data response version logger factory decorate key slice utils inclusive end io cql logger make iterator id execute locally make column family store instance empty build schema config cell iterator true schema loader truncate column family store instance buffer execution controller slice keyspace params database descriptor response builder check marshal partitioner slfj row false hex serializer
tools.stress.src.org.apache.cassandra.stress.generate.values.Generator
generator size distribution seed config size distribution clazz option distribution generator config identity distribution clustering distribution identity distribution db identity distribution distribution generate size distribution stress clustering distribution seed clustering distribution salt marshal distribution factory
src.java.org.apache.cassandra.index.sasi.sa.Term
buffer disk index buffer start term term tokens nio db tokens position token tree builder comparator suffix length compare position sa sasi marshal
src.java.org.apache.cassandra.metrics.BatchMetrics
metrics registry metrics batch metrics partitions unlogged batch partitions counter batch metric factory factory partitions logged batch histogram metrics metric factory codahale histogram
src.java.org.apache.cassandra.streaming.compress.CompressedInputStream
input stream reads data underlining source chunk uncompressed offset beginning current position number buffer raw checksum problem reading source added stream expected variable error reading source thrown consumer subsequent read source input source read compressed data info compression buffer limited store validate crc buffer offset read consume consume chunk crc check chance supplier supplier arraycopy math iterators total compressed read parameters max compressed length source logger buffer read read util io netty iterator chunk logger common google read system streaming fast thread local thread checksum collect current wrapped runnable compression metadata uncompress len compressed checksum length eof array blocking queue compressed crc input stream put reader chunks current total compressed read compressed input stream start poison pill function thread local random read length info data buffer sstable compressor run logger factory checksum utils primitives io override logger array checksum min interrupted crc check chance compression info blocking queue buffer offset chunk length buffer compress decompress concurrent valid buffer warn array len slfj position decompress chunk
src.java.org.apache.cassandra.streaming.StreamTransferTask
stream transfer task sends sections table files received ack file sequence number sequence number file notify session task race queuing messages completion completion copy avoid remove previous time task rescheduled schedule timeout task release reference file receiving ack sending receiver task release sequence number sequence number file time time unit unit scheduled future timeout remove cancel session atomic scheduled executor service stream session executors file messages outgoing file message runnable timeout executor util aborted increment common table reader array remove timeout throwable key google visible timeout tasks thread factory total number files fail ref stream hook total size ref metadata run schedule schedule timeout base put messages sstable sequence number signal complete header estimated keys table id collection cancel total size message unit size throwables atomic integer pair integer prev sections annotations schema files complete add transfer file add suppressed streaming stream task message retry future time unit stream transfer task file single thread scheduled executor utils abort io id format report outgoing file instance empty task completed concurrent propagate table level clear table id time scheduled future
src.java.org.apache.cassandra.index.sasi.SASIIndexBuilder
row indexed data inserted index primary index length collections compaction key position sstables disk index writer compaction info component buffer util format index entry db util key io compaction table identity iterator table reader uuid index build columns read error operator empty exists data file start partition cfs index complete table filename secondary index builder sasi index builder total index column metadata metadata filename previous key position decorated key compaction id key eq tmp index sorted key sstable length sasi index marshal entry row index entry key iterator stop requested uuid gen collection open data reader index filename compaction info processed time uuid complete key position column family store operation position column index random access reader descriptor schema table index writer io total size utils compaction interrupted table conf seek indexes primary index key validator build partition key writer read length keys update singleton entry partition unfiltered cluster file row position sasi
src.java.org.apache.cassandra.index.internal.composites.ClusteringColumnIndex
index column cell indexed index general cluster component composite collections cell cell indexed index indexed generate index entry row key cell rk rk row key initial cell clustering stale index comparator index prefix buffer path math clustering index primary key liveness info rows min base cfs cbuilder cell path add internal build clustering prefix timestamp indexed column size comparator schema ck count nio decorated key index entry db index metadata build index clustering prefix partition key column family store clustering column index position indexed data sec decode entry index entry index indexed key live data clustering columns index def composites metadata builder cell row
src.java.org.apache.cassandra.utils.DirectorySizeCalculator
walks directory summing total contents files simple file visitor io attribute utils visit file acceptable attrs file path override size allocated size path nio directory size calculator basic file attributes io exc visit file failed file visit result file
src.java.org.apache.cassandra.repair.messages.RepairMessage
base repair related message size repair validation request messaging service prepare consistent request data output status request fail session validation request message verb repair job desc cleanup io status response propose validation complete message serialized size message sync complete propose write failed session status response iversioned serializer version sync request status request snapshot net consistent request snapshot message commit promise promise consistent response data input util repair message io prepare message commit serialize desc message serializer repair message deserialize cleanup message message illegal argument sync request messages read repair message serializer validation complete prepare message sync complete prepare consistent response serializer
src.java.org.apache.cassandra.tools.StandaloneVerifier
load keyspace load sstables verify stop daemonized finish compactions shutdown table metadata ref parse open validation jvm stability inspector sstables system output cli add message usage table lister option format directories db util option compaction table reader array cmd commons debug keyspace add option debug option system cfs append verbose option init database descriptor exit primary index descriptor parse options directories key keyspace length formatter cmd line options options load disk output handler verbose entry header verifier tools lister failed handler command line parser msg schema error msg keyspace column family store minutes skip temporary err illegal argument inspect throwable corrupt table cmd time unit compaction manager utils parser parse stack trace io usage data sstable verify component column family store util instance verifier builder schema cf command line cmd line options extended open tables bulk loader gnu parser concurrent txn err entry tool sstable lister standalone verifier components entry extended option opts
src.java.org.apache.cassandra.auth.PasswordAuthenticator
password authenticator iauthenticator credentials internally management roles querying responsibility password authenticator requires storage retrieval encrypted rolename matters leave backwards anonymous role found role cache result loading cache duplication hurt sasl plain mechanism specifies credentials encoded sequence delimited form authz id fact care authz id match authn id concept user authorized act behalf encoded credentials authn id password authentication query state cql cache complete logger mindrot buffer util auth util client address checkpw credentials password credentials cache mbean iauthenticator execute utf client response logger common inet address statement google system result query client state nano time transport evaluate response credentials update interval authenticate collect array require authentication net configuration credentials cache max entries credentials update interval username key standard charsets query options auth keyspace query processor logger factory prepare internal calls sasl negotiator messages length credentials cache max entries sasl negotiator credentials cache invalidate statements format auth keyspace credentials validity legacy authenticate table rows roles service salted copy range nul statement consistency role query password jbcrypt username complete decode credentials authenticator validate configuration untyped result invalidate credentials authenticated user setup schema immutable rows utils pass result message data resource auth cache mbean logger plain text sasl authenticator end select statement charset empty credentials validity password key config nio trace resources arrays auth cache schema constants user database descriptor authenticate statement authenticated user password authenticator role manager bcrypt slfj role
src.java.org.apache.cassandra.utils.CloseableIterator
instantiate anonymous auto closeable closeable iterator iterator utils util close
test.unit.org.apache.cassandra.tools.StandaloneVerifierTest
runner schema loaded keyspace loaded schema loaded expected threads schema standalone verifier run tools run tool unexpected threads started server loaded junit tools tester optional threads schema system loaded standalone verifier clsm loaded standalone verifier ordered junit runner
test.unit.org.apache.cassandra.tools.nodetool.formatter.TableBuilderTest
nodetool empty row io table baos rows tools null column delimiter add formatter junit row stream format array output stream rows size table builder table builder
src.java.org.apache.cassandra.cql3.Validation
collection validation functions reused hosts functions historically clear place horrible validates partition metadata metadata table check key serialized partition key invalid request provided check key handled invalid request utils marshal buffer fb utilities cql serializers table metadata message partition key remaining schema validate key nio key validate validation max unsigned metadata
test.unit.org.apache.cassandra.gms.ArrivalWindowTest
higher phi unknown host ep nano add gms net junit arrival window runtime window nano lang local host nano time arrival window inet address
src.java.org.apache.cassandra.db.partitions.PurgeFunction
called beginning called partition purged infos empty called meant compaction iterator update skip marker deletion time filter tombstone marker deal partition close partition update progress marker close deletion time apply override purge evaluator transformation purge repaired tombstones range tombstone boundary marker predicate rows deletion time gc apply partition transform live empty boundary purge close boundary unfiltered row iterator reverse order function oldest unrepaired tombstone apply deletion time range tombstone bound marker purge function timestamp reversed db util apply deletion partition key range tombstone marker apply row local deletion time partitions sec deletion purger decorated key open marker open deletion time row purge purger purge open purge close marker empty partition post purge apply marker purged row
test.unit.org.apache.cassandra.utils.btree.BTreeRemovalTest
generate branch find size children remove root aleaf remove root branch add result size null junit remove minimal leaf branch rotation remove minimal leaf branch rotation util middle nodes btree removal leaf random remove collect common null google system result iterables btree cmp arraycopy iterable find index remove empty middle node sizes key randomized array idx size remove minimal leaf merge left remove minimal leaf merge left sorted formed length remove minimal leaf btree removal tree rand remove minimal leaf rotate remove minimal leaf rotate remove size val leaf sizes remove minimal leaf rotate left elements expected integer empty remove minimal leaf branch merge left remove minimal leaf branch merge left remove minimal leaf single key root merge generate sample levels tree op property copy remove nonexisting element remove minimal leaf branch merge remove minimal leaf merge child start leaves compare btree utils generate leaf remove element branch key end remove middle branch empty build true comparator keys btree removal child end btree data remove minimal leaf branch left rotation remove minimal leaf single key root merge left update function generate sample levels tree
src.java.org.apache.cassandra.hints.HintsWriter
hints writer write writes buffer file buffer flipped calling primary goal session share buffers potentially dozens hints ensure contents written underlying channels appends serialized hint crc aggregation writes underlying channel buffer hint serialized hint crc hint write fit aggregation flush hint fits aggregation update aggregation write hint buffer serializes appends hint crc aggregation writes underlying channel buffer hint unserialized closes session flushes aggregation buffer page potentially skip page cache tiny assumption target node file closed dispatched shortly file messaging version buffer write error files output stream serialized size hint remaining hints writer session file util hints buffer io hex utf fsync compressed global crc crc common write throwable fsync google force visible page size close append bb total size allocate getfd encrypted hints writer suppress warnings cr file op checksum file entry overhead size put session skip cache size data output buffer serialize hint buffer channels written initial size trickle fsync interval kb open standard open option fb utilities hint size zip throwables update checksum path encrypted library data output buffer fixed integer annotations auto closeable output stream update checksum write checksum file write checksum flush buffer hints scratch buffer sync position flip hints descriptor descriptor descriptor standard charsets file write buffer skip cache file hint utils io sync util written perform charset write fsync compressed hints writer config channel nio buffer fd database descriptor path dob clear file channel file directory position serializer
src.java.org.apache.cassandra.db.commitlog.CommitLog
commit log tracks write operation aim commit log successfully recover data stored disk permit records half size commit ensure spin allocating empty segments writing large register perform recovery commit logs located directory config number mutations submit files segment manager archiving prior recovery files archived normal commit log errors archiving treat files archiver added perform recovery commit log clogs commit log files number mutations perform recovery single commit due coupling commit log position implies necessarily prior flushes dirty waiting free recycle segments flushes dirty waiting free recycle segments forces disk flush commit log files preempts sync add mutation commit cdc mutation mutation add checksummed checksummed modifies dirty cursors commit log segments column family discards commit log segments longer id table lower bound lowest covered replay position lower bound highest covered replay position active segment ordered oldest marking flushed cf reach segment file commit log position segments unused marked clean recycled mark delete newer segments reached position shuts threads commit blocking number files unit fail compressor compressor compress encryption context encrypt checks segments segments checks segments segments compressor compress compressor compress compressor compressor compressor compressor encryption context encrypt encryption context encrypt delete segments reset unsafe iterator restore command collections buffer jvm stability inspector reset replay limit write error segment segment manager write replayed batch commit log service commit log location register mbean inspect commit log throwable debug enabled management factory upper bound allocation archive discard add replayer restore directories discard completed segments unmanaged files filter logger restore precision commit log segment manager mutation unused logger factory db commit failure policy util key io directories force recycle configuration iterator die array commons iter ignore logger filename filter segment common mark clean write commit log mbean security write timeout dir mutation put google dropped tables active segments compressor visible sync archiving segment seg error compression commit log sync lang force recycle segments encryption restore point time total size replay files recover segments disk tree active disk size buffer archive files block writes icompressor net mbs commit log replayer allocating content size pretty memory finish write empty runtime commit log service error active segment archive command cr data output buffer configuration throwable trace enabled parameterized storage directory service encryption context stop unsafe checksum entry overhead size commit log segment manager cdc length iterable handle replayed segment encryption context mark written size messaging service compressor delete confirm commit log position restore command format serialize stop put periodic commit log service table id path shutdown path currentversion message config fb utilities stop transports compressor management log zip attach update checksum cdc log location construct start replay path archiver commit log segment file comparator data output buffer fixed segment ratios annotations schema commit log compression active segment compression ratios commit log archiver buffered data output stream update checksum precision sort compressor simple lower bound archive pending wait archiving compressor commit log position recover files info scratch buffer join commit log segment compression params illegal argument batch commit log metrics commit log descriptor storage service executor recover path platform mbean server handle commit error restart unsafe files compressor file utils archive command await termination max mutation size io reset configuration override logger recover id clogs restore archive current position length max mutation size cdc enabled interrupted restore directories replay instance active content size empty encryption context dirty commit log data config commit log segment manager standard nio trace restore point time arrays valid compress disk size allocate metrics mbean server request extra sync position file utils database descriptor buffer segment lang alloc dob stopcommit slfj shutdown blocking file commitlog utils serializer commit log sync
src.java.org.apache.cassandra.db.compaction.CompactionTask
largest note removed files marked suboptimal caller unmark sstables internal rest system properly caller charge sstables collection sstables passed empty compact rows note current compaction necessarily task created comments select tables compact based disk sanity sstables belong sstables flush added compaction remove compaction world valid determining sstables existed table scanners closed mark compacted tables replaced call scanners ifile dfile sstr deletion errors windows delete scanner limit account point log bunch statistics result save system table update checks disk space execute drops largest sstable task space handle account space compact write size expired end sstables run disk compact expired sanity check make compact fully expired scanners iterator fully expired tables add total compacted max size file min repaired system keyspace compaction limiter compaction strategy manager compact compaction aware writer nanoseconds predicate ratio total source cql rows user defined writer integer add compaction rate limiter acquire release logger max data age compaction logger pending repair unrepaired sstable format sstables metadata collector directories db util compaction task compaction difference execute internal compaction controller table reader scanned uuid compaction strategy directories expired tables commons logger expected write size common snapshot compaction millis estimated tables keyspace google increment compactions reduced increment sstables droppped compactions system build compaction candidates disk space merged rows sstables check obsoletion iterables compacted lang collector cfs append rate limiter collect compaction finish compaction runtime compaction executor stats collector math reader offline fb utilities ref metadata filename pretty memory run input size start size nanos debug base total scanned task id time unit pretty memory table active merge summary merged row counts expected size directories ids compaction manager sstable length compression ratio rate limiter table metadata refresh overlaps scanned txn ci endsize lifecycle transaction begin compaction total source cql rows duration nano put estimated keys cancel apply scanner strategy cfname active repair service size min rows service stop requested sstr reduce scope limited space collection partial compactions acceptable start compaction info total msg base filename total compacted merged row counts removed table refs sstables removed deprecated warn controller pending repair column family store operation compaction controller minutes compression ratio compaction written count join originals time compaction disk space check enabled startsize descriptor pending repair info run logger factory compaction writer compaction task snapshot flush op id table utils compaction interrupted io override table logger msg logger current time millis total source rows originals fully expired tables update compaction history gc offline metric total compressed size min repaired level nano time instance writers empty max builder disk space config scanners compaction iterator max data age finish trace max table max concurrent end size start time compaction strategy manager database descriptor lifecycle sec transaction keyspace expected compacted file size repaired refs table level total keys written slfj refs compact increment aborted column family compression ratio utils compaction aware writer
src.java.org.apache.cassandra.auth.IAuthorizer
primary authorization authorizer attempt false authorizer called authorization permissions user roles introduced version distinguish meaningful users role login roles granted concept link client session authenticated user thought manifestation linked specific client user authenticated user requesting resource resource authorization permissions user grants permissions resource opposite method optional called support performer user grants permissions permissions resource resource grant grantee role permissions revokes permissions resource opposite method optional called support performer user revokes permissions permissions revokee role permissions resource resource revoke permissions resource granted method optional called support performer user permissions permission user interested result include matching resource resource permissions permissions resources grantee role permissions permissions role matching permission requesting user authorized called deleting role drop role statement alias provided drop role inherit permissions deleted removes permissions granted role method optional called support revokee role revoke permissions method called resource removed table role revokes permissions granted iresource method optional called support dropped resource resource revoke permissions resources made inaccessible users accessible column families unmodifiable validates configuration iauthorizer configuration configuration setup called system startup initialize method required authorize performer revoke role resource iresource iauthorizer revokee grant grantee permissions revoke configuration require authorization resources auth util validate configuration user permission details request validation resource dropped resource request execution authenticated user setup permission revoke
src.java.org.apache.cassandra.metrics.CacheMetrics
metrics cache capacity total number cache hits total number cache requests time cache hit rate hit rate hit rate hit rate total size total number cache entries metrics cache identify cache cache measure icache ratio weighted size minute hit rate fifteen minute rate factory codahale ratio count override hit rate capacity metric factory cache factory minute rate metrics integer size ratio gauge metrics registry metrics metric fifteen minute hit rate meter entries hits minute hit rate register meter cache metrics minute rate gauge requests
src.java.org.apache.cassandra.schema.Keyspaces
creates keyspaces instance keyspace provided google stream format table id override diff code tables predicate table metadata keyspace immutable id keyspaces add build nullable schema function predicate added updated nullable views table view nullable builder keyspace metadata illegal state util keyspaces difference annotation iterator stream key builder put filter collect common iterator metadata difference iterable
src.java.org.apache.cassandra.io.util.DataOutputPlus
extension data output writing buffer potentially copy reduced bounds checking write buffer modifying safe operate underlying impossible stash reference forget efficient storing unsigned storage cpu note store negative method forbid negative sentinel snuck protocol version bump introduced improve current position underlying target position support functionality supported unsupported operation supports providing method unsupported operation google buffer data output utils channels io memory vint coding function vint write memory write vint write unsigned vint nio buffer util position base io offset apply channel data output length writable channel common position
src.java.org.apache.cassandra.io.util.SafeMemoryWriter
buffer capacity memory accumulate io throwable override close tail buffer min safe memory integer current buffer math max memory calculate size size buffer buffer size nio suppress warnings buffer max tail offset free initial capacity reallocate position big endian copy order count util capacity validate reallocation capacity length safe memory writer position data output buffer order
src.java.org.apache.cassandra.cql3.statements.DropTriggerStatement
invalid request statements check access present format schema altering statement build announce migration unbuild schema change query state logger client state configuration transport schema drop trigger statement service keyspace current instance state validate table exists table logger change schema updated local target triggers migration manager announce table update ensure trigger unauthorized validate cql request validation info updated table metadata triggers logger slfj column family table metadata query state logger factory cf event
src.java.org.apache.cassandra.cql3.restrictions.SingleRestriction
single multiple checks bound bound bound checks bound inclusive bound bound merges restriction merging restrictions result reason choice great flexibility merging preventing side restriction restriction merge restriction resulting appends builder append options query appends bound builder append bound options query eq statements bound bound null merge query options restriction append slice restriction db single restriction multi cbuilder bound cql restrictions multi column builder inclusive append bound options
src.java.org.apache.cassandra.db.marshal.DoubleType
empty buffer empty unsupported operation divide number utils marshal cq multiply cast buffer override mod negate parsed transport remaining serializer compose serializers empty meaningless serializer protocol version comparison custom instance add empty protocol version number format point constants term serialize nio buffer util format buffer db json empty buffer simple input cql serializer source substract left exc deserialize cq number marshal left length fixed compare compare custom json decompose
tools.stress.src.org.apache.cassandra.io.sstable.StressCQLSSTableWriter
utility write typical usage schema table primary insert creates provide directory write created schema sstable write insert statement partitioner provide partitioner details stress cqlss table writer writer user adds nember rows resulting close note threads access safe multiple instances parallel instance sstables partitioner client builder adds row shortcut row bind variables insertion statement creating adds row provided correspond cql correspondance cql documented prefer providing directly row bind variables insertion statement creating adds row equivalent add row keys columns add order insert statement construction note column keys lowercase declared column quoted key exact colum column representing row note column part keys correspond column insert statement creating adds row writer serialized row bind variables insertion statement creating adds row writer serialized shortcut row bind variables insertion statement creating note indexes validate triggers forces lot initialization buffered writer problem writing io wrapped sync buffered writer extract adds row writer serialized equivalent raw add row keys columns add order insert statement construction colum column representing row note column part keys correspond column insert statement creating user defined table udt data user defined user defined close method produced sstables guaranteed complete writer loads data directories laid method fetch innermost directory sstable directory sstable builder stress cqlss table writer directory write mandatory directory directory exists illegal argument exist directory write sstables mandatory directory directory exist illegal argument exist place directory cfs directories exist illegal argument directory exist schema table table sstable note provided table statement table include keyspace mandatory schema schema table sstables illegal argument valid table table partitioner partitioner cluster tables method provide correct partitioner partitioner sstable writer vnode range sstable vnode insert statement defining order add cql note provided insert statement table include keyspace statement bind variables bind variables bound resulting mandatory called insert insertion statement defines column illegal argument valid table bind size buffer defines data buffered written correspond roughly data size reasonable oom lower size size creates stress cqlss table writer expects sorted option resulting writer expect rows added table sorted order thrown table sorted order rows added partition key respect option rows rarely provide rows order sorted note option buffer size mb creates table schema data metadata portable prepares insert statement writing data prepared insert statement bound updated columns bound table metadata codec antlr unset collections buffer directory tables parsed statement raw math tables parse unhandled syntax keys update statement writer add codec protocol version timestamp cql statement spec column specification buffer util format directories db definition time live util empty make range aware io sorted cql illegal state partitions insert dht array keyspace commons collect codec directory add row directories clustering clustering exists statements uuid build partition key system table simple writer table simple writer prepared insert table close lang client state cfs sync table metadata ref data directory add update key load insert statement user user directory builder metadata core buffer size mb suppress warnings empty driver bn partition recognition stmt unset buffer init cf custom query options clusterings closeable request validation counter ipartitioner table service collectors internal calls directories parse statement current time millis sorted sstable table format runtime marshal ud client initialization invalid request statements key simple raw builder serialize parsed insert table statement table id prepare prepare insert validate size statement keyspace metadata innermost directory table format table metadata buffer size mb prepared message params statement pair datastax add raw builder schema data range aware uuid ksm column family store add murmur partitioner cfs conditions decorated key partitioner illegal argument table simple unsorted writer keyspace metadata raw add row cast column family raw builder initialized query swapped partitioner unsafe stream utils cql parser array utils schema statement io cql fragment parser deterministic id st id driver functions format offline table update parameters write range aware writing instance codecs empty build clustering nullable schema config stress cqlss table writer nio open tables column family store instance arrays offline tools keyspace params column family store uuid database descriptor keyspace raw statement builder min options partitioner ud helper klass file directory update partitioner newest supported left
src.java.org.apache.cassandra.service.StartupChecks
verifies system environment fit state check individual modelled start local state checks mix informational invariant check system keyspace state determines release version changed startup node snapshots keyspace make easier back check reports setup method exits error logging output report setup careful future ensure mutates local state writing sstables verified initial checks run starting reports startup checks order significant system keyspace check run loads schema checks require schema add system run schema loaded system run configured report detailing determines system valid state earliest legit timestamp casandra instance date roughly ensure system clock correct log warnings kinds tldr oracle essentially qa open jdk clusters running open jdk heap load library check disk access mode standard check saved existence check directories failing stop directories exist verify check system keyspace user shooting foot changing cluster scrub system keyspace load rest system keyspace present existing system keyspace attrs scrub data directories files commit log location data file locations system keyspace add skip subtree path logger max count path optional file backups subdir format directories db util number format buffered reader large address space io buffered reader join cql execute check rack array stored rack logger format message common debug read line iterable endpoint snitch google pre flight checks max count visible system jmx port result iterables table paths jemalloc stored dc check valid launch date saved caches location collect sstable visitor immutable check max count file visitor check legacy auth tables message configuration dirs buffered reader datacenter legacy auth tables init sigar library standard descriptor base inspect jvm options query processor table metadata collectors current rack current time millis vm check system keyspace state dir index access mode check legacy auth tables simple file visitor check jmx properties err wrong machine state parse auth keyspace visit file snapshot subdir pre visit directory data dir cfm path check jmx ports config rack fb utilities exists service data schema keyspace compatible concat library date annotations empty schema current dc hints directory check tables format warn column family store earliest launch date untyped result startup checks expected max count info property check health filename error logger factory check datacenter canonical path paths file stream attribute utils legacy auth table sigar library io max count logger valid file check library initialization filter sstable verify startup check invalid err wrong disk state instance file empty err msg startup schema config nio arrays verify full permissions mkdirs warn running degraded mode basic file attributes schema constants check jemalloc file utils disk access mode database descriptor joiner disk access mode windows tables views add err wrong config walk file tree linux execute internal slfj file visit result broadcast address file check data dirs absolute path
src.java.org.apache.cassandra.streaming.compress.CompressionInfo
carries compression parameters chunks decompress data compression compression compression size data output serialize streaming io chunks sizeof compression info serializer chunk count serialized size parameters version iversioned serializer data input compression info schema sizes read compress db util io info deserialize compression params chunk length compression metadata write serializer
src.java.org.apache.cassandra.cql3.statements.DropIndexStatement
validated dropping index akin updating note call point index dropped call method table index null index metadata table dropped index drop found invalid request index found invalid request statements check access schema altering statement keyspace defined ce unauthorized announce migration local column family access cf override query state client state alter transport schema keyspace metadata service permission indexes current instance state find indexed table exists request validation table unbuild keyspace metadata change schema updated index target format schema change migration manager build db lookup indexed table auth result message query start nano time query options validate cql announce table update execute index table metadata configuration updated messages metadata options keyspace column family ksm query state drop index statement idx event
src.java.org.apache.cassandra.db.ReadExecutionController
sanity check op order index base op controller valid read proper metadata creates execution controller provided code method consistency method execution command command created execution ops closed controller safe open maintain write op full delete stale blocking open write op open duration ensure cf flushed make room block reclamation room note write op null read order group ctor index op order backing table valid read command close group cfs index index table metadata write order base cfs runtime id start read command index cfs index controller utils empty schema auto closeable suppress warnings write op write op order group db concurrent index cfs column family store open store keyspace base op read execution controller base metadata metadata read ordering command index read controller
src.java.org.apache.cassandra.schema.TableMetadata
derived table columns definition stored columns top separated collection kind easy access kind partition key clustering key ordered derived automatically flags dense alias single column table convenience access column easily replace calls tables performance todo call dense cf component comparator clustering component store regular column cf iterator column definitions respect order select columns table backward column metadata general preferable work column identifier make clear talking cql cell buffer dealing column metadata dropped column dropped column column mixing counter counter columns supported tables partition compact table compare column tables colum exists historical tables column column method called column tables column generate table index sstable filenames exposed info definition column index todo simplify guaranteed true change made impacts columns indexes false determine prepared statements table couple places code table metadata readily keyspace creates depends cache turn index row caching compound cql tables compound records deprecated column system play fast loose removal make misued system methods assume builder valid partition regular comment interned iterator regulars partition key comparator compound compact table collections buffer add partition key column code record column drop partition key columns cache keys instance immutable add crc check chance dropped column clustering iter optional columns immutable regular column min index interval format dropped column directories index db select order iterator auth util compaction dc local read repair chance compact column helper cql lower add columns nullable partition key clustering comparator resource iterator columns array remove collect regular common add clustering column partition key add column index table iterable tm column google column counter indexes columns regular columns pk columns empty compact iterables memtable flush period update index table metadata max index interval check comparable immutable collection column column metadata regular columns read repair chance immutable flag columns select order primary key column minimal configuration compact table column kind immutable identifier index builder ipartitioner base regular columns compound cache partitioner base table params key val collectors triggers column end data upper keyspace schema constants extensions view jamm marshal secondary index separator validate column memtable flush period bloom filter fp chance change affects prepared statements put table id speculative retry param table quote table params columns size clustering compression table metadata transform dense column definition comparator column identifier params valid caching params ut add column schema sort override length index triggers compaction params debug column column index metadata columns generate cql table copy updated unmetered regular rename primary key column info match kind remove regular column comparator compute compression params illegal argument time micros speculative retry compact tables clustering comparator clustering columns empty iterator clear put partition key iter primary key columns stream utils counter regular columns substring dropped columns unbuild dropped data resource dense id gc grace iterator column compact column indexes instance empty build max partition key dht config composite nio position cache keys compact table alter column time live database descriptor concat lang github add validate compatibility record deprecated system column builder flag add regular column partitioner flags system keyspace compatible caching position
src.java.org.apache.cassandra.hints.EncryptedHintsWriter
encrypt write google buffer utils visible channels directory io encryption utils global crc compressor buffer zip output cipher cipher icompressor fb utilities annotations channel encrypted hints writer hints writer file nio update checksum compress util compressor cipher io compressor hints input write buffer crypto hints descriptor file channel descriptor common file cr fd security
test.unit.org.apache.cassandra.utils.TopKSamplerTest
checking thread fast pause build past empty sampler executor google item stream sampler single insertions multi utils finish sampling single hll timeout atomic framework count latch run counts count await cardinality sleep uninterruptibly thread uninterruptibles sampler count start top ksampler empty thread factory sampler junit multithreaded access runnable thread queue add sample counter sampler result util concurrent running key clearspring wait empty sleep counter timeout insert target analytics atomic sampler order top ksampler collect count top common timeout put time unit murmur latch begin sampling milliseconds
test.unit.org.apache.cassandra.cql3.validation.operations.SelectTest
column ranges ordering column ascending descending order ascending descending ascending descending order ascending descending check query key migrated check query key clause wide row migrated check select respects inclusive exclusive migrated index token migrated select migrated range query migrated migrated npe select slice composite migrated bug generally good behavior migrated bug migrated migrated migrated require require require require bug migrated migrated migrated migrated migrated migrated make doesn npe server migrated migrated aliasing aliasing regular aliasing aliasing aliasing regular select meaningful aliases select meaningful aliases order migrated selection thrift migrated migrated paging migrated migrated select column composite compound primary key migrated select meaningful aliases order adds checks checks filtering checks filtering compact table clustering adds checks checks filtering checks filtering compact table clustering adds checks checks filtering checks filtering checks filtering checks filtering checks filtering checks filtering checks filtering checks filtering checks filtering checks filtering checks filtering checks filtering compact table clustering checks checks filtering checks filtering compact table clustering checks checks filtering checks filtering compact table clustering checks checks filtering checks filtering compact table clustering checks checks filtering checks filtering selection thrift checks filtering clustering partition adds clutering checks filtering checks filtering checks filtering checks filtering checks filtering compact table clustering checks checks filtering checks filtering compact table clustering checks checks filtering checks filtering compact table clustering checks checks filtering checks filtering compact table clustering checks checks filtering checks filtering compact table clustering checks checks filtering checks filtering compact table clustering checks checks filtering checks filtering compact table clustering adds checks checks filtering checks filtering compact table clustering adds checks compact table clustering checks checks filtering checks filtering compact table clustering checks checks filtering checks filtering clustering column partition slices clustering frozen collections filtering clustering clustering clustering frozen clustering frozen compatibility check select compact asc desc column desc mixed clustering columns restrictions key operations filtering compact tables indices single clustering reversed filtering keytodelete invalid select key wide rows buffer ttl multiple clauses primary key empty restriction true filtering tuple durations row compact big filtering partition key empty restriction order mixed ttl columns selects filtering indices collections index query token range key index range query junit select ordering clause buffer util format empty restriction multiple clustering columns index util key index select key cql clustering order slice functions clustering desc execute custom index filtering uuid compact option table index filtering throwable metadata filtering partition key indices collections select composite invalid pk query min rows drop index filtering clustering columns flush clustering order filtering indices select count paging filtering compact tables indices empty restriction multiple clustering columns order index reversed compact multikey id distinct json column mintoken composite row key filtering partition key counters reverse compact rows queries partition key order select distinct deletions single clustering restrictions filtering compact table idx filtering partition clustering key select bounds keyspace length select count select distinct select token current table filtering clustering column options select distinct clause column select distinct clause invalid request filtering secondary index ordering index lookup clustering prefix invalid message wrap array flush rows ignoring order filtering udt durations rows ck query alias filtering order clause query multiple index key index key mixed ttl columns wide statement integer schema filtering compact tables indices requires filtering message udt tuple table filtering clustering keys filtering indices frozen collections select column execute filtering filtering duration column untyped result filtering partition key compact tables indices false filtering partition key compact tables indices frozen partition key part multi selects compact storage validation filtering partition key columns rows index str multi selects invalid select slice composite filtering column filtering partition key distinct filtering partition key compact tables indices filtering durations utils user blob select alias id filtering partition key compact tables indices cql tester filtering collections null filter index row count statement restrictions filtering compact tables indices filtering durations select clause true nio empty filtering counters compact storage clause filtering multi column slices empty buffer distinct query error msg filtering columns rows multi selects composite compact storage index query composite partition key id duration index unset
src.java.org.apache.cassandra.service.paxos.PrepareVerbHandler
messaging service send reply id message prepare verb handler payload prepare message instance verb reply net request response paxos state commit iverb handler response service message verb paxos serializer prepare response
src.java.org.apache.cassandra.utils.SlidingTimeRate
concurrent rate computation sliding time creates sliding rate time window precision time precision defines accurate rate computation computed window size updates valid counter current precision update counter past precision thread updating timestamp current rate time unit beginning time window provided point time current rate time prunes time window unused reduce google prune lock time source add lock utils multiplier visible existing locks put absent head atomic concurrent skip unit sliding time rate concurrent navigable stream time source reentrant read write lock counter timestamp read write lock sum max precision range atomic integer key ago tail preconditions math atomic size annotations counters write lock clear size millis convert precision update util concurrent base timestamp delta precision millis prune read lock rate millis ago millis counter unlock current time millis check argument common time unit tail counters milliseconds compare
tools.stress.test.unit.org.apache.cassandra.stress.settings.OptionReplicationTest
options stress google replication factor immutable option replication collect common option replication junit
src.java.org.apache.cassandra.utils.obs.IBitSet
true false bit index bit index clears index amount memory amount memory utils serialize ibit io close ref index serialized size capacity identities heap size add identity collection concurrent io closeable clear data output obs
src.java.org.apache.cassandra.tools.nodetool.GetMaxHintWindow
nodetool probe airlift max hint window node probe io override tools max hint window node tool description node tool cmd system command execute airline
test.unit.org.apache.cassandra.service.RMIServerSocketFactoryImplTest
server socket utils reuse address server socket io rmi service net junit true rmi server socket factory impl server factory io rmi server socket factory socket server reusable addr socket rmi server socket factory impl
tools.stress.src.org.apache.cassandra.stress.settings.CommandCategory
stress command category mixed user basic
src.java.org.apache.cassandra.concurrent.JMXEnabledThreadPoolExecutor
wrapper found log runtime release access preferred make access preferred make thread pool core pool size core pool size linked blocking queue number core threads blocked tasks thread factory shutdown debuggable thread pool executor override work queue jmx path dec unit jmx enabled thread pool executor mbean management total blocked thread factory management factory core threads id priority accept rejection maximum threads total blocked tasks core pool size jmx enabled thread pool executor mbs stage blocking queue runnable shutdown runtime max jmx mbean metrics mbean server initial rejection unregister mbean alive time integer current blocked shutdown stage lang util task concurrent thread pool metrics maximum pool size register mbean maximum pool size prestart core threads count max pool size jmx release time unit maximum threads platform mbean server
src.java.org.apache.cassandra.cql3.selection.ResultSetBuilder
multiple thread access instance build build row current row columns collect timestamps ttls writetime ttl functions note collect timestamp care array allocated matter performance timestamp notifies row partition key partition key clustering clustering group maker called timestamps tt arrays null builds aggregates row records clustering aggregate selection group maker utils min result copy cell add input row buffer total clustering rows size local deletion time current instance add empty build output row timestamp timestamps fill number fetched columns metadata row reset nio buffer util row arrays ttls db aggregation selectors util counter context group result metadata cql remaining sec result builder selection decorated key collect timestamps group maker array result selectors remaining ttl collect tt partition key add row context expiring counter cell
src.java.org.apache.cassandra.transport.messages.PrepareMessage
flags creating prepare options internal handles flags options prepare care business write flag emit flags write write google version prepare tracing id tracing requested utils stop session clone keyspace override codec io query jvm stability inspector query state size client state transport instance tracing session read unsigned service keyspace immutable state response decode dest uuid gen codec protocol version encode size greater tracing id query start nano time body prepare tracing session begin write buffer tracing request time uuid util msg error message prepare message read trace query custom payload netty execute client address uuid write tracing encoded size size messages client state response cb util collect cql query handler prepare flags common buf read write inspect throwable message
test.unit.org.apache.cassandra.tools.CompactionStressTest
io runner resource write compact file compaction stress tools run tool profile file junit tools tester loader loader run absolute path loader ordered junit runner file file
src.java.org.apache.cassandra.serializers.EmptySerializer
empty serializer utils serialize marshal buffer serializer serializers instance remaining nio buffer util empty buffer validate deserialize
test.unit.org.apache.cassandra.cql3.PagingQueryTest
paging regular column arr iterator flush result text simple statement session current session net cql tester session msg integer datastax paging query junit true core thread local random driver stmt util concurrent current table cql execute fetch size iterator row iter keyspace length table false throwable row
src.java.org.apache.cassandra.db.marshal.UserType
user defined user tuple field position field field renaming alter handle null fields append trailing nulls missing check unrecognized behavior match method freeze inside additional additional found iterator iter user buffer handle sensitivity previous syntax references user instance field parser cell path add protocol version udt logger split previous iter buffer util field db tuple util key field comparator compatible cql serializer lower iterator build array common field google user defined decode json freeze json buffer protocol version terms transport field serializers serializers logger code cell user field position cell field cq constants configuration stringify user parameters term multi cell index json ignore freezing compose user serializer put user validate cell collectors field cell path field keyspace column base collect marshal marshal cell path quote size serializer rows buffers column identifier params pair length ut references duration freeze nested multicell builder include frozen append freezable compatible simple tuple match field position cells locale json logger factory stream serialize protocol utils parser cq override cql logger parsed subtype column format deserialize instance empty linked frozen nio iter keys buffer field null validate user parameters delayed field identifier slfj components sb quote json serializer left
src.java.org.apache.cassandra.index.sasi.analyzer.NonTokenizingAnalyzer
analyzer tokenize optionally apply filters input output defined analyzers check handle utils filter pipeline builder marshal upper output buffer tokenizing analyzer logger tokenizer options filter pipeline executor normalize index lower serializers builder operation filter pipeline add instance valid analyzable build upper input logger ut sensitive lower output nio buffer util logger factory db analyzer util tokenizing options input str ascii pipeline reset filter pipeline task execute basic result filters filter pipeline init options filter logger slfj validator analyzer error format sasi marshal build hex
src.java.org.apache.cassandra.gms.TokenSerializer
tokens io read fully utils serialize token serializer token buffer data input buffer wrap logger array array offset fb utilities trace size token collection read add gms logger dht pretty memory bintoken token factory nio buffer util write length util token io array ipartitioner deserialize array data output partitioner logger slfj array write logger factory
test.unit.org.apache.cassandra.db.VerifyTest
overwrite row update digest simple verify checking extended verify correct uncompressed iterator simple full checksum buffered writer path correct checksum filename write error files util extended verify correct cache extended verify counter correct uncompressed counter cf add snappy partition position junit standard cfmd buffer util format read db close quietly util counter cfmd io compaction verify correct load schema table reader utf define schema extended verify counter correct cmd commons common operator read line metadata write timeout verify corrupt row correct digest google key end position checksum verify counter correct uncompressed verify incorrect digest cin stream file input stream fail close lang corruptcounter cf extended verify correct uncompressed run descriptor row start filename update builder verify verify counter correct configuration filename row start base eq seek start position checksum keyspace ordered junit runner keyspace force blocking flush marshal uuid simple counter cf compression parameters counter cf verifier invalidate file apply counter cf open corrupt cf compression zip file buffered writer schema row cf keyspace cf uuid checked input stream write checksum position err compression params corrupt table input stream random access file cr compaction manager corrupt cf disable auto compaction io runner utils flush file path partitioner partitions table file cf fill counter cf cf cf sstable write chunk cache keyspace verify component column family store cfs instance verifier build fill cf corruptcounter cf repeat schema loader nio keyspace params position file utils digest charsets live tables write file column family store utils
src.java.org.apache.cassandra.cql3.UTName
override user nio ut keyspace ut keyspace column identifier buffer keyspace cql keyspace
test.unit.org.apache.cassandra.db.rows.RowBuilder
instrumented builder behavior cells rows clustering unsupported operation linked liveness info utils cell deletion override complex deletion add primary key liveness info clustering rows deletion time liveness info column metadata cell add build deletion pair complex deletions schema info add complex deletion deletion time db builder util add cell copy sorted row column cells row builder add row deletion row
src.java.org.apache.cassandra.utils.IMergeIterator
iterators closeable iterator iterator utils util imerge iterator iterable
src.java.org.apache.cassandra.io.sstable.format.SSTableReadsListener
listener receiving notifications reading reasons skipping reasons selecting listener handles notification table skipped single partition sstable table reason reason table handles notification table selected single partition sstable table index entry index reason reason table handles notification table scanned partition range sstable table reader table table reads listener row index entry min max keys io index entry found partition index lookup sstable skipping reason index entry found key cache hit format scanning started index entry db reason bloom filter noop listener table skipped table reader table selected selection reason
test.unit.org.apache.cassandra.cql3.validation.entities.udfverify.ClassWithInnerClass
unsupported operation codec data buffer protocol version transport functions entities params protocol version datastax param execute aggregate impl core nio driver udf context util cql data execute impl udf context udf udfverify validation
test.unit.org.apache.cassandra.db.marshal.RoundTripTest
integer time uuid utils hex wrap buffer ut serializer ascii round trip compose serializers uuid time uuid charset instance uuid gen time uuid utf junit math hex serializer nio lexical uuid lexical uuid db bi util abc integer serializer big integer utf ascii uuid uuid serializer ascii serializer array ascii ut standard charsets integer serializer marshal decompose serializer
src.java.org.apache.cassandra.transport.messages.OptionsMessage
message server ready receive worst scenario pure options message compression supported put codec io protocol versions override query state options transport service instance cql versions add snappy compressor decode dest state codec version protocol version encode response query start nano time body supported message buffer request cql version util msg startup message supported versions cql query processor netty execute frame compressor array messages compressions buf message encoded size
src.java.org.apache.cassandra.utils.FilterFactory
bloom filter lowest practical false probability number smallest bloom filter provide positive probability rate number probability satisfied present bloom calculations bloom filter serializer data output utils serialize compute bloom spec offheap io logger bloom filter math ifilter present filter suppress warnings min data input bloom specification num bits num elements heap bit filter buckets input logger buckets element max buckets element spec bf filter max false pos probability max util open bit io bitset bitset excess filter factory deserialize ibit warn logger slfj target buckets elem output logger factory obs
tools.stress.src.org.apache.cassandra.stress.generate.values.HexBytes
generator wrap seed buffer override size distribution hex instance generator config size config nio arrays db max util copy generate stress identity distribution seed marshal
src.java.org.apache.cassandra.transport.Server
configure bind start accept incoming close opened global event executor defining server channels connections additional channel server size stateless add connection limit handler pipeline configured add pipeline limit enforced detect ssl connection replace detection handler ssl handler connection remove detection handler ssl handler track latest status change events avoid sending storage service send duplicate notifications delay delivering notification node rpc tracks endpoints signalled ready rpc address bound internal address bound note nodes running version includes rpc address eventually log endpoint address good change endpoint local extract node rpc broadcast address rcp send covers driver fact cauase problems endpoint created worker group function epoll event loop group ch identify atomic ssl context server connection filter cipher suites protocol encoder close ssl engine topology change epoll group event executor group compressor client mode port address illegal state message encoder add connection transport max concurrent connections protocol version logger event loop group storage service build removed node protocol decoder tracker encryption options db enabled cipher suites util ssl event notifier io linger host address event executor netty ssl factory write buffer high water mark channel option ssl engine tcp nodelay trace table internal logger factory server logger latest event node event loop group key inet address security status change builder notifier add function node event factory address nio event loop group status unknown host connected clients compare remove event message event executor port transport channel handler context error move instance status change client auth node address epoll server socket channel client encryption options version event executor alter keepalive net size client enc allocator ssl context target host runtime ssl handler rpc ready builder endpoints pending joined notification secure initializer server dropped child option socket register listener optional connection tracker change topology drop function affects statements pipeline logging socket global event executor channel handler context encrypted cf messages slf jlogger factory event broadcast rpc address connection buf message marshal topology change ssl groups rpc alive ssl engine entry dispatcher override replace put channel initializer add send rpcaddress encoder fb utilities supported cipher suites service requireclientauth optional secure initializer ciphersuites alter table event loop group decode start server bootstrap handler table port prev frame decompressor schema schema change listener dispatcher connection factory host addr write buffer low water mark epoll decoder ssl message decoder iendpoint lifecycle subscriber connection await uninterruptibly latest events readable connection limit handler alter function status change alter keyspace info updated nio server socket channel running transport service channel pipeline init channel bind future leave cluster daemon initializer ret version change bind cql node logger factory connection tracker inet socket address trace enabled register moved node frame decompressor utils drop table factory topology change frame encoder keyspace frame compressor io close host cb util logger schema change internal allocator ssl context transport max concurrent connections ip alter aggregate add connection encryption options format event success instance drop codec channel ssl handler aggregate connection limit handler schema config join cluster channel status suites concurrent nio channel group buffer stop drop keyspace child handler concurrent buf write flush database descriptor message decoder drop aggregate function error rpc address channels client encryption options aggregate bind ssl handler channel future channel group bootstrap aggregate node slfj broadcast address rpc address atomic secure intializer
src.java.org.apache.cassandra.schema.ReplicationParams
attempt instantiate configuration options google helper simple entry network topology strategy eps locator tmd override key validate replication strategy validate options service immutable replication strategy add code instance rf iendpoint snitch integer klass config storage service schema nts replication factor dc util base helper copy database descriptor entry helper token metadata local put token metadata remove collect length common local strategy entry endpoint snitch replication params simple strategy
tools.stress.src.org.apache.cassandra.stress.settings.SettingsPort
option cli utility io remove override exit port printf parse select jmx port option port params integer grouped options serializable runnable run option simple arrays printer system util stress options port options result logger cl options
src.java.org.apache.cassandra.tools.SSTableExport
export tables json number times passed command number times passed command arguments optionally output export contents table command lines configuration failure params broken pipe windows cmd iterator open validation debug output option atomic iter stream excludes cli message atomic live partition position min key bound remaining format key option command line db util option io enumerate keys option sorted token desc table reader metadata current scanner partitions cmd commons iter collect token configuration exclude key option add option debug output exists system stack trace table metadata ref key iterator arrays exit row metadata decorated key ipartitioner descriptor option table file options keys json stream absolute path scanner opt enumerate filter sstable length json options key parse header tools fb utilities rows table metadata max key bound command line parser unfiltered row iterator posix parser usage partition key metadata table partition level deletion collectors err partitioner filename bounds json transformer schema decorate key bounds raw timestamps io stream utils parser parse usage table scanner formatter key metadata component current position util exclude key empty partition key dht config table export keys bounds raw timestamps concurrent offline tools client initialization opt key database descriptor option partition partitioner file row position
test.unit.org.apache.cassandra.db.composites.CTypeTest
uuid compare utils ascii buffer simple compound instance base ctype instance build simple junit composite nio buffer util db empty buffer composites marshal
src.java.org.apache.cassandra.streaming.StreamWriter
stream writer writes section table allocate buffer transfers stream file sections stream writer lzf compression wire decrease size output writes data io data compression stream required sections seek beginning length section tracks write make current section sequentially read file write output reader file reader read validator validator verify data start number skip include length full length read transferred number read number plan id progress info session limiter stream session filename math stream rate limiter stream writer direction lzf output stream logger compressed output format file pointer util transfer lzf table reader logger debug output checksum validator exists streaming flush total size section chunk size reader progress fb utilities filename pretty memory transfer buffer peer sstable length rate limiter table metadata chunk start read fully read offset read stream manager checksum validator transferred size collection open data reader start pair sections output stream acquire data output stream read chunk size crc random access reader descriptor min readable ning logger factory io utils file logger seek min data component write compress validate data integrity metadata repaired slfj validator file io left
src.java.org.apache.cassandra.concurrent.ExecutorLocals
tracing executor locals enumerate array time creates executor locals based executor locals trace state client warn state captured null null result logic unnecessarily calling trace state client warn state locals service client warn state instance arrays tracing concurrent executor locals util trace state tracing executor local client warn
test.unit.org.apache.cassandra.cql3.validation.miscellaneous.RoleSyntaxTest
user quoted user quoted alter slightly form user user quoted invalid syntax custom options syntax role syntax cql tester grant revoke permissions syntax alter syntax junit drop syntax roles syntax valid syntax miscellaneous throwable cql permissions syntax quoted username standard options syntax syntax validation
test.unit.org.apache.cassandra.metrics.CQLMetricsTest
runner na prepared statements count prepared statements ratio cluster session connect io prepared statements evicted regular statements executed service start prepared statements executed port prepared statements executed instance transport port build prepared statements ratio datastax schema config junit schema regular statements executed core prepared statement schema loader format driver metrics framework clear metrics run database descriptor cql cql metrics query processor add contact point prepared statements count builder execute dec prepare setup ordered junit runner cluster metrics statement session embedded service bind io configuration clear count
test.unit.org.apache.cassandra.CassandraBriefJUnitResultFormatter
plain text output inspired write log writing part formatting writing formatted results formatter output suite written output suite written constructor stream formatter supposed write results output stream write testsuite suite quick output testsuite suite append err output streams listener junit thrown listener junit failed caused error error thrown format formatted format error error format text results end failed error junit version helper instance message junit ignore message number format format run time add failure util framework io listener number format line assumption failure throwable junit result formatter system flush close error count append line sep junit result formatter output output system error length skip count start suite filtered trace message tools system output optional buffered writer output stream writer run count suite end suite add error property err error junit runner result writer system output buffer taskdefs failure count ant format skip tag build io write format error empty junit system error file utils output stream writer strace start sb utils
test.unit.org.apache.cassandra.gms.FailureDetectorTest
slow unit problems gc pause convict heartbeat data present ring trigger handle state left confirm handle state left called left endpoint removed confirm history left host wiped status jump left host singleton daemon initialization system locator unknown host collections alive random partitioner failure detector partitioner service application state convict left clear unsafe util instance report tmd gms phi convict threshold net dht config junit storage service factory status failure detector compute expire time key tokens ipartitioner token initial ring database descriptor interpret util change token metadata uuid versioned factory array endpoint tokens token metadata property versioned gossiper hosts member false inet address host ids setup left
src.java.org.apache.cassandra.service.ClientState
state related client system cfs readable authenticated users tools rely clients tools users sufficient privileges alter level options current user internal mark client state internal ability modify system remote address client null internal biggest timestamp global ensure timestamp assigned strictly monotonic user expect intuitively user intuitively expect timestamp strictly monotonic unrealistic construct empty client state internal client state internal calls limited kind client state external clients protocol clone client state provided keyspace keyspace client state client state keyspace argument client state clock guarantees updates client state sequence multiple updates happen timestamp suitable paxos timestamp commit progress paxos ensures timestamp commits respects serial order replica reject proposal timestamp strictly greater proposal timestamp proposal affect correctness affect chance making progress pick timestamp lower proposed proposal prepared phase replica send propose option maximum accepted proposal timestamp proposal work commits timestamp order give poor experience paxos updates mixed paxos operations microseconds mix kind pretty started normal updates realize paxos enforce property safe due expiration paxos state initially chose current time microseconds normal works general clock skew creates unavailability periods paxos updates node past commit accepted clock node clock future commit nodes small clock skew pretty bad large current mix compare timestamp accepted proposal local local time paxos locked current time general mixing paxos behaving paxos state expire maximum clock skew lower paxos state local time lower proposal clock future compared local proposal timestamp min timestamp max timestamp proposal accepted replica prepare phase paxos round minimum timestamp timestamp suitable paxos proposal reasoning note contrarily guaranteed unique calls argument argument passed multiple multiple note ensure paxos unique randomizing part note ended picking min timestamp micros change local single node future corrupt nodes inserts inserts skip keyspace validation client call calling handle attempts login login privilege inherited granted verify role credentials supplied access built functions convenience method called check access method avoids needlessly creating lots function resource save creating function resource built functions care schema prevent system keyspace users sufficient privileges alter level options drop authentication authorize chain internal timestamp paxos clone keyspace system keyspace atomic jvm stability inspector alter math ensure permission keyspace access system keyspace authenticator add message atomic timestamp logger keyspace metadata trace keyspace require authorization db auth util keyspace unauthorized cql lower resource keyspace level tstamp logger source column family access prevent system schema modification system custom handler compare keyspace external calls root client state select parent table metadata ref permission require authentication current cql query handler resources net keyspaces access validate keyspace schema keyspace timestamp micros daemon initialized query processor client state service access internal calls current time millis keyspace login invalid request drop auth keyspace cf authorizer user perm role manager table message fb utilities table metadata remote address permissions schema keyspace construct permission handler ensure anonymous schema function iresource cql version anonymous user ensure cql version system keyspace function resource query handler version info property auth resources authenticated user check permission resource chain inspect throwable raw keyspace login column family alterable system keyspaces logger factory anonymous inet socket address readable system resources peers utils cql supported version data resource logger function primary role functions format cql query handler socket address instance schema config min timestamp remote address resources arrays max table ref concurrent schema constants user database descriptor local add validate login slfj validate table
test.unit.org.apache.cassandra.hints.HintMessageTest
compare messaging service deserialized message currentversion serializer hint simple utils standard cfmd random uuid mutation io table hints message schema clustering serialized size table metadata hint length fb utilities instance add mutation table net junit schema timestamp micros host id schema loader buffer util di buffer data input hints util db util framework io keyspace params prepare server serialize hints row update builder hint message uuid deserialize dob keyspace build keyspace table metadata data output buffer hint message data input buffer serializer
src.java.org.apache.cassandra.service.pager.PagingState
null single partition null note theoretically estimate reading buffer remain reason condition backward remaining marks row paging essentially holds row due backward compatibility store cell cell row marking protocol null convenience row serializing clustering paging actual guarantee schema change send paging state schema change theoretically change clustering fixed width timestamp simply reading slightly avoid risk schema backward compatible nodes paging full cellname cell row nodes start row paging row terms stopped note happen table froze serialization version make change fix version encoding protocol things null dense compound tables backward compatibility stop building composite thrift depends cell declared column column part internal null iterator read vint length write vint length collections buffer row serialized size add protocol version remaining empty write unsigned vint buffer util format max db csize util column io encode cell iterator deserialize array compact table write data output buffer path data input buffer clustering decode clustering read unsigned vint serialized size vint length protocol version smaller transport remaining row mark compound code cell arrays column column net cells legacy order metadata math sizes complex runtime read paging state remaining partition read length empty buffer make clustering service column components marshal hex messaging service serialize cell size clustering rows table metadata array copy range dense mark data output buffer fixed pk clustering size schema sizeof unsigned vint partition key integer comparator cells write length compact tables version clustering columns row mark utils io override min make instance build collection element composite nio buffer clustering serialized size length singleton pager protocol split row serializer
tools.stress.src.org.apache.cassandra.stress.generate.DistributionQuantized
unsupported operation inverse cum prob random min seed cum prob override val quanta stress arrays max util distribution binary search generate stress random distribution quantized bounds seed length delegate quantas
test.unit.org.apache.cassandra.dht.RandomPartitionerTest
stop recursion split exceed maximum math size random partitioner tok instance random partitioner dht junit math maximum split wrapping token scalb subtract big integer partitioner split split partitioner init partitioner big integer token left
src.java.org.apache.cassandra.io.sstable.SSTableIdentityIterator
skip partition creator responsible closing file accurate actual sstable stats file iterator utils min local deletion time regular columns tombstone read row header file data input io close seek messaging version encoding stats comparable rows table metadata descriptor regular columns path filename flag version tombstone helper io error compute unfiltered row iterator reverse order columns schema min timestamp deletion time buffer util format serialization helper db index entry compare decorated key stats util partition key io key partition level deletion local mark suspect table identity iterator table reader dfile min ttl deserialize row index entry skip length table simple iterator corrupt table random access reader sstable index bounds unfiltered row position metadata serializer row
src.java.org.apache.cassandra.index.sasi.sa.TermIterator
google utils buffer disk index pair term iterator nio token tree builder min term iterator max term sasi collect common sa indexed term
src.java.org.apache.cassandra.db.partitions.AbstractUnfilteredPartitionIterator
unsupported operation unfiltered partition iterator db remove unfiltered partition iterator close partitions
test.unit.org.apache.cassandra.db.lifecycle.TrackerTest
confound cas swapping check check predicate stop immediately invalidated key cache setup operation invalidate add initial tables daemon initialization collections atomic sstables predicate removed cur readers present add mock schema mock listener null optional junit immutable memtable format db notify deleting util framework compaction live disk space wait deletions table reader ref notify table repaired status changed write array keyspace collect common table added notification release log transaction lifecycle null deleting compaction notify added true google memtable tracker iterables cfs drop tables notify renewed notification nullable memtable replacement senders current memtable immutable incremental backups enabled tracker reader unsubscribe barrier barrier issue empty runtime memtable renewed notification notify tables changed discarding inotification base mark flushing modify table changed notification received drop tables flushing memtables sender memtable notification sstable replace flushed view txn singleton add tables op order lifecycle transaction unknown subscribe cfs apply backups size modify result view memtable inotification consumer atomic integer annotation fail listener write order write tracker schema memtable prev prev notifications column family store copy commit log position count add tables originals total disk space table repair status changed view group barrier utils renewed tracker table deleting notification marked compacted io view atomic reference metric function apply fake view barrier global count current position handle notification incremental backups enabled instance cleanup current notifications commit log config add initial tables added concurrent memtable discarded notification count database descriptor view listener clear increment false writecur commitlog
tools.stress.test.unit.org.apache.cassandra.stress.generate.DistributionSequenceTest
dist inverse cum prob min seed simple sequence min format max option distribution junit true distribution sequence max distribution generate big sequence stress average distribution sequence seed neg sequence
test.unit.org.apache.cassandra.tools.ToolsTester
base unit standalone install security manager informed uninstall security start async copy directory optional thread keyspace loaded collections security manager file expected threads schema run tool management factory keyspace loaded declared method junit thread matches matcher util io system exit src dir sstable dir thread mx bean thread ids commons remove collect expected thread throwable security dir status logger pattern system thread info fail sstable files check exit permission loaded status pattern current arrays files present empty runtime starts setup tester system loaded threads cf dirs optional collectors accessible absolute path thread filter context file dir cf dir current thread cl security manager schema loaded cf initial threads data dir thread info loaded tools method regex management initial perm clazz unexpected threads started server loaded expected optional threads schema context loader copy tables error property thread mx bean match parent err loader compile remain loaded logger factory loaded stream target thread io invocation target schema loaded invoke ends empty true tools tester thread pattern find table reflect file utils lang clsm loaded sstable dir slfj file expected exit code false find loaded check permission
src.java.org.apache.cassandra.index.sasi.disk.OnDiskIndexBuilder
size estimates ttb tree ttb size term calculate key range actual key current open created key position token collision token overestimate extremely finishes index building process index index file file write index contents true index written false index write error terms split terms suffixes terms original max term find initial scan range search max keys covered index searching multiple flush write levels sync contents output implicitly align block boundary flushed term builds standard data blocks count regular data blocks written current block offset size time uuid write length min key marks partials flush buffer disk write error ptr serialized size space add file init combined index logger sequential writer remaining term size serialize term iterator buffer util ops max db memory pointer term close quietly util io token flush metadata illegal state op term ptr length level current max term size array dynamic token tree builder logger block tree mode watermark write block size flush clear process block google force writer option promote write data output visible sync constant write utf flush block write level index position mutable level date hppc index error flush data blocks cnt buffer version write term array eq fb utilities supports common pretty memory terms integral sa suppress warnings offsets decorated key descriptor range align block block cnt key offset eq estimated memory max term add idx write disk index builder upper key range timestamp carrotsearch size marshal block op uuid memory term suffix memory data term end block format entry put mutable data block index file mutable block ascii size max keys sparse max key skip builder pair annotations uuid token tree builder data output buffer fixed write expression block offsets match term size comparator plan align ut descriptor partial sparse sequential writer option sa logger factory indexed term tokens compare file block offsets utils level idx token prefix size io array logger buffer size token count partial bit data level data builder level write combined index empty build finish nio keys add term term comparator levels mode variable entry block size key position estimated suffix sa clear file utils add internal term element key comparator slfj file index level array position sa left sasi supported ops min term
src.java.org.apache.cassandra.tools.Util
bad font impls left skips due font find max remove ansi sequences includes ansi sequences modify standalone tools force initialization fail construct table schema info stored desc restored io reset histogram cols wrap quiet unicode floor key regular columns version math title key bar val message bucket offsets exit streamhist ansi colors count metadata serializer format version db stream ident io mol tool initialization add partition key column cql desc serialization header metadata bar deserialize iterator header iter collect common add clustering column throwable metadata google eh log stack trace printf reduce wrap percent complete apply append array sum init database descriptor tree percentiles strip ansi max progress full bar unicode size configuration system suppress warnings offsets builder ipartitioner descriptor base offset put offset stream width spliterator key sstable length percentile marshal estimated histogram iter stream point color entry build replace tombstone histogram cyan counts tools database descriptor fb utilities stream support table metadata clustering add immutable width column identifier term histogram splititer ut add column schema function lang mcl stats offset title length builder barmap histogram metadata table null empty blue substring err number interned histo builder stream spliterator unknown size utils full bar ascii spliterators stack trace sstable metadata columns io buckets function min component count util instance bars unicode remainder width dht config repeat metadata component header sb entry white max count length data count ansi util partitioner entry max offset length empty bar ascii add regular column partitioner compare bars ascii empty bar unicode
test.unit.org.apache.cassandra.io.compress.CQLCompressionTest
lz high compressor lz bad params io compressor lz compressor compression lz fast compressor compression level cql tester params expected lz params junit configuration true runtime compress current column family store cql compression integer cql sstable compressor table throwable metadata
src.java.org.apache.cassandra.io.sstable.metadata.IMetadataComponentSerializer
metadata component calculate serialized component metadata component calculate serialized serialized size serialize metadata component component metadata component serialize deserialize metadata component version serialize deserialize deserialized data output serialize imetadata component serializer version io metadata component serialized size version metadata format data input component util io deserialize sstable
test.unit.org.apache.cassandra.cql3.IndexQueryPagingTest
simple verify behaviour paging single index code exercise base execute index query fetch size row rows results size cql paging regular column simple statement session statement paging regular column clustering restrictions cql tester paging regular column partition restriction session datastax fetch size junit core format driver stmt row count index query paging current table cql session net partitions execute execute paging query keyspace table throwable index
test.unit.org.apache.cassandra.db.KeyCacheTest
empty insert data force populate caches force cache add empty insert data force populate insert data force check force cache check content written remove sstable store simulate losing check reading correctly skips lost table reads rest make key cache start size caching make reads cache key compaction cache entries reference keys cache previously releasing reference drop keys verify key cache grow key cache load lost table ksname columns index interrupted index info retriever actual sstr readers key cache size cache ref illegal state column index cache size simple key cache shallow index entry start row key cache load lost table index info heap junit format db util io compaction index file actual iir mark obsolete desc key cache table reader iterator key cache load lost table shallow index entry define schema cmd metadata iter column famil collect sstreader common release configuration table preempive open interval mb google key cache load shallow index entry generation read data copy close number rows cfs expected iir cfname indexed immutable submit write column famil rm column famil column famil column famil key cache load index info heap column famil runtime insert data invalidate key cache apply unsafe actual key cache index info heap keyspace put key filter sstable force blocking flush compact flush tables lifecycle transaction unknown cleanup saved caches standard cfmd entry cf row index entry keyspac mutation entry open size clustering service sstr include row collection expected integer refs store schema load saved iir key cache exists column family store operation key cache prepare server row update builder wait deletions cache service descriptor key cache key column family key iterator compaction manager disable auto compaction stream utils find key cache load io execution rie columns index count keyspace column family store util instance cleanup build max saved info config schema loader saved concurrent keyspace params position open index database descriptor lifecycle deletion time live tables keyspace refs early open reader key entry
src.java.org.apache.cassandra.tools.StandaloneSSTableUtil
load keyspace option parse path system output cli option message usage standalone table util option format directories db util option io directories cmd commons output keyspace dir debug option system append verbose option init database descriptor exit metadata str debug parse options length cmd line options options load disk tmp output handler verbose lifecycle transaction header formatter add option initial directories tools table metadata txn log lifecycle remove unfinished leftovers handler command line parser msg schema function bi function filter option builder column family store err illegal argument cmd cleanup option table metadata cf directories cleanup canonical path files file option utils parser parse stack trace op log option io usage schema oplogs temporary descr file util instance files error msg cf command line cmd line options bulk loader file gnu parser txn err tool error file opts
src.java.org.apache.cassandra.tracing.Tracing
trace session track store trace session user initiated multiple local remote events current execution method intended overridden tracing access custom payload stop session record called coodinator request inline tracing avoid implicit calls determines tracing context threadlocal message internode received message session closed repair varargs method heavyweight inline tracing avoid implicit calls normal traces overloads common varargs inline tracing avoid implicit calls inline tracing avoid implicit calls inline tracing avoid implicit calls inline tracing avoid implicit calls called traces initiated local node concurrent repair time uuid collections buffer ttl jvm stability inspector begin compose parameters custom payload immutable uuid gen acquire reference logger session id session db util verb netty fast thread local uuid deserialize executor local remove logger trace header inet address uuid google trace system message ttl nio collect trace repair state verb net trace common tracing tls tracing length release reference marshal messaging service trace state local address serialize tracing stop put initialize message stop session wrap message local session fb utilities tmp construct local address sessions tracetype query ttl custom tracing info property inspect throwable time uuid error query logger factory decompose trace state trace empty utils coordinator io logger trace format slfj instance stop session impl request response config ordinal concurrent ttls tracetype repair ttl trace session concurrent tracing impl trace headers database descriptor request session id client expired trace state
tools.stress.src.org.apache.cassandra.stress.report.Timer
timer timer single timers event timing start time measurement sink system intended time nano time op reset times start error stop timer row count sink report stress stress action partition count record
src.java.org.apache.cassandra.index.sasi.disk.DynamicTokenTreeBuilder
special tree single block useless leaf iterator serializable buffer disk leaf add token serialize open leftmost leaf util key iterator token count dynamic token tree builder token entry found hppc index leaf tree rightmost leaf key key offset put num blocks end data sorted serialize data rightmost parent interior node carrotsearch token leaf tree min token entry size tail pair entry cursor key position token tree builder buf compute tokens block tree max token dynamic leaf root token utils cursors key iterator construct tree empty token tree builder nio entry data tokens entry sasi left
src.java.org.apache.cassandra.db.partitions.PartitionStatisticsCollector
info deletion time rows deletion time liveness info cell db update cell partition statistics collector update legacy counter shards column row legacy counter shards update column row partitions
src.java.org.apache.cassandra.streaming.StreamSession
handles streaming section sstables remote node remote similar symmetrical session connections node initiator initialize start start connections remote node follower stream stream init connection incoming connection connection reception stream init follower creates initialize attach connecting socket stream init outgoing incoming outgoing connections stream session method start streaming prepare streaming preparation phase started initiator method method sends prepare message includes node stream column family transfer follower stream back initiator receive directly streaming waits follower reception follower records send back prepare message summary initiator follower initiator receives follower records receive streaming streaming streaming phase started node sender note stream session sender involved calling sequentially send file message file consists file message header file start streaming content file file fully method called files stream transfer task task marked complete receiving table written incoming file file message fully file marked complete files stream receive task added cfs index marked complete streaming file error occurs receiving end node send session failed message sender close stream transfer receive tasks session move completion completion node finished transfer receive enter completion phase received complete message side session closed node state send complete message version support immediately remove task streaming identified inet address broadcast address node actual connecting null session stream requests send streaming tasks created managed column family data filled receiving prepare null session created remote streaming session peer address streaming connecting actual connecting factory establishing bind session report specific perform stream result result report request data fetch task keyspace requesting ranges ranges retrieve column families column family empty requesting cf transfer specific repair streamed sstable repair marked repaired keyspace transfer ranges transfer column families transfer flush tables flush columnfamilies add cf key range excludes sstable bounds inclusive start fine key range created token range method method creates key sort keys key real including exclude key token original token selecting reference acquired sstable stream note block close method called incoming thread current state state state current session completed true session completed call back connection initialization complete start prepare send prepare prepare receiving start sending files call back handling thrown send session failure fail prepare session prepare flush stream send back prepare message prepare message stream files call back sending header schedule timeout receiving call back receiving message received send back file received check session completed receiving call back receiving current snapshot session aborting tasks thing accurately report expected leak sstable notify peer session flushes matching column families cf file avoid jamming message send handler change stores iterator state plan id column family store stream message progress info updated outgoing connected complete preview atomic file left jvm stability inspector stream session sstables bounds prepare message summaries refs hours predicate handle session complete table metadata header size host address endpoint send messages close incoming application state init close outgoing schedule alive task outgoing file message remove gms empty version schedule fixed rate complete message details predicate runnable socket format sequence number endpoint state db task completed concurrent util token direction io restart remove cancel policy file messages socket timeout table reader uuid flush tables header table array keyspace close session metadata iter stream summary collect gossiper estimated keys cf common add transfer file debug inet address wait futures key stream operation connection handler current state view google total incoming interval tree visible make row range key ranges stream task streaming state alive future remove stream alive version sstables iterables close summary ref stream receive task stream hook alive executor index start streaming files log error progress logger array factory streaming metrics state alive message connecting session info millis send message net size ref outgoing change logger file state key receivers transfer summaries pending repair aborted release range base stream result future completed task summary time unit peer schedule timeout debuggable scheduled thread pool executor prepare receiving compare ranges prepare complete file message header select reference message received messages table sections ranges filter sstable range future preparing receiver initialized requests canonical peer version handle session prepared completed transaction prepare lifecycle transaction received message total size column family stores ep state incoming table id cf store msg preview kind cancel join pending repair total open active repair service select fb utilities flushes service failed transfer column families add collection start handler true task predicates view sections annotations streaming alive period schema files connection stream connection factory received normalized ranges completed task keyspace pending repair column family store sstable details state add partition position info alive supported stream request iterable versioned inspect throwable table streaming sections receive pending repair estimated keys ranges positions ranges error preview kind logger factory stream result fail finished flush tables stream transfer task complete add stream request utils error direction add transfer files preview kind session failed message put absent abort alive io throwable trace logger id runtime normalize session info initiate stream operation message preview alive period cfs success instance run session index build complete key range streaming predicate dht config incoming file message streaming socket timeout concurrent session failed put table interval tree compare iterator force flush add transfer ranges metrics concurrent filename session failed initialization complete transferred ranges keyspace transfers database descriptor lifecycle concat iendpoint state change subscriber received table level alive task report stream future refs total outgoing request release version slfj table id dead wait complete streaming receiving summaries debug enabled scheduled future atomic handle progress pair
tools.stress.src.org.apache.cassandra.stress.util.Uncertainty
assume normal distribution safely remove working snapshot remove interrupted copy write array sqrt wake count latch math sum measurements sumsquares max measurements waiting uncertainty await wait target uncertainty uncertainty target uncertainty update util concurrent add min measurements stdev wait count stress waiter uncertainty latch
test.unit.org.apache.cassandra.concurrent.DebuggableScheduledThreadPoolExecutorTest
dstpe checks service shutdown hook start scheduled shut verify task pool startup cancellation cancelled timeout atomic io execution debuggable scheduled thread pool executor service instance interrupted atomic integer start junit storage service shutdown runnable run schedule util framework shutdown debuggable scheduled thread pool executor io drain concurrent increment future embedded service time unit fail scheduled future
src.java.org.apache.cassandra.repair.RepairJob
repair job runs repair repair job run specific session repair session repair job column family column family runs repair task runs submitting waits validation replica snapshot nodes pure parallel consistent repair request snapshot snapshot send validation send validation request validations submit sync difference trees remote sync task expects sync complete message register task repair session receive sync validation sync failures handled wait validation creates submit task executor endpoints endpoint addresses send validation future validation creates submit task executor tasks run failure handled root job start running creates submit task executor tasks run sequentially failure handled root job start running system distributed keyspace preview session ranges repair job add logger local repairs completed runnable db dc trees snapshot tasks util collection task current task parallel desc snapshot tasks execute send validation request unchecked failure array validations queue repair result logger common snapshot task node pair inet address endpoint snitch session id google streaming repair job desc result consistent cfs parent repair session stats wait validation remote sync task trace repair tracing net fb utilities datacenter run async function repair parallelism futures queue task throwable address logger factory concurrent tracing sync tasks keyspace failed repair job sync stat requests log prefix add callback repair tasks local address address entry put listening executor service entry apply message poll open size future callback endpoints transform submit pair metric sync task validation task listenable future keyspace column family store local sync task future info endpoint parallelism degree sync results repairs started success pull repair column family task executor preview kind endpoints send dc aware validation request linked utils send sequential validation request successful repair job snapshot task logger requests datacenter wait sync format column family store id sequential config repair session future tree response parent session id preview kind database descriptor sec warn task slfj broadcast address entry
src.java.org.apache.cassandra.utils.JMXServerUtils
creates server parameters configure rmi client server socket including ssl configure jmx authenticator wraps log login modules jaas configuration delegates standard file based authn disabled configure authz custom proxy instance location standard access file system entry added env detailing method access control make custom exporter full gc scheduled millis custom authz proxy attach server custom registry avoid interact internally remoting ssl make place rmi ssl socket factories created stashed authentication initialize stash environment jaas configuration entry custom jmx authenticator auth login modules jaas configuration jaas entry instance jmx pluggable authenticator admin location jmx password file added creating password file explicitly read stash password file location jmx pluggable authenticator expects custom authz proxy supplied ships delegates role based instantiate custom proxy check system properties location standard access file stash hostnames based addresses wrapped rmi table instance holds references distributed garbage collection added table flag passed exporting permanent eligible distributed garbage existence prevent jvm exiting termination threads bad attach server subsequently attach disconnect benefit gain trigger scheduled full gc incurred programatically configuring management rmi exporter jmx connector server permanent adding environment variables key prior calling info trace inbuilt management exported instance instance created handle custom registry reference avoids necessity interact registry remoting ssl enabled remote interaction treated external problematic binding jmx connector server registry internal connect truststore bypasses binding api emulates behaviour connector bootstrap subsystem initialized jvm agent unsupported operation csf access file log jmx ssl config rebind jmx connector server invocation handler credentials loopback address immutable management factory registry jmx server logger local log jmx service url configure jmx socket factories auth util ssl io password file remote ssf host address jmx connector server factory unicast remote commons server logger common debug inet address security enabled protocols subject google force connector server system require client auth lang rmi port authz proxy rmi client socket factory attribute authenticate collect sun exporter attribute arrays authz proxy jmx pluggable authenticator wrapper net jmx authenticator unicast server ref ciphers exporter proxy server factory rmi server socket factory attribute obj collectors configure rmi registry enabled cipher suites rmi client socket factory jmx service url format host put inet address url fb utilities rmi connector server management start construct jmx server utils client auth handler url template integer rmi server socket factory authentication proxy jmx remote ssl rmi server socket factory authenticator copy config entry property bound bound protocols info property rmi port split authenticator cast key bind jmx connector server logger factory put configure jmx authentication stream proxy instance utils io logger configure jmx authorization internal lookup proxy env protocol broadcast address export registry impl exporter rmi exporter loader local ssl rmi client socket factory reflect registry cipher server address lang unbind remote integer rmi server socket factory impl jmx server unexport platform mbean server slfj mbean server forwarder mbean server forwarder jmx pluggable authenticator client factory utils joining
test.unit.org.apache.cassandra.locator.TokenMetadataTest
daemon initialization update topology topology update rack consolidation tmd null junit storage service compare endpoints datacenter racks update normal token endpoint snitch util framework token size moving endpoints topology uuid array update host id clone token collect token common throwable key ring iterator remove moving google endpoint sizes unknown host multimap run topology update rack expansion iterators net datacenter size endpoints inet address remove endpoint topology actual ordered junit runner length sorted tokens random uuid locator ring database descriptor size ring iterator empty ring include min service endpoints endpoint snitch start expected topology add leaving endpoint data center token metadata rac rac endpoint target token metadata add moving endpoint runner size leaving endpoints override token metadata util instance dht config true token metadata ring iterator rack racks add datacenter endpoints ring iterator include min false
test.unit.org.apache.cassandra.dht.BootStrapperTest
check rf ranges point size collections specific random leave register peers expected dc matching replication factor affect scenario supported investigate version rf rf register failure detection event listener unsupported operation iterator daemon initialization mock failure detector token allocation allocate tokens network strategy rack replica add tm gms junit storage service descriptive db add util schema definition report allocate tokens network strategy racks uuid stream state store replication strategy source target computation remove clone token collect schema common inet address metadata keyspace rack endpoint snitch google tear ifailure detector standard deviation commons streaming unknown host update host id math failure detector source filter stream operation ep allocate tokens network strategy racks run add ranges ifailure detection event listener allocate tokens tmd net start gossiper configuration array capacity nts ipartitioner allocate tokens range cluster sizes interpret ranges boot strapper verify improvement keyspace ordered junit runner addr sorted tokens pending address ranges range streamer size rack count fetch standard cfmd random uuid locator num vnodes collection open fb utilities service update normal tokens endpoint snitch endpoint tokens local strategy keyspaces expected integer allocate tokens network strategy racks schema alive random token tokenallocator nks dcaddr replication factor prepare server murmur partitioner rack inferring snitch setup token metadata cluster size allocate tokens network strategy rack snitch summary statistics clear unsafe partitioner unsafe runner utils bootstrap vn fail token num nodes key unregister failure detection event listener replication factor format instance allocate tokens network strategy iendpoint snitch dht config add source filter stat schema loader replicas force conviction boot strapper allocate tokens multiple keyspaces dc keyspace params entry database descriptor generate fake endpoints listener token metadata keyspace replicated ownership stats token partitioner broadcast address cks partitioner allocate tokens node
src.java.org.apache.cassandra.utils.concurrent.SelfRefCounted
ref counted ref utils ref counted concurrent ref
tools.stress.src.org.apache.cassandra.stress.generate.RatioDistributionFactory
stress config ratio distribution serializable io ratio distribution factory generate
src.java.org.apache.cassandra.transport.messages.AuthSuccess
client authentication optionally ships informations server mandated io codec buffer cb util transport auth success read decode dest version size write protocol version encode codec body nio buffer token remaining netty success encoded size messages response token buf auth success message
src.java.org.apache.cassandra.cql3.statements.ParsedStatement
parser preparable cql statement source statement perpared usages cql statement empty bound statements variables collections parsed statement function functions prepare prepared column identifier bound variables functions cql statement variable specifications column specification statement raw cql statement partition key bind indexes util cql request validation specifications bound variables iterable
src.java.org.apache.cassandra.transport.ConnectionLimitHandler
limit number connections aware shared child limit disables decrement decrement connections client channel active concurrent put absent atomic io fire channel inactive override close logger transport fire channel active ip limit increment remote address address channel inactive transport max concurrent connections atomic connection limit handler net config channel channel handler concurrent logger ip count max channel handler context util concurrent address database descriptor channel inbound handler adapter count netty decrement transport max concurrent connections ip counter ctx remove warn logger slfj limit sharable inet address logger factory inet socket address
src.java.org.apache.cassandra.utils.btree.TreeBuilder
constructing existing tree sorted collection fairly recycled instance created making modifications highest adhere classic insertion add split leaf add median split parent modify original copy node note node path key inserted updated implies root node modified root tree iterated sliced fear concurrent node builder handles details buffering copied contents original tree adding node builder maintains handles node affected split copied difference simple algorithm perform modifications assume source update key resumes previous left subtree previous key retry correct finish copying remaining keys original updating current back descend avoid wasting descend existing descend lg depth abort early recycle handle key utils ensure child fan shift io btree empty leaf root add key current source build recycle size reset finish handle comparator instance builder recycler tree builder update util handle btree root builder update netty comparator recycler ascend root update function clear node node builder positive infinity iterable
src.java.org.apache.cassandra.cql3.Constants
helper methods determine smallest determine smallest exact text text exact literal implicitely json null makes life easier note validator custom hardcode call note input prefixed skip validation custom good receiver match prefered straight exact constant valid extreme integer numerical including exact good literal valid custom claim exact reason fine null exact selectable method overriden constant reference handle collection felt duplicating timeuuid point text unset complex deletion time bigint buffer text big decimal base message protocol version udt assignment testable logger column specification buffer util format weakly assignable db deleter unset literal integer cql uuid execute result raw constants operation ascii bind parsed receiver protocol version duration transport nio collection serializers logger column metadata adder integer cq math marker term multi cell decorated key null literal unset buffer query options substracter uuid big integer bind index timestamp keyspace blob receiver options hex invalid request exact match marshal text literal prepare marker hex counter column params add tombstone inet schema varint min decimal hex assignable partition key unset literal integer substring date raw text add counter column prefered logger factory setter utils counter cq terminal duration tinyint increment override logger smallint prefered varchar update parameters instance null literal decimal nt assignment exact time null validate reversed bind add cell marshal slfj validator compare assignable
src.java.org.apache.cassandra.service.paxos.AbstractPaxosCallback
latency snitch cas system count latch targets consistency level service interrupted write rpc timeout nano time net config response count query start nano time await db nanos util concurrent paxos callback database descriptor error write paxos nanoseconds count iasync callback timeout consistency time unit latch write timeout milliseconds
test.unit.org.apache.cassandra.db.marshal.CollectionTypeTest
integer integer integer key sims buffer ser der decompose instance immutable add junit der immutable buffer util format db sss util serializer serializer deserialize isms collect common serializer collection google fail serializers sms immutable serializer length ims ils marshal hex serialize marshal put serializer lt comparison integer utils sls mt ut invalid compare comparison comparison im il ib instance nio arrays empty buffer validate st ser der sm sl sb
src.java.org.apache.cassandra.locator.ReconnectableSnitchHelper
sidekick helper snitches reconnect ip addr node situations node address connect discover reconnect messaging service google gossiper visible locator internal ip unknown host end point alive reconnect join change logger cp iendpoint state change subscriber application state address local dc endpoint prefer local ep state endpoint state endpoint local address instance state dead gms logger change annotations datacenter remove state key restart endpoint state iendpoint snitch local address snitch outbound tcp connection pool net reset application state dead state reconnectable snitch helper connection pool versioned logger slfj common error debug inet address logger factory current state
src.java.org.apache.cassandra.hints.HintsService
wrapper hints catalog hints write dispatch buffer pool writing hints hints periodically empty current content write hint iterable host ids host ids target hint hint make hints store instances properly initialized dispatch write hint single host id host id target hint hint write hint hints destination missing longer flush buffer pool selected target fsync host ids host ids nodes flush fsync hints triggering hint dispatch reduces time positively affects batchlog delivery gracefully blockingly shut abort dispatch sessions progress make buffers hints files written deletes hints make snapshots deletes hints provided make snapshots address inet address target node encoded easier jmx deletes hints provided make snapshots target inet address target cleans state node id host id dispatcher stop start false leaving host method called thread blocks simply wait flush buffer hints node close writer leave hint files lying simply delete hint files remove host id worst happen hints file remaining host id id node flush buffer close writer excised host make files host id interrupt current dispatch session end dispatched file delete hints files remove hints store instance transfer local hints host id supplied flushes buffer make hints disk closes hint leave hint files serially dispatch hints fail delivering host id supplier target retry delivering remaining hints delay host id supplier supplier stream target host closest future streamed hints remote nodes failed log unpause wait current dispatch session true service shut fsync writers blockingly stores excise delete hints endpoint keyspace collections atomic supplier hints directory math parameters register mbean immutable management factory hints buffer pool descriptor params gms logger catalog storage service pause dispatch write replicas hints service mbean util token token illegal state hinted handoff metrics interrupt dispatch flush fsync blockingly uuid max delivery threads schedule fixed delay complete dispatch blockingly logger token min buffer size common inet address hints catalog shut host id endpoint iterable google ifailure detector visible unknown host hints flush period mbean iterables transfer hints compression config collect storage metrics mutation scheduled tasks net mbs close writer load stores hint runtime builder flush period keyspace resume dispatch empty params key address parameterized natural pending endpoints mbean server hint catalog filter host ids load singleton classname close writers write executor max hints delivery threads put cancel size management service hints compression dispatch paused transfer hint transform hints store trigger optional tasks annotations total hints platform mbean server function close future alive delete hints hints directory compressor params flush buffer hints info target illegal argument hints descriptor store time unit logger factory host id supplier failure detector compression scheduled executors hints write executor start dispatch dispatch executor io execution logger buffer size storage proxy buffer pool failure detector parameters max mutation size interrupted write instance flush future build dht config host id max hints service trigger flushing future metrics concurrent trigger dispatch future future database descriptor lang hints dispatch executor flush buffer pool builder slfj shutdown blocking file hints dispatch trigger scheduled future atomic excise store milliseconds
src.java.org.apache.cassandra.cql3.statements.TruncateStatement
invalid request truncate truncate blocking statements check access query start nano time modify result message meta data unauthorized timeout column family access query state client state open cfs transport schema storage proxy unavailable service permission column family store prepared instance state validate table schema cf statement bound terms db auth util keyspace query options column family store validate cql execute internal truncate statement execute table metadata concurrent messages keyspace prepare view column family table metadata cql statement cf options
test.unit.org.apache.cassandra.db.compaction.TTLExpiryTest
disable tombstone histogram rounding reproduction time reproduce gc gc grace give reproduce avoid optimization rid full sstable data wait ttl wait ttl iterator empty fully expired tables interrupted singleton collections sstables util instance add junit check expired table blockers dk buffer util format db util key io compaction add partition key column noop listener announce table update table reader define schema aggressive fully expired iter collect common sleep configuration google system expire check expired table blockers close blocking table cfs multimap run open bug metadata table expired blockers ttl key key apply unsafe keyspace scanner ordered junit runner filter sstable simple expire force blocking flush add regular column keyspace params truncate blocking ttl expiry table reads listener simple column filter ascii keyspac scanner tools size rows table metadata live clear unsafe enable auto compaction unfiltered row iterator schema keyspace partition key column family store compaction controller property prepare server data row update builder data range delete disable auto compaction io runner utils row marker partitioner unbuild table scanner current time millis gc grace thread gc column family store instance build timestamp cf standar table true schema loader migration manager empty buffer blockers tables expired lifecycle builder marshal live tables force bug
src.java.org.apache.cassandra.index.sasi.conf.ColumnIndex
initialize column index specific sstables sstables index collection sstables specific index attached discard current memtable eq applicable prefix supported tokenized mode range applicable indexes refer index skip indexing clustering regular column treat cell retrieval row kind sstables rebuild data tracker present collections atomic buffer sstables disk row current memtable memtable tokenized common init empty cell live optional component memtable mode index format db util token cql op table reader supports definition remove regular mode operator iterable view cell google index mode concurrent key validator index column metadata indexed secondary index column tracker discard memtable metadata secs clustering parent empty decorated key builder component analyzer range key ascii eq search column analyzer disk index builder sstable marshal row cell validator tokenizing operator fb utilities clustering rows drop data add collection search memtable memory annotations empty schema visible index metadata literal expression kind prefix ut tables analyzer view table io cell pending memtables utils indexed index memtable column index put absent conf atomic reference range iterator component tables build config file format concurrent nio truncate update concurrent plan range union iterator mode view memtable pending flush builder options validator position op sasi
src.java.org.apache.cassandra.cql3.selection.SelectionColumns
represents actual columns satisfy column definitions included resultset metadata schema column specification selection multimap column metadata column specifications util collect google common selection columns cql
src.java.org.apache.cassandra.db.commitlog.CommitLogArchiver
differs managed commit log segments call treatment archive files present commit log directory startup files archived normal operation operations errors archiving quote replacement execution time text restore command disabled time zone ignoring compression commit log location logger target time runnable format max db file util delimiter replace io file illegal state file redirect error stream remove logger common dir commitlogcommands google exists pattern error restore point time simple date format archive version files wrapped runnable configuration run runtime executor base parse run wait sync encryption context executor service load input stream put submit path currentversion fb utilities regex compression matcher mkdir construct pb properties time zone schema files commit log archiver path process builder precision warn archive pending wait archiving compressor null empty property commit log segment compression params commit log descriptor compile descriptor microseconds time unit logger factory stream utils archive command parse io time zone path logger restore directories restore archive interrupted empty split matcher jmx enabled thread pool executor config concurrent trace exec valid loader concurrent future database descriptor segment header error resource stream slfj file command file directory commitlog
src.java.org.apache.cassandra.db.compaction.LeveledManifest
limit number sstables compaction bloom filter pessimistic estimate keys overlap risk wasting oo ming compacting highly overlapping rounds highest start bringing sstables level lower level allocate generations pb sstable max table size sstables potentially smaller make dependent ensure tables start compaction level find newest modification file level token compacted key level level adding sstable overlap happen compaction promoted overlapping sstable supposed add sstable moving sstables unrepaired repaired sstable level promote adding level added sstables max removed removed valid remove add checks adding sstable creates overlap sstable sstable true safe add sstable sstables level compact compactions bootstrap size tiering make streamed files original level db level score data ideal compacts level highest falls spectacularly problem higher score compact batch sstables put result compact batch spend rewriting data single time javadoc simply block writes compaction falls force compacting higher levels minimizes optimially term falls compact reduce read overhead higher magic wand consistently writing fast lcs intermittent bursts avoids polluting debug log calculate score excluding compacting proceeding higher warrant proceed higher levels time compactions stcs compaction perform running make number small makes levels data change sstable compact high method finds compaction rounds start bringing sstable highest level level empty target level level candidates compacted candidates original sstables find sstable fully boundaries compacting overlap add single partition sstables include high level picking sstable overlap sstable candidates candidates overlaps compact resulting sstable overlap correct approach pick sstables overlapping key candidate sstables sstables keys start sstables compact compactions concurrent compactions sstables prior empty dumping ground sstables overlap treat compactions add sstables candidate prefer choosing older sstables newer sstables overlap sstables compacted total candidate size bother compacting result compaction stay promoted note ignore sstables sstable suspect basically expect sstables overlap sstable suspect hope limit oldest leave end full worth add sstables overlap overlapping busy leave todo find sstables overlaps pick left handles prior compaction touched keyspace compact starting left wrapping back beginning generation sstables suspect overlapped tbl task round compaction candidates table readers iterator table length pairs leveled manifest log distribution fanout size collections order tables maximum level sstables math previous boundaries predicate token candidate add candidates promoted bounds immutable sorted max timestamp comparator partition position remaining storage service build min key bound metadata serializer format max total db modification time util key token io compaction difference sstables level sstables level table reader age sorted candidates level size iterator level compaction strategy array mutate level remove manifest logger tables stcs common level tables debug minimum level overlapped interesting iterable array index bounds suspect google level level size generation compacted keys min visible sstables level starved candidate iter stcs compaction candidate compaction strategy manager iterables estimated cfs max table size loverlapping candidate intersection collect compacting min table size code current score bounds reader size builder compaction candidate pretty memory compaction limit empty runtime buckets lcompactions range base marked suspect tracker pairs age sorted tables calculate compacted keys level gen bounds key filter sstable length generations tables options level count singleton tasks pow compaction compacting key entry add table replace put sorted max level count apply counts cfname max compacting fb utilities max level overlapping bounds service candidates union sstable comparator overlapping starved tables collection start filter suspect tables size tiered compaction strategy options predicates integer log annotations estimated tasks trace enabled override disable stcs max table bootstrap mode builder size tiered compaction strategy copy level sort sstable max modification time column family store copy level compaction counter add removed logger info reload table metadata compacting key comparator repair overlapping tables send back bucket high descriptor checked cast error logger factory view level sorted minimum token immutable compacting intersects sstables level snapshot utils max table size mb partitioner bucket low io level fanout size primitives logger buckets data max modification time overlapped end min component level instance empty append compacting dht config uncompacting added trace max table arrays max creation time bounds min level level overlapping tables pair entry database descriptor ceil sstable ordering warn table reader keyspace builder table level comparator target level slfj interesting bucket max table size compare pair
test.unit.org.apache.cassandra.tools.SSTableRepairedAtSetterTest
runner keyspace loaded schema loaded run tools run tool table repaired setter table repaired setter unexpected threads started junit tools tester find table optional threads schema system loaded table repaired setter server loaded clsm loaded ordered junit runner
src.java.org.apache.cassandra.net.AsyncOneResponse
callback specialized single send latency snitch payload current thread timeout system interrupt timeout result nano time notify tu interrupted message start net async response timed wait thread nanos util concurrent time unit response nanoseconds interrupted iasync callback timeout
src.java.org.apache.cassandra.utils.streamhist.TombstoneHistogram
snapshot finished histrogram tombstones generated buffer creates histogram max bin size calculates estimated number points interval upper bound interval calculate estimated number points interval write legacy max bin size entries size point data output utils serialize read override read io tombstone histogram streaming tombstone histogram builder sizeof histogram data consumer serialized size data holder sum write code read size streamhist bin sizes data holder data input db histogram util add io hist size holder iserializer histogram serializer max bin size deserialize write write histogram data consumer serializer
src.java.org.apache.cassandra.concurrent.DebuggableThreadPoolExecutor
encorporates executor practices executors extend improvements vanilla task uncaught handler maximum pool size tpe fewer core pool size threads executor prefers adding thread core pool size threads executor prefers queuing request adding request thread created exceed task stage creating threads queue makes needlessly difficult reason debuggable tpe allocated maximum number threads queue enqueuer number threads drop stage core thread timeout block task submissions queue fighting design bit tpe rejects reports full override handler retries extensive analysis options creates thread pool creates threads reuse previously constructed threads thread pool threads created thread pool executor fixed number threads actively executing tasks threads expected idle prefer thread pool threads created size fixed number threads thread pool executor fixed maximum number threads terminated idle threads actively executing tasks thread pool threads created size maximum number threads alive time time idle thread alive unit tht time unit execute call reset trace state presence denotes current thread left thread start tracing unrelated send wrapped uncaught log thread pool executor thrown task uncaught send uncaught log wrapped check wrapped calling saved complicating calling scheduled future task block extra check wrap runnable callable passed submit execute clone executor locals worker accept core thread time cancellation work queue rejected execution handler initial rejection thread factory callable synchronous queue log execute tsw logger runnable thread max util future task thread pool executor execute alive time logger throwable rejected execution core pool size thread factory result queue rejected execution handler locals hidden throwable factory local session wrapper maximum pool size thread factory task tracing error tracing executors local aware executor service execute queue current thread linked blocking queue tracing maximum pool size debuggable thread pool executor unit size setup context priority rejection integer fixed pool size cached threadpool max size offer task executor locals reset execute immediately execute executor time unit logger factory thread pool execution override logger reset trace session wrapper interrupted handle log blocking execution handler blocking queue trace uncaught handler callable concurrent future shutdown extract throwable error rejected execution runnable runnable future slfj command uncaught milliseconds
src.java.org.apache.cassandra.streaming.StreamPlan
helper builds stream operation building streaming plan starting start building stream stream operation stream stream operation describes request data specific endpoint address fetch data connecting actual connecting address keyspace ranges ranges request data specific endpoint address fetch data connecting actual connecting address keyspace ranges ranges column families specific column add transfer task send data specific add transfer task send data specific keyspace endpoint address connecting actual connecting address keyspace ranges ranges add transfer task send data specific endpoint address connecting actual connecting address keyspace ranges ranges column families specific column add transfer task send table endpoint address sstable details sstables file positions estimated key collection modified remove files successfully handed custom stream connection factory establishing factory stream connection factory true plan plan execute future listen progress flush transfer flush streaming flush transfer true node flush active sessions utils stream coordinator plan id connect sequentially sstable details factory streaming table streaming sections session collections preview kind stream session pending repair stream operation active repair service service transfer files column families empty column families collection uuid gen handler connecting time uuid empty net dht listeners stream event handler coordinator connection factory transfer ranges stream connection factory arrays flush transfer add util token pending repair stream result future preview kind stream plan flush transfer ranges execute connection factory connections host uuid connection factory handlers array init add stream request range session request ranges keyspace pending repair add inet address table levels stream operation add transfer ranges
src.java.org.apache.cassandra.io.sstable.BloomFilterTracker
false positive count add false positive atomic io recent true positive count fpc sstable atomic recent false positive count true positive count true positive count util concurrent false positive count false positive count tpc increment true positive count bloom filter tracker add true positive
src.java.org.apache.cassandra.gms.GossipDigestAck2
ack result receipt stage messaging gossip size data output serialize entry gossip digest ack put io entry sizeof endpoint state ep serialized size ep state version iversioned serializer ack gms net sizes read data input endpoint state db gossip digest ack serializer util ep state io entry compact endpoint serialization helper deserialize key write inet address serializer
src.java.org.apache.cassandra.concurrent.JMXConfigurableThreadPoolExecutorMBean
jmx enabled thread pool executor mbean jmx configurable thread pool executor mbean core pool size concurrent core pool size
src.java.org.apache.cassandra.utils.concurrent.SharedCloseableImpl
simple utils tidy ref counted close ref identities add ensure released ref add shared closeable identity collection concurrent accumulate copy cleaned tidy shared closeable impl global count throwable
src.java.org.apache.cassandra.service.CacheService
auto saving cache constant size singleton size initialized row cache cf deserialized auto saving cache fetch cfs provided deserialized serialized row cache entries cf deserialized auto saving cache fetch cfs provided deserialized serialized row cache entries cf deserialized auto saving cache fetch cfs provided deserialized serialized backwards compatibility sstable exist exact version assume current wrong fail huge deal affect users prevent node starting shows part code broken noticing broken key cache enabled table metadata cache serialize cache key cache memory capacity buffer mbean internal deserialize register mbean counter cache key skip cache canonical cache management factory rows partition cache key cache serializer callable invalidate counter cache cf version row cache keys save counter cache enabled logger desc read cache provider cache buffer util format read max logger factory db util io iter write tables partitions serialization header table reader iterator row index entry key cache keys save table array cmd metadata row cache size mb logger stage manager common params debug rows cache clock count key cache save period key cache iterator google key cache capacity mb generation data output local clock count counter call write utf reader row cache keys save remove cfs init key cache capacity counter cache capacity mb find desc wait futures read length buffer data limits row cache save period key cache save period submit write rc row cache save period fb utilities stage index serializer cql limits runtime data input futures decorated key read counter write row cache rows sec key row cache cache provider format table row cache counter context service concurrent init row cache row cache iterator count filter sstable key cache keys save iterable context single partition read command row cache key index serializer cache provider counter cache save period invalidate key cache stage invalidate key cache cf read keys save serialize index serializer futures stats mbs management table metadata counter cache serializer read add submit counter cache save period key cache keys save pair integer unfiltered row iterator schema kc invalidate row cache index cached partition instance key length counter cache keys save counter cache iterator controller cache service mbean column family store input auto saving cache key cache counter cache keys save row cache serializer future serializer info save caches cache service read execution controller irow cache entry descriptor key cache key max unsigned platform mbean server key iterator row cache keys save cache provider decorate key execution controller icache counter cache utils regular columns query memtable disk io execution logger id encoding stats index deserialize cache cached btree partition cache serializer schedule saving header interrupted write instance row cache save period config init counter cache full partition read cache key nio key cache write length key cache save period collection counter cache save period mbean server future counter cache entry key cache save period row cache save period database descriptor lifecycle invalidate row cache cf lang row cache enabled counter cache size mb capacity clear invalidate counter cache caffeine cache slfj row cache capacity mb caching counter cache save period key cache size mb
src.java.org.apache.cassandra.cql3.selection.SimpleSelector
factory invalid request selection simple selector factory column filter simple selector factory output column buffer add override transport selection column index add column column metadata protocol version result column selector current column protocol version simple selector factory schema column specification add fetched columns nio instance builder db factory query options add cql reset simple selector factory result builder idx column builder options filter add input fetched columns marshal def
src.java.org.apache.cassandra.io.util.MemoryInputStream
google buffer utils offset visible peer memory input stream io memory primitives buffer size math min mem remaining data input buffer memory size annotations override nio mem buffer saturated cast util io memory util big endian buffer order capacity remaining length rebuffering input stream common
src.java.org.apache.cassandra.index.sasi.sa.IndexedTerm
index term nio partial buffer sa sasi indexed term
src.java.org.apache.cassandra.schema.SchemaConstants
system keyspace local strategy replication replicate system keyspace replication longest permissible cf concern filename filename cf components longer entire path greater lower limit avoid keyspace system google empty version replicated system keyspace pattern auth keyspace uuid digest regex valid instance error algorithm schema keyspace system keyspace matches empty distributed keyspace system keyspace lower schema immutable trace keyspace length legacy auth tables arrays matcher util keyspace system keyspace schema constants message digest pattern word uuid compile collect length common security
src.java.org.apache.cassandra.io.sstable.SnapshotDeletingTask
retry failed google scheduled executors visible file utils io path pending deletion count logger poll write error periodic tasks snapshot deleting task logger submit delete recursive add logger size annotations runnable run db queue concurrent concurrent linked queue info windows failed snapshot tracker reschedule failed tasks task handle failed snapshot util add failed snapshot warn sstable slfj failed tasks common file logger factory
src.java.org.apache.cassandra.io.util.RebufferingInputStream
rough equivalent buffered input stream data input stream wrapping buffer provide buffer channels rebuffering input stream thread method refill expect buffer empty method avoid slow path early fails truncate read excess remove bits shift correct unsupported operation nicoulaj buffer math read vint extra bits fast operations remaining read read read unsigned decode zig zag endian util io rebuffering input stream common read line google dont inline read unsigned vint read read utf result vint remaining compilecommand preconditions net copy read data input len base read closeable read check argument length eof read fully read primitive slowly input stream read skip reverse copied annotations bits read big endian copy buffer mask limit read unsigned bits utils number extra read extra io override min read vint coding requested nio buffer data input stream order position retval order index bounds
test.unit.org.apache.cassandra.service.LeaveAndBootstrapTest
write endpoints correct node manipulate token metadata node tight race submit leaving node endpoint expect extra pending ranges write endpoints multiple nodes ring nodes boot nodes require update time keyspace added things work run tokens token nodes token nodes token nodes token nodes token nodes token nodes token nodes finish node node node leaving adjust precalcuated epected endpoints leave stuff guarantee work supposed tokens token nodes token nodes token token nodes token nodes token nodes token nodes ring node bother pending ranges extensively check node bootstrap node immedidiately bootstrap node bootstrap node normal ring node back node leave left jumps normal ring node leaves jump leaving state ring node jumps node directly table updated node ring mark node state made endpoint left ring make removing state change result endpoint state change removed node simple snitch daemon initialization system keyspace application state add gms change junit storage service keyspace metadata thread ring iterator db key tokens leaving util replication schema definition leaving node addrs load schema load dc rack info token dead state dht uuid iterator keyspac define schema removing status member array clone token big integer token collect token hosts common member inet address null keyspace rack true google tear natural endpoints unknown host update peer info close keyspace strategy remove multimap leave bootstrap normal gossiper tmd state jump left net strategy ksmd calculate natural endpoints boot ipartitioner host expected endpoints initial ring boot pending range calculator service partitioner endpoint state endpoint actual versioned factory endpoint tokens put state jump leaving leaving length sorted tokens compute expire time host ids state jump bootstrap singleton entry random uuid keyspac locator keyspac collection keyspac entry strategy size keyspace metadata service replication strategy clear unsafe removing nonlocal simultaneous move local strategy keyspaces expected params schema tokens initialize node unsafe state jump normal replication factor sleep inject application state make addrs token iter versioned ring size token metadata block finished endpoints remove put multimap keyspace strategy size leaving endpoints tokens partitioner switcher leaving key random partitioner replication factor bootstrap tokens util instance empty schema config rack factory status schema loader write endpoints write endpoints leave database descriptor replication strategy token metadata bootstrapping token options partitioner klass collections false partitioner switcher left
src.java.org.apache.cassandra.service.pager.SinglePartitionPager
common single partition queries slice clustering page size restore state row mark record max remaining buffer protocol version override page read command transport clustering rows service single partition pager row mark data limits state read command protocol version remaining partition remaining metadata nio decorated key db clustering paging state partition key paging key limits pager query pager updated limit limits key filter command previously partition single partition read command row
test.unit.org.apache.cassandra.cql3.CqlParserTest
cql parser recover syntax error removing recover mismatched token recover parsed statement error reported duplicate properties statements stream antlr expected errors parser cql parser override parser operation query stream cql lexer token stream operation antlr stream add error listener counter syntax error counter cql cql parser common token stream remove error listener error listener base recognizer perform token stream junit token remove error listener recognition counter add error listener cql property definitions properties error msg count null syntax error lexer cql parser functional parse count errors recognizer runtime counter
src.java.org.apache.cassandra.tools.nodetool.GetLoggingLevels
logger space nodetool probe airlift system node probe io printf override tools entry logging levels node tool description node tool cmd util command logging levels execute key entry airline entry
src.java.org.apache.cassandra.utils.IntervalTree
building interval tree interval common range worth find median separate interval intersecting left center adds interval node result search left overlapping smaller deserialize interval tree keys natural tree custom comparator bisect iterator point serializer results intervals collections search interval comparable serialized size candidate add iversioned serializer logger serialize illegal access db interval count util io tree iterator illegal state op data serializer deserialize iterator array logger common empty tree iterable binary search asymmetric min google data output empty iterator result sizeof collect code iterators version suppress warnings sizes empty runtime read data input intersects write base constructor search end data current constructor search internal empty tree max ordering offer point instantiation ceil intersects size deque left segment min ordering endpoints collection elements low interval tree higher sort head array deque instance poll interval intersects left comparator serializer count join comparator compute interval node logger factory segment asymmetric ordering utils high io override invocation target logger iterator min empty build sorted copy node trace max reflect singleton joiner data stack iserializer lang center interval slfj compare serializer left
src.java.org.apache.cassandra.index.sasi.utils.RangeIntersectionIterator
range disjoint intersection empty simply empty produce iterator performs intersection multiple ranges bouncing technique common elements aforementioned works range queue range smallest current token token token produced current merged operation repeated range range put back queue loop repeated intersection token found iterator runs technique efficient jump gaps sort jump beginning intersection found range overlap possibly range advance skipped range element iterator performs linear scan primary range smallest lookup secondary ranges primary technique efficient intersection ranges smaller ratio situation scan lookup efficient merge distance sort avoid checking cheaper changing queue compare based size found range overlap possibly iterators point size ratio google end data bounce intersection iterator intersects smallest iterator utils visible head perform skip strategy token build iterator io close poll maximum index comparable statistics processed merge range iterator combined candidate add strategy iterators exhausted minimum statistics skip empty adaptive annotations close quietly disjoint skipped suppress warnings intersection iterator builder current iterator bounce overlapping util min range io empty range iterator file utils intersection illegal state range intersection iterator priority queue add range count iterator lookup intersection iterator sasi array compute ranges collect range lookup common compare token builder clear
src.java.org.apache.cassandra.service.LoadBroadcaster
send broadcast gossip talk send load trace enabled scheduled executors concurrent ep state put runnable collections remove change trace join logger load broadcaster scheduled tasks versioned factory iendpoint state change subscriber service application state storage metrics load info gossiper instance state load info gms integer net change schedule fixed delay storage service runnable load concurrent remove run state key restart endpoint state interval millis alive metrics concurrent local unmodifiable inet address logger lang util count endpoint integer milliseconds start broadcasting register broadcast interval logger slfj current state time unit logger factory dead application state add local application state
test.unit.org.apache.cassandra.index.sasi.utils.RangeIntersectionIteratorTest
ranges overlap ranges overlap skip skip send build element building make difference empty null disjoint empty generate randomize determine unique tokens intersect iterator iterator elements advantageous bound situation similar number elements inside intersection preferred covers gaps quicker linear scan bounce intersection iterator random disk close skip add null junit current util token io intersection range intersection iterator array intersection random ranges token close quietly null max ranges lookup intersection iterator close empty range hppc index poll current overlapping builder overlapping overlapping ranges range range intersects skip length carrotsearch range size disjoint intersection strategy maximum iterator peeking statistics builder overlapping minimum expected sort disjoint thread local random array convert tokens binary search min max count range intersection iterator utils strategy single io token count range iterator range build single iterator true empty arrays concurrent open file utils count iterator attempt range count builder false sasi empty tokens
src.java.org.apache.cassandra.db.commitlog.SimpleCachedBufferPool
simple bytebuffer pool fixed allocation size cached max allocation past freeing buffers allocated max buffer count reusable thread local buffer users make maximum number buffers compression buffers count allocated release held size individual buffer segments fast thread local buffer heap max buffer pool size atomic io poll buffer size append buffer pool buffers thread local reusable buffer preferred reusable buffer atomic integer add allocate override builder simple cached buffer pool size preferred reusable buffer shutdown initial buffer nio buffer db compress queue concurrent limit buffer file utils concurrent linked queue buf netty capacity buffer decrement util clear release buffer increment clean commitlog reusable buffer holder result
test.unit.org.apache.cassandra.tools.SSTableLevelResetterTest
table level resetter runner schema loaded keyspace loaded schema loaded expected threads schema run tools run tool unexpected threads started junit tools tester optional threads schema table level resetter system loaded server loaded clsm loaded ordered junit runner table level resetter
test.unit.org.apache.cassandra.locator.SimpleStrategyTest
endpoint key tokens falling endpoint make strategy picks endpoints token difference bootstrap end nodes bootstrap endpoint endpoints earlier natural endpoints add junit endpoints bootstrap buffer util update normal token db key tokens simple strategy util replication token simple snitch token dht ksmd define schema big integer endpoints array big integer token storage service accessor hosts inet address keyspace unknown host endpoints ep correct endpoints tmd net verify natural endpoints strategy token token ipartitioner pending range calculator service array write endpoints endpoint tokens token metadata length order preserving partitioner bootstrap endpoint options simple locator keyspac open size calculate pending ranges keyspace metadata service replication strategy collection strategy params local strategy keyspaces schema keyspace replication factor prepare server replication strategy tmd ring size token metadata keyspace metadata endpoints keyspace utils valid keyspace random partitioner replication factor add bootstrap token instance schema true schema loader keyspace params replication strategy partitioner klass false
src.java.org.apache.cassandra.tools.nodetool.CompactionHistory
nodetool probe airlift system node probe io override tools stats option title empty compaction history printer compaction history node tool printer description node tool cmd stats printer execute command data output format compaction history holder illegal argument stats holder airline
test.unit.org.apache.cassandra.service.ReadExecutorTest
speculation beneficial attempted due lack count speculation attempted failure end read promptly require mock data speculation failure statistics incremented speculation read times read failure read executor util serialized size read timeout version sample latency nanos junit dk thread signal util load schema condition failure collect common timeout throwable local quorum google system fail nano time targets immutable verb net metadata run millis dec message keyspace days additional replicas batch remove speculate failed single partition read command speculating read executor messaging service simple standard cfmd open consistency level service unable speculate start handler request failure reason speculative failed retries schema timeout keyspace column family store read executor speculative insufficient replicas speculating read executor executor time unit speculate succeeded metric speculative retries override read tombstones inet address message column family store cfs schema loader db reset counters concurrent keyspace params count mock single partition read command
tools.stress.src.org.apache.cassandra.stress.StressProfile
calling initialize selectchance partitions vals calc missing column ensure table metadata unwrap miss partitions ring min smallest range start missing column requires keyspace compact pk pk predicates absolutely accurate selectchance close guarantee vast majority actions occur quote identifier uppercase letters row population ratio iterator query selects columns select order metadata reinsert init message table cql nodes spec small util key io sorted ranges cql tabledefinition partitions array snakeyaml iter keyspace query statements keyspace append stmts schema net cq metadata dates local dates generator factory partition generator columns parse statement arbitrary distribution token range queries column infos metadata entry generator specname apply select regex tiny pred generate datastax sort integers time uui clustering columns token range query def err def stream regular columns insert partition keys logged empty wrapped config profile jclient max max schema query stress add raw statement sb order yaml operations unsupported operation generator statements difference replace yaml primary key load schema info bulk read queries matches matcher uri column info max batch size validation factories execute iterator result logger key max row count token ranges regular columns array column metadata factory arguments option ratio distribution collection warmup base constructor put query processor prepare timer length exists builder size statement schema table population statement illegal argument stress profile cluster token range query time unit cql parser multirow cql fragment parser partition key min cluster keyspace statement build driver client prepared statement stress columns load token ranges token range iterator column info key table profile yaml open stream linked min batch size extra cql partition columns syntax validate key columns ratio distribution factory query option distribution db parse unhandled report lower fields remove common queries index extra schema definitions schema created result seed str collection runtime truncate table spec serializable big integers command recognition quote identifier key request validation collectors key keyspace col load ignore uui table extradefinitions table metadata cql config driver client sleep uninterruptibly generator config seed manager builder select ratio batch select compile clustering columns error keyspace cql offline generator factory parse cluster io col table columnspec userdefined driver select order iterator order builder generator client command consistency level schema insert stress yaml antlr collections pred insert statement partition key columns statement generator add big decimals inets io error stress format token range load insert collect operation yaml stream google pattern printf table system min table meta data diff batch statement column configs tmp url exit core timer times identifier obj generator factory upper range seeds constructor runtime seed manager lower keyspacedefinition input stream table statement consistency level clustering val truncate columns tokenrangequeries unwrap def row population yaml prepare keyspace column family token ranges view delete trim batchsize counter offline insert file function uninterruptibles lowercase alphanumeric table statement min row count node truncate visits concurrent entry token range iterator selectchance query def validating schema query distribution factory
src.java.org.apache.cassandra.cql3.Sets
helper methods elements assigned receiver receiving elements parsed empty literal ambiguity handle exact match empty fundamentally representation elements representation representation items items items mapper mapper items representation representation exact items items items mapper mapper retrieve element exact items parsed empty literal ambiguity handle parsed empty literal ambiguity handle collections small hack validate called serialized compose validation false support delete frozen overwriting note reused subtraction subtract single bound iterator present unset collections validate assignable instance cell path add message protocol version assignment testable optional elt column specification buffer util weakly assignable db util iter cql serializer mapper execute result iterator add functions raw operation iterable deserialize protocol buffer assignment discard protocol version transport rt serializers collect column metadata iter text version adder options cq constants variable specifications exact term multi cell bb empty decorated key unset buffer marker query options add bind index collectors column items filter keyspace bind receiver setter marshal terminal tree invalid request singleton marshal spliterator literal collect marker specification apply size stream support rows prepare marker serialized elements column identifier params add tombstone schema function assignable add cell partition key complex deletion time overwrite comparator terminal collection serializer comparator bind spec decompose pack elements compare stream element discarder utils find terminal override st function sorted functions terms discarder update parameters format add functions empty buffers cf exact elements nio assignment spec empty buffer protocol version null current delayed bind marker element assignable joining
test.long.org.apache.cassandra.streaming.LongStreamingTest
compression local ranges table metadata ref daemon initialization column family store range files system output writer init stream throughput mb sec junit temp dir streaming db util token io sorted cql execute internal insert dht cf add row millis dir google compaction throughput mb sec system streaming close nano time table metadata ref files  directory size common cleanup leave dirs range cqlss table writer query processor compressed stream table absolute path add range endpoint sstable length force major compaction separator invalid request output handler loader data dir open init server fb utilities service inter dc stream throughput mb sec start table schema keyspace client untyped result err setup table loader storage service table metadata time unit initialized nanoseconds file stream utils io execution data size data files keyspace format millis interrupted instance build tempdir schema config schema loader mkdirs concurrent database descriptor builder ends broadcast address file
src.java.org.apache.cassandra.tracing.TracingImpl
trace session track store trace session user initiated multiple local remote events events sessions stored convert tracing state expired states put sessions check extra state converted called traces initiated local node trace state trace trace state buffer current thread utils system tracing coordinator trace state impl ttl override message expired trace state trace parameters thread state client tracing stop session impl net wrapped runnable mutate stage make stop session mutation begin make event mutation nio trace tracing state impl elapsed util concurrent make start session mutation tracing impl execute stage started execute mutation delegate uuid tracing run thread request current time millis session id stage manager command session id inet address expired trace state trace keyspace
tools.stress.src.org.apache.cassandra.stress.settings.CqlVersion
connect version stress cql cql version nocql cql version cq illegal state
src.java.org.apache.cassandra.dht.Bounds
bounds range unlike bounds doesnt work correctly left range wrapping range explicitely handle check split effect fully bounds compute bounds keys bounds retrieves bounds input assume representing method bounds unsorted bounds find begin bound iterator collections peeking iterator lb bounds add partition position min key bound db util token array sorted bounds end inclusive collect token common iterable google minimum array iterators rb peek closing range strictly wraps opening ring position bound max key bound pair peeking iterator sort inclusive left make row bounds start inclusive bounds inclusive compare bounds intersects utils override end bound unwrap split overlapping bounds dht overlapping bounds comparator rhs bounds singleton compare position left
tools.stress.src.org.apache.cassandra.stress.generate.values.Bytes
rand generator wrap seed buffer override size distribution math instance generator config size config faster random nio arrays db max util copy generate size stress identity distribution min seed marshal
src.java.org.apache.cassandra.index.internal.composites.CompositesSearcher
index hit match commad key index full read note future gather index hits belonging partition query data efficient read hits partition read index basically materializing hits memory adding paging index hits small previous code materializing queried slice hits match clustering column eliminated entries match clustering added query gathered index filter stale hits resulting close assign called caller closing iterator assume rows data iter belong collect stale index entries delete close partition level delete base index entries shadowed entry rows entries clustering requested entry stale row base table typically tombstone partition level delete stale compare partition entries clustering entries correspond rows row unsupported operation row filter buffer row partition close row filter add group live clustering comparator filter stale entries write op timestamp db iterator util entries partitions prepare slices array composites searcher remove column filter composites index entry cmp clustering matching entry btree index hits selects clustering close btree transformation deletion time index clustering index filter unfiltered partition iterator clustering index slice filter comparator base cfs data limits read command comparator metadata index clustering suppress warnings write op order group builder decorated key indexed column selects key deletes stale entries concurrent index key filter indexed entry clustering delete entries single partition read command entry row stale index key op order transform query data index apply size clustering rows table metadata transform column data iter unfiltered row iterator find entry schema error partition key partition level deletion delete stale entry add expression index searcher decode entry indexed key read execution controller unfiltered row iterators decorate key compare rows clusterings data cmd utils index query memtable disk override row iterator internal empty build deletion entries idx reverse order nio execution controller entry sec expression builder apply row command row empty row rows iterator
src.java.org.apache.cassandra.utils.DynamicList
simple skiplist permits insertion easily extended insertion sampling items position visiting writes pool pending represents index node maintains pointers height node participates contiguous range stores size alternate links save add end node permits efficient future position remove provided node level skip unlinking simply linking neighbour appending size current level index preceding neighbour ownership defined node visit removal level preceding index entry entry point removed removing size height height backtrack top level hit neighbour greater retrieve item provided null index past end quick dirty confirm skiplist works separate unit tools tree warrant rand links utils remove height max size seed max height prev math size node index system parent height random level add current tail append max integer nodes fill finger node head thread local random parent arrays max ceil util concurrent canon max expected size log prev bit count tail formed length dynamic put loop tree
test.unit.org.apache.cassandra.db.RowUpdateBuilder
convenience single row updates thin wrapper builders simple builders historical modify simple builders fair amount effort row builder created call skipping call called addition deletion note created mutation update ctor underneath update builder rts ttl row simple builder add columns timestamp db util column sorted builder local deletion time partitions primary key liveness info clustering array delete row clustering buffer clustering btree row empty nio rt column metadata delete row add range tombstone fb utilities simple builder metadata range tombstone builder row builder decorated key key keyspace length row partition update column metadata mutation deletion size clustering rows table metadata add row deletion start params schema sec regular columns partition key row update builder comparator build update delete decorate key utils row marker end make serialize partition key empty build partition key clustering comparator deletion time make key update regular time live row builder partitioner
test.unit.org.apache.cassandra.cql3.validation.miscellaneous.OverflowTest
fit migrated python support migrated reserved migrated migrated table migrated migrated query forwarded escaped wire migrated migrated regression migrated migrated migrated migrated inserts rows make don query empty empty empty empty empty migrated migrated insert fit insert migrated selected element wise migrated blob conversion functions reserved keywords table options fill utils table infinite column validation table invalid selected identifiers na syntax empty blob format cql tester exponent null support empty row junit math true compact metadata buffer util rows miscellaneous empty framework rows rows execute table cql big integer validation nan infinity function null keyspace length null unescaped blob function overflow throwable array invalid
src.java.org.apache.cassandra.cql3.restrictions.StatementRestrictions
restrictions relations cql column family meta restrictions partitioning restrictions clustering restriction key columns secondary index restrictions build row secondary index query range partition primary key restrictions restriction regular creates empty table column family meta empty rules eq relation conflicts relation relation restricted row keys conflicts entity restricted support wide rows indexed cql select statement fully things partition key columns turn restrictions row columns clustering reject clustering colums provided suggest table primary key make sense insert update delete sounds understand covers indexes clustering column secondary indexing false restrictions covered query handler column include null restrictions columns null restriction included applies columns null restriction true column restricted false checks restrictions partition key restrictions partition key checks query request range partition query request range partition checks column restricted eq column def column column restricted eq kind column checks secondary index secondary index slice partition restrictions token key queriable special condition required queriable query queriable component partition key restricted components partition key component checks restrictions key restrictions key partition key components partition key components checks restrictions partition key token restrictions partition key token checks restrictions clustering key restrictions clustering key processes clustering column queriable index queried data selects columns selected modified columns clustering columns clustering columns checks clustering columns clustering columns partition keys data options query partition keys data bound partition boundary options query bound partition deal queries keys build bound partition key options query partition key deal unrestricted partition key components required deal queries component composite partition queries filter partition happily wrapping range make sense empty result special range guaranteed empty result start token bound excluded note start token end token minimum special rule checks query restrictions clustering query restrictions clustering requested clustering options query requested clustering command table compact cql concerned single row internally correspond clustering index filter bounds clustering bound options query bounds clustering checks query range query range compact tables ignore fake clustering column special compact table query part cql optimization range query column alias relation defined eq checks query query user select intent query partition easy support index restricted query checks primary key columns key clustering restricted relation primary key columns restricted checks restrictions applies regular restrictions applies regular selects columns restriction secondary index manager restriction partition key bound compact table partition key partition key restrictions token prepare bound add functions start key check false relation buffer check null expressions partition key columns queriable index partition key restrictions identifiers row filter secondary indices add key relation custom index expression custom expressions missing clustering columns number clustering columns columns number restrictions min key bound cf partition key single restriction format clustering column slices primary key column db clustering bound util clause token navigable start key custom keyspace cql restriction index manager primary key columns dht statement inclusive remove regular common operator instance array cmp token bound index invalid index google key minimum btree null columns column defs include start restricted columns keyspace delete range custom expression supported include end btree cfs index secondary index manager clustering columns restrictions column metadata column family process custom index expressions primary key clause index metadata size end token variable specifications kind end including excluding bounds restricted ipartitioner select query options base multiple supporting index view process partition key restrictions custom expression partition key bounds token restrictions restriction excluding bounds pk restricted columns restrictions token column custom index expression clustering column restrictions filter keyspace add restriction partition key unrestricted components partition key bounds marshal partition key restrictions invalid request clustering include null restrictions statements unrestricted clustering columns clustering columns restrictions collection operator table add row filter partition key open key range linked clustering filtering table metadata start partition keys row filter relations clustering key restrictions max key bound column identifier restrictions empty schema multiple expressions requires filtering message column def token factory pk columns restricted restriction expression start token secondary indexing clustering column process clustering columns restrictions keyspace clustering column family store primary key restrictions column range partition position partition key restrictions clustering columns match kind join partition key ranges comparator index restrictions bounds unrestricted clustering columns relation clustering columns def bounds clustering minimum token restricted column eq filtering filter restrictions stream restrictions add row filter utils bounds custom index expressions regular columns restrictions queriable clustering column index function functions end slice clause column family store indexes restrictions statement restrictions empty target index request validations bounds partition key clustering comparator cf idx index unrestricted partition key components nio index restrictions validate secondary index selections finish key column restricted eq single restriction start compact table bound array joiner merge clustering column finish key expression primary key restrictions bound options partitioner cf invalid request index found clustering columns bounds compare update column
src.java.org.apache.cassandra.cache.RowCacheKey
google table metadata ref utils visible table id result buffer measure override schema table metadata ref sizes table metadata instance cache code size array annotations schema index nio buffer util arrays db table ref decorated key util array key cache key row cache key metadata key unshared heap size table id common format empty size
test.unit.org.apache.cassandra.tools.SSTableExportTest
runner keyspace loaded table export schema loaded run tools run tool unexpected threads started table export table export tools tester optional threads schema find table system loaded server loaded clsm loaded junit ordered junit runner
src.java.org.apache.cassandra.index.sasi.disk.AbstractTokenTreeBuilder
seek end block leaf indicator leaf indicator clear bit bit leaf bit leaf bit leaf assumes single offset offset assumes single offset offset middle bits offset top offset max store offset bottom bits offset store entry exta offset supposed unsigned holds entry offsets packed offset stored offset offset stored entry holds entry offsets packed index overflow stored offset number overflowed entry stored entry child referenced bulk store subtracted position node tokens inserted current subtracted position incremented root align block boundary leaf iterator serializable simple full child buffer write magic disk children math serialized size current node block size info add update token range larger offset max leftmost leaf util collision start index io leaf entry leaf iterator token count array remove token entry block put max token data output tree max token packed offset data current version index child overflow collisions split result serialize child offsets leaf shift rightmost leaf offset count overflow collision leaf entry allocate block header parent offsets largest token descriptor collision count root header tree min token num blocks size array serialize overflow collisions node end data put serialize data rightmost parent factored offset leaf entry interior node node max token entry block size serialize child block index pos serialize tokens header start index cur pos block buffer overflow fb utilities node middle split position simple leaf entry offset tok pair level iterator child count cursor token tree builder raw offsets serialize header position integer flush buffer buf count leaf compute align node min token tokens block flip header put min token root leaf header overflow trailer capacity cursors utils smallest token sibling child io align buffer token count smaller offset interior node header iterator min construct tree put overflow entry write split packed collision leaf entry hppc token tree builder ordinal finish node nio root split block buffer max ab magic factored left child carrotsearch level iterator error tokens clear version ab array entry sasi max offset offset extra left
src.java.org.apache.cassandra.repair.LocalSyncTask
local sync task performs streaming node remote request ranges remote send ranges remote node performing pull starts differences remote creates called band streams node source put source avoid repair sce event progress info session system keyspace summaries direction stream prepared logger local failure format db preferred util token desc execute uuid success request ranges logger common inet address merkle trees google merkle tree visible streaming repair job desc result stream operation event dst trace repair state progress net fb utilities stream state stream event handler session complete event pretty memory column family tracing stream complete range stream plan throwable file progress tracing keyspace summaries log prefix repair trace state peer progress event message active repair service size transfer ranges service pi annotations current direction sync task handle stream event differences finished pending repair stream plan start sync info endpoint success listeners preferred ip preview kind logger factory total utils local sync task stream event override logger spe flush transfer slfj instance session index dht stat trace tree response plan preview kind session prepared event pull repair session id broadcast address
test.unit.org.apache.cassandra.db.compaction.DateTieredCompactionStrategyTest
disable tombstone histogram rounding targets base big sstabels small iterator num tables interrupted collections expired table buffer date tiered compaction strategy filter tables util drop expired tables add validate options max window size key null junit dk thread format db util live tables timestamp resolution key table reader add table define schema array metadata collect common sleep configuration iterable current time millis google size tiered compaction strategy options newest bucket system date tiered compaction strategy options fail max timestamp cfs buckets array min timestamp date tiered compaction strategy buckets decorated key base time key key expired sstable check frequency key apply unsafe pairs key options validation keyspace days key sstable sstrs null force blocking flush options bucket truncate blocking tables simple standard cfmd put keyspac time conversions wrap prep bucket open size clustering timestamp pair min sstable size key schema max table age startup unvalidated max sstable age key keyspace task column family store property prepare server row update builder originals bucket dtcs microseconds time unit canonical disable auto compaction compaction task utils background task iterables abort io buckets keyspace column family store empty build max filtered cf standar table true schema loader nio filter tables big concurrent singleton keyspace params stcs big window lifecycle transaction opts false convert milliseconds compaction
src.java.org.apache.cassandra.serializers.TimestampSerializer
change update format json formats code milliseconds attempt parse builds cql literal timestamp time zone utc fixed date date utils buffer time pattern utils serialize marshal json date formatter ignore number format io override time zone lang formatter remaining time zone regex serializer serializers timestamp serializer parse format utc simple date format instance buffer cql literal text date remaining time zone initial nio buffer util date patterns matches matcher system util concurrent sdf formatter utc parse validate timestamp pattern utc format netty formatter json fast thread local parse date strictly deserialize date timestamp json format commons current time millis compile empty buffer source time format
test.unit.org.apache.cassandra.cql3.validation.entities.udfverify.ClassWithStaticInitializer
unsupported operation codec data buffer protocol version transport functions entities initializer math protocol version params datastax sin param execute aggregate impl core nio driver udf context util cql data execute impl udf context udf udfverify validation
test.unit.org.apache.cassandra.Util
helper make iterator iterable writes bunch mutations single column mutations group mutations keyspace column column family store creates initial nodes nodes added storage service expand pool host ids check nodes token caring reported iterators differ superset iterator depending method include defined column actual content moved refactored keyspace wrapper function run flake uncontrollable fails executed number times expecting runs failure understood flake treated deterministic success influenced external factors selection random network made independent preferable reruns failure times reruns message message send initial optional argument expected marked directories iterator results keyspace buffer dht row compact compose junit clustering comparator partition iterator directories unfiltered row iterator key tokens util column live tables cql content partitions table reader array cmd commons iter reruns failure keyspace dir cfm unknown host lang cfs unfiltered partition iterator mark unwritable counter id cell single cell row net metadata read command builder descriptor clear unwritable unsafe ascii closeable partitioner ipartitioner reruns failed make paging state endpoint tokens sstable partition update force blocking flush eof add regular column tasks apply fb utilities end data live call descriptors partition key column family store inject application state join compute descriptor writeable location def decorate key compare cell regular columns cql interrupted util empty rewind config true arrays make key token metadata row unfiltered atomic unfiltered supplier callable change optional storage service runnable timestamp submit user defined execute partition range builder iterator big integer token gossiper debug iterable clustering ep deletion time rp logger row mark counter id column metadata content read command rm paging state base throwable thrown empty buffer partition updates thread versioned factory length check state singleton partition update random uuid cell table id message open size partition level deletion service store schema imutation data range clustering tokens initialize node unsafe timeout unfiltered iterator read execution controller partition unfiltered logger factory column rows partitioner close row row iterator partition build partition key partition key clustering comparator reverse order single partition builder normal callable empty row data directory pager error partition table id left blacklisted directories compare unsigned row filter sstables filtered partition application state live null mark directories unwriteable columns dk db token execute internal yield common member unfiltered put key empty iterator table ids partitioner switcher stats digest query expect row sec key initial ring apply unsafe limits join thread key internal partition range read command execute locally context consume partitioner run error mutations mutation table metadata unfiltered source mark elements expected pk unfiltered row iterator spin empty array cell user defined tasks keyspace controller partition position location disk comparator versioned error query storage internal expected column partitioner unsafe utils tokens io override logger encoding stats thread gc make endpoint token prefilled nio stats database descriptor task builder command row position write column family utils query storage collections atomic compaction strategy manager buffer cell instance columns source add protocol version gms io error logger buffer util format token compaction add partition key column uuid collect hosts add clustering column inet address google system flaky protocol version btree row transport column filter token partition range read command iterators preconditions mutation immutable btree partition run bb partition decorated key host id pool range offset actual concurrent column directories current time millis serialize partition key compact host ids marshal expect eof row column wrap range clustering rows transform collection start column identifier empty unfiltered function auto closeable info add suppressed cells put compaction manager compaction task exhausted function random partitioner column family store status digest version empty update execution controller future clustering partitioner slfj original
src.java.org.apache.cassandra.notifications.MemtableSwitchedNotification
memtable inotification db memtable notification notifications memtable
src.java.org.apache.cassandra.hadoop.ReporterWrapper
reporter works mapred mapreduce unsupported operation incr counter override reporter hadoop status input split progress counters reporter mapred counter progress status reporter input split wrapped reporter reporter wrapper mapreduce counter
src.java.org.apache.cassandra.db.marshal.Int32Type
empty buffer empty compare unsigned number utils serialize marshal negate cq override cast buffer parse diff parsed transport remaining serializer serializers empty meaningless parsed number multiply format protocol version comparison custom instance add empty protocol version integer mod simple constants term nio buffer util buffer db json empty buffer divide position cql serializer source substract left deserialize input number cq left length fixed compare custom json exc marshal decompose serializer
test.unit.org.apache.cassandra.cql3.validation.operations.InsertUpdateIfConditionTest
migrated migrated apply statement order exercise condition migrated migrated migrated insert exists concerns column clustering regular concerns row targetted clustering columns batch output slightly full pk included conditions span multiple query invalid delete underspecified primary key succeed query invalid migrated migrated cas compact storage migrated multiple multiple invalid null suffix stored udt multiple multiple null prefix stored udt multiple multiple null udt multiple multiple null suffix udt null prefix udt null udt migrated multiple multiple supported migrated expanded functionality migrated check end check end migrated multiple element access supported migrated multiple supported migrated expanded functionality migrated multiple migrated migrated dropping unsuccessful confirm drop migrated dropping unsuccessful confirm drop migrated dropping unsuccessful drop migrated dropping doesn unsuccessful confirm attempt alter field drop row null deleting row cas makes effectively comparing number null leave comparing number null similar columns leave null indistiguishable empty lwt condition executed comparing number null lwt condition executed update applied lwt condition executed update applied note update wins timestamp comparing number comparing number null comparing number note tombstone wins delete note tombstone wins delete note tombstone wins delete table multiple inserts row exist insert user original reported statement biggest ends multiple deletes row exists conditions delete checking validate mix conditions table multiple inserts row exist insert user original reported statement biggest ends multiple deletes row exists conditions delete checking validate mix conditions operations columns cas conditional duration columns full table drop keyspace sleep buffer true row syntax drop index exists insert update condition cas index junit checkdoesnotapplyset keyspace simple cas thread format execute util marker ud expanded item cql wait index expanded item condition checkinvalidmap check apply udt frozen invalid throwable eq conditional update cas ttl conditional duration checkappliesmap conditional updates null batch table drop table exists table udt keyspaces drop exists conditional updates existing udt field compact storage item marker marker rows conditional delete null schema change schema keyspace keyspace length columns cas update invalid multi exist condition row clustering conditional updates existing batch invalid request checkappliesset drop keyspace exists invalid message operator rows schema keyspace checkdoesnotapplylist expected integer schema conditional delete check applies udt udt tuple rows columns cas delete table multi exist condition row clustering check invalid udt conditional updates columns checkinvalidlist false typename checkapplieslist conditional update item user keyspace cql tester conditional updates null checkdoesnotapplymap true conditional deletes existing batch nio empty conditional duration tuples conditional duration udts checkinvalidset schema constants conditional duration insert exists lang index duration multiple conditions validation unset
src.java.org.apache.cassandra.cql3.restrictions.TermSlice
slice specifies slice boundary inclusive creates start lower include start lower boundary end upper include end upper boundary creates bound boundary include boundary term boundary bound boundary boundary checks slice boundary boundary slice boundary checks slice boundary inclusive boundary slice boundary inclusive merges slice slice slice merge slice resulting index operator boundary index operator check supported index secondary supported index statements lte term slice add functions supported bound bounds bound gt include end override end function index functions supports expression column metadata column start lt include schema supported term start include start gte inclusive format instance end util start index operator cql restrictions term idx bound inclusive bound merge slice operator
src.java.org.apache.cassandra.tools.nodetool.stats.StatsPrinter
stats output stats property bad flow style dump simple snakeyaml nodetool yaml printer yaml io override tools block stats yaml json convert json printer stream flow style stats printer dumper options data json stats holder options put
test.burn.org.apache.cassandra.utils.memory.LongBufferPoolTest
picked ensure exceeding buffer size fix target size quanta consciously exceed pool size setup high churn free buffers target buffers waiting neighbour free check consuming neighbour caught mark free buffers pick random preference earlier share free interleave potentially messing allocate perform burst allocation exhaust validate random buffer free remaining shared sample preference element index selected likelihood pick random number binary search random inverse desired subtract single single consumer good gaussian avg buffer size text memory usage threshold atomic buffer hours math current target size head executors callable init message logger null junit thread format read util executor service tail array yield logger dynamic common sumto google listnode system remove count latch duration nano time append index freeing size capacity date format total size pool size ret simple date format current move allocate progress checks base sample index add burn nanos count add logger factory spin count shutdown put queue length recycle neighbour executor service allocate rand share buffer pool debug poll size node val processors submit checkpoint duplicate call memory date thread local random sample index chunk size await uninterruptibly end sample index minutes count target size share buffer check recycled thread count remaining put error time unit latch stdev buffer size exhausted utils sample stack trace execution logger round normal check uninterruptibles runtime date format interrupted spsc queue write prev pool size cleanup target size quanta shared recycle true buffer pool making progress nio buffer max await fixed thread pool concurrent future validate runtime nanoseconds thread idx slfj position current chunk atomic sample range minutes
src.java.org.apache.cassandra.transport.ServerConnection
theory race hurts support sasl auth protocol older style credentials auth support sasl auth protocol older style credentials auth authenticator null request state format external calls concurrent state tracker authenticator io query state server connection client state options channel response authenticate service remote address sasl negotiator auth response state version transport apply state transition protocol version integer tracker config channel validate message uninitialized concurrent sasl negotiator auth success query states error auth util concurrent connection credentials database descriptor sasl negotiator iauthenticator netty query state client address state sasl negotiator startup put absent authentication protocol stream id ready query state message client state
test.unit.org.apache.cassandra.io.sstable.IndexSummaryManagerTest
index interval key index interval key index interval key index interval key original halve constrain space summary give summary space grow original give summary effective index interval raise current effective space index summary ideally result effective interval index interval key halve original index interval key space downsample cut cut upsample back upsample back original index make sstables leave space full index cold sstables downsampled half original small increases decreases read rate result downsampling leave space cold sstables mix upsampling leave space full index coldest sstables downsampled leaving summaries worth hottest sstable full index min sampling min sampling leave space minimal index min sampling resize memory pool index interval key index interval key cut barrier control redistribution leave space minimal index ensure stop condition check made halt request made proceed stop compaction redistribution ksname index summary redistribution iterator hotness comparator num tables future redistribute summaries total heap size manager truncate blocking collections atomic buffer force flush sstables cancel tables math row index intervals util redistribute summaries original max index interval minutes immutable change min index interval clone summary sampling level simple add cell logger null junit min index interval jmx functions buffer util format db ceil util base sampling level sampling level min sampling level io compaction announce table update cell table reader tables thread define schema array cmd metadata logger effective index interval common timeout index summary heap size sleep observable redistribution null google resize interval minutes active compactions thread factory count latch id max index interval override read meter cf standardrace run collect open index summary manager restorable meter cell summary space reset summaries holder configuration run barrier runtime original capacity memory pool count higher rate original min index interval base key cache cancel index expected size keyspace memory pool capacity mb ordered junit runner sstable length upsample threshold force blocking flush read meter change max index interval downsample theshold memory pool capacity mb row txn column lifecycle transaction unknown standard cfmd entry stop previous size index summary manager keyspac table id wrap array total cfname redistribution tables interrupted size clustering checkpoint cf standardlo wi interval rows downsampling num rows start caching params rebuild sampling level params tracker schema sort single summary heap space alive previous interval keyspace column family store operation integer holder prepare server row update builder join compaction info future time unit logger factory compactions compaction manager num partition compare disable auto compaction runner utils compaction interrupted disjoint runnable unbuild io execution index summary size stop compaction logger key compacting atomic reference thread keyspace column family store cfs instance empty build empty compaction metrics symmetric difference true apply unsafe finish schema loader nio comparator transactions arrays migration manager await update metrics concurrent index summary sampling level fifteen minute rate keyspace params entry time resize entry joiner lifecycle validate data resize interval minutes original heap size futures intervals slfj lower rate modify caching live tables row unfiltered average index interval original
test.unit.org.apache.cassandra.locator.GossipingPropertyFileSnitchTest
unit google utils daemon initialization locator rack load config fb utilities inet addresses net config junit datacenter gossiping property file snitch expected datacenter check endpoint snitch setup dd database descriptor host address endpoint endpoint network topology snitch expected rack broadcast address common inet address gossiping property file snitch
src.java.org.apache.cassandra.db.aggregation.GroupingState
state primary key row processed passed resuming internal page requested client initial state partition key previous group ended end previous clustering null middle row partition row row partition key rows processed row partition key rows processed row clustering rows processed row row clustering rows processed row checks state clustering row state clustering row clustering buffer read vint length data output utils serialize partition key write serialized size vint length io subtypes sizeof clustering serialized size read state version clustering comparator sizes nio buffer util data input db aggregation util partition key io size serializer grouping state deserialize comparator empty state write vint length serializer clustering
src.java.org.apache.cassandra.metrics.RestorableMeter
meter metric measures throughput moving average based heavily meter ewma creates uninitialized restores restorable meter terms events terms events updates moving averages mark occurrence mark occurrence number number rate terms events carries previous rate rate terms events carries previous rate total number events occurred note previous carried restorable meter rate events note carry restorable meter rate measure average rate terms events uninitialized ewma window window time ewma average expressed number restore ewma rate interval window time ewma average expressed number update moving average mark passage time decay current rate rate terms events hour rate clock uncounted rate codahale interval start tick atomic alpha initialized clock math window rate clock rate rate restorable meter tick mark rate instant rate atomic elapsed add count tick update restorable ewma tick nanos util concurrent fifteen minute rate start time tick tick minutes lang metrics age interval tick interval interval required ticks exp time unit rate tick nanos rate compare
src.java.org.apache.cassandra.cache.IMeasurableMemory
amount memory retained reclaimed exclude globally cached data counting portions arrays referenced slabbed cache unshared heap size imeasurable memory
test.unit.org.apache.cassandra.metrics.LatencyMetricsTest
bitsets bloom recent latency latency minute rate start junit runnable run thread latency metrics add nano metrics framework recent latency metrics false positive infinity
src.java.org.apache.cassandra.streaming.messages.CompleteMessage
complete serialize stream message streaming session io override stream session message version readable channel complete message nio util data output stream serializer channels deserialize messages serializer
test.long.org.apache.cassandra.db.compaction.LongLeveledCompactionStrategyTest
kb make easy multiple data level adds data trigger multiple sstable execute lcs tables lined score overlap check levels greater level overlap check levels greater kb make easy multiple data level adds data trigger multiple sstable kb adds leveled scanners iterate ascending order ksname leveled manifest buffer compaction strategy manager linked blocking deque util submit overlapping parallel leveled compaction callable add junit columns overlaps metadata serializer dk cf standardlv max total db execute util mgr compaction task token thread pool executor table reader level define schema compaction strategy array mutate level leveled compaction strategy manifest collect common configuration iterable google leveled compaction strategy min system leveled scanner sstables open wait futures table level update builder rm size metadata filename run decorated key ignore key key put leveled options row keyspace scanners keyspace levels force blocking flush executor service level count tasks simple standard cfmd keyspac mutation wrap apply cfname fb utilities max level rows live scanner call integer unfiltered row iterator store schema compaction params strategies lcs keyspace partition key column family store scanners prepare server reload table metadata cf standardlvl wait leveling run compactions disabled descriptor executor time unit clear disable auto compaction compaction task io utils runnable leveled compaction strategy table scanner scanner sstable format column family store level empty build background task table scanner true schema loader nio compare concurrent future keyspace params tables compaction strategy manager lifecycle row tables builder futures array
src.java.org.apache.cassandra.cache.CaffeineCache
adapter caffeine cache icache cache eviction policy higher hit initialize cache initial capacity empty invalidate present google hot key iterator weigher capacity cache caffeine icache maximum weight put put absent check state remove policy maximum iterator capacity cache caffeine builder build unshared heap size preconditions imeasurable memory policy integer size direct executor benmanes maximum invalidate max weighted capacity util concurrent base key replace hottest github weigher iterator key eviction weighted size illegal argument caffeine cache eviction common key iterator executor weighted key clear executors
src.java.org.apache.cassandra.index.sasi.analyzer.filter.StemmingFilters
filters performing stemming snowball stemmer current index tartarus locale stemmer input stemmer factory process current analyzer stemmer util snowball stem filter pipeline task locale filter stemming filter stemming filters sasi
src.java.org.apache.cassandra.tools.nodetool.stats.StatsTable
index summary heap memtable cell count nodetool local read count memtable count heap memory total space total maximum live cells slice minutes dropped mutations bloom filter heap sstable compression ratio tools compacted partition maximum stats memtable data size maximum tombstones slice minutes compression metadata heap average tombstones slice minutes bloom filter false positives bloom filter heap memory compression metadata heap memory heap index util number partitions estimate local write latency bloom filter false ratio average live cells slice minutes pending flushes space snapshots total array percent repaired memtable heap memory memtable heap sstable count local write count bloom filter space leveled sstable index summary heap memory local read latency sstables level compacted partition minimum space live stats table compacted partition
src.java.org.apache.cassandra.db.marshal.SetType
interning maintain comparator collections buffer compatible frozen previous syntax references user instance parser add protocol version frozen instances db compute absent util comparator empty cql serializer iterator array serializer kind concurrent decode json freeze json protocol version terms append serializers comparison intern compatible frozen configuration term multi cell ignore freezing rows user json marshal marshal cell instances path custom size compare freeze nested multicell bbs builder include frozen freezable simple serialized collection stringify parameters cells json elements parser override parsed format instance transport parameters concurrent elements frozen nio buffer json concurrent singleton compare custom delayed element compatible sb serializer
test.unit.org.apache.cassandra.cql3.validation.entities.UFJavaTest
function runtime wrapped protocol encode expected version serializes collections serialize deserialize add references functions remain state recreate functions work user udf exchanged user cql tester ut collections tup math row rows net function parameters tuple instance entities message tuple simple collections junit empty keyspace udt keyspace function execute function counter util cql functions nameno replace user table throwable rows net function invalid bodies tuple def udt val uf fail transport execute net tree version user add field replace namereplace core tuple collection rows tup driver put tup tup tup udt udt cboolean keyspace length namereplace function execution function invalid row invalid request cdouble nameno replace invalid message parse function tup size rows tuple integer datastax schema udt dollar quoted function namereplace tuple builder protocol version append function tuple untyped result function function body namereplace nameno replace cq udt protocol versions functions runtime keyspace format function function argument mismatch sig user rename field cint schema sin true tree arrays nameno replace user invalid message data text validation
test.unit.org.apache.cassandra.SchemaLoader
migrations happy gossiper migrations expect start gossip skip shadow round endpoint collision check bucket make easy keyspace column keyspace column keyspace keyspace keyspace keyspace keyspace column messing sstable inject schema fix cfmd failing legacy table applying composite comparator partition index flag exists index existing stop unmap cls instances prior failures clean leave folder windows complain directory deletion open children clean data directory stored data sasi cfmd time uuid uuid clustering sasicfmd child singleton gc ksnocommit disk directories children aliases tables indexed columns directory instance stub index enabled data file locations custom cc add snappy compaction options gms keys index cfmd custom index cfmd junit timestamp micros murmur partitioner min index interval lcs thread sasicfmd composite index cfmd db collections util schema definition counter cfmd io compaction load schema add partition key column cql tables views announce table update cf array gossiper regular add clustering column sleep add column dir composite tables functions cfm cache dynamic composite system restart unsafe indexes ksprsi compression apply schema loader number rows max index interval exists caches dir index saved caches location column metadata cc compound keys add regular column integer column compression parameters scts index options start gossiper configuration kind column family runtime compression comp builder table metadata lexical uuid utf column offset cleanup leave dirs cache leveled options regular index schema commit log location full text search sasicfmd disk index builder stop unsafe current time millis keyspace sasi index target option marshal mode schema metadata statements simple standard cfmd composite max min put table statement files subcc index targets index val ascii fb utilities clustering keyspace metadata custom index option table metadata dense start column identifier caching params params dir ut add column schema clustering compaction params leak detect index target index metadata counter ksm simple ksccs integer integer property counter column prepare server row update builder parse parse property chunk size composites compression params directory jdbc cfmd sparse regular column builders delete column count keyspace empty cfmd utils dynamic composite partitioner prefix unbuild compression io announce keyspace gc grace buffer util key cql tester interrupted indexes delete recursive instance cleanup empty build indexed column commit log dht config insert data composite clustering columns kscql arrays migration manager position cleanup saved caches mkdirs singleton keyspace params file utils database descriptor reversed interned views builder row indexed cfmd kskcs ksrcs dense cfmd file caching commitlog absolute path sasi index
src.java.org.apache.cassandra.io.sstable.metadata.CompactionMetadata
compaction related table loaded tables time code inheriting comment version stream data output utils serialize imetadata component serializer compaction metadata serializer analytics version compaction io override sizeof metadata component serialized size serialized cardinality compaction metadata code icardinality read build metadata sizes buffer util format read data input builder db util write length io clearspring cardinality cardinality estimator sz metadata hyper log log deserialize sstable length component serializer
test.unit.org.apache.cassandra.repair.consistent.CoordinatorSessionsTest
check coordinator sessions passing messages coordinator session session coordinator session ranges coordinator uuid gen repair junit handle prepare response session db util cql handle failure message uuid success build session collect common inet address null parent repair session instrumented coordinator session google consistent state fail schema loader cfs parent repair session participants cfm net builder ranges handle promise response session table ids service keyspace messages handle prepare response preparing register session coordinator sessions repair statements consistent session prepare response calls simple table statement prepare success active repair service column family store instance table metadata time uuid instrumented coordinator sessions prepare peer schema state sessions fake id column family store register session prepare server promise success prepare consistent response utils fail session parse coordinator handle promise prs id session participant setup coordinator sessions instance participants handle fail session message build schema promise calls promise peer promise handle promise response participan session id keyspace params handle failure message session handle promise message peers repaired builder session id fail calls
src.java.org.apache.cassandra.tools.nodetool.Verify
verify nodetool probe airlift system node probe arguments io override tools option extended verify title parse optional tables table usage node tool description runtime node tool cmd util keyspaces command parse optional keyspace execute array keyspace airline verify
test.unit.org.apache.cassandra.utils.SerializationsTest
decorate key hist file serializations tester serializer utils serialize daemon initialization input offheap io bloom filter read file input stream bloom filter write bloom filter write estimated histogram read ifilter positives partitioner instance hist hist offsets decorated key bloom filter table data util partitioner add array data input length data input stream config junit true bf filter token factory dk filter factory db filter fpr decorated key serializations random token util data input stream present null database descriptor estimated histogram write present murmur partitioner ipartitioner dht deserialize output init dd execute writes data output stream estimated histogram file false io marshal decompose
src.java.org.apache.cassandra.cache.KeyCacheKey
array buffer lowers overhead key cache working extra copies lookup key buffers buffer table metadata utils size array add partition key column result io measure wrap buffer util table metadata cache code instance build ut schema override index nio sizes format arrays db util descriptor array key desc empty buffer cache key builder sstable unshared heap size table id key cache key empty size marshal hex
tools.stress.src.org.apache.cassandra.stress.operations.SampledOpDistribution
operations clustering stress distribution cur pair commons remaining generate util math sample op distribution enumerated distribution distribution sampled op distribution operation
src.java.org.apache.cassandra.serializers.SimpleDateSerializer
shift treat data unsigned integer ranging min date max date sitting center raw day unsigned epoch shift epoch days negative portion integer result order attempt parse date zone parse date time raw pattern utc pattern utils min marshal date time result buffer days max supported days math regex matcher serializer serializers date days day time millis parse max supported date millis parsed order shift instance time millis day pow number format integer formatter remaining joda serialize nio buffer util format matches max simple date serializer pattern util date time zone millis date time formatter millis validate millis local date empty buffer days deserialize concurrent milliseconds illegal argument days compile source time date time format time unit min supported date millis
test.unit.org.apache.cassandra.service.StorageProxyTest
restricted ranges restricted ranges single single split starting single split ending single split single split starting single split ending token wrapped tokens wrapped full wrap member end token wrapped tokens wrapped full wrap member end tokens special completely empty bounds match tokens special completely empty bounds match size grr exact bounds mkdir restricted ranges including excluding bounds daemon initialization end bounds locator bounds token length service bounds query range token range range util instance max key bound expected tmd partition position dht config junit storage service min key bound storage proxy update normal token hints directory bounds db bounds util storage proxy range token bounds key throwable rp database descriptor net excluding bounds token metadata token metadata start grr wrapped token grr grr exact restricted grr keys inet address restricted keys left
src.java.org.apache.cassandra.locator.EndpointSnitchInfo
snitch utils datacenter locator unknown host mbs management register mbean management factory endpoint snitch info mbean rack net fb utilities config platform mbean server runtime mbean server host endpoint snitch info database descriptor lang broadcast address inet address endpoint snitch
src.java.org.apache.cassandra.db.BufferClustering
clustering column clustering columns table part prefix note size table clustering clustering compact table historical imagine lifting limitation decide make sense cql point clustering clustering kind nio db buffer clustering prefix buffer clustering buffer
src.java.org.apache.cassandra.db.ReadQuery
generic read matter makes slightly complex big deal easy limit rows avoids starts read called passed protect closed path strongly advised newly started execution controller executes query provided consistency consistency consistency level achieve client state null serial result execute query internal queries basically executes query controller protecting result execute query similar unfiltered partition iterator merged execution controller protecting result read pager paging state start paging start protocol version protocol version paging state pager limits limits true read query select including checks row check row filter true read query select including checks row check row filter checks selects full filtering clustering regular selects full clustering consistency level unfiltered partition protocol version selects clustering empty iterators query pager override client state empty clustering unfiltered partition iterator service state pager paging state data limits transport protocol version selects key read query empty query start nano time partition iterator decorated key db paging state execution controller controller key pager execute internal partitions execute limits request execution read execution controller partition metadata cql limits filter execute locally consistency client state selects full partition
src.java.org.apache.cassandra.cql3.conditions.ColumnConditions
conditions regular conditions creates instance adds conditions cas request clustering clustering options query creates conditions regular conditions adds condition condition clustering statements stream request add conditions build conditions collections override applies regular columns function functions add conditions conds column condition column metadata column conditions add functions collection builder add empty condition applies columns conditions schema empty builder db clustering util query options cq cas request cql concat conditions collectors stream columns column array column conditions options collect builder clustering
src.java.org.apache.cassandra.db.compaction.CompactionManagerMBean
running compaction running compaction summary compaction history triggers compaction user files keyspaces user defined compaction performed times groups data files comma separated sstable file keyspace columnfamily file triggers cleanup user files keyspaces cleanup performed file data files comma separated sstable file keyspace columnfamily file stop running tasks provided compaction stop individual running compaction compaction id compaction id compaction ids found transaction log files starts located table transactions core size compaction thread user resize maximum size compaction thread number maximum compaction maximum size compaction thread user resize maximum size compaction thread number maximum compaction core size validation thread user resize maximum size compaction thread number maximum compaction size validator thread user resize maximum size validator thread number maximum validator maximum compactor threads number stop compaction id maximum validator threads core compactor threads stop compaction force user defined compaction core validation threads management compaction history compaction manager mbean maximum compactor threads tabular data db force user defined cleanup util compaction summary openmbean compaction id compaction core compactor threads maximum validator threads core validation threads data files compactions
src.java.org.apache.cassandra.io.util.LimitingRebufferer
rebufferer wrapper applies rate instantiated instances reuse buffer holder avoid rebuffer current buffer holder google buffer buffer holder channel proxy buffer holder override io limiter primitives close rate limiter limit quant crc check chance wrapped remaining channel checked cast pos buffer nio buffer acquire util concurrent offset file length rebufferer close reader rebuffer limit common release position limiting rebufferer
tools.stress.src.org.apache.cassandra.stress.generate.values.BigIntegers
generator override instance generator config identity distribution math big integers db big integer integer generate stress config marshal
src.java.org.apache.cassandra.cql3.selection.AliasedSelectable
alias variable specifications bound selection predicate factory column spec override table predicate expected table metadata keyspace column metadata select columns selector exact column identifier alias selectable column specification schema function assignment column specification forwarding factory db util selectable cql result aliased selectable alias defs delegate receiver marshal selector factory
src.java.org.apache.cassandra.serializers.IntegerSerializer
invalid utils serialize marshal buffer wrap remaining serializer serializers instance math nio buffer util empty buffer validate big integer array deserialize array integer serializer
test.unit.org.apache.cassandra.db.marshal.DynamicCompositeTypeTest
make aligned null uuid reversed putting fit compatible putting full charset time uuid uncomparable reversed columns buffer cnames aliases util iterator instance dynamic composite compatibility uuid gen cell junit timestamp micros buffer util stop util cname cname cname cname partitions hex uuid iterator define schema end component iter metadata cmd dynamic composite fail cfs serializers dynamic composite key column metadata allocate configuration full round immutable btree partition bb uuids key put apply unsafe uuid cdef keyspace keyspace length marshal hex column simple read partition marshal random uuid cell full round reversed keyspac parser open fb utilities clustering rows add start time uuid cf standarddyncomposite schema validate keyspace column family store prepare server row update builder parse comparator partition unfiltered remaining decompose compare utils dynamic composite put column family store instance build rewind reversed schema loader nio db keyspace params validate uncomparable columns reversed cname character coding dense cfmd total size uuid count compatible compare row
src.java.org.apache.cassandra.utils.CoalescingStrategies
log debug information info level average coalescing loop target sleep time sleep items backlog sleep expect number messages sending time assume receive messages apply logic future expect messages sleeping basically doubling sleep period exceed max sleep debugging enabled log logger current average gap calculation debugging enabled log provided nanotime timestamp debugging enabled log timestamps items provided drain input blocking queue output max items coalescing strategy choose park current thread produce output input blocking queue retrieve elements output place retrieved elements max items maximum number elements place output made results minimum timestamp accept updates moves measurements run partial part expected hit simply bit crazy updated update sum sample past end range sample interval clear counters partial result add roll clearing interval covers sample store start coalescing sleeping moving average requested actual time spent waiting coalesce moving average actual amount time spent waiting greater observed time spent coalescing microseconds window fixed strategy backup moving average time horizong moving average fails coalesscing strategy parker sleep micros bucket count delta measured interval interrupted nanos parker park nanos buffer coalescable upper math time horizon moving average coalescing strategy debug coalescing path thread debug gap file log average samples debug coalescing path property logger debug coalescing property count thread max util temp file constructor rollepoch parker otc coalescing coalesced messages notify sample logger common sleep qm google max items exists clock index shift visible system thread factory english nano time index bucket interval mode sum interval preconditions debug timestamp runtime microseconds nanos base constructor strategy cleaned assignable messages prev count timer constructor check argument length coalescable park loop ras temp clock channels log buffer temp disabled coalescing strategy clazz config drain size coalesce coalesce window micros coalescables add collection strategy start integer timestamp nanos annotations error initializer error instance coalescing strategy park log buffer channel latest nanos moving average coalescing strategy input average gap max coalesce window info sample property log sample random access file put limit error time unit logger factory average trim ix read write utils ii locks fixed coalescing strategy ras io override debug timestamps logger sample min debug coalescing lock support delete recursive epoch empty timestamp fill config classname blocking queue nio arrays coalescing strategies mkdirs reflect concurrent file utils database descriptor coalesce internal lang display locale coalescing strategy nanoseconds file channel slfj file directory property prefix coalesce window
src.java.org.apache.cassandra.db.rows.RowDiffListener
act result merging multiple rows result merging call listener informed input row diff input merge called row primary key liveness info input input row clustering clustering row merged primary key liveness info merged input merged result original info original primary key liveness info input input primary key liveness info merged result called row deletion input input row clustering clustering row merged deletion merged input merged result deletion original deletion input input deletion merged row called complex deletion complex column present merged row input input row clustering clustering row column column complex deletion merged complex deletion merged input complex merged result deletion original complex deletion input column input complex deletion merged row called cell merged row input input row clustering clustering row merged cell merged input cell cell merged result original cell input input cell clustering cell deletion clustering rows liveness info column metadata primary key liveness info deletion merged schema deletion time db cell complex deletion column row diff listener original row
src.java.org.apache.cassandra.metrics.StreamingMetrics
metrics total incoming peer replace incoming instances factory codahale total outgoing metric factory active streams outbound factory streaming metrics metrics ip net metrics registry concurrent highscalelib outgoing counter util concurrent host address counter metrics metric cliffc put blocking inet address
test.unit.org.apache.cassandra.transport.MessagePayloadTest
batch query options payload singleton collections buffer parsed statement execute response modifiers field addr batch message query options protocol version null junit query handler buffer util illegal access encryption options resp req util key custom payload cql host address execute custom payload process batch throwable query message simple client connect query state fail batch statement client state cql query handler field transport prepare message state statements cql statement page size empty runtime prepare prepare message modifiers field modifier query processor request validation declared field port request execution require network messages query options key keyspace statement id message payload beta message options reset cql query handler field entry md digest make cql query handler accessible execute message query message accessible message payload service prepared statement paging state response query start nano time query handler prepared modifiers accessible execute message accessible client state result message payload request payload process utils result message field skip metadata close message payload version id drop created table cql tester instance query batch message config custom payload true nio reflect singleton serial consistency entry query response consistency prepare response lang client encryption options query handler batch response unlogged execute internal cql query handler client protocol response payload process prepared
src.java.org.apache.cassandra.hadoop.cql3.CqlOutputFormat
acts output format reduce tasks store keys bound variable cql rows respective prepared statement hadoop job provided make provided make sake employs lazy record writer prepared statement binded variable created based inputs periodically makes official sending execution prepared statement request check validity information fills deprecated output format output committer format write data task output fills deprecated output format information current write output output format job context io batch threshold output initial address task commit unsupported operation output partitioner interrupted output committer conf null output committer setup job buffer output keyspace output committer commit task hadoop deprecated job conf progress configuration task context configuration nio task attempt context job mapred file system record writer cql record writer util config helper io cql output format cql check output specs job context abort task mapreduce cleanup job queue size setup task context filesystem hadoop compat progressable
src.java.org.apache.cassandra.index.internal.composites.RegularColumnIndex
index regular column definition composite cell indexed index general cluster component composite collections cell cell indexed index entry row key cell rk rk row key initial index entry information require locate back indexed indexing prefix clustering obtained partition query time base table partition mathching index clustering stale compare index comparator live index cell prefix buffer path clustering index primary key liveness info rows base cfs cbuilder cell cell path add internal build clustering prefix timestamp indexed column size base comparator clustering comparator schema nio decorated key index entry cell db index metadata build index clustering prefix indexed column partition key column family store regular column index indexed data sec decode entry clustering index entry index indexed comparator indexed entry clustering index def composites builder cell row
src.java.org.apache.cassandra.auth.FunctionResource
iresource representing root level resource represents collection root level resource representing functions defined keyspace level resource apply permissions functions specific scoped permissions granted resource representing collection root resource keyspace level resource functions permissions granted resources representing specific creates function resource representing collection functions specific keyspace function resource instance representing creates function resource representing keyspace keyspace function arguments function resource instance reresenting creates function resource representing variant instance parsing cql includes transposition cql keyspace keyspace function function arguments raw cql function resource instance reresenting parses resource function resource function function resource instance matching printable keyspace resource relates global root keyspace null root qualified function instance illegal state called resource represent single parent illegal state execute present alter parser add optional function format db auth util cql illegal state level array commons raw common google exists keyspace lang parent permission aggregate function permissions code root function splitter immutable cql base authorize keyspace length collect marshal invalid request trim results root resource aggregate prepare drop omit empty schema function iresource find function collection level permissions function resource join parent keyspaces illegal argument cql applicable permissions level root cq parse override function function functions function cql keyspace root instance parts split schema scalar function permissions joiner error compare utils
src.java.org.apache.cassandra.utils.memory.HeapAllocator
exposed reflection memtable works slab allocator nio instance allocating heap utils heap allocator allocator allocate buffer memory size
src.java.org.apache.cassandra.index.transactions.CompactionTransaction
performs garbage collection stale index entries regular compaction transaction concerned cleaning stale index multiple versions row compaction transaction notified versions diffs merge instances scoped single row improved batch multiple rows single index rows row merge transactions op index transaction versions db start commit row compaction transaction merged
src.java.org.apache.cassandra.tools.nodetool.ClearSnapshot
google nodetool probe airlift system override node probe arguments io iterables lang tools empty option title snapshot empty append builder usage node tool common description runtime node tool cmd util keyspaces command sb clear snapshot array execute join array commons collect airline io clear snapshot utils
src.java.org.apache.cassandra.utils.WrappedException
wrapped runtime lambda runtime utils wrapped
src.java.org.apache.cassandra.streaming.messages.StreamMessage
stream message base messages streaming protocol message carries message streaming protocol version streaming protocol version message input socket buffer filled possibly socket stream message serializer stream message priority higher higher socket retry io prepare priority received message serialize suppress warnings stream message streaming session buffer current version stream session message priority serializer session failed message version write version read allocate outgoing file message readable channel net complete message buff incoming file message nio session failed read put util data output stream io prepare message serializer serializer channels received deserialize file alive messages flip alive message complete illegal argument serializer retry message
test.microbench.org.apache.cassandra.test.microbench.FastThreadExecutor
created perf mutation bench jvm append size netty thread factory concurrent linked blocking queue fast thread executor microbench util io time unit thread pool executor
test.microbench.org.apache.cassandra.test.microbench.StreamingTombstoneHistogramBuilderBench
opt streaming tombstone histogram builder bench runner utils random warmup iterations system param month state options builder iterations time unit streaming tombstone histogram builder average time day fork gc profiler benchmark illegal argument hour threads build add profiler forks simple annotations streamhist profile flush histogram work load run awork load warmup measurement microbench update histogram util concurrent jmh threads benchmark mode data options measurement iterations include scope openjdk random select workload current time millis runner bspool size time output time unit time unit min options milliseconds mode
test.unit.org.apache.cassandra.index.sasi.plan.OperationTest
age age age age age age age age age age comment comment comment age age reject incorrect range exclusions age age age age complex age age aggregated logical make logical multiple analyzed expressions operation timestamp age operation internal expressions desert null deleted rows height sanity satisfied clustering analyze group unsupported operation sasi cfmd lte simple analyze buffer expressions row sorted builder buffer cell row filter add match op junit gt sasicfmd db kind util size load schema cql illegal state neq builder partition range read command clustering satisfied array collect common operator millis cf configuration clustering upper google unfiltered btree row system operator result complete fail operation cfs empty deletion time index multimap operation column metadata score matches eq fb utilities metadata kind build row location builder row builder decorated key range query controller eq operation convert column keyspace current time millis filter marshal keyspace params comment column analyze indexed defined column height cell put deletion satisfied open multimap clustering rows table metadata add row deletion data read live expected integer op ut schema deleted cell gte keyspace controller simple column family store operation property expression clustering cf cells converted time unit decompose cf clustering backend utils build cell override satisfied multiple terms backend make clustering sasicfmd column family store instance lt build deletion timestamp simple expression row satisfied true finish schema loader nio arrays concurrent expected expressions regular plan satisfied row lower prefix expression age bound add cell sensor partition key tombstone row false op sasi exclusions backend
src.java.org.apache.cassandra.locator.IEndpointSnitch
determine location node datacenter relative give node node rack representing rack endpoint belongs representing datacenter endpoint belongs sorted proximity method sort proximity compares endpoints relation target called gossiper instance exists immediately starts range query query merged faster sequential addresses sorted proximity locator gossiper starting collection iendpoint snitch unsorted address net sort proximity merged compare endpoints datacenter util worth merging range query address rack endpoint target inet address
src.java.org.apache.cassandra.cql3.statements.DropTableStatement
validated invalid request target statements check access schema altering statement base table id announce migration column family access drop table statement schema change query state client state id transport schema keyspace metadata change reject drop service permission views drop instance state message builder exists table view nullable ksm keyspace metadata builder schema view metadata local announce table drop format migration manager auth dropped table unauthorized validate cql append table metadata metadata keyspace view column family query state configuration cf event def
src.java.org.apache.cassandra.serializers.AbstractTextSerializer
generates cql literal generate literals single quotes utils charset marshal replace text serializer buffer override lang serializer serializers cql literal charset serialize nio buffer util buffer deserialize character coding commons utils hex
src.java.org.apache.cassandra.utils.WrappedRunnable
google run throwables utils runnable base propagate common run wrapped runnable
tools.stress.src.org.apache.cassandra.stress.operations.predefined.CqlCounterGetter
operations build run op query parameters cql run op wrap collections cql counter getter buffer query override table predefined cql run op empty generator params integer client wrapper partition generator nio build query counter read cql operation timer util singleton command stress key report generate seed manager stress wrap quotes timer client query id seed manager
src.java.org.apache.cassandra.locator.SimpleSeedProvider
dd bark end trim locator unknown host collections conf seed provider logger config parameters length seeds load config split seedprovider logger config util host add database descriptor net error warn unmodifiable array logger slfj seeds hosts inet address logger factory simple seed provider
src.java.org.apache.cassandra.index.sasi.plan.Operation
recursive checks based data lower level members bubbling results back top level work comment local assigned operation call address xyz street il city country evaluation level expression pull results children level level evaluated refers child level level requests results level level logical result back level bubbling level computes result level computes result level level results current cluster row cluster row row current missing columns columns true give row satisfied expressions false expressions indexes result local check expression analyzed figure columns give row match based current operation algorithm expression column apply method figure apply logical operation accumulator current result false operation expressions evaluated resulting accumulator operation age row compare true accumulator current true expression compare true accumulator accumulator current compare true accumulator accumulator current accumulator true satisfied current cluster row cluster row row current missing columns columns true give row satisfied analyzed false column multiple expressions effectively comment split eq eq eq situation check expressions hit end filter loop starts end makes condition condition checking single expression column filter operation inverse match flag check negative inverse positive hit match column exit early single sort expressions operation priority logical efficient handle inequality combining ranges extra converting expressions multiple expressions text text text interpreted split point made independent expression multiple eq eq operations met single expression expressions lowest combines bounds single iff operation group forced separate combined range iff operator operation wrap related fact accept columns key range left child produced indexed happen key range key child produced indexed key analyze group lte left op collections buffer expressions disk row cql indexes row filter skip expressions add op columns release indexes gt db util key token io key validator illegal state range intersection iterator neq array column collect token common operator operation cmp google unfiltered visible operator result complete iterables close operation index column metadata matches eq multimap analyzed kind suppress warnings builder analyzer query controller eq multi expression idx column analyzer filter range op size perform skip missing column current cluster satisfied apply partition key left indexes fb utilities op rows filters analyzed expressions collection duplicate integer op annotations schema sort gte controller match operation add expression reset kind join indexes compute local satisfied suffix column index analyzer end data token compare conf priority utils column index io index range iterator array multimap missing columns lt empty build index nio compare plan satisfied range union iterator left error side prefix sasi builder expression row row side left
test.unit.org.apache.cassandra.utils.NanoTimeToCurrentTimeMillisTest
utils system ii timestamp ordering sleep converted nano time math nano time current time millis fb utilities junit true thread max update max diff windows convert nanos nano time current time millis current time millis converted
src.java.org.apache.cassandra.db.Mutation
todo convert builder pattern encouraging mutable todo remove restore regenerate mutations column family id mutations column time mutation track mutation started waiting mv partition adds partition update local assumes updates table partition update update partition update append modifications mutation illegal argument partition update duplicate table passed developer creates mutation merges provided mutations mutations merge mutation keyspace partition mutation modifications illegal argument mutations keyspace equivalent calling applies keyspace obtained calling creates simple mutuation keyspace keyspace mutation partition key key partition mutation newly created building mutations geared generally performance matters convenient build mutation constructor performance utmost timestamp additions builder derived timestamp timestamp timestamp time microseconds ttl additions builder derived note method called column addition ttl row ttl ttl ttl ttl adds update table identified provided metadata builder metadata metadata table add builder partition identified partition key mutation adds update table identified provided builder table table add builder partition identified partition key mutation build mutation represented built serialize modifications mutation cdc remote keyspace collections atomic ttl math serialization helper serialized size simple builder add smallest gcgs iversioned serializer atomic mutation builder write unsigned vint mutation buffer util max db util key verb io updates gcgs tracked cdc partitions modifications deserialize simple builders forward commons remove merge apply future singleton completable future upd keyspace array cfm version data output table system read unsigned vint table ids apply lang created flag verb mutation net metadata sizes data input simple builder decorated key droppable partition update key apply unsafe table ids partition updates message current time millis keyspace hex messaging service singleton metadata partition update serialize entry mutations put table id mutation entry table open size rows table metadata pu collection params cdc enabled integer prev dk schema imutation sizeof unsigned vint builder shallow keyspace flag partition key view lock acquire start write rpc timeout copy updated tables join timeout illegal argument table metadata utils partitioner io key id gc grace min message instance forward empty append timestamp cfnames schema config buff mutation serializer update concurrent durable writes build database descriptor add clear table id entry utils serializer
src.java.org.apache.cassandra.cql3.selection.ColumnFilterFactory
factory fact depending selection clause computed prepartion time requested columns computed execution instance selectors selectors instance fetch column restriction apply creates instance table table factories ordering columns columns pk restricted columns primary key columns resticted fetch column restriction apply factory precomputed factory computed fetch column restriction apply selection selected columns column filter override table selector factories regular columns builder factories table metadata column metadata selector build precomputed column filter column filter size selector factories schema add fetched columns ordering columns instance builder db util cql pk restricted columns add column filter factory builder selectors filter columns request column filter factory fetched columns wildcard
src.java.org.apache.cassandra.metrics.ClientRequestMetrics
metrics registry metrics metric timeouts latency metrics remove factory meter release metrics client request metrics codahale unavailables failures meter scope
tools.stress.src.org.apache.cassandra.stress.settings.OptionEnumProbabilities
options user ratios options override opt matcher option simple opt add opt matcher ratios opt option parse util option ratios option multi stress lower universe array description put user options option probabilities
src.java.org.apache.cassandra.cql3.functions.UDFContextImpl
keyspace metadata codec utils cql cql parser db put codec udf context impl functions cql illegal state user user column identifier tuple tuple udt datastax size optional cql definition schema core num udt udt udt buffer util data driver keyspace metadata udf context util driver codec tuple tuple udt parse tuple tuple udt data illegal argument length codec codecs marshal ud helper
test.unit.org.apache.cassandra.db.commitlog.CommitLogReaderTest
skip incorrect segments due id mismatch confirm correct count reading mid overflow skip incorrect segments due id mismatch confirm correct count table mixed ignore updates table configured offset integer offset count expect accept offset active written data halfway point reset unsafe read midpoint results jvm stability inspector commit log location killer clr handler add samples cell mutations desc junit commit log read handler db util read io commit log reader cql partitions execute stop error check array ignore populate data entry count throwable dir result fail open column metadata table reader metadata midpoint offset replace killer check skip segment error read count keyspace force blocking flush current table row column partition update commit failure policy cd confirm read order mutation array config size rows mutations table metadata pu column identifier expected integer entry location schema files handler keyspace mutation count commit log position read commit log segment handle unrecoverable error commit log descriptor commit log reader commit log read current table metadata read midpoint utils directory io read count handler current position cql tester column family store instance files handle mutation commit log commit logs config true commit failure policy database descriptor read count midpoint file commitlog
src.java.org.apache.cassandra.cql3.AssignmentTestable
assigned provided expected expected assignable caller call method functions decide precise overload pick multiple elements exact exact weakly exact match rt collection assignment testable assignment column specification weakly assignable assignable util cql result exact match keyspace receiver assignable
src.java.org.apache.cassandra.tools.nodetool.Join
google join ring nodetool probe airlift node probe io override joined tools preconditions node tool airline join description runtime node tool cmd base io check state execute common command
src.java.org.apache.cassandra.io.sstable.metadata.MetadataComponent
metadata component component table metadata serialized metadata component metadata component comparable metadata sstable io compare metadata
test.unit.org.apache.cassandra.metrics.BatchMetricsTest
decaying buckets exact statements distinct partitions runner partitions logged batch cluster session connect io batch statement logged service keyspace partitions batch count pre port unlogged partitions batch logged start batch metrics instance add transport port build max table datastax schema config junit configuration true core prepared statement schema loader partitions unlogged batch driver metrics framework snapshot batch run database descriptor cql add contact point builder execute logged partitions batch prepare statements partition bind setup unlogged batch ordered junit runner cluster count session embedded service execute batch io schema clear
src.java.org.apache.cassandra.service.AbstractWriteResponseHandler
responses expirations occured deciding ideal cl delegate write reponse handler possibly track ideal consistency level null ideal cl awrh delegate ideal cl awrh ideal consistency callback callback called write pretty race exiting await acks count avoid sending confusing info user delegate ideal cl write response note ideal cl requested cl logs response processing related write response cl call subclass completed subclass instance queried find cl ideal cl message handler consistency decrement delegate full loop back branch ideal cl delegate ideal write handler ideal cl delegate ideal cl requested cl matched ideal cl reuse delegate track expired minimum number endpoints include pending endpoints fail consistency guarantees total number endpoints request true message counts number responses null message local decrement counter hits check ideal consistency level write response reached condition signaled valid proxy cl failure reason endpoint failures updater ideal cl delegate atomic ideal cl response handler responses expirations write failed ideal cl logger runnable db util condition write failure success signal ack count logger total block common timeout inet address supports back pressure write timeout write response handler google simple condition system iterables message counter write rpc timeout failure reason collect total endpoints net run nanos waiting atomic integer field updater pending endpoints filter keyspace blocked log response ideal cl delegate decremented updater put collection consistency level size service atomic integer natural endpoints signaled request failure reason msg metric query start nano time write decrement response expired handler iasync callback failure write rpc timeout current timeout request timeout time unit logger factory utils counter override write failure supports back pressure alive logger block unavailable increment interrupted nano time config concurrent trace signal await add nano concurrent database descriptor expired response concat error decrement keyspace assure sufficient live nodes nanoseconds ideal cl write latency callback slfj consistency level acks failures milliseconds
test.unit.org.apache.cassandra.cql3.validation.operations.AlterTest
flush discarded alter flush discarded alter column largest timestmap flush discarded alter migrated thrown alter keyspace dc option replication alter created keyspace make alter works clean thrown altering keyspace invalid dc option replication keyspace expected dc modifying mix valid modifying bug migrated migrated checks dropping column sstable data works similarly checks empty rows queries compaction operations alter keyspace multiple instances dc syntax row compact syntax cfs message downgrade compact junit keyspace format alter keyspace option configuration drop add cql alter table execute invalid alter keyspaces schema change metadata table flush fail change strategy unquoted agrument max index interval stmts table drop timestamp drop multiple timestamp invalid syntax message configuration rows stmt alter column behavior flush throwable drop add configuration tables keyspace keyspace current table min index interval open schema keyspace add schema keyspace drop params alter table compression schema flush insert error msg keyspace column family store data center alter stmt invalid rows ignoring order extra cql tester column family store alter alter index interval drop timestamp empty db schema constants add alter statement add alter drop empty table lang alter keyspace nts accepts configured data center drop validation
test.unit.org.apache.cassandra.db.RecoveryManagerTruncateTest
truncate add single make data truncate validate context clustering cmd reset unsafe parameters runner standard cfmd encryption context build cf standar keyspac collections snappy compressor io commit log compression open cfs simple lz compressor instance column family store column family store collection prepare server util encryption context add run commit log size config junit configuration true row update builder deflate compressor schema loader empty arrays db recovery manager truncate compress parameterized util encryption context apply unsafe io keyspace params database descriptor security runners keyspace generate data parameterized truncate blocking commit log compression define schema empty unfiltered keyspace metadata disabled context keyspace commitlog schema truncate encryption context generator
src.java.org.apache.cassandra.utils.NanoTimeToCurrentTimeMillis
convert nanotime current time beware weaker ordering pull timestamp nanoseconds faster calling issue scalable moving timestamps order tick linux scheduled executors utils system scheduled fast tasks update timestamp update interval config nano time math submit nano time current time millis config update timestamp base max util concurrent timestamp update interval property millis convert nanoseconds schedule fixed delay current time millis milliseconds time unit timestamp base property prefix timestamp base
src.java.org.apache.cassandra.db.ReadRepairVerbHandler
messaging service payload read repair verb handler message write response verb db message instance message id mutation apply net send reply iverb handler
src.java.org.apache.cassandra.db.marshal.TupleType
essentially primarily meant pack multiple friendly handle handle trailing split tuple component size null error represent escape generated split input represent extending components removing extending components removing iterator compatible internal iterator escaped colon pat buffer duplicated field syntax size instance tt parser source add read protocol version input freeze remaining buffer util matcher db tuple util replace escaped pat compatible cql serializer iterator tuple serializer array cq collect common fields cmp put google pattern decode json freeze json escaped result protocol version transport remaining field serializers serializers tprev comparison code buffer colon allocate previous configuration term terms total length colon pat component base field references user size collectors put fld composite marshal invalid request null marshal build custom size regex serializer read tuple copy range duplicate compatible pat builder append simple tuple match collection serializer comparator stringify parameters tnew compile json bb bb compare stream utils parser cq tuples override escaped colon parsed constants format field split rewind parameters nio arrays json sb references duration delayed element components compare custom serializer
src.java.org.apache.cassandra.utils.AsymmetricOrdering
maximum index ceil maximum index higher minimum index lower minimum index floor search sorted search key operand operator makes behaviour strict strict lower google asymmetric ordering binary search asymmetric ordering search utils compare ceil nicoulaj ub reversed search net size annotations higher compare asymmetric floor compilecommand util select boundary inline illegal state op lb reverse collect strictness common op left
src.java.org.apache.cassandra.dht.ComparableObjectToken
access reside dht size unsupported operation increase slightly token override comparable code dht suppress warnings format comparable token token obj illegal argument simple token compare serial version uid
tools.stress.src.org.apache.cassandra.stress.generate.TokenRangeIterator
race add queue bad consequence fine ultimately permits determine stop wrap split evenly exhausted token ranges wrap poll split ranges token range ret empty datastax core driver split factor token range update util concurrent stress token range iterator concurrent linked queue generate stress add range pending ranges tree
src.java.org.apache.cassandra.utils.streamhist.HistogramDataConsumer
exists avoid boxing primitive integers consume point utils histogram data consumer streamhist
src.java.org.apache.cassandra.schema.Indexes
backwards instance index metadata target columns enforced factory internal datastructures relaxed support added multiple target columns indexes index index empty index optional answer true index index true index false index id uuid identifies empty index id optional answer true index id uuid identifies true index id false secondary indexes instance provided index creates secondary indexes instance index provided creates secondary indexes instance updated index index check duplicated time reason schema altering statements remove google index root stream present accepted indexes override index index iterables table code id index keyspace metadata table metadata immutable indexes instance add empty build ksm size optional keyspace metadata configuration key schema existing index format existing builder indexes id iterator index metadata util nullable validate replace illegal state index lang uuid stream builder cf put indexes filter collect common iterator schema base iterable
test.unit.org.apache.cassandra.dht.SplitterTest
tokens split evenly dont full difference small maximum token random split vnodes murmur partitioner range size collections generate local ranges big decimal token add junit intersection random split vnodes murmur partitioner util token intersection splitter token array random random split vnodes split individual ranges fail bdb sum bdi boundaries rf splitter intersections math splitter sum ipartitioner range subtract big integer range local ranges random partitioner divide local tokens size random split vnodes random partitioner start split ranges sort tokens delta murmur partitioner splits balanced minimum token num tokens random partitioner end format parts dht true random tokens round half random split vnodes random partitioner random split vnodes partitioner compare left
src.java.org.apache.cassandra.db.marshal.TimeType
nanosecond resolution time compatible internal protocol version marshal cq cast buffer time override parsed transport order serializer serializers source comparison nano day instance protocol version cq constants utc term nio format buffer time db json zone id zone offset simple cql serializer exc deserialize time serializer time decompose time json marshal temporal local time
src.java.org.apache.cassandra.io.util.ChecksummedRebufferer
chunk reader closed align buffer checksums computed chunks buffer size simple chunk reader heap utils channel proxy corrupt file aligned position io capacity override close checksum validator size buffer util seek buffer holder source remaining channel desired position suppress warnings file path buffer compress util buffer managing rebufferer io offset validate array buffer chunk size validator checksummed rebufferer position read chunk data integrity metadata rebuffer
src.java.org.apache.cassandra.db.view.ViewUpdateGenerator
creates updates apply view existing rows table updates applying handles single partition passing updates made base table calling updates handled resulting view reused internally build update action perform view base view entry entry entry entry update modifies entry creates view view building updates base partition key partition key base table partition handle updates sec current time decide data live base reference adds generator updates made view base table existing base row base table row merged base row base table row update applied resulting updates view base table passed updates clears current state generator compute action performed view base table existing empty insert brand entry update note base pk columns differ intrinsically base check clustering happen compact column part base pk view changed merged base row match view select view entry necessarily pre post note existing base row null treat empty update modified cells worth creates view entry provided base method checks base row match view filter applying make matches view base table column denormalized part view pk account creates updates apply existing view entry base table row assuming update changed view entry row correspond columns composing view pk method checks base row match view filter applying existing base row merged base row view match view pk liveness row deletion change condition additions practice fast compute info check changed add view update cells merged base row differs speed cell pointer touched existing base row merged base row including cells strictly code change pointer work slightly inefficiency fix alternatively bit bit efficient allocates called lot time view lot code diff base table column denormalized part view pk account find data column existing find cell existing note eliminated merged deletes view entry provided base method checks base row match view filter deleting make matching view filter computes partition key clustering view setup row builder assumes partition key clustering null eliminated compute timestamp makes sense bigger timestamp view pk complex maintain consistency base entry exist base row exists columns view columns base view pks view entry base row view entry expire base row ttl max column base pk view pk slightly adapt column lives entry expires deleted entry expiration view irregarding table primary key materialized view mv select null null null primary key insert ttl update row exist mv enforced delete row row entry timestamp shadowable make deletion deletes entry entry show bigger timestamp found existing row column included view problem entry ensure timestamp entry bigger bug separate ticket finish building updated view entry add reach adding empty row costs prudent columns view updated row updated rely sane npe null bug iterator partition key compact table buffer ttl partition key columns cell complex data merged cell base table metadata base pk columns view pk base column add cell live expiration time existing base row build timestamp db delete entry internal util cell path comparator sorted builder dt local deletion time update entry partitions cell generate view updates definition view update generator expiration time collect entry common entry add base table update update action view clustering cell google update existing peek clustering btree row base liveness complex deletion row merged complex data liveness info column metadata iterators existing iter peeking iterator primary key column compute liveness info entry supersedes metadata clustering math complex column data complex merged live data builder decorated key update extract key components base row matches view filter includes submit update pk column add column data key cmp marshal row existing cell partition update base partition key put deletion path existing live data updated column partition key add primary key liveness info size view metadata rows table metadata add row deletion existing data collection peeking iterator schema row existing cells entry add cell partition key clustering max timestamp kind base table data cells merged base row view column local expiration time clustering columns table metadata base table cell decorate key compare view column primary key columns existing complex data current view entry partition key raw key deletion time regular columns start update delete update action schema base column make id instance empty split deletion partition key merged data shadowable add complex deletion composite nio max primary key liveness info delete entry base decorated key compute timestamp entry deletion make current partition key data current view entry builder view sec clear base metadata partitioner column data live data compare position updates
tools.stress.src.org.apache.cassandra.stress.generate.DistributionFixed
stress inverse cum prob seed override seed distribution fixed key cum prob distribution generate
test.unit.org.apache.cassandra.schema.MigrationManagerTest
adding make add remove read write flush exercise hitting make put write force verify files exist write verify files reads write force verify files exist write reads fail write exist cf empty read write keyspace serve keyspace cf cf meta data cf cf meta data ksm updating fields cf meta data cfm valid back changing reconciler check cumulative change cfm blown change cfm blown change cfm blown change cf cfm blwon cf change cfm blown persist keyspace definition system insert save sstable descriptor make marked delete drop iterator present component existing buffer supplier filename bad row add table immutable index manager lifecycle transaction empty null junit columns timestamp micros composite index cfmd directories db util replication live tables compaction add partition key column cql execute internal desc table cf success locator define schema add index def metadata valid collect common add clustering column throwable add column null tabl tables google empty keyspace exists table announce keyspace drop meta spin cfs tabl ei run descriptor column metadata read repair chance cfm files scts start gossiper make keyspace mutation configuration drop unflushed rows builder table metadata builder descriptor schema keyspace replication params apply unsafe query processor announce keyspace update keyspace put ordered junit runner sstable force blocking flush marshal lambda comment column update keyspace drop simple drop cf standard cfmd cf replace keyspac keyspac keyspac wrap table open fb utilities size keyspace metadata rows backing table table metadata path column identifier params expected add cf bogus keyspace ut store schema function empty add cf index announce table drop replication announce table compaction params drop index index metadata add table keyspace column family store announce table update indexes untyped result prepare server add remove regular column wait deletions index keyspace metadata interned regular column network topology strategy threw directories file remove index def runner utils unbuild tables io announce keyspace data gc grace migration manager format cql tester column family store invalid indexes util instance valid tabl build nullable index cfs schema true schema loader nio invalid migration manager schema constants keyspace params txn err lifecycle sstable lister error keyspace builder add regular column ends klass file fetched false original
src.java.org.apache.cassandra.db.monitoring.MonitorableImpl
setter ugly construction chain require passing parameters specializing serializers accept message monitorable impl abort monitorable complete check add failed operation monitoring slow monitoring state add slow operation state approximate time cross node completed monitoring task construction time timeout monitoring time db elapsed aborted slow timeout progress progress current time millis aborted completed
test.unit.org.apache.cassandra.cql3.SimpleQueryTest
reversed reversed reversed issue distinct testndary indexes table clustering table reverse clustering order collection deletion flush row compact storage update null row deletion testndary index bug cql tester limit multiget expected table clustering junit empty rows range tombstones table large partition restriction regular column column present compact tables cql expected reverse table clustering distinct execute simple query columns dynamic compact tables table throwable row filtering column invalid
src.java.org.apache.cassandra.io.util.DataInputPlus
extension data input support reading hard opting unsigned bite pass sentinel negative risk worth save fan unsigned protocols skips requested number eof number number wrapper input stream buffering decode utils skip fully input stream read unsigned vint io vint coding data input stream read vint data input skip skipped vint data input util data input stream io eof
src.java.org.apache.cassandra.transport.messages.ExecuteMessage
prefix bound index avoid collission builder keys due multiple bound custom query handlers interested bound provide wrapping execute bound jvm stability inspector query state instance immutable uuid gen read protocol version write consistency level column specification dest size consistency level util cql trace query netty execute uuid collect common tracing requested metadata google execute message result parsed statement client state transport tracing id size skip metadata state version cq cql statement body page size tracing builder cql literal query options prepare tracing error message messages length statement id buf message options statements md digest prepared stop session wrap size service size prepared query found prepared decode handler time uuid statement encode integer response query start nano time tracing id add column specifications raw cql statement msg bound bound client address write inspect throwable builder rows utils result message substring override skip metadata codec io protocol version cb util id tracing session write codec build custom payload begin buffer put request prepared query options serial consistency response consistency query handler encoded size cql query handler protocol prepare tracing session process prepared
src.java.org.apache.cassandra.cql3.statements.RequestValidations
utility methods perform request checks expression expression expression message error invalid request expression checks expression expression expression message template template build error message message invalid request expression checks message error invalid request checks expected elements expected message error invalid request checks expression expression expression message template template build error message message invalid request expression checks expression expression expression message error invalid request expression checks message template template build error message message invalid request checks bind marker meaningful message template template build error message message invalid request bind marker meaningful checks message template template build error message message invalid request checks message error invalid request message template template build error message message instantiated invalid request statements utils expected elements check duplicates message template check false buffer array utils check null lang message copy message empty request validations check check true size nio buffer util util cql unset buffer check bind array empty array commons check null remove invalid request expression format
src.java.org.apache.cassandra.cql3.selection.SelectionColumnMapping
separately maintains column specifications columns receive null occurs query includes column specification count queries functions functions arguments record mutable copy add extra ordering selection stream multimap add entry put google put simple column definitions key selection column column column specifications col spec array column metadata code add column specifications selection columns multimaps col def columns schema column specification unmodifiable multimap util base def cql obj multimap collectors column array collect common entry iterable joining
src.java.org.apache.cassandra.streaming.compress.CompressedStreamReader
stream reader reads streamed compressed table reading remote sstable rte local write channel remain streams top schema dropped skip beginning section inside report total compressed chunks read sum chunks calculate total length transferring present plan id progress info session stream session read direction total compressed read write partition writer logger section length format read db util io chunks stream deserializer chunk channels logger file seq num common debug throwable google chunk streaming compression info cfs input stream total size filename table multi writer crc check chance progress size metadata filename pretty memory suppress warnings file message header base peer table compressed stream reader keyspace length deserializer input version channels header extract io fb utilities throwables compressed input stream pair sections stream reader exists pending repair column family store reset cis compression metadata cr logger factory messages utils override abort tracked input stream io section idx logger writer checksum sstable readable channel compression info channel nio trace compress propagate warn repaired header slfj partition key table id position section left
src.java.org.apache.cassandra.exceptions.RequestValidationException
code code msg throwable request validation
test.unit.org.apache.cassandra.hints.HintsReaderTest
hints reader iterator base timestamp db session buffer row files hint writer hints reader add null tb junit hints writer dk buffer util session file util framework io uuid iterator define schema collect common clean page dropped table read google system num normal read iterables append index cell mutation reader key partition updates keyspace current time millis session row num table simple standard cfmd random uuid cell mutation read hints table open size clustering rows table metadata temp directory schema generate hints allocate direct announce table drop prepare server hints row update builder cells creation time hints descriptor descriptor table metadata time unit delete file hint utils io mutation micros util instance build timestamp cf standar cf standar schema schema loader nio hints iterator buffer migration manager concurrent keyspace params file utils page file file directory milliseconds
src.java.org.apache.cassandra.index.sasi.analyzer.filter.FilterPipelineExecutor
executes linked pipeline tasks serially output executed process result logger filter pipeline executor index initial input logger analyzer task generic task ptr info filter pipeline task execute task filter logger slfj logger factory sasi
src.java.org.apache.cassandra.db.monitoring.MonitoringTask
task monitoring progress read aborting time log timed log queries defines interval reporting operations timed defines maximum number unique timed queries reported negative number remove wrapper queue increment counter exceed queue max operations logging queue negative queue operations bounded unbounded depending fail add operation queue increment reset queue add operation increment dropped operation operations logging operations operations aggregated counter dropped aggregated convert aggregated operations log message includes information operations wrapper operation failed reported operation multiple aggregate number times operation query reported store min operation reported slow timed number times operation reported total time spent operation maximum time spent operation minimum time spent operation select query lazily time build query cql operation timed operation reported log messages operations existing collections atomic add slow operation math log failed operations add failed operation slow operations minutes log message atomic logger max timedout operations db elapsed util failed operations queue max time num times reported schedule fixed delay logger common timeout debug operation cross node google visible system parse debug enabled num operation report interval millis append log slow operations min time max operations ret scheduled tasks spam logger slow operations failed operation approximate time line separator monitoring task reporting task empty num dropped num dropped operations add operation max operations slow timeout aggregated operations current time millis queue length array blocking queue linked blocking queue failed put monitorable cancel poll config size report interval add integer annotations offer builder warn operations queue pop operations info property slow operation time unit logger factory scheduled executors utils logger spam logger failed operations monitoring min make format instance empty split log time config blocking queue total time construction time slow operations queue arrays log operations concurrent failed operations lang max increment slfj scheduled future property prefix milliseconds
test.unit.org.apache.cassandra.locator.NetworkTopologyStrategyTest
localhost embedded query natural ensure localhost embedded query natural ensure dc tokens dc extra algorithm put nodes correct order required racks accept order replica copy older endpoints calculation algorithm preserve insertion order added endpoint replicas found endpoints check exhausted members racks dc check exhausted racks tracks racks replicas tracks endpoints skipped unique relax rack uniqueness append current result wind back found replicas skip checking run distinct add hosts skipped past equivalence natural endpoints iterator datacenter racks daemon initialization linked nodes ep math immutable add logger calculate endpoints junit storage service format update normal token dc util datacenter endpoints token endpoint io topology network topology snitch iterator array random logger token common debug inet address configuration keyspace rack google racks network topology strategy endpoint ip racks dc unknown host random racks config options dc racks multimap collect sum rf rc search token net metadata key token datacenter dce run calculate natural endpoints nts vnodes dc endpoints address properties topology dcs logger factory actual collectors put key length sorted tokens order preserving partitioner network topology strategy update normal tokens rand entry pos locator token dc replication entry ep rack size service endpoints endpoint snitch collection strategy expected integer topology random token system tokens skipped dc endpoints setup dd replication factor nodes murmur partitioner token iter add err rack inferring snitch node rack token metadata meta endpoints properties empty dc token token factory partitioner unsafe stream multimap racks io large cluster logger runs populate dc min property file snitch ep ep instance skipped empty generate snitch iendpoint snitch dht config node address dc replicas replicas token metadata ring iterator sufficient replicas snitch node dc total rf database descriptor endpoints differ skipped key slfj datacenters dummy tokens
src.java.org.apache.cassandra.utils.concurrent.Locks
enters monitor unsafe monitor exit unsafe monitor enter utils misc field monitor enter unsafe monitor exit sun field error unsafe reflect concurrent lang declared field accessible unsafe locks
src.java.org.apache.cassandra.gms.GossipDigestAck2VerbHandler
notify failure detector gossip digest ack verb handler notify failure detector gossip digest ack message endpoint state message remote ep state enabled gossiper id instance gms logger logger trace enabled payload trace endpoint state util iverb handler net apply state locally verb logger slfj inet address logger factory
src.java.org.apache.cassandra.cql3.functions.NativeAggregateFunction
base functions function db aggregate aggregate function aggregate function cql marshal
src.java.org.apache.cassandra.service.CacheServiceMBean
invalidate key invalidating row invalidate row bulk loading save row key execution attempting retrieve result task aborted interrupted thread thread invalidate key cache ccspis counter cache keys save row cache keys save key cache capacity mb execution row cache save period service invalidate counter cache counter cache capacity mb rcspis interrupted counter cache save period key cache keys save key cache save period row cache save period kcspis invalidate row cache key cache save period rckts kckts util concurrent cache service mbean counter cache save period counter cache keys save capacity save caches key cache keys save row cache capacity mb cckts row cache keys save
src.java.org.apache.cassandra.db.compaction.TimeWindowCompactionStrategy
transaction closed find fully expired included matter sstable compact standard compacting single sstable droppable ratio greater update highest window find lowest highest timestamps caller adjust group files similar max timestamp files pairs consisting file min left element bucket representation timestamp highest timestamp represent add sstable time bucket max timestamp rounded nearest window current make buckets sorted newest newest bucket min threshold minimum number sstables bucket max threshold maximum number sstables compact bucket trimmed bucket sstables current bucket min threshold choose tables limit max threshold newest stcs prioritize tables current bucket eligible stcs skip bucket max threshold maximum number sstables single compaction bucket trimmed max threshold newest trim largest sstables end meet transaction closed transaction closed checked compaction candidates min table size operation table length pairs fully expired tables collections compaction sstables window time unit filtered tables live highest window empty validate options maximal task logger immutable valid timestamp time units format max user defined task db update estimated compactions tasks util key compaction task window bounds millis compaction overlapping live tables difference table reader iterator compaction strategy array maximum compaction threshold compaction candidates remove logger window time size common debug upper timestamp key interesting iterable lower timestamp user defined google max threshold worth dropping tombstones size tiered compaction strategy options visible system bounds sstable window size minimum compaction threshold iterables remove table cfs collect stcs buckets estimated remaining tasks immutable add table configuration suppress warnings sort empty buckets expired table check frequency key tracker expired check convert logger factory timestamp expired tables days current time millis filter sstable uncompacting options tree txn singleton tasks lifecycle transaction put size candidate tables latest bucket time window compaction strategy options min threshold add collection disable tombstone compactions sstables tombstones filter suspect tables pair candidates annotations schema files stcs options background task size tiered compaction strategy pairs estimated remaining tasks stamp column family store copy compaction controller minutes max timestamp split output background tables min threshold bucket tombstone threshold option bucket high limit uncompacting tables time unit modifier stcs interesting bucket compaction task timestamp resolution multimap utils bucket low io max timestamp override logger buckets keys gc time window compaction strategy hours empty unchecked options compaction params sstable window unit expiring tables table trace max table compare interesting bucket max threshold concurrent singleton tombstone compaction interval option tables expired lifecycle timestamp millis option newest bucket add trim threshold min descending iterator table readers slfj modify size comparator milliseconds left
src.java.org.apache.cassandra.auth.PermissionsCacheMBean
retained backwards compatibility mbean removed major version auth permissions cache mbean auth cache mbean
src.java.org.apache.cassandra.io.compress.DeflateCompressor
specific options supported zlib half buffer half half buffer half assume output big prefer reset buffer heap initial compressed buffer length chunk length inflater inf data format put preferred buffer initial collections io override array array offset position zip uncompress compression options instance finish chunk len empty supported options icompressor output offset uncompress buffer supports remaining schema deflater max output length deflate compressor buffer nio buffer compress buffer input util concurrent finished deflater io len input compress buffer inflate thread local scratch buffer netty fast thread local compress array compression params inflater input length length input limit def thread local scratch buffer output deflate source len input offset array
src.java.org.apache.cassandra.locator.SimpleSnitch
simple endpoint snitch treats strategy order reads prefer single cache optimization avoid walking making endpoints ensures change original ordering guaranteed addresses address locator override net sort proximity compare endpoints datacenter endpoint snitch simple snitch rack util endpoint target inet address
test.unit.org.apache.cassandra.transport.ProtocolVersionTest
unsupported unsupported newer size comparisons greater fail forced protocol version transport decode smaller supported decode version protocol version supported versions greater null junit true max supported version smaller supported versions beta current protocol version unsupported protocol false
src.java.org.apache.cassandra.serializers.ListSerializer
interning received huge initialize size oom hand resize avoid put reasonable limit nulls element index serialized serialized index index serialized element null index exceeds selecting element slicing comparator unsupported operation deserialize protocol serialize concurrent instances buffer serialized databb transport remaining index serializer buffers serializers instance min serialized array serialize duplicate add version protocol version input size slice serialized math builder concurrent elements nio element count db compute absent marshal util concurrent serializer key sb validate append collection serializer read deserialize read collection size buffer underflow length element collection position element marshal validate protocol
src.java.org.apache.cassandra.db.transform.MoreContents
shared internal hidden provide db transform contents contents
test.unit.org.apache.cassandra.batchlog.BatchlogEndpointFilterTest
result random distinct alive random behavior google random bound matchers unknown host result batchlog batchlog manager junit matchers multimap immutable multimap endpoints collection endpoint filter build input net size junit hamcrest override valid item util select host local local rack local core matchers endpoints batchlog endpoint filter builder put endpoint filter filter collect common inet address selecthosts local racks select random hosts single rack
test.unit.org.apache.cassandra.cql3.UDHelperTest
validate uuid unsupported operation time uuid utils marshal wrap ascii empty variable length buffer date parsed decimal functions serializers ud helper instance time comparison custom source counter column junit true term nio buffer util uf custom db inet address instance json empty buffer simple simple date integer null empty cql serializer reversed ut emptiable ud helper timestamp compare false compare custom fail serializer empty primitive marshal
src.java.org.apache.cassandra.utils.btree.TreeCursor
supports basic operations moving forwards movement permit construct movement cognitive tree cursor avoid polluting wider makes methods spend time optimising compiler inlining methods primary move cursor item start true move false moves corrupt ensure start search move cursor forwards forwards direction false iff cursor exhausted direction step forwards inside find bounding descend directly seeks current forwards provided direction inferred required infinitely loop bad moves key naturally behaves ceil floor decide sequential node call seek node check irregardless leaf excluded consumed branch good move onwards moved presently cheaply check identity utilise places order provision matters asymmetric excluded failed match cheap correct order provision matters asymmetric correct bound ascend bound exact terminate find target rooted ensures leaf node seeked positioned moving parents permitted bounds move direction move leaf node null resets cursor seeks assume locality advantage current index subtree rooted exact branch compare global index forwards seek node utils bound advance branch child binary search key end parent relative index move leaf cmpbound btree leaf key end skip index bound iterator cur ensure valid location start child descend current advance leaf node boundary size seek match node tree cursor comparator arrays util size key btree global leaf index leaf reset descend child comparator node offset size node cursor length safe advance branch child root node fail position move root index bounds cmp
tools.stress.src.org.apache.cassandra.stress.settings.OptionSimple
parsing simple google pattern accept substring prefix collections format io override apply adapter append regex pattern pattern length param code display multi line display quote grouped options display prefix serializable builder happy function option simple empty option matches matcher insensitive required util required base ends present option stress matcher match prefix illegal argument description display compile common user sb
src.java.org.apache.cassandra.service.DigestMismatchException
suppress warnings digest mismatch nio service format decorated key utils db key digest buffer hex digest buffer util
src.java.org.apache.cassandra.schema.Functions
immutable ud ud functions stream stream collection aggregates provided function state function referree function overloads fully qualified function empty function collection find function fully qualified function function argument empty function optional compare representation fail udt reason field cql sequence fail comparing foo function bar par foo foo alter foo add alter foo alter alter foo rename functions instance provided function creates functions instance function provided argument deterministic iteration match iterator present udas diff find cql immutable multimap add aggregates function optional function db util difference illegal state iterator find collect iterable functions google udfs diff iterables difference code cq common builder ud aggregate code collectors put filter marshal reference size collection pair ud function schema function funs uda freeze stream fun stream udas utils override function functions format udfs build comparing comparator order arguments builder
src.java.org.apache.cassandra.schema.TableId
unique identifier essentially wrap bit code nicely code creates uuid system deterministically based table system tables hardcoded initialized node id replicated system keyspace uuid utils serialize commons uuid table id read io array utils table lang significant bits id serialized size significant bits data input code uuid gen time uuid schema uuid override buffer util system table system keyspace util schema constants io generate hex add uuid deserialize write data output keyspace id hex
src.java.org.apache.cassandra.tools.nodetool.SetCompactionThreshold
google nodetool probe airlift override node probe arguments io parse tools title preconditions minthreshold usage integer size node tool common description compaction threshold node tool cmd util base command lang execute compaction threshold array required maxthreshold check argument airline
test.unit.org.apache.cassandra.service.StorageServiceAccessor
service instance token metadata token metadata locator storage service accessor tmd token metadata unsafe storage service
test.unit.org.apache.cassandra.cache.CacheProviderTest
index collections buffer code digest singleton weigher instance thread partition cache add tm input null junit message digest runnable cached btree partition db util add partition key column partitions define schema array security schema metadata cfm digests system indexes serializing cache provider thread factory empty id caffeine id net size configuration kind run runtime ascii capacity generate table thread keyspace put current time millis cache provider length unshared heap size threads algorithm messaging service simple partition update keyspac table id wrap currentversion fb utilities rows table metadata start key schema measureable index metadata runnable serializing cache row cache serializer prepare server row update builder join weigher unfiltered iterator irow cache entry unfiltered row iterators build update keys ut imeasurable memory icache key key utils key key simple thread serializing cache interrupted indexes instance build concurrent cf standar true marshal schema loader nio keys update concurrent keyspace params start time github row cache key builder partition add regular column benmanes
src.java.org.apache.cassandra.streaming.SessionInfo
stream session immutable collection receiving summaries immutable collection sending current session state update progress progress progress total number files total number files total total total number files receive total number files send total receive total send size total sizes google total size received file utils peer sending summaries update progress streaming state total size completed io filter iterables stream session session info current files summaries files total files predicate total total files failed total size total files send apply direction collection state session index receiving files connecting net fb utilities total files completed serializable immutable concurrent total size progress summary completed sending files receiving files util concurrent base receiving summaries session summary copy total size send file input summary sending files stream summary progress info total files receive current put total size receive total files received progress collect direction common failed inet address broadcast address iterable
test.unit.org.apache.cassandra.db.commitlog.CommitLogDescriptorTest
context enabled tde options context enabled tde options assumption enabled tde options previously context enabled tde options assumption enabled tde options previously due operator changing migrated put extra data migrated migrated correct check enabled tde options disabled read commit log header happen real world compression functionality enabled real ensure encryption cipher messaging version collections buffer previously enabled encryption buf immutable input null junit compression encryption read db util io cl desc disabled context collect compression encryption common security null google encryption data input file data input result enabled tde options fail construct parameters compression encryption lz compressor write read header compression encryption allocate file pointer net configuration empty enabled encryption enabled encryption compression put encryption options write read header encryption header encryption disabled yaml parameterized versions descriptor persistence length encryption context enabled messaging service file currentversion compression json params integer write read header compression disaabled tde options encryption context generator descriptor invalid parameters size setup flip commit log descriptor descriptor write header array construct parameters compression encryption iv keyprovider io iv id transparent data encryption options config write read header compression encryption true nio buffer valid compress compression key encryption context cipher commit log descriptor keyalias construct parameters file segment input stream desc desc put read header write read header encryption header encryption enabled yaml false position commitlog
test.unit.org.apache.cassandra.utils.KillerForTests
responsible stubbing logic unit reset killed override fail utils killer quiet killer jvm stability inspector expect failure expected throwable kill current jvm killed quietly junit killed
src.java.org.apache.cassandra.io.sstable.format.Version
feature flags table versions denoted minor versions fields metadata fields size minor versions introduced version prior incremented major storage ver table true version matches max compressed length table format pattern version io override validate regex commit log lower bound compatible code version messaging version format matches matcher commit log intervals table format util compatible streaming pending repair version version latest version compile sstable validation ver
src.java.org.apache.cassandra.cql3.statements.CreateTableStatement
parsed cql query tree preserve ordering jdk versions validated note compact storage defined compact tables clustering single regular regular column part add specific empty recognize table metadata instance based parameters parsed table metadata instance parsed transform raw statement column family check ud collections nested remove column handle column handled rpimary key counter make dense back part column stores column compact storage clustering compound meant column composite compact storage compact storage clustering columns compact reject translate back thrift columns columns column pk columns make sense clustering give clustering explicitly aliases order table params compact storage column aliases tree compact table buffer query state aliases clustering pt system user clustering instance user key aliases add ksm empty key keyspace metadata change build cf properties created matches matcher add definition db auth util key generator unauthorized add partition key column empty cql pattern word resource cf array commons remove cq collect count common add clustering column params query state key event google pattern database descriptor counter columns multi cell parsed statement schema change lang client state transport collection permission compound compact state configuration local target runtime builder keyspace access stmt udts regular columns raw properties request validation announce migration request execution put field key keyspace length view client state cf marshal invalid request statements check access exists format schema altering statement entry parse authorizer user table statement table id table remove table params size regex cf statement keyspace metadata table metadata counters service cql dense prepared column identifier multicell columns reversed statement table ut add column schema reversed cql parser length iresource add column alias announce table defined ordering defined counter column grant permissions creator parse join authenticated user compile compact tables prepare keyspace applicable permissions columns column family raw statement def cq role resource raw exists table metadata data resource id time live grant column id multiset instance table statement role compact aliases multiset schema config add key aliases nio migration manager prepared schema constants udt definitions entry validate references duration element builder add regular column alias cql fragment parser prepare compare entry utils
src.java.org.apache.cassandra.db.compaction.writers.MajorLeveledCompactionWriter
txn expired tables lifecycle transaction leveled manifest level fanout size min repaired index manager row index entry current writer io data directory override sstables written rie cfs math originals max level rows estimated total keys comparator estimated disk written partition writers total append deprecated directories offline unfiltered row iterator max metadata make location disk table writer current level writer suppress warnings format metadata collector directories db sstable writer level fanout size total written current writer util total written level column family store compaction keys table indexes lifecycle serialization header table reader originals compaction location directories sstable directory location real append partitions written sstable average estimated keys table pending repair max table size estimated tables table descriptor round major leveled compaction writer compaction aware writer
src.java.org.apache.cassandra.streaming.StreamResultFuture
future result streaming groups streaming stream session created peer involved session handle streaming peer future result session completed session ended future attach listen track progress stream result constructor plan id stream plan stream operation stream session listen immediately result initialize start reason stream result future receiving side jmx current snapshot streaming delegate plan id total size receive progress info session stream session initiate receiving side stream sessions init attach connection logger receiving stream description listener register receiving io total size send update progress stream uuid incoming streaming connection logger fire stream event common inet address connection factory stream operation google streaming session info connect session info stream operation event failed session code version progress net stream state stream event handler session complete event pretty memory futures stream result future current state socket total files receive connection table levels add callback handle session prepared active sessions session id peer progress event stream manager complete event listeners fb utilities total files send add collection receiving handler inet address warn add session info pending repair state info handle session complete listeners future preview kind logger factory register session info utils stream coordinator coordinator stream event io override logger concurrent linked queue session info init receiving side handle stream event outgoing instance session index add event listener future concurrent preview kind util table level session prepared event register slfj handle progress
test.unit.org.apache.cassandra.service.JoinTokenRingTest
secondary index manager join ring daemon initialization index pre join invocation io index service instance index manager stub index pre join invocation start gossiper config junit storage service configuration true schema loader db schema definition database descriptor prepare server io setup index exists join token ring column family store stub
src.java.org.apache.cassandra.utils.IFilter
places key array size amount memory amount memory ifilter shared closeable serialized size filter utils present dest concurrent add shared copy key close heap size filter key clear
test.unit.org.apache.cassandra.cql3.validation.entities.DateTypeTest
check dates correctly recognized migrated date execute validation cql tester entities table date throwable cql junit invalid
src.java.org.apache.cassandra.db.commitlog.IntervalSet
construct interval start end closed builder interval applying normalization adding data stored sorted interval starts add interval perform extend cover ranges record directly preceding end extend past max end record directly preceding start extend remove covered adjusted start end cover partially start falls span completely add floor entry google data output serialize entry build serializer put intervals immutable sorted io entry override sizeof code en empty comparable copy sorted serialized size tree upper bound key start add empty point serializer optional empty entry size ends sizes key suppress warnings read data input builder end db util key collection io navigable iserializer count ranges extend lower bound obj deserialize clear starts add collect range common compare write position commitlog lower entry interval
test.unit.org.apache.cassandra.hints.AlteredHints
base compressed encrypted explicitely seek page iterating collected page positions check hints match hints reader iterator base timestamp session buffer files write buffer size hint hint immutable writer add junit temp dir hints writer buffer util timestamp db file util multi flush deserialize uuid iterator define schema array collect common page dir checksummed data input google system append index reader deserialized input position idx hint num keyspace page positions current time millis keyspace session simple standard cfmd pos written altered hints mutation input table open size clustering table metadata uuid gen params time uuid expected table hints write executor schema legit allocate direct prepare server hints row update builder hints descriptor descriptor table metadata time unit write buffer linked hint utils io mutation hints buffer size seek micros seeked hint instance build schema true host id schema loader nio hints iterator hint offset session hints util concurrent keyspace params page checksummed data input file position milliseconds
test.unit.org.apache.cassandra.triggers.TriggerExecutorTest
iterator daemon initialization itrigger keyspace collections key trigger key cf row mutations trigger metadata row util buffer cell row iterator key column families add column cell unsorted builder key cf trigger junit timestamp micros dk buffer util db trigger mutations util add partition key column key cf partial trigger column partitions execute iterator array null cmp clustering rm single row update row iterator btree row empty key cf trigger rm fb utilities builder metadata trigger executor rm key cf column families partition op trigger key cf cf partition updates triggers key filter keyspace key row mutations make cf marshal row invalid request column partition update cf cell trigger executor mutation key cf partial row mutations size rows table metadata collection mutated live trigger expected ut schema sort imutation triggers add cell partition key setup dd row update builder augment unfiltered iterator cells unfiltered row iterators tmutations compare utils configuration key cf row mutations instance build config true comparator arrays update key row mutations key trigger singleton mutated cfs make table metadata database descriptor key cf column families row rm comparator builder partition add regular column compare
src.java.org.apache.cassandra.cql3.Relation
raw null raw null checks relation apply multiple relation apply multiple checks relation token relation relation token checks operator relation operator relation checks operator relation operator relation checks operator relation operator relation checks operator relation operator relation checks operator relation operator relation converts table column family meta bound variables specification collect bind invalid request creates eq restriction table table meta bound variables specification collect bind eq restriction invalid request relation converted eq creates restriction table table meta bound variables specification collect bind restriction invalid request relation converted creates slice restriction table table meta bound variables specification collect bind bound slice inclusive bound slice restriction invalid request creates restriction table table meta bound variables specification collect bind key restriction invalid request converts receivers columns raw raw term keyspace keyspace bound variables specification collect bind invalid request term converts terms receivers columns raws raw terms keyspace keyspace bound variables specification collect bind invalid request terms renames identifier identifier entities relation relation replaced invalid request eq statements restriction inclusive token raw terms operator table key restriction table metadata keyspace eq restriction column metadata lt request validations relation slice receivers schema variable specifications raws term gt end gte restriction column specification matches bound util restriction size lte cql eq restriction key restrictions term key start multi column terms array suffix bound bound raw invalid request relation add operator rename identifier prefix slice restriction restriction
test.unit.org.apache.cassandra.io.util.MmappedRegionsTest
quater make channel check access make channel copy extend channel proxy daemon initialization buffer compressed chunk writer write file snappy logger null sequential writer junit clustering comparator extend order metadata collector region region alloc size db empty file util framework temp file copy io mmapped regions max segment size chunk random chunk logger common null google exists chunk system close nano time capacity ret allocate compression metadata sstable metadata collector metadata compression metadata extend illegal illegal offset compressed sequential writer cleaned mmapped regions size small segment size absolute path region sstable length marshal illegal cf array size alloc regions duplicate expected empty schema setup dd negative extend shared copy info max segment size compression params illegal argument segments allocate buffer regions checked cast sequential writer option logger factory seed io primitives logger end floor write instance empty config channel true finish chunk length nio buffer valid compress delete exit database descriptor error channel copy slfj snapshot file false
src.java.org.apache.cassandra.tools.nodetool.GossipInfo
nodetool probe airlift system node probe io override tools gossip info node tool description node tool cmd command gossip info execute airline
test.unit.org.apache.cassandra.db.ColumnFamilyStoreTest
fix cfmd failing legacy table applying composite comparator partition verify deserialize data recent resets make flushing delete resurrect delted delete sstable verify breakage simulate insertion put fail deleted undetected make writes remains failing good repair windows ephemeral snapshots repair fail revert windows failed snapshot tracker counts repair skip previous row index fix working supercolumns key supercolumn subcolumn comparators keyspace cf buffer col keyspace keyspace column family store cfs decorated key key insert row supercolumn multiple entire supercolumn column family cf slice command passing subcolumns columns slice col slice read command cmd column family cf sliced make slice straight fix back fix back cf column family store cfs cf meta data cfmeta directories dir clear tables left calls entry component sanity existing tables existing tables tables unexpectedly buffer key table simple writer writer table writer hack reset writer generations descriptor start generation counter incremented incremental backups enabled avoid duplicate hardlinks incremental generations descriptor renamed generations filenames skipped end generations nuke metadata reload iterator existing sstables read histogram column buffer directory tables desc filename filtered partition util clear ephemeral snapshots add rename cell keys index cfmd null junit timestamp micros count buffer util format directories db util framework io force filter failures ref cql partitions cell table reader iterator table define schema cf cmd column family store iter tmp filename collect data file common operator throwable configuration keyspace rms google backups directory exists clearable histogram cf supe cf supe cfs run delete standard row sticks flush column metadata iterators delete row version tables wrapped runnable primary index metadata run fill index cf descriptor found clear snapshot eq apply unsafe check key keyspace truncate cfs filter keyspace length force blocking flush tables table files marshal row size truncate blocking simple standard cfmd cf keyspac ascii cf inde keyspac mutation snapshot details open fb utilities clustering row unfiltered rows val snapshot details include row live collection num rows assume true sstable lister pair metric schema stats backup flush assume keyspace col column family store prepare server row update builder scrub data directories cells descriptor regular column run release directories linked table format runner utils runnable empty row io ordered junit runner data scrub sstable big component column family store instance files build cf standar cf standar table true range count schema loader nio empty filter col metrics keyspace params txn err count lifecycle windows live tables scrub data directories column wrong bf time sorted query clear partition col snapshot file verify clear ephemeral snapshots write column family tmp data file
src.java.org.apache.cassandra.config.TransparentDataEncryptionOptions
great google visible key provider keyprovider ivlength chunklengthkb key alias parameters transparent data encryption options config annotations cipher key keyalias parameterized enabled remove base common
test.unit.org.apache.cassandra.io.util.NIODataInputStreamTest
action iteration iteration remaining unsupported operation read ch buffer math write validate corpus threw eof read vint buf init expected data output stream mark supported junit write unsigned vint write vint read fuzz dc data output buffer fixed util temp file io utf reset random unsigned common read line data input buffer dis google truncated min system write utf read vint small buffer read utf zz flush fail close nano time remaining slice capacity enrich fos read unsigned vint null rbc dst negative length read buffer daos array allocate negative offset read buffer max peek suppress warnings read dummy channel queue base offset limit null pointer rebuffering input stream actual start position read vint read length eof action expect eof null read buffer read unsigned slices simple read fully mark supported fake channel read unsigned vint channels put wrap array poll buffered data output stream fake stream vint truncation eof read skip nio data input stream read expected integer corpus threw array deque offer buffered data output stream channel data output stream read utf read nio data input stream copied reset iteration flip remaining random access file ch limit fuzz slice size ii override seed io primitives baos read line seek length big read buffer na min wrapped data output stream skipped empty max readable channel canonical read unsigned true read unsigned nio open unsigned integer array input stream data input stream array output stream charsets clear total read vint remaining file false position length offset big read buffer index bounds
src.java.org.apache.cassandra.tools.SSTableOfflineRelevel
decent leveling approach sort sstables original leveling token sstable size sstables dropped sorted token illustrate overlapping put start iterating smallest adding sstables overlap reconstruct original leveling add sstable remove sorted reach end sorted full start level end levels put levels exceeding expected original files put level overlap sstables metadata item levels highest level table metadata ref iterator collections columnfamily sstables filename math add sstable multimap metadata serializer format directories db ceil util key io table reader iterator level array mutate level approx expected levels remove collect schema throwable iterable google system cfs multimap comparator open init database descriptor exit reader rl max level common stream relevel decorated key descriptor base put leveling directories level key sstable length load disk entry tools size lister throwables integer log schema sort keyspace column family store leveling skip temporary dry run illegal argument descriptor table lister compare multimap io override data table offline relevel keyspace array multimap component column family store util instance empty multimap open tables max levels propagate txn err entry sstable lister sorted tables add table level relevel file compare directory
src.java.org.apache.cassandra.db.transform.BaseIterator
require stop signals reference base iterator transformations single signal result inconsistent stopping transformation stop child signals base iterator signalled applies end current signals current child iterator signalled moving signalled function call effect surprise responsibility initialising lies run run close method length contents close methods preceding apply relevant method transformation contents apply functions follow null contents transforming iterator data immediately contents refilling transformed swap internals ensure data partitionlevel deletion apply remaining functions truncating transformation stack occurring extend run prior run close apply functions signalled contents holder closeable iterator utils stack element stop prefix nicoulaj contents run close fail close refill transformation empty throwables stop transform fail contents provider input net apply annotations auto closeable compilecommand base iterator contents db util contents dont inline abstr holder transformation apply contents iterator stack merge length stop child copy throwable
test.unit.org.apache.cassandra.cql3.validation.miscellaneous.SSTablesIteratedTest
checking sstables access cql resets max sstables table tables tables merged slice tables merged checks clustering index filter partition range queries metric reason range queries scan tables data partition due pollute give wrong view reduce column index size columns indexed reduce column index size columns indexed reduce column index size columns indexed deleted skip deleted overlapping sstables asc overlapping sstables desc tables asc num tables cf format query clearable histogram num tables iterated deletion tables deletion indexed table asc flush query cfs metric rows deletion table cql tester ret table deletion overlapping indexed table max integer size config junit execute check keyspace override execute formatted query deletion mem table rows db miscellaneous current column family store metrics snapshot column family store deletion indexed table desc base database descriptor cql untyped result rows live tables tables desc execute idx single partition query delete range row clear mixed memtable sstables desc mixed memtable sstables asc tables iterated invalid message column index size sstables read histogram throwable validation multiple partitions desc disable compaction format
src.java.org.apache.cassandra.db.partitions.CachedPartition
partition stored partition note make clear partition number cached note number rows row deleted number row number rows live time partition number rows partition live time partition cached number live rows due expiring number rows cached partition note generally meaningful number row row cached partition order row biggest clustering partition row partition irow cache entry serializer cached btree partition partition cached partition row cache db row row count rows cache serializer io cached live rows rows expiring cells iserializer partitions
src.java.org.apache.cassandra.serializers.UserTypeSerializer
input fields declared support field size null fields utils entry marshal buffer entry override validate linked remaining serializer serializers field duplicate read input size remaining nio buffer util format util user serializer serializer fields key entry
src.java.org.apache.cassandra.index.sasi.disk.StaticTokenTreeBuilder
intended usage place multiple index segments produced stitched provided iterate data iteration builds tree leaves information build upper layers leaves store minimum maximum tokens total makes tree written disk layer point data iterated leaves reduces copying token building writing upper layers removes sorted combining relies memory sas greatly improving performance longer causing oo token tree sizes root leaf leaves written write layer tree converting partial leaf leaf iterating data skip token leaf tree single leaf empty root node denotes leaf token data denotes leaf filled data ready downcast safe leaf size unsupported operation leaf iterator serializable token tree builder buffer disk token iterator leaf add token leftmost leaf util token io leaf term iterator token count collect token entry common block google data output leaf index combined term leaf writeable leaf rightmost leaf iterators allocate leaf iterator suppress warnings largest token leaf size tree min token num blocks end data sorted serialize data rightmost parent interior node carrotsearch token serialize block buffer maximum size node minimum pair level iterator key position tokens flush buffer buf count leaf compute tokens block tree max token limit root utils smallest token partial leaf io override token count iterator min range iterator construct tree write empty hppc token tree builder combined term nio max data entry sasi offsets
src.java.org.apache.cassandra.tools.nodetool.SetCacheKeysToSave
google nodetool probe airlift node probe arguments io override tools cache keys save title preconditions usage integer size node tool airline cache keys save description node tool cmd util base command execute array required check argument common
src.java.org.apache.cassandra.hints.Hint
encapsulates hinted creation gc grace param table track hint creation exclude updates tables truncated result data track gc grace hints stay storage recording gc grace creation apply mutation risk resurrecting deleted tombstone compacted hint smallest current gcgs param affected table applying creation time gc current gcgs current gc hint expiration safely reduce gc tables worrying applied hint resurrect time hint creation smallest gc involved tables mutation hinted creation time time creation milliseconds mutation hinted creation time time creation milliseconds gcgs smallest gcgs tables involved time hint creation applies mutation filtering updates truncated filter partition update tables truncated ttl hint minimum gc time calculates safe apply hint risking resurrect deleted mutation deserialization hint hint instance chance gcgs table involved reduced hint creation impact correctness extra liveness check performed receiving null hint hint instance buffer allocation hint buffer instance chance gcgs table involved reduced hint creation impact correctness extra liveness check performed receiving null hint buffer instance system keyspace buffer ttl arraycopy math hint ttl serialized size hint iversioned serializer read fully live input expiration time max size write unsigned vint max db util io completed future gcgs deserialize apply future completable future common millis max hint ttl google data output system read unsigned vint table ids sizeof vint coding version mutation max header size sizes nullable data input base write read current time millis length deserialize live serialize skip fully hint buffer header table id mutation truncated wrap apply data input buffer size throwables integer schema hint creation time read serializer hints creation time checked cast time unit hint read buffer live utils sizeof unsigned vint io primitives id min vint smallest gcgs empty filtered nio concurrent propagate annotation integer serializer
src.java.org.apache.cassandra.cql3.VariableSpecifications
empty instance empty instance array length number partition key columns table array represents bind index marker holds partition key bind markers partition key null callers method ensure statements operate user partition key positions partition key override collections partition key columns specs size table metadata partition key bind indexes column metadata add column identifier cf spec empty schema variable specifications bind index column specification empty arrays variable target columns util cql target column specifications bind marker keyspace length position metadata
src.java.org.apache.cassandra.utils.btree.BTreeRemoval
remove present remove present reside leaf skip index key end node copy arraycopy keys count lb node prev node util leaf key end size remove size replace situ remove merge rotate left system node size result remove leaf btree node size index leaf elem swap copy key child removed copy key child inserted size find index copy node size left neighbour key offset rotate size leaves length btree removal extra left size pos leaf copy leaf key end size substract size start prev child count empty key end child index node copy key index comparator node key copy node child start utils binary search child size copy keys child branch key end neighbour empty child count node comparator arrays left neighbour end key minimal node size child end child index btree copy children copy size elem left
tools.stress.src.org.apache.cassandra.stress.settings.GroupedOptions
hands parameters option option group accepted pretty option google accept row io select builder merge description format multi line display param format immutable add params append grouped options groupings serializable happy option stream builder builder build format multi line util required optionss accepted option display option stress row option simple illegal argument options display collect length command common sb options grouping
src.java.org.apache.cassandra.utils.NoSpamLogger
logging limits log statement firing based time statement logger unique timer minimum time logging time subsequent attempt request statement minimum time result original time warning provided statement cached log directly read required common logger cached single concurrent lookup logger statement cached concurrent lookups levels programmatically severity log google min interval clock utils visible system clear wrapped loggers put absent atomic message time unit logger spam logger unit clock wrapped loggers nano time log statement atomic expected spam log statement annotations statement info level highscalelib error nanos util concurrent key error logger log info warn min interval nanos nanos temp level clear cliffc wrapped warn logger slfj message blocking common error time unit serial version uid compare
test.unit.org.apache.cassandra.cql3.ErrorCollectorTest
antlr tokens unexpected line position line line number token index character relative beginning line text unsupported operation stream antlr text input stream text mock token append snippet empty query channel position line query collector line append snippet line append snippet lines token index error collector expected line junit builder override token index append snippet invalid token channel token token index line cql input stream append snippet invalid token position line error collector builder offending input stream position line append snippet channel append snippet snippet lines runtime text
src.java.org.apache.cassandra.db.partitions.Partition
representation note storage engine works iterators avoid full response memory partition sparingly represent partition row partition informations including deletion row provided null iterator search specific rows unfiltered row iterator unfiltered row iterator selected provided clustering slices utils column filter clustering encoding stats rows partition level deletion table metadata search iterator regular columns row empty unfiltered row iterator columns metadata deletion time search iterator reversed partition decorated key stats partition key partitions slices unfiltered iterator filter db schema row
src.java.org.apache.cassandra.transport.messages.AuthenticateMessage
message server ready receive write authenticate message codec io override cb util transport authenticate decode dest version protocol version encode codec body buffer authenticator msg read netty encoded size size messages response buf message
src.java.org.apache.cassandra.cql3.functions.JavaUDF
base separate internal user provided references generated references back code remove generated remove generated remove generated remove generated remove generated remove generated remove generated small cdouble composeint codec composelong composedouble codec buffer protocol version cfloat transport functions compose composefloat bigint composebyte index params protocol version datastax ud function param execute aggregate impl core nio driver udf context util cql cint composeboolean execute impl composeshort deserialize cboolean tiny udf context remaining udf ud helper codecs decompose
src.java.org.apache.cassandra.tools.nodetool.HostStat
host stat endpoint host address nodetool host token resolve ip inet address net tools ip dns
src.java.org.apache.cassandra.service.pager.QueryPager
perform paging page essentially iterator call page page page size term cells term depending parameters command note pager page successive pages row columns guarantee empty false guaranteed trigger query fetches page size maximum number elements consistency consistency level achieve client state null serial page starts read called passed protect closed path strongly advised newly started order group fetches page internally local page size maximum number elements execution controller protecting page pager call fetch page pager maximum number row initial user limit minus limit current state state restart paging host current paging null paging pager result creates limits unsupported operation page size fetch page internal empty iterators query pager fetch page client state empty service exhausted data limits consistency level updated limit partitions empty query start nano time partition iterator state db paging state execution controller limits pager request validation max remaining request execution read execution controller partition filter consistency client state
tools.stress.src.org.apache.cassandra.stress.generate.values.UUIDs
uuid generator seed uui override instance generator config identity distribution db util generate stress uuid config marshal
src.java.org.apache.cassandra.db.ColumnFamilyStoreMBean
mbean column force major compaction column split output true output major compaction split force major compaction key range column minimum number sstables queue compaction kicks minimum number sstables queue compaction kicks maximum number sstables queue compaction kicks maximum maximum number tables queue compaction kicks maximum number sstables queue compaction kicks compaction parameters locally note alter compaction executed node options compaction options syntax alter compaction compaction parameters locally note alter compaction executed node options compaction options compression compression parameters locally opts crc check built column indexes current index filenames key filenames filenames key hex format key hex filenames scan data determine tables loaded load number tables leveled compaction sstable count null leveled compaction array index corresponds level sstable fanout size level compaction ratio droppable tombstones real columns size tables subdirectory live begin sampling specific sampler cardinality larger depending affect top items sampler begin local sampling compaction space check compaction space minimum compaction threshold token ranges crc check chance compaction parameters compaction disk space check true snapshots size db table count level enable minimum compaction threshold execution threshold auto compaction disabled estimate keys compression parameters json management compression parameters compaction parameters json open data maximum compaction threshold compression parameters json interrupted collection begin local sampling composite data column family store mbean crc check chance column family compaction thresholds compression parameters dht compaction parameters json count tables key built indexes force compaction token range finish local sampling deprecated sampler hex format max threshold util concurrent token level fanout size key split output table compaction parameters load tables capacity maximum compaction threshold min threshold unleveled tables compaction disk space check enabled range droppable tombstone ratio force major compaction openmbean options opts
src.java.org.apache.cassandra.cql3.selection.ListSelector
literal invalid request selection protocol version factory column filter output elements buffer override selector factories factories add selector column transport protocol version size factory selector add fetched columns nio instance builder db util query options buffers serializers cql collection factory reset builder result builder collection serializer array options filter add input instances marshal pack
src.java.org.apache.cassandra.io.IVersionedSerializer
serialize data output stream data output serialization version protocol serialization deserialize data input stream data input deserialization version protocol io deserialization calculate serialized size calculate serialized version protocol serialized size serialized size deserialize data input serialize util iversioned serializer version io io data output
src.java.org.apache.cassandra.db.commitlog.EncryptedFileSegmentInputStream
segment encrypted file encrypted chunk individually reconstruct full offset representing decrypted chunks processed chunk backing chunks null chunks rebuffer repeatedly reached desired increases unsupported operation io segment offset eof file data input buffer remaining chunk seek encrypted file segment input stream chunk provider format data input path mark file pointer total chunk offset chunk provider nio file path buffer file segment input stream db util data position buffer pos buffer capacity expected length past mark limit position commitlog illegal argument
test.unit.org.apache.cassandra.db.compaction.CompactionsBytemanTest
false time disk space table left sstables table failed disk space false node expired tables lived expired compacted give time false node compaction succeed runtime table disk space compaction dropped runner sleep contrib cfs possibly expired table cql byteman target method cql tester bmunit jboss table compactions byteman millis expected size junit drop table thread runtime rules db current column family store util concurrent bm rules column family store compaction bm unit runner run target bm rule expired condition throwable live tables execute expired tables dropped disk space runtime disk space compaction low gc grace table force major compaction force blocking flush action time unit
src.java.org.apache.cassandra.tools.nodetool.NetStats
ip large message dropped tasks total size total size received gossip message completed tasks pending small message dropped tasks nodetool probe airlift system human readable total size receive streaming node probe dropped io printf override gossip message dropped tasks net stats session info total files send statuses total files large message completed tasks peer option title tools small message pending tasks plan id stringify file size proxy empty receiving files small message completed tasks net stream state node tool description stream status status sending summaries read repair attempted large message pending tasks description operation mode sessions starting node tool cmd completed total files received util connecting command progress file utils total size send info execute sending files progress info messaging service mbean read repair repaired blocking read repair repaired background airline total files receive receiving summaries stream operation gossip message pending tasks
src.java.org.apache.cassandra.auth.CassandraPrincipal
represents principals augment refer achieve authorization decisions based principals cass principal username null pointer username username representation representation compares true compared true code code io override code serializable auth null pointer principal security serial version uid principal
src.java.org.apache.cassandra.repair.messages.FinalizePropose
repair data output utils serialize io propose code uuid serializer propose version msg data input session id serialized size io message serializer repair message uuid deserialize util messages serializer
src.java.org.apache.cassandra.streaming.management.SessionCompleteEventCompositeData
google plan id streaming stream event composite data support management open throwables event composite data composite data session complete event composite peer item descs util openmbean base propagate host address composite success simple put item common session complete event composite data item open data
test.unit.org.apache.cassandra.io.util.ChecksummedSequentialWriterTest
file exists progress checksummed sequential writer daemon initialization io buffer size buffer size testable sw length builder add writers build testable csw config junit true clear sequential writer temp file testable transaction util framework crc file setup dd database descriptor sequential writer sequential writer option array sw checksummed sequential writer prepared file false io aborted cleanup delete
src.java.org.apache.cassandra.db.compaction.writers.CompactionAwareWriter
actual writing files make compaction task finished sstables caller mark written sstables estimated number keys writes partition specific partition partition true partition false guaranteed called call method finish current sstable writer start writing called starting append start writing directories write directory expect expected write size sstables sstables repaired location sstables location min repaired storage service logger writeable locations format directories db util expected compacted file size compaction task compaction accumulate offline table reader uuid compaction location space directories expired tables logger commit throwable iterable write directory transactional prev idx close cfs append data directory location index max data age fb utilities pretty memory disk boundaries runtime decorated key debug space key writer abort directories real append sstable commit disk boundaries txn min repaired lifecycle transaction unknown max age estimated keys collection prepare commit pending repair table rewriter estimated write size rows service construct data directory file unfiltered row iterator deprecated approximate key count prepare finished pending repair column family store operation partition position descriptor writeable location logger factory utils locations abort io override logger originals estimated total keys transactional writers post cleanup finish trace concurrent lifecycle sstable writer repaired partition slfj partition key file compare directory compaction aware writer
src.java.org.apache.cassandra.concurrent.SEPWorker
prev stop check stores incremented spinning increment sole spinner spin time terminate spinning strategy work multiple threads spinning sleep time elapse real maintain exiting spinning ensure task queue promptly assuming outstanding permit producers avoid signalling spinning achieve simply calling queue decrementing spin counter hit processing task attempt assign worker queue producer skip signalling work task queue invariant ensures thread spinning task added task processed immediately work permits stop sleep put sleep obey receive apply constraint reschedule assigned state loop tasks tasks change state simply state interrupted process schedule worker executor ensures spinning threads found work left permits dealt work work shutting fail perform work signal immediately reassign start assign worker provided valid states assign restores invariants states descheduled collection thread park exit state valid assigning thread incremented place descheduled state stop immediately convert unpark assign executor work permitted assign successfully started work assign schedule success assigned call state thread change state increment spinning count add collection exit spinning remaining immediately schedule work producer safe spin worker spinning thread perform incrementing pick random sleep interval based number threads thread wake threads place spinning clash thread remove finish timing grab spinning time finish timing stops worker elapsed real time elapsed spin implies equivalent worker achieved achieve maintaining stop check initialised negative offset spin add realtime spun reset initial stop check caught spinning past stop stop assigned work stop permit stop check update spins affect communicates work state states working represented instance executor worker whilst accepts work state generally considered work worker threads state present worker deschedule entered generally communicated state replaced state present worker work performing friendly work state collection middle worker perform work preassigns task executor state work general worker assigns assign worker work outstanding race worker actively processing task state state exits mode work immediately executor assign work work assigned assigning worker assigning middle pool random stop shutting assigned sleep atomic jvm stability inspector math working assigned sep worker message logger runnable thread executors signal daemon util stopped working spinning sep executor netty worker id remove logger throwable thread system fast thread local thread compare assign nano time state max run schedule work nanos assign unpark wait spin add put thread assign spinning count tasks current thread spinning shutdown poll stop spinning start stopped stop check shared executor pool stop check interval park initial state schedule delta spin parse property target work inspect throwable put absent error time unit logger factory stop utils descheduled locks spinning io logger atomic reference park nanos work permit end min lock support sole spinner spin time start spinning executor exec stop task permit concurrent prev stop check pool active count task decrement work permit increment slfj stop signalled milliseconds
src.java.org.apache.cassandra.utils.BloomFilterSerializer
calculates serialized size bloom bf bloom filter calculate serialized serialized size bloom size data output utils serialize count offheap io sizeof bloom filter serialized size data input heap bit bf sizes suppress warnings read db util open bit io bitset bloom filter serializer deserialize ibit write obs
test.unit.org.apache.cassandra.tools.GetVersionTest
version run tools tester runner schema loaded run tool clsm loaded ordered junit runner system loaded keyspace loaded unexpected threads started server loaded version tools junit
test.unit.org.apache.cassandra.db.marshal.UUIDTypeTest
produce random count random permute provided uuid produce permutation provided version compare compare compare timestamps version compare compare arrays starting sequence inequality provide equivalent comparison performed rfc appendix sample lsb time uuid compare unsigned tb tb pos bytebuffer compare uuid uuid gen compare logger junit count random buffer util db random compare util framework significant bits compare timestamp uuid iterator random remove logger uuid iterable buffer system sign index significant bits permute version allocate uuid comp bi bj uuids remaining src random count length uuid marshal pos uuid random uuid wrap array time iterator null id compare time uuid msb compare uuid exp log jdk uuid compare variance info comparison equivalent ui uj logger factory compare time smaller utils permutations time bigger seed logger instance timestamp true nio describe compare clone empty buffer position seed slfj compare permutations
test.unit.org.apache.cassandra.db.commitlog.CommitLogUpgradeTest
check cfid daemon initialization buffer row predicate compose initialize killer replayer location junit db util framework io cfid property load schema add partition key column partitions cells property common add clustering column properties file security tables google killed jvm stability inspector apply starts commit log upgrade killer compound prop cell files mutation compression parameters metadata prepare killed base ascii partition updates keyspace separator restore add regular column row load simple partition update cell replace killer clean table id mutation parse file input stream size clustering keyspace metadata rows compression table metadata dense cellname table hasher properties schema files encryption context generator integer property cells property limit table metadata context data dir file utils unbuild io override shift id killed keyspace testencrypted interrupted instance original killer build schema config schema loader nio update killer encryption context keyspace params database descriptor hasher commit log replayer builder marshal ends table id file replay files commitlog
src.java.org.apache.cassandra.db.compaction.writers.DefaultCompactionWriter
compaction writer creates output file txn partition lifecycle transaction min repaired table descriptor estimated keys io data directory override logger sstable level cfs append originals rows estimated total keys logger writer index manager writers directories deprecated logger unfiltered row iterator metadata location disk table writer writer suppress warnings format metadata collector directories db sstable writer util pending repair column family store compaction indexes lifecycle serialization header table reader originals compaction location offline compaction writer expired tables make real append comparator sstable slfj directory logger factory directories compaction aware writer
src.java.org.apache.cassandra.index.sasi.memory.SkipListMemIndex
average overhead dks keys head max buffer stream upper utils illegal argument column index validator conf concurrent skip disk key validator index min range iterator inclusive add range union iterator overhead build key range iterator memory empty remaining nio keys db builder concurrent skip decorated key lower util concurrent token cslm overhead plan key expression builder search comparator skip mem index expression sorted put absent filter column index tail sasi marshal mem index
src.java.org.apache.cassandra.tools.nodetool.StatusBinary
nodetool probe airlift system node probe transport running io override tools node tool description node tool cmd command status binary execute airline
test.unit.org.apache.cassandra.io.util.DiskOptimizationStrategyTest
add add disk optimization strategy round buffer size spinning disk optimization strategy buffer sizessd buffer sizespinning disk optimization strategy util rounding buffer size io ssd disk optimization strategy strategy buffer size junit
src.java.org.apache.cassandra.service.StorageServiceMBean
retrieve live nodes determined failure detector node ip retrieve unreachable nodes failure ip retrieve nodes bootstrapping ip retrieve nodes leaving ip retrieve nodes moving ip fetch representations tokens collection tokens formatted fetch representations tokens endpoint representation collection tokens formatted fetch representation representation fetch representation current schema representation schema data file locations array location commit location saved caches retrieve range end points describe ring ranges end retrieve range rpc addresses describe ring ranges rpc converts token range jmx keyspace keyspace fetch information converted retrieve pending ranges endpoints describe ring keyspace keyspace pending range pending ranges retrieve tokens including tokens endpoints ascending retrieve hosts unique id retrieve endpoint host id retrieve host id endpoint load load keys ip generation generation method endpoints responsible storing key keyspace keyspace cf column family key key find endpoint endpoint responsible snapshot multiple column family snapshot tag null options supported option keyspaces tables form empty remove snapshot tag remove details snapshot details tabular true size snapshots true size forces refresh stored column forces major compaction single forces major compaction token range single trigger cleanup keys single scrub reserialize latest skipping bad rows table array cfs scrubbed cfs snapshotted disable snapshot verify table array cfs entire sstable read ensure cell validates extended verify rewrite sstables latest unlike skip bad rows snapshot sstables rewrites sstables tables remove deleted tombstone option defines granularity row removes deleted partitions cell removes overwritten deleted flush memtables column columnfamilies explicitly invoke repair track repair progress subscribing jmx notification notification format array length keyspace keyspace options repair repair command status parent repair cmd reference issuing status parent repair message messages transfer data machines remove force decommission reduce token token move node node unload data bootstrap remove token removes token data enpoint status token force remove operation logging level qualifer level reload configuration qualifer empty level level null defined level level logback configuration jmx configurator qualifier level log runtime logging levels operational mode storage service starting progress drain operation makes node unavailable flushes memtables replays truncates table provided calling truncate results actual deletion data table fail hosts data column family keyspace keyspace delete table column family delete data tokens nodes cluster effective ownership data node calculate percentage replication keyspace method verify cluster replication strategies empty change endpointsnitch dynamic method change snitch dynamic snitch configure snitch instance make parameters individually update parameters dynamic snitch ep snitch canonical path dynamic decides dynamicsnitch dynamic update interval configured dynamic reset interval configured dynamic badness threshold configured update user forcibly sick user recover forcibly user gossip running user forcibly completely stop determine initialization node started joining ring join initiate process streaming data responsible similar meant node cluster alternative running source dc dc select sources streaming null pick keyspace source dc dc select sources streaming null pick keyspace keyspace rebuild null rebuild tokens range tokens rebuild null rebuild token format starts bulk load blocks starts bulk load asynchronously representation plan id streaming load tables parent keyspace table column family tables tokens representing sample keys left attribute starting avoid sending potentially multiple mb data accessing mbean tokens rebuild tracing enable tracing partial number requests provided disable tracing enable tracing requests mich severely cripple configured tracing cluster cluster partitioner threshold warning queries tombstones threshold warning queries tombstones threshold abandoning queries tombstones threshold abandoning queries tombstones threshold rejecting queries due large batch size threshold rejecting queries due large batch size threshold warning queries due large batch size threshold warning queries due large batch size hinted handoff throttle kb delivery resume bootstrap streaming failed data true node successfully starts bootstrap streaming specific sources found natural endpoints rebuild secondary index compaction throughput mb sec move dynamic table load interrupted trace probability timeout buffer idx partitioner range rpc timeout tables multiple table snapshot commit log location data file locations illegal state entities stream throughput mb sec ep snitch dynamic update interval joining nodes batch size failure threshold tombstone option batch size debug threshold concurrent compactors stream throughput mb sec streaming socket timeout unreachable nodes cf util io dynamic badness threshold snapshot tokens level cf reset local schema moving nodes decommission token rpc timeout parent repair status range rpc timeout truncate inet address counter write rpc timeout keyspace throttle kb view cmd force join ring load concurrent validators compaction throughput mb sec table drained unknown host inter dc stream throughput mb sec directory logging level joined batch size failure threshold counter write rpc timeout saved caches location release version host id resume bootstrap read rpc timeout relocate tables table view build statuses net stop transport force terminate repair sessions batch size warn threshold end token trace probability endpoint host id jobs force keyspace compaction token range nullable source dc garbage collect truncate rpc timeout openmbean refresh size estimates key split output clear snapshot bulk load async notification emitter host gossip running keyspace host id endpoint batchlog replay throttle kb dynamic reset interval leaving nodes options system keyspaces dynamic update interval probability column families batch size warn threshold live nodes force remove completion drain force keyspace compaction start gossiping table snapshot stop gossiping table range endpoint extended verify effective ownership management service snapshot details rebuild tombstone failure threshold current generation number keyspace reschedule failed deletions storage service mbean draining exclude current version starting local strategy keyspaces enable auto compaction integer tabular data inter dc stream throughput mb sec remove node update snitch start token batchlog replay throttle kb tokens drain progress stop daemon write rpc timeout force keyspace cleanup repair async write rpc timeout endpoint hinted handoff throttle kb concurrent validators keyspaces ownership tombstone warn threshold read rpc timeout rpc timeout bulk load removal status concurrent compactors qualifier cluster incremental backups enabled describe ring jmx tombstone failure threshold disable auto compaction deliver hints token endpoint tag transport running io execution pending range endpoint token verify true snapshots size incremental backups enabled local host id deprecated range rpcaddress cfnames force keyspace flush streaming socket timeout schema version scrub nio operation mode cas contention timeout skip corrupted load tables concurrent logging levels initialized upgrade tables annotation cas contention timeout tombstone warn threshold collection truncate rpc timeout disable snapshot tombstone debug threshold check data dynamic update interval start transport sample key range
src.java.org.apache.cassandra.tracing.TraceState
thread local state tracing presence instance thread local denotes operation multiple requests trace state reference activate notification provided tag tag add emitting immediately trace activity waits trace timeout timeout timeout activity tracing events method wait repair atomic buffer ttl stopwatch add message buffer util format max stop elapsed listener stopped progress event notifier uuid message formatter remove common timeout inet address google compare wait pending events ttl array format slfj notify notify activity progress net runtime tracing base wait tracing helpers session id add progress listener trace impl trace state copy write array active references notify progress event message status atomic integer idle acquire reference integer release reference notification started listeners microseconds time unit trace utils coordinator tag override enable activity notification trace interrupted wait activity status nio trace remove progress listener watch concurrent util decrement session id progress listener
test.unit.org.apache.cassandra.auth.StubAuthorizer
authorize stub authorizer revoke stream user permissions utils entry role resource put performer collections remove revoke iauthorizer resources permission key grantee perms empty empty pair filter validate configuration configuration flat iresource add auth util revokee revoke user key setup permission details request validation resource dropped resource collectors request execution authenticated user clear grant role key remove collect entry permissions left
test.unit.org.apache.cassandra.db.RowTest
read cell partition iterator includes row read cell row partition iterator incl end bound daemon initialization column family store update unfiltered update row buffer cell single cell row add clustering prefix cell unsorted builder junit merged dk buffer util db util io add partition key column cql local deletion time partitions expiring column expiration define schema cmd single row update merge common add clustering column configuration open marker cell google close bound merge range tombstones btree row cfs collect column metadata cell immutable range tombstone markers size comparator metadata kind range tombstone incl start bound builder decorated key code ascii write range tombstone apply unsafe close marker keyspace put decompose row add regular column row column simple partition update ttl clustering bound cell keyspac mutation column metadata open fb utilities clustering rows table metadata include row resolve start live column identifier expected integer unfiltered row iterator schema expiring clustering row keyspace add cell column family store write simple cell prepare server kind comparator unfiltered iterator setup unfiltered row iterators columns close deletion def row slice utils clustering comparator regular columns io marked delete end subtype make interrupted util instance build unfiltered timestamp cf standar config true schema loader deletion time empty range tombstone bound marker update keyspace params database descriptor deletion time row builder marshal def def open bound open deletion
tools.stress.src.org.apache.cassandra.stress.generate.values.Lists
google generator seed override size distribution instance array arrays generator config size config suppress warnings buffer db max util copy generate stress seed collect common marshal
src.java.org.apache.cassandra.utils.ObjectSizes
convenience wrapping access memory array array memory memory array array memory memory array array memory memory reference array length length reference memory reference array consumes array array memory retained referenced memory buffer array memory buffer buffer buffer calculate memory total size referencing count array overhead amortized allocations overhead negligible undercount memory str calculate memory size total size pojo size heap instance retained heap referenced excluding portions buffer directly referenced including referenced pojo size heap instance excluding referenced guess direct utils empty size meter buffer measure array size heap excluding data buffer util element size capacity size reference array reference size buffer omit shared buffer overhead remaining nio sizes size array empty buffer size heap memory meter memory layout specification fallback unsafe github elements size measure deep ignore singletons buffer empty size guessing pojo length str jamm size spec
src.java.org.apache.cassandra.service.EmbeddedCassandraService
storage kind service running unit services client code simply embedded service start apply config service instance daemon daemon start init io embedded service io
src.java.org.apache.cassandra.db.TypeSizes
assumes sizeof length uuid size utils encoded ut length sizeof vint length buffer sizeof strlen vint coding size utflen vint max remaining sizeof unsigned vint sizes nio size db compute vint size util sizeof length size uuid compute unsigned vint size st length sizeof vint size
src.java.org.apache.cassandra.db.StorageHook
table reads listener iterator slices unfiltered row iterator lower bound partition update report write system selected columns column filter table id io storage hook make row iterator cfs fb utilities rows report read construct instance unfiltered row iterator utils schema clustering index filter format make row iterator lower bound decorated key reversed hook db listener simple partition key column family store key partitions table reader property slices partition update filter sstable table id
src.java.org.apache.cassandra.gms.IFailureDetectionEventListener
gossiper convict based phi calculated failure detector times heart convict ep endpoint phi phi ep phi convict ifailure detection event listener gms inet address net ep
src.java.org.apache.cassandra.db.marshal.AbstractCompositeType
avoiding duplication composite differs encoded column front check provided bb represents advance buffer real beginning split composite column skip escapes occurences character replacing character reverses effect replaces occurences remove character split input character previous character consume component comparator composite dynamic composite read information bb adds dynamic composite information adds information bb validates exceed defined unsupported operation parsed comparator append comparator escaped colon pat buffer previous references user custom validate comparator source add read protocol version colon remaining split buffer util matcher db util replace serializer cql serializer array collections cmp serialize comparator pattern escape transport remaining serializers compare collection members comparison allocate comparator term empty colon pat component read length array unescape write length length decompose marshal marshal validate collection member put components size regex serializer stream duplicate prev comparators match comparator serialized size builder read part input total length comparator compile limit json bb bb utils protocol version substring override escaped colon parsed composite instance parse comparator parts empty append rewind remaining part nio buffer json compare custom minus validate read length bb components sb
src.java.org.apache.cassandra.index.sasi.utils.trie.AbstractPatriciaTrie
slightly correspond code patricia trie supports pluggable key comparators patricia trie supports deployed maven central downloadable base patricia algorithm related root node fields initialized instance view time view views reason current size number times detect concurrent modifications helper method increment modification helper method decrement increment modification helper method increment modification place store key bits root tuple bits key place store key root null bit key special rare replace adds inserted predecessor entry key null cast equivalent method selecting matching entry hit root node alternative matching fall stay cast provided key incompatible nearest entry finding key exists finding inserting actual similar select root entry removes single entry found key figure internal external entry removes external entry external entry remove easy straight parent predecessor removes internal entry internal entry idea essentially entry entry place trie requires fix predecessor child looping pointed removing parent remains looping fix parent child parent left change change copy remaining fields make pointing points entry lexicographically entry scans starting hint node limit search basic premise iteration follow scan started node proceed step valid uplink result empty node left check proceed step valid step back parents encounter find child child iteration step check child valid proceed step child parent parent found end step left recursive stop traversing left data entry stored null valid immediately search side initially left find child traverse traverse top parent points found traverse entry left encounter valid uplink trie left tree finds valid hit root true valid uplink argument alternative array length leads compiler computationally wise difference load index entry parent left child child entry uplinks entry storing root potentially nodes left child left child entry view key view key view iterator node current entry starts iteration starts iteration unsupported operation iterator child add entry previous candidate bit key remove internal entry increment size predecessor util key decrement size entry impl entry iterator external node illegal state iterator iterator reference mod count remove entry found key traverse reference concurrent modification null bit key remove entry index trie key decision current increment mod count remove external entry bit parent cursor follow left key put path null pointer remove key basic entry length bits put entry serial version uid valid bit index decision entry key analyzer find key iterator select select size trie entry entry entry collection start internal node key bounds index bit index trie iterator illegal argument tree cursor cast exit root compare keys valid uplink item trie utils element override prior collection empty remove exit patricia trie expected mod count node nearest entry key entry key analyzer clear entry sasi index bounds left
test.unit.org.apache.cassandra.security.EncryptionUtilsTest
call backing offsets copy array perform comparison io length array random daemon initialization wrap channels compressed buffer encryptor cipher factory buffer close encryption utils array iv lz compressor random access reader system open encryptor uncompress illegal block size limit arraycopy encrypt cipher encryption utils transparent data encryption options decrypted buffer config junit channel allocate encrypt write nio decrypt compress init dd channel util compressor temp file cipher io encryption context generator delete exit icompressor database descriptor buf keyalias decryptor encryption options bad padding tde options setup random crypto file channel random access file uncompressed buffer full round trip cipher factory file decryptor security buffer
src.java.org.apache.cassandra.cql3.statements.ListPermissionsStatement
virtual cf check ensure existence user leaked user existence checked result message rows unsupported operation existing role chain authorization statement collections add message role columns column specification permission db auth util cql permissions execute resource array exists result client state transport permission state ensure anonymous metadata resources request validation request execution messages result message marshal invalid request statements check access format auth keyspace authorizer user role manager database descriptor service column identifier pd ut schema sort iresource cf unmodifiable decompose rows result result message role resource role permission details recursive grantee instance empty details correct resource config schema constants validate permissions statement add add column
src.java.org.apache.cassandra.net.WriteCallbackInfo
paxos commit writes messaging service messaging service hints utils mutation io message mutation consistency level fb utilities storage proxy service payload verb iversioned serializer mutation broadcast address net hint db write callback info verb counter mutation inet address commit target message make mutation callback iasync callback consistency level message callback info paxos serializer
test.unit.org.apache.cassandra.io.util.DataOutputTest
overflow max allocating lot heap run array size limit fail due real tons heap validation saturating cast checked cast validation performed read max memory daemon initialization write buffer read wrapped file output stream callable data output stream sequential writer junit build read buffer util flush rnd util write temp file io validate reallocation callable array sizes check random channels data output buffer big reallocation write data output buffer data output buffer reallocate write data output direct buffered data output stream channel read random access file check iae close read length ignore data output buffer max size fake safe memory writer capacity data input read length finish close current safe memory writer allocate size suppress warnings runtime read write length throwable peek saturated array size cast callable sequential writer option write bos put read length eof data output buffer read write length writer saturated array size cast channels file utils size data output wrap file input stream size deque builder duplicate call calculate size threw array deque allocate direct thread local random offer checked array size cast buffered data output stream channel reallocate data output stream setup dd sequential writer wrapped data output channel channel buf count illegal argument wrapped data output stream data output random access file data output buffer spy array limit delete raf validate reallocation file utils flush canon ii io data output buffer max size override buffer size flush runtime wrapped data output stream write write current buffer file output stream option config true reallocate nio array input stream concurrent data input stream array output stream checked array size cast callable channel database descriptor runtime error data output heap buffer data output direct buffer check runtime file position max array size file output stream
src.java.org.apache.cassandra.exceptions.TransportException
transport code message code
src.java.org.apache.cassandra.utils.Mx4jTool
classpath call load load http port override provide listen address override provide starts jmx http true successfully found mxj tool http utils system processor address parse logger port mbs load management register mbean host address management factory method port fb utilities port integer logger platform mbean server info trace instance xslt processor warn mbean server invoke http adaptor lang http adaptor logger slfj xslt processor property logger factory broadcast address
src.java.org.apache.cassandra.exceptions.UnknownTableException
unknown table msg table id io io schema id
test.unit.org.apache.cassandra.utils.BytesReadTrackerTest
read skip read read unsigned unsupported operation read write write read fully utils reader read write utf fail read read tracked input stream io close baos read line input stream read read unsigned data input stream internal read read write read tracker read tracker tracker str data output stream length data input read junit true write write internal read line read internal skip read fully array input stream util skip data input stream skip read fully array output stream line data internal unsigned read reset read write read unsigned read array str write read utf read line write tracked data input
test.unit.org.apache.cassandra.utils.JVMStabilityInspectorTest
socket file handle disk failure policy utils daemon initialization jvm stability inspector io throwable config disk failure policy killed inspect commit log throwable killer killer original killer net config junit true replace killer file found kill killer false commit failure policy commit failure policy database descriptor commit failure policy reset policy inspect throwable memory error init dd disk failure policy read error die jvm stability inspector io commit policy
src.java.org.apache.cassandra.db.partitions.UnfilteredPartitionIterators
methods work partition created resources query empty row iterator empty note wrap result close method close bothers serializer called previously iterator fully faster version merge unfiltered row iterators directly note merge listener cares preserve index iterator empty replace nulls empty digests provided iterator iterator digest version messaging protocol producing wraps provided iterator logs debugging note meant debugging log large amount logging serialize unfiltered serializer initial indicating thrift unused wire skip unused thrift answer previously iterator fully complain selection iterator unfiltered partition iterator digest serialization helper key change reduced extend add io error merged partition iterator reducer db listener io illegal state partitions deserialize array iter merge security data output reduce empty iterators close transformation unfiltered partition iterator comparator current flag version row listener metadata write logging suppress warnings data input merge filter decorated key logging iterator sec full details clustering index filter extend idx filter single partition read command read filtered partitions serialize column filter serializer intra node apply size rows table metadata apply partition transform initialize iterator unfiltered row iterator schema partitions unfiltered row iterator serializer row merge listener flag partition key serializer message digest versions unfiltered row iterators close utils element io override id partition comparator element merge listener unfiltered partition iterators unfiltered row partition close empty contents merge iterator reverse order lazily initialized unfiltered row iterator merge iterators merge lazily concat reversed util clear partition command compare serializer
src.java.org.apache.cassandra.cache.CacheSize
capacity capacity cache cache size size weighted size
src.java.org.apache.cassandra.index.sasi.utils.RangeUnionIterator
range union iterator sorted stream elements multiple range iterator priority queue sorting mechanism operation queue push range smallest sorting moving window range iteration smallest element attempted merged elements adjacent ranges sort peek poll ranges back head current candidate smaller consume changed tokens statistics stream utils range union iterator build iterator io close poll index comparable statistics candidate changed ranges range iterator combined skip perform skip add empty build maximum builder processed ranges peek head suppress warnings union current iterator ranges io file utils priority queue util add range count collectors compute end data array collect merge range close quietly compare token sasi builder cmp
src.java.org.apache.cassandra.repair.consistent.LocalSessionInfo
helper jmx management repair google local session info participants consistent session id put meta table id iterables id schema update table metadata instance started local session transform coordinator participants integer net schema state started table util state base session joiner tables table ids join coordinator keyspace session id update collect session common table metadata inet address
src.java.org.apache.cassandra.gms.GossiperMBean
gossiper mbean assassinate endpoint unsafe assassinate endpoint address current generation number gms unknown host endpoint downtime net
src.java.org.apache.cassandra.io.util.FileUtils
fswe close file renaming windows picky move file falls back true file folder convert absolute path path relative base path deletes files subdirectories dir directory write error part tree directory empty schedules deletion file subdirectories jvm dir directory size directory folder directory size size method handles large file system size file partition pathname number unallocated method handles large file system number unallocated file number unallocated partition pathname number method handles large file system number file number partition pathname representing file store handles large file system bigger path path file store file handle large file system size size file store size size bigger constructor file store decorator safely handle large file file store methods limited reporting signed filesystem size size decorated direct buffer direct gb hard link text move file file store prefix present collections atomic buffer jvm stability inspector write error children files write file attribute view buf message path logger optional canonical file runnable file path df max rename confirm db nullable util temp file io accumulate folder path delete recursive exit attrs execute utf atomic move supported rename confirm directory merge size arr read error truncate throwable path lines error format empty cleaner exists handle large file system system file store expect walk file tree close append error handler logger sun data input usable space filename fail copy append relative path decimal format close quietly run total space parent runtime free space clean closeable check error handler atomic move fallback error handler sstable length folder iterable append sync directory canonical path auto closeable options ch suffix delete confirm paths read read fully kb dir visit file replace channels link open files size val read throwables path handler empty truncate existing trace enabled tb allocate direct safe file store sync child charset standard copy option info property simple file visitor inspect throwable corrupt table warn handle corrupt table read lines error standard charsets supports file attribute view logger factory delete cleaner replace existing file scheduled executors delete exit attribute utils charset clean atomic move mb directory output stream io override logger atomic reference charset read lines delete recursive delete async stringify file size relativize channel nio trace starts arrays unallocated space mkdirs file store attribute view basic file attributes concurrent handle error buffer file store attribute view file utils standard open option folder size path write runnable copied base path parent file attribute file channel periodic tasks slfj file visit result file store file directory abs data path left
src.java.org.apache.cassandra.transport.messages.AuthChallenge
sasl challenge client body io codec buffer cb util transport read decode dest version size write protocol version encode codec auth challenge nio buffer auth challenge token remaining netty challenge messages response token buf message encoded size
tools.stress.src.org.apache.cassandra.stress.generate.values.Floats
stress identity distribution generator db marshal instance override generator config config generate
src.java.org.apache.cassandra.repair.TreeResponse
merkle tree response repair endpoint utils trees tree response inet address net merkle trees
test.unit.org.apache.cassandra.db.compaction.CompactionManagerGetSSTablesForValidationTest
correct sstables legacy full sstables sstables sstables iterator register repair collections full repair compaction manager uuid gen null junit metadata serializer format db util token live tables tbl cql execute internal desc table reader uuid iterator legacy incremental repair iter collect schema common inet address repaired google tables validate compaction manager tables validation system streaming repair job desc sstables cfs make tables array cfm net size range validator register parent repair session query processor service keyspace current time millis mt range force blocking flush consistent repair repair singleton statements simple table statement active repair service fb utilities column family store instance table metadata time uuid schema setup pending repair column family store prepare server unrepaired sstable reload table metadata partitioner setup descriptor mutate repaired preview kind modify tables minimum token utils parse coordinator incremental io id sstable instance build dht config true schema loader unrepaired session id keyspace params database descriptor validator false compaction
src.java.org.apache.cassandra.service.ReadCallback
todo push constructor response count calculated blocked support read repair rapid read range scans kick background digest comparison result arrived original resolve kicks condition true message counts blockfor current number received resolver full data read resolve send repairs directly digest failure reason endpoint failures updater collections atomic read failure read repair metrics read timeout failed preprocess logger partitions runnable partition iterator db received count util read repair resolver trace state tracing condition recieved updater digest mismatch execute resolve partition range read command failure commons logger stage manager debug inet address stage endpoint snitch simple condition await results system debug enabled lang repair handler nano time failure reason read response verb read command consistency level read callback net fb utilities metadata datacenter run datacenter local empty tracing nanos waiting stage millis signaled received logger factory atomic integer field updater keyspace digest resolver local data center repair resolver messaging service trace state updater put currentversion message open unit size service mark request failure reason query start nano time trace enabled filtered endpoints response resolver keyspace data present async repair callback data endpoint join timeout internal response tracing time unit endpoints async repair runner result latency snitch blockfor utils override logger repaired background block unavailable message interrupted message instance broadcast address data resolver data config compare responses concurrent time past start trace signal await metrics concurrent database descriptor response error send rr iasync callback failure assure sufficient live nodes nanoseconds increment slfj command milliseconds time failures utils consistency level
src.java.org.apache.cassandra.cql3.ResultSet
rows count note serialize column count comment metadata results executing query prepared note column count smaller include columns result user serialization code exclude columns index column requested excluding added definition maximum number result bigger column count due adds columns columns comment column count account newly added flags column metadata metadata query parameters prepared flags column metadata point providing partition key bind indexes statements affect multiple order collections buffer row serialized size skip metadata state add protocol version empty columns column specification read buffer util dest db util cql read prepared metadata netty pages array cb codec remove add row write serialized size arrays pages write greater transport request code table flag version global tables spec add serialized columns metadata body bind index runtime read global paging state service col length buf write column identifier marshal hex column count serialize size rows read collection decode global tables spec write encode greater builder metadata append flag pages copy add result metadata copy reverse data limit trim write add column utils result codec io decode override cb util row remove total metadata deserialize paging state codec size empty cf ordinal num pk nio buffer partition key bind indexes row count pager encoded size size global cf iflags count flags sb
src.java.org.apache.cassandra.io.util.SsdDiskOptimizationStrategy
solid state disks add page chance crossing page predifined crossing probability calculated assuming uniform distribution start position record size modulo page size divided total page page cross probability bigger add disk optimization strategy page cross probability round buffer size util override disk optimization page cross chance io ssd disk optimization strategy buffer size record size
src.java.org.apache.cassandra.schema.MigrationManager
versions differ node sends request local migration expecting receive migrations apply bootstrapping recently submit migration task include delay make chance apply pushed grab latest version schema changed initial future distributed deadlock running gossip request schema nodes differnt unknonw major version incompatible request schema fat announces table definition generally avoided internally force date version system table schema schema force recent version rely idempotency basically ignore announce instance delete columns called note safe system tables id fixed definition table view add actively announce version active hosts schema schema mutation future local application push schema nodes announce version passively notify nodes arrive version schema version clear locally stored schema information reset schema initial called user rid schema force migration nodes announce aggregate drop version make aggregate mutation announce view collections completion latch make drop function mutation announce aggregate passive announce force announce table serialized size migrations serializer management factory application state add current version runtime mx bean push schema mutation gms announce logger announce table update keyspace metadata storage service mutation timestamp micros count updated runnable thread format timestamp endpoint state db drop schema mutation util io interrupt cql runtime mx bean uuid deserialize make drop table mutation make keyspace mutation array metadata remove live members logger gossiper stage manager debug inet address stage view cfm version announce view update migration delay data output system announce keyspace drop definitions update make function mutation runtime mx bean pull schema count latch sizeof announce function gossip member make drop aggregate mutation merge current user state verb migration announce view drop net wrapped runnable announce locally simple builder configuration sizes view schedule read data input mutation table metadata write stage run schema keyspace make table mutation endpoint state endpoint announce keyspace update logger factory table metadata migration task wait message announce function drop cf announce keyspace keyspace future send migration task raw version merge announce version schedule schema pull application state size messaging service empty version current thread exists serialize mutations version collection parse currentversion poll fb utilities add local application state keyspace metadata management service make drop view mutation ep state submit uptime tm params msg iversioned serializer ud aggregate ud function schema view metadata reset local schema make drop keyspace mutation announce table drop announce announce table table view nullable inflight tasks ksm make view mutation ready bootstrap udf integer version info endpoint property duplicate versioned wait future periodic tasks error time unit schema wait ready bootstrap view make update view mutation scheduled executors utils io logger add view update mutation builder schema submit migration task functions make update table mutation make mutation views interrupted instance empty build live endpoints announce update factory node clear truncate migration manager await concurrent singleton schema constants announce drop validate view lang ksm runnable validate compatibility builder marshal slfj broadcast address serializer updated dropped schedule schema pull milliseconds
src.java.org.apache.cassandra.io.util.DiskOptimizationStrategy
maximum buffer buffer limiter throttling read throttling intention eventually read size chosen historical reasonable upper buffer pool maximum allocation size record size record buffer size record round multiple size disk optimization strategy max buffer size round buffer size min util math io buffer size record size
src.java.org.apache.cassandra.streaming.StreamManager
stream manager manages running status operation stream operation created track streaming status streaming rate rate rate rate unit stream rate limiter rate limit based peer throughput throttling running removed manage distinguish plan initiated receiving make remove stream completion successful make remove stream completion successful plan id listener found limiter stream rate limiter inter dc limiter notification listener rate handback input receiving stream initiated streams runnable max add event listener megabit stream event jmx notifier util register receiving current streams transfer uuid cliffc remove collect common inet address notifier endpoint snitch google rate limiter stream state composite data add listener streaming add notification listener result iterables mbean notification info stream throughput outbound megabits sec composite data receiving streams composite data net datacenter run openmbean base stream result future peer current state update throughput inter dc stream throughput outbound megabits sec filter rate limiter notification info local data center executors remove notification listener stream manager apply notification filter management transform direct executor local dc inter dc throughput acquire rate limit function instance highscalelib throughput config stream manager mbean concurrent database descriptor concat rate limiter listener register blocking put
src.java.org.apache.cassandra.repair.messages.SyncRequest
body part repair request node sync data node range size repair ranges bounds version messaging service ranges count data output serialize owner message streaming repair job desc io preview kind override message sync request serializer serialized size dst collection code token serializer add sync request net dht sizes sizeof src read data input db util token io preview kind compact endpoint serialization helper global partitioner desc message serializer repair message initiator req deserialize array sync request messages range range serialization val write inet address validate partitioner serializer
test.unit.org.apache.cassandra.db.compaction.AntiCompactionTest
write file number anticompaction tables net change number parent repair session clean live copy iterator table txn writer interrupted directory tables sstables refs row unrepaired tables writer perform anticompaction simple uuid gen repaired keys missing parent repair session null junit hamcrest immutable count buffer util format db core matchers row update builder token io compaction live disk space token illegal state desc serialization header builder table reader uuid ref define schema collect schema common truncate cf inet address configuration dir token google transactional system mutate streaming state iterables missing repair session generate sstable cfs parent repair session compaction strategy compacting array sum skip anti compaction intersecting range update builder state anti compact ten lc net add table ref metadata anti compact ten anti compaction size runtime transactional anti compact repaired ignore global count range add mutate pending repair register parent repair session pending keys anti compact apply unsafe tracker ranges table metadata descriptor keyspace scanner total rows suffix sstable range force blocking flush table metadata table descriptor txn truncate blocking lifecycle transaction standard cfmd random uuid keyspac collection stats scanner table truncate cfs open active repair service size clustering rows service write file pending repair time uuid integer anti compact pending repair unfiltered row iterator store schema anticompaction cf append keyspace pending repair column family store operation prepare server unrepaired sstable ordered partitioner repaired keys unfiltered iterator disk pending repair preview kind compaction manager view anti compact ten stc disable auto compaction table scanner repaired utils regular columns fail marked compacted io current time millis id metric directories encoding stats mutate repaired keyspace column family store instance empty build dht table true prepare column family store finish schema loader aborted column family store instance arrays anti compaction concurrent session id keyspace params count lifecycle row util local suffix repaired refs partition key file modify false live tables
test.unit.org.apache.cassandra.dht.LengthPartitioner
symbolic minimum token act empty bit discard tokens count shorthand initializes counts calcs ranges looping splits size add sum count divide fractional unsupported operation random maximum token buffer dht row add remaining storage service buffer util db util token sorted ranges tokens token array array random big integer token token rtoken token validator ltoken splits token factory current minimum size math decorated key midpoint ipartitioner range key big integer service key sorted tokens midpair marshal length partitioner entry describe ownership big integer token put entry wrap total fb utilities ratio left table metadata buffer decorated key pair schema token factory thread local random random token integer preserves order keyspaces array minimum token decorate key token factory utils override array instance split schema node key collision nio partition ordering concurrent tables views validate cfmd partitioner defined order token left
src.java.org.apache.cassandra.cql3.statements.CreateKeyspaceStatement
statement parsed cql creates instance keyspace keyword keyspace attrs raw keyword arguments extracting keyword method responsible processing invalid request arguments missing keyspace strategy validated announce keyspace backward compatibility validate unexpected options proper validation attrs query state system user ksm keyspace statement change keyspace attributes created matches matcher auth util replication unauthorized cql pattern word query state event pattern schema change client state transport permission state configuration local runtime request validation announce migration request execution announce keyspace keyspace length client state invalid request statements check access exists schema altering statement keyspaces access authorizer locator user database descriptor regex keyspace metadata service params schema length function resource grant permissions creator authenticated user replication strategy compile applicable permissions local strategy role resource data resource keyspace params exists override schema functions grant format role config migration manager schema constants keyspace params validate validate keyspace system klass
src.java.org.apache.cassandra.auth.PermissionsCache
authorize utils authorizer permissions cache mbean require authorization iauthorizer authorizer permissions cache max entries permission permissions update interval user permissions update interval permissions cache max entries permissions cache pair config iresource auth cache auth util permissions database descriptor resource authenticated user permissions validity permissions validity left
src.java.org.apache.cassandra.index.sasi.sa.SA
tokens mode term buffer term iterator disk index buffer add term term finish terms nio count db token tree builder sa util term comparator array disk index builder length mode sa sasi marshal mode
src.java.org.apache.cassandra.repair.messages.FinalizePromise
size repair write length data output utils serialize serialized size write promised io sizeof serializer inet address serializer promise read participant code instance version serialized size length msg net sizes promise read length buffer util data input db util session id uuid serializer io serializers message serializer repair message uuid deserialize messages inet serializer inet address serializer result
src.java.org.apache.cassandra.utils.MerkleTree
merkle tree binary merkle tree full binary tree represents perfect binary tree depth perfect binary leaf sequentially node binary ranges split full depth perfect binary leaves tree leaf computed nodes tree nodes merkle tree calculated lazily children range requested inputs passed calculated secure internal tree accomplished merkle trees represent perfect size top level range merkle tree full full full partitioner partitioner range range tree hashdepth maximum depth key space covered subrange fully populated maxsize maximum number subranges initializes tree splitting hashdepth additional level splits violate replaces nodes determine depth safely split reached number distinct ranges measure memory usage tree ltree rtree largest contiguous ranges trees function optimized depth traversal trees trees range active subrange sanity check midpoint abort validation code executed thread caller waiting condition signaled completion error recurse recurse children fully smallest range reached wrap deliver left child child invalidates ranges left child child range range recursive applications support wrapping ranges end null subrange range range calculated find node matches range range null stop recursion match found fully node fully children left child child splits range tree limits range split depth tree maxsize operation true range successfully range start end token range start note hit full range small fairly recurse matching left child child lazy iterator invalid tree ranges order make range range tree range method parents range represents modify created null indicating read entry row mix leaf tree increasing full range covered tree ranges increasing full range range iterator wrapping leaf stack ranges interesting find found leaf invalid put left greater left node cached binary constructs token null size calc children cache computed recursive leaf node merkle tree represents larger perfect binary tree depth leaf perfect tree rows added merkle tree tree extending leaf generated stored constructs null representing pass digest key created strong single binary lefthash left righthash mixes primitive left stop recursion early leaf iterator pright invalidate helper rdiff find math serialized size recommended depth rtree tovisit bad range init iversioned serializer read fully logger size left hashable size range max db histbuild util token io build stdev ranges entries lreso difference binary dht fully inconsistent iterator deserialize array logger token common tree difference debug size len iterable full range google righthash merkle tree data output rhash write utf read ident read utf sizeof split helper append leaf collect data input current version preconditions deep lhash rchild fb utilities serializable configuration sizes add data input consistent error midpoint hashable serializer difference helper ipartitioner range base lchild lnode rows left init helper ltree write rows read partitioner range ipartitioner dependent serializer maxdepth serial version uid hex rows invalidate check null lefthash pow serialize hex pop active invalid active range diff size wrap add histogram builder add maxsize length calc log peeking iterator invalids hashable row builder simple write child add stop recursion count ident end data compute illegal argument tree partially inconsistent mt rows range rnode canonical logger factory root histogram row size leaf utils histogram row count leaf total rows merkle tree serializer array deque ldiff helper io override size logger empty left range iterator min serializer slfj range write empty split rreso add hashdepth buff node arrays max pleft find helper row count xor leaf serializer error size row sizedepth ensure initialised partitioner depth estimated histogram tree range entry tree range iterator serializer left
src.java.org.apache.cassandra.repair.messages.CleanupMessage
message cleanup repair resources replica repair version data output utils serialize message cleanup io override message parent repair session uuid serializer cleanup message serializer code data input util serialized size io message serializer repair message uuid deserialize cleanup message messages serializer
test.unit.org.apache.cassandra.transport.ProtocolErrorTest
protocol version higher current version version higher current protocol version lower lowest direction stream body direction stream body generate protocol response frame prepare ensure back stream id direction stream body make correct stream direction stream body make correct stream error message message fail encoded size frame daemon initialization results setup dd io transport decode direction unpooled wrapped server error wrapped buffer version invalid protocol version frame protocol error msg add version size config junit expected true protocol error message null buffer request protocol version util body length limit invalid protocol version codec database descriptor buf response encode netty current array error message messages unsupported ends body invalid direction decoder buf stream id message dec frame
src.java.org.apache.cassandra.cql3.statements.IndexPropDefs
invalid request obsolete keywords statements custom index option format target option put collections custom keywords options syntax custom raw options kw options empty add empty index target util validate cql property definitions properties request validation index prop defs key options
src.java.org.apache.cassandra.utils.SortedBiMultiValMap
compare google comparator sorted bi multi val utils tree multimap comparable inverse suppress warnings bi multi val tree sorted multimap comparator comparator util reverse forward sorted key comparator collect common compare put
src.java.org.apache.cassandra.streaming.StreamHook
sequence number utils system streaming session io stream session message cfs fb utilities writer report outgoing file construct instance outgoing file message stream hook report incoming file table multi writer format hook db simple column family store table reader property report stream future messages sstable future stream result future
src.java.org.apache.cassandra.db.marshal.CompositeType
encoding composite column unsigned actual column query query equivalent full query start end columns component start query greater top specific prefix encode maximum size component composite detect prefix interning skip general construct broken schema changed thrown user error meaningful error message make understanding error overriding composite tad assume trunk array skip skip extract component idx null skip extending components extending components parsed comparator append comparator buffer previous syntax read instance parser validate comparator add remaining split buffer util db util header array collect common components count array copy iterable serialize comparator google concurrent extract component buffers serializers read length tprev array immutable allocate ct comparator configuration bb runtime read length length idx put write length length bb compatible internal marshal marshal copy instances components cp size copy range duplicate marker compatible comparator serialized size builder read part copy total length stringify parameters tnew flip bb decompose utils parser put absent override parsed comparator put composite parse comparator empty build parameters remaining part concurrent composite nio arrays concurrent buffer position serialized compatible split sb index bounds
test.long.org.apache.cassandra.cql3.CachingBench
method commit log applied cql tester method effectively overriding matter start row count iterator cql tester atomic unfiltered hit rate row predicate mmapped executors mmap cache lz cached mmap end table count cfs add atomic live end row deletions junit predicate format start table count db execute current column family store util framework live tables compaction cached standard cql alter table partitions start row deletions table reader read delete range tombstone marker array random iter collect table common caching bench throwable perform maximal end time end tomb count google scan frequency inv count rows rows system compact setup flush iterables nano time append end time push data concurrent compactions ifunc reader compression parameters size mode count count tombstone markers start size standard cid key tfunc del sections metrics commit log sync column scanner current time millis sstable commit log sync period disk access mode executor service row rand tasks flush freq compressor instances compaction parse function config warmup fb utilities clustering start tomb count rows text processors submit enable auto compaction query unfiltered row iterator compaction time nanos cend function sec enable end row count lz uncached standard builder ti column family store atom clustering range function untyped result count disk access mode aggregate strategy compaction manager gen extra lz cached standard disable auto compaction table scanner utils ii io id key range end size chunk cache keyspace runtime cstart instance periodic uncached standard deletion stringify file size config total true count row deletions arrays start time fixed thread pool concurrent future start time file utils count database descriptor runtime requests error cache enabled task extra size iters builder lz uncached mmap increment live data file data input commit log sync
src.java.org.apache.cassandra.db.columniterator.AbstractSSTableIterator
change execution good hygiene grab immutable analysis determine file path created seek beginning partition partition single block read read partition deletion querying indexed reading beginning partition read partition level deletion skip partition note called file null partition deletion move simplify drop support file index slice index slice checks slice slice make closing idempotent bad close idemptotent recycle records open range tombstone time note read index blocks forward order method called forward reader methods provided reader read row partition level indexed readers store marks beginning block reader beginning update block idx based current reader position past current makes sense forward iteration reverse reach end block seek previous update index state current block idx read beginning index state beginning beginning forces weird seek happen reading file check crossed index boundary mark beginning index finds index block provided starting provided bound unit index slice forward binary search comparing start part index end left reverse start column end compared part index bsearch give slot start subtract extra slot unsupported operation update open marker columns index clear open marker mid internal unfiltered index info retriever serialization helper messaging version start idx bottom update block slice clear state live reader internal index columns deserialize row buffer util file path columns index count index entry file pointer db close internal open index clustering bound util io unfiltered deserializer table reader iterator deserialize slices remove column filter current index reader skip row cmp block index state index file file data input close open deletion time index slice stats mark suspect table iterator current block idx regular columns indexed flag version reader unfiltered serializer seek partition start metadata find block index bound suppress warnings rows reader decorated key idx end idx key offset partition level deletion suppressed open marker skip length slices filter sstable mid val deserializer row deletion time slices format start block column filter row index entry slice path reader marker mark columns ifile rows table metadata width seek position range tombstone marker fetched columns current index idx low unfiltered row iterator top schema auto closeable clustering prefix reversed partition key binary search index comparator add suppressed internal end open marker target comparator slice index past mark corrupt table descriptor clustering comparator columniterator compare rows io helper utils deserializer blocks count element read row high file override seek encoding stats column offset index info file data input header index empty deletion time comparator slice closed block idx data position empty row index info retriever local past current block close file open current file pointer index bounds row position file handle serializer
src.java.org.apache.cassandra.db.MultiCBuilder
builder build multiple table number clustering elements clusterings clusterings composites empty collection creates empty adds element builder call method add result adds individually elements end existing builder call method add result elements adds individually elements end existing builder call method add result elements number elements added number elements added checks clusterings null clusterings checks clusterings unset clusterings checks empty clusterings missing builds builds slice start bound start inclusive bound inclusive bound inclusive bound inclusive column defs columns slice builds start bound start inclusive bound inclusive checks elements added add elements specialization multi cbuilder elements multi cbuilder supporting creation multiple elements tree sort eliminate column slice clustering column handle bound mixed order extra slices columns change desc asc slice produce end bound bounds handle normal tree sort eliminate composite cbuilder buffer bottom remaining count add clustering comparator buffer util db util bound inclusive build bound array inclusive remove clustering btree elements btree add element empty remaining null column metadata check updateable builder build bound slice multiple unset buffer offset column defs add element column column composite length reversed clustering bound navigable size multi clustering builder missing elements top empty schema add elements illegal state multi cbuilder copy comparator utils override built make empty build bound kind elements nio arrays start unset clustering builder build add builder build bound position
src.java.org.apache.cassandra.gms.FailureDetectorMBean
phi convict threshold endpoint state unknown host endpoint states endpoint count management open data simple states phi convict threshold dump inter arrival times gms endpoint count net tabular data phi util openmbean phi address failure detector mbean
src.java.org.apache.cassandra.net.BackPressureStrategy
algorithm experts usage implementors provide constructor accepting single representing parameters eventually required specific applies based acting creates initialized specific states timeout state host time unit util concurrent back pressure strategy back pressure state inet address net apply unit
src.java.org.apache.cassandra.db.commitlog.CommitLogSegment
single commit log file manages creation file writing mutations tracking mutation position cfs covered segment files initially allocated fixed size grow accomidate larger commit log entry overhead length head checksum tail commit log sync size length checksum op order order appends wrt offset synced sync point forwards sync marker segment point position close eof fit end position initially capacity updated point written segment writes append order signal writers wait confirm log message provided written interval interval covered clean log unflushed separate permit marking cfs clean whilst log checks segments buffer commit log commit segments buffer constructs segment deferred writing commit log header subclasses chance provide additional header data stored allocate space buffer provided allocated allocation null space segment pass op order allocate ensures segment allocating unused section end marking guard op ordering synchronised due potential ensures end buffer update reflected buffer end position picked strictly calls discard unused tail executed running sync mutation prevent future potential duplicate protection contract stopped stopped allocating succeed allocation discard unused tail wait appends operations started method issue barrier wait forces disk flush segment check work allocation sync section enter ensure segment allocate position capacity entered mutation allocation attempted marker succeeded previous close allocate sync serves point safely records completely written ensure cls mark buffer size synced position close end actual make close buffer end buffer position incorrect point written stalled wait mutations complete end buffer possibly perform compression writing file signal sync sync marker delineate sections commit typically created sync sync marker consists file pointer sync marker declaring crc buffer buffer write sync offset offset write sync file pos current position target file sync marker written buffer marker file position sync marker discards segment file log longer requires file left disk archive requires blocking current commit log position log file path file stop writing sync close file close segment call marks column family id clean log context argument mark cf clean newer writes table id table start position start range end position end range allocating touch collection dirty cfi segment true segment unused safe recycle room active race updates table clean check commit log position segment context commit log segment position true commit log segment position segment change current cdc state restrictions state transitions method simple tracking information portion segment allocated log called segment cl called sync complete iterator state cover manager collections atomic buffer group write error math replay limit id write cdc state group segment id commit log location cdc state append op sync marker size illegal state allocation add await disk sync desc commit log segment manager mutation unused highscalelib db compute absent file util key collection io discard unused tail increment partitions segment compressor signal waiting commit iter crc segment mark clean throwable id metadata array mark written put cliffc end position min concurrent compression table clean reset replay limit memory segment close integer interval write log header wait queue dirty interval signal add size file pos capacity clean expand cover mark dirty delete file files allocate max configuration commit log position wait modifications key cdc state lock suppress warnings empty key timer synced offset iterator key offset configuration op group partition updates max id table metadata dirty table ids start position write sync marker entry overhead size clean table dirty current time millis sync context encryption context discard log file header written size cdc state op order delete confirm read update checksum partition update file entry channels table id mutation entry cancel commit log open standard open option fb utilities cdc state zip encryption allocate position atomic integer start duplicate commit log segment file comparator library id prev internal close schema path wait sync builder system write await uninterruptibly buffer integer storage directory commit log position disk size wait sync getfd await barrier commit log segment illegal argument marker commit log descriptor descriptor write header limit dirty id base table metadata cr current commit log position compare compare io content size utils compressed segment remove covers put absent codahale file override allocating id max end format end buffer replay instance empty append buffer pool start marker dirty table id commit log schema config channel concurrent nio comparator buffer valid signal encrypted segment update metrics concurrent fd section end sb file utils remove clean dirty database descriptor buffer segment path allocated position desc register permitted file channel additional header parameters blocking file time position commitlog append order forbidden
src.java.org.apache.cassandra.cql3.statements.RevokeRoleStatement
statements result message revoke role statement revoke role user role manager role client state transport service grantee state role config database descriptor cql request validation execute request execution messages role management statement
test.unit.org.apache.cassandra.index.sasi.disk.PerSSTableIndexWriterTest
multiple correct segments yield incorrect flush make segments present make individual segments cleaned combined index exist sasi cfmd iterator random outer schedule segment flush buffer directory tables disk part size index compose buffer cell segments callable index writer junit output file buffer util format timestamp db close quietly util key token key pos compaction load schema index path min key index manager term iterator key format random common configuration error clustering tables google exists system num parts expected keys complete fail btree row cfs empty index actual keys data term column metadata tree filename current single cell row term flush observer metadata key futures decorated key descriptor key null column sorted directories put announce keyspace sstable sasi index marshal row column index entry max keys index file disk index open size keyspace metadata rows table metadata data add max key live call integer ut schema thread local random key position tokens keyspace simple column family store false operation property future count start partition comparator index segment builder descriptor flush key iterator decompose cf decorate key compare table index writer utils partial index writes stack trace io current time millis index range iterator column family store indexes instance build max table index writer true begin tokens schema loader nio arrays migration manager concurrent keyspace params file utils entry segment populate segment column unfiltered cluster partitioner file directory position table descriptor sasi sparse
src.java.org.apache.cassandra.utils.NativeLibraryWrapper
specific checks library successfully library successfully call open call getpid utils call mlockall call munlockall jna call fsync path call fcntl unsatisfied link error call strerror sun flags runtime errnum len flag fd offset call posix fadvise call close library wrapper command pointer
tools.stress.src.org.apache.cassandra.stress.settings.Legacy
command line description cli add converter num keys build opt runnable ssl truststore pw command line util option parse message lower array cmd commons key add option system options append option rep col count exit serializable run col size command parse put options array opt ssl algorithm upper ssl store key length legacy option ssl cipher suites unique keys entry replace command parse options params command line parser integer linked posix parser option builder printer err ssl truststore parser parse suboption upper io override opt format arguments arrays stress entry stress command ssl protocol command cl sb opts
test.unit.org.apache.cassandra.db.CleanupTest
keyspace keyspace column family store cfs unfiltered partition iterator insert data verify back range record max timestamps sstables expected max timestamps iter token local cleanup ensure max timestamp sstables retained check data iter insert data verify back range cleanup local host range avoid wipping data node join make cleanup erase give localhost tiniest row data data indexes result tombstones insert data verify back range insert data verify back range prepare table sanity table table table table token table table partially token table token table table check row update birthdate index query fetches iterator interrupted sleep buffer inside table inside table row filter add junit storage service buffer util format update normal token composite index cfmd db util token io compaction table max tk cql table reader table define schema cmd table min token operator inet address configuration cleanup current time millis token max timestamp rows table system flip token cleanup max timestamp cfs column metadata cleanup token tmd allocate net metadata filename force user defined cleanup nanos range key eq apply unsafe cdef keyspace col built indexes filter keyspace range testuser defined cleanup token column simple standard cfmd cf locator keyspac open size clustering cf indexe service column clear unsafe start simple entry schema index keyspace column family store prepare server row update builder ordered partitioner token metadata put unknown host time unit compaction manager disable auto compaction linked utils io execution key thread sstable perform cleanup column family store nano time util instance empty build fill cf loops force blocking flush cf standar dht schema loader nio filter arrays max concurrent keyspace params entry entry live tables token metadata min cleanup compare tk cleanup indexes
src.java.org.apache.cassandra.hints.HintsBuffer
shared buffer temporarily holds serialized hints flushed consists buffer holding serialized hints length checksum total checksum pointer current allocation append order wait writes id offset hints write single hint hosts offset offset hint entry overhead length body underlying backing buffer serialized position slab allocate wait appends started method issue barrier wait coverts queue offsets selected host id iterator hints encoded eventually closed receiver slab mark slab longer allocating exceeded intentionally expensive compared simple method hot placeholder hint collections atomic buffer group consuming hints iterator hint allocation recycle remaining serialize compute absent util key hints buffer io slab size uuid iterator crc write throwable iterable concurrent empty iterator compare close capacity total size allocate net wait modifications suppress warnings offsets free queue data output buffer allocate end data entry overhead size queue closed host ids messaging service op order offset pos put flyweight currentversion poll fb utilities hint size zip update checksum atomic integer start duplicate data output buffer fixed integer prev auto closeable allocate direct offer update checksum buffer offsets hints await barrier compute illegal argument limit cr hint utils io slab id iterator format write concurrent host id nio buffer closed concurrent file utils concurrent linked queue error clear clean position dop append order op group serializer
tools.stress.src.org.apache.cassandra.stress.generate.SeedManager
big numerical range small number discrete variation low order numbers multiple iterators mark write ensure remove remove exact seed operating ensure support calling remove times generator update sample immediately atomic concurrent skip math seed manager lookbackable write generator writes distribution inverted increment atomic save max finish write util write illegal state insert lookback read generator sample offset remove saved entry operation round seq sequence series min compare start offset index managing lookback total count multiplier write count distribution generate locked dynamic put key series generator min seed mark write random generator pow wrap invert start integer mark write log head read lookback illegal argument put absent sample size distribution utils sample reads seed sample multiplier sample end min range revisit concurrent readlookback max max visits concurrent stress entry stress average op
src.java.org.apache.cassandra.cache.SerializingCache
serializes cache uselessly allocated free reference guy freed matches eventually ref counted memory unreference iterator capacity caffeine removal listener serialized size cache policy logger maximum serialize max util key io replace iterator deserialize remove logger common throwable key present google reference memory output stream capacity caffeine freeable memory fb utilities pretty memory invalidate suppress warnings runtime mem key success weighted size executors format cache maximum weight put memory input stream eviction memory error maximum size evicted builder integer hottest direct executor wrapped data output stream weighted capacity weigher illegal argument executor logger factory key iterator icache weigher utils put absent io logger serializing cache empty build replace trace concurrent iserializer github clear hot key iterator slfj benmanes serializer
test.unit.org.apache.cassandra.db.RangeTombstoneTest
inserting flush range tomsbtone memtable queries queries inserting inserting compact inserting rebuild wait rebuild finish race compacted single remove existing sstables compact single physical structure sstable rt columns single rt single row row rebuild wait rebuild finish race add rt hides column insert update indexed changed index update insert track times partition tombstone present add index interrupted column sleep buffer tombstones indexes filtered partition indexes iterator instance immutable custom range iterator add announce table update junit incl updated max local deletion time dk buffer util format range tombstone db collections util range tombstone filtering live tables compaction min timestamp track times range tombstone cql local deletion time partitions table reader slices define schema array cmd iter collect common index def configuration deletion info index metadata clustering reset google unfiltered custom index option range tombstone compaction dead rows deleted table cfs rt index unfiltered partition iterator error column metadata iterators update builder add range tombstone max current size comparator metadata clustering kind immutable btree partition bb runtime read command builder builder partition rows inserted key apply unsafe row count perform maximal keyspace scanner singleton filter sstable force major compaction force blocking flush single partition read command marshal reverse query row ksname truncate blocking statements stats metadata simple partition update standard cfmd clustering bound cd column filter mutation index targets apply open fb utilities min rows indexed column table metadata range tombstone marker collection live range tombstone integer unfiltered row iterator ut schema sec overlapping range index target index metadata keyspace column family store timestamp copy prepare server max timestamp row update builder index manager unfiltered iterator partition unfiltered index row range tombstones updates secondary index include row compaction manager rows updated disable auto compaction range tombstones scanner stream utils find unbuild io execution full partition delete overwrites deleted columns cfname gc grace thread keyspace make column family store row cmd builder util stub index partition build max simple query range tombstone true single partition builder schema loader nio track times range tombstone data migration manager concurrent track times partition tombstone data future keyspace params times row table metadata add builder partition incl rebuild live data false sb
src.java.org.apache.cassandra.db.SimpleBuilders
table clustering passing updating check columns collect updated note include column sizing working fact requires called cell addition builder easily shadowed cql add erase previous entry live iterator elements buffer ttl row buffer cell cell path uuid gen lt unsorted builder excl end columns mutation builder timestamp micros buffer util builder timestamp db kind util column rt builder cql start inclusive partitions primary key liveness info clustering simple builders array global elt keyspace clustering table counter columns btree row empty deletion time collection liveness info error add primary key liveness info counter id column metadata regular columns cell copy params add range tombstone mutation primary key column size make partiton key metadata ttl partition key multi cell range tombstone simple builder add partition deletion decorated key key put empty buffer counter context column buffer keyspace serialize partition key context row builders marshal row partition deletion column partition update entry clustering bound cell table id mutation deletion path wrap keys builder fb utilities clustering rows table metadata add row deletion update builders add start live column identifier excl start schema expiring row local id initiated clustering cql table partition key incl start add collection comparator illegal argument row builder mt overwrite collection time uuid clustering comparator clustering columns table metadata make clustering decompose delete append decorate key slice utils incl end key id start bound schema end make length instance empty build partition key clustering comparator add complex deletion nio end bound update build mutation regular entry range builders deletion time sec range tombstone builder partition update builder end inclusive builder init add cell st partitioner tombstone entry
tools.stress.test.unit.org.apache.cassandra.stress.settings.SettingsMiscTest
google misc collections parse version file parses version match immutable version triggers special option junit true parses version match empty util version misc special options stress collect common special false
src.java.org.apache.cassandra.serializers.TupleSerializer
input fields declared support field size null fields utils marshal buffer override validate remaining serializer serializers field duplicate read input size remaining nio buffer util format util integer serializer tuple serializer fields
src.java.org.apache.cassandra.db.lifecycle.LogTransaction
involved transactional encapsulated correct behaviour commit occur legitimately transactional permits failing action occur beginning commit phase actions rolled transaction complete temporary files txn log file deleted tracked files required file lister consistent disk lifecycle transaction ensures tracks sstable files involved transaction transaction succeeds files deleted transaction log file sstables sstable retained transaction succeeds sstable crc incremental crc file content sstable files log update time files sstable descriptor number sstable commit add line log transaction log sstables sstable files sstables removed deleting transaction log transaction transaction log files repeat cleanup process full format lines transaction log wrong deleting sstables tricky mmapping delete fail force unmapping sun make delete data file restart recognized track reader stop tracking reader schedule reader deletion fully transaction transaction reference fully released delete obsolete depending transaction transaction log forget close txn garbage collector closes table reader reader fully released longer run reference parent transaction transaction cleanup run obsolete retain reference leak detection kick successfully delete data task retried remainder cleaned release referent parent transaction files snapshots deleted segment root element removes leftovers unifinished transactions transaction log files found table sstable files transactions sstable files transactions aborted removed safe refer checks details safety removing transaction leftovers refer comments beginning file details transaction method called startup standalone sstableutil tool cleanup option true leftovers transaction logs found false transaction log file physical multiple directories transaction trakced identical transaction transaction file physical files ksname parent ref file failed deletions system keyspace table tidier filename files predicate op ref log transaction discover components add release logger desc wait future untrack runnable format entry directories db notify deleting util io compaction accumulate clear table read meter table reader uuid ref directories remove logger match common debug log record metadata disk google file paths generation commit transactional visible size disk debug enabled tracker ref counted close log file exists obsoleted merge schedule tracker reader run stream runtime queue descriptor throwable abort corrupt transaction log dec referent dummy remove key sstable cfstore commit log file txn files log file paths put initial directories table message poll cfname files fb utilities track table metadata txn file throwables uuid gen submit reschedule failed deletions remove unfinished leftovers tidier time uuid annotations schema trace enabled complete completed log files prepare add column family store operation snapshot deleting task info wait deletions err stack trace illegal argument total disk space periodic tasks descriptor error cf directories time unit logger factory delete function file stream scheduled executors tidy utils tidy log files table abort io baos logger data id metric parent concurrent linked queue datafile perform ref make component transactional files ensure released array nio trace arrays concurrent array output stream obsoletion entry runnables data lifecycle path reschedule failed tasks task failure transaction tidier slfj file verify directory entry milliseconds
test.unit.org.apache.cassandra.cql3.functions.TimeFctsTest
function zone execute timestamp time uuid time fcts utils wrap date time date buffer timestamp date empty input transport joda date functions compose instance min time uuid expected time time fcts uuid gen params date timestamp protocol version current millis unix timestamp fct max time uuid junit timestamp unix timestamp time millis utc function nio buffer util format arrays db unix timestamp time uuid unix timestamp pattern util date time zone scalar function date fct simple date min time uuid input execute function cql min timeuuid fct time uuid timestamp date unix timestamp time uuid date time millis timestamp date max timeuuid fct parse date time unix timestamp fct date time timestamp unix timestamp empty input time uuid empty buffer timestamp time date time format output null marshal decompose max time uuid
src.java.org.apache.cassandra.config.DatabaseDescriptor
tokens serialized gossip versioned vv restricted send works leave null fall strategy random ophf initialize role manager applying options supported depend configured defer creating unit require equivalent initializes configuration configuration parts fail daemon client call performed equivalent initializes empty configuration fail daemon tool call performed address preferred evaluate disk access mode config affects index access mode selection phi convict threshold failure detector thread pool space heap overhead data commitlog saved caches dir parent dir discussion discussion half data file commit log created option size cache heap escape duplicating error option size cache heap escape duplicating error option size cache heap escape duplicating error heap assumption yaml transport encryption local hostname bind services gossip address broadcast local hostname bind rpc server rpc address broadcast attempt load cipher situation user disabled existing commitlogs sstables disk encrypted load seeds node contact checked thrown safe tools clients implicitly instantiates end point snitch safe tools clients implicitly instantiates strategy computes sum positive sum left left sum positive sum creates hell restore minimum configured maximum number buffers compression lower segment written delays compression log depending sync policy stops writing size commitlog segments unit unit client mode check care address space tombstone failure threshold broadcastaddress crossnodetimeout index summary capacity mb dynamic broadcastrpcaddress file transport max concurrent connections ip gclogthresholdinms write error enablescripteduserdefinedfunctions backpressurestrategy diskfailurepolicy prepared statements cache size mb cascontentiontimeoutinms authenticator clustername credentialsupdateintervalinms message phi convict threshold ideal consistency level dynamic update interval slow query timeout dynamic badness threshold concurrent compactors apply initial tokens tool initialized util auth config io commit log max compression buffers pool apply auth iauthenticator otccoalescingenoughcoalescedmessages columnindexsizeinkb initial tokens array commons row cache size mb batch size warn threshold logger maxvaluesizeinmb min rpc timeout batch size fail threshold kb dir batch size fail threshold otc coalescing window hinted handoff enabled compaction throughput mb sec sync enumeration listenonbroadcastaddress hintscompression hinted handoff throttle kb broadcast address file store commit log sync compactionlargepartitionwarningthresholdmb stream throughput outbound megabits sec saturated sum column index size counter cache size mb ctor commit log sync batch window commit log sync batch window roles validity sum permissions update interval client encryption options version math net rowcacheclassname rpc address datacenter dynamicsnitch credentials update interval runtime allocate tokens keyspace configuration loader sstablepreemptiveopenintervalinmb path standard commit log sync commit log location clientencryptionoptions permissions validity hintedhandoffthrottleinkb disk failure policy data file directory index access mode dynamic reset interval incremental backups enabled check null broadcast add classname err msg row cache apply encryption context authorizer inet address data file locations otc backlog expiration interval trickle fsync interval kb fb utilities column index cache size dynamic badness threshold encryptionoptions hints compression listen address replace tokens irole manager null pointer datadir load config num tokens annotations cdc log location disable stcs counter cache keys save hintedhandoffenabled diskoptimizationpagecrosschance user defined function fail timeout enableuserdefinedfunctions validity counter cache keys save warn search concurrency factor update interval counter cache keys save concurrentreads parse hinted handoff throttle kb mb disk failure policy auto snapshot tricklefsync autosnapshot row cache keys save compare apply address config io user defined function warn timeout min free space drive ssd disk optimization strategy rpckeepalive yaml configuration loader transport max frame size gcwarnthresholdinms min size empty cdc disk check interval maxhintwindowinms gc warn threshold commit log segment size config minfreespaceperdriveinmb back pressure strategy max concurrentmaterializedviewwrites roles cache max entries network reflect numtokens writerequesttimeoutinms transport max concurrent connections indexsummarycapacityinmb runtime arch roles cache max entries add transport max concurrent connections ip endpoint snitch roles update interval streaming alive period file start transport batchsizewarnthresholdinkb retval key cache size mb socket gb cache streaming connections host memtable allocation config auto snapshot seed provider diskoptimizationestimatepercentile range rpc timeout userfunctiontimeoutpolicy windowstimerinterval windows timer interval snapshot compaction column index cache size max size table preempive open interval mb encryption context streamingsockettimeoutinms transport port ssl transport max concurrent connections policy path rangerequesttimeoutinms immutable cdctotalspaceinmb loader streamingconnectionsperhost credentialsvalidityinms broadcast rpc address memtablecleanupthreshold concurrent validations auth large address space tracetypequeryttl memtableallocationtype constructor tool initialization otc coalescing coalesced messages directories back pressure strategy userdefinedfunctionfailtimeout slowquerylogtimeoutinms hinted handoff enabled prefer ipv key cache keys save token rowcachekeystosave file store timeout debug unsafe system counter write rpc timeout table preempive open interval mb autobootstrap streaming socket timeout buffer pool heap exhausted compactionthroughputmbpersec commit log segment size row cache keys save enable scripted user defined functions window millis otccoalescingwindowus enable user defined functions stream throughput outbound megabits sec buffers credentials update interval concurrent writers permissions cache max entries network address max size broadcast rpc address streaming socket timeout permissionsvalidityinms columnindexcachesizeinkb diskoptimizationstrategy batch size warn threshold kb commitlogsync ipartitioner base local data center constructor endpoint snitch info counter cache save period parameterized enableuserdefinedfunctionsthreads countercachekeystosave assignable replace address backpressureenabled length commit log sync period separator nativetransportmaxframesizeinmb batchlog replay throttle kb datamodel phi convict threshold back pressure strategy credentials validity spinning row cache save period local comparator role manager database descriptor size service endpoint snitch countercachesaveperiod construct nativetransportmaxconcurrentconnectionsperip key cache keys save user defined function fail timeout cdcfreespacecheckintervalms enable user defined functions threads deprecated hints directory compaction large partition warning threshold tokens compressor transparentdataencryptionoptions dynamic reset interval startnativetransport endpointsnitch parent hintsdirectory illegal argument enabled memtable allocation data free unknown host auto snapshot canonical seed provider logger factory unlogged batch partitions warn threshold disable hints dc partitioner rpc timeout dynamicsnitchupdateintervalinms ideal consistency level lang min port instance build size megabytes back pressure enabled tracetype query ttl comparator batchlog replay throttle kb trickle fsync serverencryptionoptions client initialization dynamic update interval disk access mode batch size fail threshold kb internoderecvbuffsizeinbytes rpc address windows error client encryption options cache hinted handoff disabled dcs broadcast address otcbacklogexpirationintervalms permissions validity tokens paritioner compaction throughput mb sec inter dc tcp delay guess file store user function timeout policy index access mode internode compression write rpc timeout threshold inet address rpcinterface flush writers tombstonewarnthreshold parameters storagedir snitch listen address index access mode permissions cache max entries seeds transport port disk optimization strategy row cache save period permissionscachemaxentries otc coalescing coalesced messages max encryption options tool initialized db dc commit failure policy phi convict threshold memtable offheap space mb addrs commitlogdirectory ssd illegal state hintedhandoffdisableddatacenters disk access mode snapshotbeforecompaction datafiledirectories batchlogreplaythrottleinkb role manager keycachekeystosave common commit failure policy commitlogsyncbatchwindowinms transport max threads incrementalbackups throttle kb endpoint snitch phiconvictthreshold indexsummaryresizeintervalinminutes local address element internode send buffer size rowcachesizeinmb interdctcpnodelay tracetyperepairttl dynamic reset interval prepared statements cache size mb otc coalescing strategy counter cache save period saved caches location rowcachesaveperiod batch size warn threshold kb commitlogcompression credentialscachemaxentries cdc space mb otc backlog expiration interval storageport rate based back pressure server encryption options pretty memory otccoalescingstrategy user defined function fail timeout total space read rpc timeout interval millis column index size internode authenticator seed provider apply seed provider local auto snapshot local spinning disk optimization strategy concurrent compactors write rpc timeout nativetransportport listeninterfacepreferipv partitioner broadcast rpc address apply encryption context disk access mode counter cache save period client tool initialized cl rpc alive role manager max hint window loader rpc timeout broadcast rpc addr parse read rpc timeout disk failure policy cross node timeout unloggedbatchacrosspartitionswarnthreshold requesttimeoutinms config authenticator sslstorageport strategy local comparator index summary resize interval minutes endpoint endpoint bufferpooluseheapifexhausted auto bootstrap commitlogmaxcompressionbuffersinpool token factory internode authenticator internode authenticator instance memtable heap space mb internode authenticator token counterwriterequesttimeoutinms rolesvalidityinms cache service concurrent validations batch memtableheapspaceinmb internode compression commit log max compression buffers pool transport port ssl preparedstatementscachesizemb disk optimization strategy partitioner unsafe maxmutationsizeinkb utils keycachesizeinmb inter dc stream throughput outbound megabits sec tombstone warn threshold listeninterface conf primitives concurrent readers logger storage port na apply snitch runtime cdcenabled user function timeout policy split auto iendpoint snitch credentials validity dht user defined function warn timeout roles validity key cache size mb replace node commit log compression nio cas contention timeout memtableflushwriters fail daemon tool keycachesaveperiod max size key cache keys save encryption context key cache save period validate directory tombstone warn threshold concurrentwrites countercachesizeinmb builder eps interdcstreamthroughputoutboundmegabitspersec iinternode authenticator rpcinterfacepreferipv raw config utils left key cache save period cdcrawdirectory streamthroughputoutboundmegabitspersec user function timeout policy max memory daemon initialization initialtoken partitioner incremental backups enabled disk optimization estimate percentile tombstone failure threshold daemon initialized mmap client initialized internodecompression readrequesttimeoutinms add row cache keys save input logger key cache save period saturated cast format max hints delivery threads concurrentcompactors permissionsupdateintervalinms processors tombstonefailurethreshold user defined function warn timeout commitlogtotalspaceinmb memtableoffheapspaceinmb uuid storagedir collect range rpc timeout concurrentcounterwrites inet address security index summary capacity mb streamingkeepaliveperiodinsecs filecachesizeinmb rolescachemaxentries google authorizer client mode max hint window concurrentreplicates visible system inet addresses userdefinedfunctionwarntimeout nativetransportportssl commit log location file cache size mb cdc space mb maxhintsfilesizeinmb counter write rpc timeout row cache save period dynamic endpoint snitch broadcast address dynamicsnitchresetintervalinms preconditions rolesupdateintervalinms unallocated space roles update interval configuration max entries fail daemon client maxhintsdeliverythreads truncate rpc timeout commit failure policy nativetransportmaxconcurrentconnections nativetransportmaxthreads daemon initialized max hints file size back pressure strategy extension concurrent counter writers concurrentvalidations enable hints dc mmapindexonly internodesendbuffsizeinbytes commit log sync period inter dc stream throughput outbound megabits sec intf elements time millis local address preferred size credentials cache max entries gc log threshold locator max num tokens memtable cleanup threshold truncaterequesttimeoutinms config hintsflushperiodinms consistency level authorizer log val permissions update interval row cache size mb allocatetokensforkeyspace collection clazz integer commit log compression lang serialized cache path back pressure enabled total memory total commitlog space mb concurrent view writers logged config authenticator unsafe system ec cluster tricklefsyncintervalinkb listenaddress transport port info apply simple config disk optimization strategy property temp commitlogsegmentsizeinmb checked cast rpcaddress transport max concurrent connections commitlogsyncperiodinms hints flush period trim paths commitfailurepolicy ssl storage port local dc remove mode disable stcs file server encryption options iauthorizer ni max mutation size cdc enabled dynamic badness threshold idealconsistencylevel seedprovider period millis apply partitioner number format internode recv buffer size parameterized tracetype repair ttl savedcachesdirectory encryption context credentials cache max entries dynamicsnitchbadnessthreshold snitch file utils listen broadcast address cas contention timeout params client initialized counter cache size mb truncate rpc timeout user function timeout policy interval diskaccessmode property prefix partitioner slfj batchsizefailthresholdinkb dynamic update interval hints compression commit log sync
src.java.org.apache.cassandra.config.ParameterizedClass
google classname override parameters config suppress warnings util base parameterized parameters common key
src.java.org.apache.cassandra.db.ClusteringComparator
comparator clustering prefixes generally essentially composite comparator clustering clustering prefixes lexicographical component compared based clustering column copy ensure despatch enforced check number clustering columns table comparator clustering columns table comparator ith clustering column creates row clustering based clustering argument clustering converted buffer column created buffers column newly created compares part size number components negative positive integer argument greater clustering comparator compatible provided provided safely replaced previous previous comparator replace compatibility safely replaced extending components shrinking validates provided prefix corrupted clustering clustering prefix marshal invalid comparator compare rows deal rows faster compare size buffer previous clusterable clustering add clustering prefix clustering comparator format db compare component util subtype common illegal argument iterable cmp clustering google subtypes check comparable reverse comparator serializers tprev collect index reverse comparator cbuilder code immutable math kind base sstable length marshal row marshal compared clustering size clustering rows val reversed copy index comparator kind join tnew row comparator compare io override min min size build nio comparator validate joiner builder compatible index info make
src.java.org.apache.cassandra.db.rows.Rows
utilities work row creates simple row metadata metadata table row clustering clustering columns row add table clustering edit note shortcut pass newly created collect statistics row row collect collector stats total number cells wrap result merging multiple signals difference input note method emit cells listener entity merged input including diff listener listener signal differences inputs merged merged result merging inputs inputs merge yielded input data input data cmp merges rows merging memtable addition reconciling liveness deletion times row complex columns note method assumes provided rows meaningfully reconciled rows share clustering belong builder row build result reconciliation sec current time plays role deleted cells precedence timestamp deciding cell live depends current time due expiring smallest timestamp delta rows existing timestamp delta computed difference cells deletion times row obtained existing row removing shadowed data update produces smallest result row filtering existing source update shadowing range deletion extra covering sec current time plays role deleted cells precedence timestamp deciding cell live depends current time due expiring live iterator existing input iterators collections merge reconcile complex peeking iterator row cell key change reduced nexta merged cell update cells simple builder input data add deletion live input remove shadowed cells merged wrapped timestamp cells reducer db util cell path comparator sorted builder partitions iterator clustering simple builders array iter supersedes collect update dt common cmp clustering google input datas peek clustering existing dt empty iterator diff btree row collector empty deletion time primary key liveness info time delta liveness info column metadata primary key liveness info iterators shadowed abs math row deletion builder metadata input cells update info simple builder complex column data simple add shadowed deletes input cell add shadowed complex nextb idx collect stats column current length row diff listener partition statistics collector row cd cell deletion path apply add primary key liveness info input deletion clustering rows table metadata add row deletion range deletion existing data empty row existing info peeking iterator schema sec comparison reduce existing cells update column row add cell merged deletion copy cell row row comparator row builder complex deletion update data max dt column count compare rows reconcile complex data fill utils curb increment cura merge iterator input info merged info min cell count empty build deletion merged data inputs add complex deletion complex deletion arrays compare update row diff listener builder column data time empty row merged cells cells
src.java.org.apache.cassandra.db.transform.FilteredRows
filter range tombstone marker transforming base rows iterator base row iterator override rows filtered rows apply partition transform row iterator add empty input unfiltered row iterator unfiltered rows secs db filter filter row row
src.java.org.apache.cassandra.index.internal.CassandraIndex
index indexes single column table stores index data hidden true index support search predicates form operator construct clustering entry index table based base clustering columns index table encode required retrieve correct data table varies depending kind indexed index cfs metadata row index table written partition key base data prefix base data path base data clustering prefix insert index search time convert row index table simple struct retrieve row base indexed partition key indexed table index entry row index check retrieved index valid comparing current row base read time identify date index entries excluded search results row current row primary data index retrieved true index date entry extract inserted index components base partition key primary clustering primary path primary cell primary buffer inserted make key index linking index index table empty submit building indexes included builds initiated post processing query indexes regular columns care updates data column care row range update index table note practice indexes purged stale entries resolve deletion prior data stale entries filtered specific internal called searcher encounters stale entry index key partition key index index clustering clustering index deletion deletion timestamp op group operation perform called adding entry called deleting entries key called deleting entries indexes primary key interrupt construct table metadata index clustering columns index vary dependent kind indexed tables legacy keys indexes compact table keys indexes column clustering columns table backing composites index specific index specializations indexes factory method index regulars prefix buffer row key expressions row wait cessation discard tables wait future clustering comparator partition iterator util cql index transaction local deletion time partitions table reader index entry logger index expressions validate clusterings update index table metadata index primary key liveness info range tombstone range tombstone cbuilder cell target parser validate indexed metadata index clustering complex complex column data path read ordering regular column index functions indexed sstable force blocking flush columns add regular column invalidate group read command register index apply partition key fb utilities clustering truncate task table refs validate rows partition key column family store delete stale entry initialization task expression collection base cfs metadata partition update liveness decorate key stream interrupt compaction cfs collated view index builder select function empty request validations timestamp keys build index clustering prefix offline tools data lifecycle view sec post index query filter register estimated result rows keys expression op group cell view fragment key system keyspace ttl keys searcher index cfs metadata callable searcher optional immutable partition key index functions timestamp empty index metadata insert row regular supports operator depends upd iterable clustering nio metadata reload task liveness info base cfs column metadata regular columns op read command composites multi cell builder custom expression indexed column eq index filter indexed stale index key singleton op order partition update cell collection deletion params schema target expression primary key index kind target future logger factory truncated empty deleted row invalid request index metadata instance internal build indexed column command complex column data table validate partition key index begin trace partition ordering table ref regular indexed error left index cfs joining indexed present row filter check false index primary key keys sstables submit index build index supports expression clustering prefix index cells columns searcher index entry db await barrier illegal state composites searcher expiration time add index clustering columns reload common index table reducing key iterator collection key index functions indexer collection deletion time primary key column index instance remove row key row collectors select reference collection index functions key keyspace delete delete spliterator index cell cell live row stream support table metadata cfss pair empty bi function keys index functions build blocking index metadata keyspace index key comparator build index task collection entry index functions tracker find index parse io override logger id post processor primary key index liveness ref view fragment deletion index cfs dht finish deletion time keys validate row max unsigned builder indexer tombstone row generator partition key collections index comparator metadata build blocking row filter cell path cell live logger remaining format compaction add partition key column built insert single row update collect add clustering column operator index def composites google backing table update transaction btree row update row table metadata ref partition iterator transactions compound transaction secondary index builder decorated key column remove cells marshal row statements column family store cell timestamp index functions operator clustering rows write order clustering column index functions dense compact local partitioner function index target partition delete info decode entry cells invalidate task index built compact tables compaction manager canonical build index clustering blocking flush task utils functions loadsstables index registry functions update concurrent future registry remove cell clustering column refs partitioner slfj time
tools.stress.src.org.apache.cassandra.stress.util.ResultLogger
printf stress flush util noop result logger line noop result logger
src.java.org.apache.cassandra.db.NativeClustering
end offset store clustering allocator op order start offset utils clustering peer data offset bitmap size buffer measure group data size allocator clustering end offset bitmap start clustering prefix allocate memory metadata size size remaining data start kind nio sizes write op db kind buffer concurrent raw memory util big endian unshared heap size excluding data boffset order count length unshared heap size clustering empty size order index bounds
src.java.org.apache.cassandra.utils.BloomCalculations
calculations filters methods meant facilitate filter choose correct row shows false positive rates element cell shows false positive rates functions row column cell false positive rate determined buckets element dummy row representing buckets dummy row representing buckets column dummy column representing optimal number number bits automatically calculated data number buckets specification minimizes false positive buckets element number buckets element spec minimizes false positive wrapper holds key parameters bloom number functions number buckets element number maximum tolerable false positive compute specification give false positive minimize number buckets element number functions bandwidth total bitvector considered expensive computing preference minimizing buckets element number max buckets element maximum number buckets max false pos prob maximum tolerable false positive bloom specification result false positive function unsupported operation filter satisfying parameters handle trivial find minimal required number number buckets relax losing calculates maximum number buckets element lower bucket count size retrieves minimum supported bloom filter fp chance minimum supported bloom calculations utils unsupported operation compute bloom spec excess probs math min min bloom specification num elements max buckets max opt kper buckets buckets element max buckets element prob format min supported bloom filter fp chance max min buckets max max false pos prob length
test.unit.org.apache.cassandra.cql3.validation.entities.udfverify.UseOfSynchronized
unsupported operation codec data buffer protocol version transport functions entities params math protocol version datastax sin param execute aggregate impl core nio driver udf context util cql data execute impl udf context udf udfverify validation
src.java.org.apache.cassandra.db.rows.SerializationHelper
flag affecting deserialization behavior affect counters deserialization local data columns converted tombstones gain disk deserialization data received remote columns converted tombstone counters delta transformation ensure deserializing reserializing result yield exact streaming columns included queried user distinguish row potentially null row column requested user skip full cell timestamp lower row row timestamp liveness skip columns fetch end complex column remote start complex column deletion time row liveness column filter dropped columns fetches dropped buffer path clear local complex deletion serialization helper clear counter rows table metadata tester fetched column queried column metadata dropped time cell cell path flag version timestamp current dropped complex marked delete schema nio fetched cell queried tester dropped column dropped complex deletion db includes util flag dropped instance local cell complex counter context column preserve size liveness info tester skip filter clear local context metadata
src.java.org.apache.cassandra.streaming.messages.PrepareMessage
closing constructed channel remain streaming summaries streaming size prepare request serialize stream message streaming session io override stream session message summaries append data input stream input stream num summaries num requests deserialize collection add version builder readable channel input files nio suppress warnings read data input util data output stream io prepare message serializer channels stream summary stream request array messages summary channels write sb requests total file serializer
src.java.org.apache.cassandra.cql3.UserTypes
helper methods user entries assigned receiver receiving entries representation user items user items items user representation user representation user items user items items user representation user field part frozen udt written entirety preserve reject udt overwrite delete existing frozen overwriting cell frozen frozen bound found iterator unset setter field user validate assignable buffers field cell path add multi item terminal protocol version udt assignment testable validate user assignable column specification buffer util deleter field weakly assignable db util key field entries cql execute result iterator array raw operation bind buffer assignment protocol version transport column metadata user add functions cq constants variable specifications term multi cell mapper decorated key unset buffer marker query options field bind index collectors column items cell path field key keyspace length collect elements marshal terminal invalid request entry text build literal collect marker specification apply user size rows prepare marker serialized column identifier user assignment add tombstone params schema function assignable add cell partition key complex deletion time overwrite tuple terminal field path user ut user bind bind marker setter compare stream utils terminal raw override field spec function functions terms update parameters format add functions id field null literal split cf exact elements nio arrays field iter receiver buffer field bind internal validate protocol version delayed field identifier options assignable field spec joining
test.unit.org.apache.cassandra.utils.concurrent.AbstractTransactionalTest
transactional txn utils daemon initialization throwable prepare prepare abort prepare commit close transactional tt runtime suppressed prepared config junit true committed testable transaction ignore framework commit throwable setup dd database descriptor illegal state commit concurrent progress bad commit length commit aborted null transactional
test.unit.org.apache.cassandra.db.filter.SliceTest
filter falls empty missing components missing components start end slice matches start sstable missing components missing components start components components slice end match start filter falls empty missing components missing components start start slice matches end sstable start slice matches end sstable components slice start match end slice covers entire sstable matching empty missing slice covers entire sstable matching slice covers entire sstable matching slice covers entire sstable matching start slice falls sstable matching missing end slice falls sstable matching missing start slice falls missing start missing start end component missing start end slice falls sstable start end slice starts empty missing end slice starts sstable sstable empty missing end slice starts sstable sstable empty missing end slice ends empty missing start slice ends sstable sstable empty missing start slice ends sstable sstable empty missing start slice technically falls sstable component restricted single check component fall missing start missing end missing start end missing start end components lengths start previous component slice start missing start missing end missing start end previous component fit range empty column basic check reversed slice slice incl end bound slice intersects ek slices cc utils clustering bound buffer component sk slice min max lengths slice normalization column make length start instance add build clustering prefix expected integer size junit clustering comparator slice true kind finish nio buffer util incl start bound db builder util intersects single slice builder kind slices array slices normalization original filter components make bound false marshal
src.java.org.apache.cassandra.db.rows.ColumnData
generic data column simple complex column data column data size data hold size data validate column marshal data adds data provided digest add data copy data timestamps live data replaced deletion timestamp timestamp exists paxos additional partition update marshal mark counter local cleared data size digest rows column metadata timestamp update timestamp schema sec comparator db unshared heap size excluding data util cd cd serializers validate max timestamp partitions message digest deletion purger comparator column purger purge column data compare security
src.java.org.apache.cassandra.cql3.TokenRelation
relation token definition columns apply token table table definition columns apply token invalid request entity receivers table table meta column defs column receivers invalid request relation bound token collections token validator partition key columns eq restriction entities add column specification format term util token relation cql identifiers term array check duplicates entities raw common operator google receivers restriction collect column metadata check true token restriction variable specifications term receivers column definitions base column defs restriction restriction prepare collectors keyspace invalid request statements column bound collect marker specification operator table size table metadata column identifier check schema restrictions rename identifier slice restriction relation restriction join key relation tuple slice restriction restriction stream inclusive raw tuples override request validations cf eq restriction singleton joiner bound partitioner invalid request
src.java.org.apache.cassandra.tools.nodetool.StopDaemon
nodetool probe airlift jvm stability inspector node probe io override tools utils tool initialization config node tool description node tool cmd command database descriptor execute stop daemon inspect throwable airline stop daemon
src.java.org.apache.cassandra.tools.nodetool.ReplayBatchlog
nodetool probe airlift node probe io tools io error node tool description node tool cmd replay batchlog command execute replay batchlog airline io
test.unit.org.apache.cassandra.io.compress.CompressedRandomAccessReaderTest
reset current buffer previous reset current buffer previous reset current buffer previous reset current buffer previous reset current buffer previous write garbage write change data read match open compression metadata chunk read verify compressed seek end compressed read checksum write original checksum check read read verify compressed random daemon initialization file data corruption detection write writer snappy null sequential writer junit clustering comparator read metadata collector db util temp file io compression metadata compression metadata junk size chunk random chunk reader read line metadata exists chunk chunk length sync reset truncate compressed mmap meta filename reader sstable metadata collector configuration builder checksum offset compressed random access reader compressed throwable compressed sequential writer sequential writer option usemmap sstable length reset truncate reset truncate compressed uncompressed chunks marshal reset truncate compressed uncompressed chunks mmap read fully cr reset truncate path mark checksum modifier expected schema min compress ratio complete update checksum setup dd corrupt block compression params corrupt table random access reader random access file compression metadata absolute path delete file utils io checksum seek sync util corrupt checksum instance reset truncate compressed config true finish arrays compress data position delete exit fh database descriptor content mmapped builder file file handle
src.java.org.apache.cassandra.cql3.restrictions.RestrictionSetWrapper
wrapper extended modify behaviour wrapped secondary index manager row filter column column defs function index functions slice column metadata add functions empty restrictions size schema restrictions column def restriction restrictions db util query options supporting index cql restriction index manager restrictions add row filter restriction wrapper filter options column
src.java.org.apache.cassandra.db.marshal.FloatType
empty buffer empty unsupported operation divide number utils serialize marshal cq multiply cast serializer buffer override mod negate parsed transport remaining serializer compose serializers protocol version comparison custom instance add empty protocol version number format point constants term nio buffer util format buffer db json empty buffer simple parse input cql serializer source substract left empty meaningless deserialize number cq left length fixed compare compare custom json exc marshal decompose
src.java.org.apache.cassandra.cache.RowCacheSentinel
sentinel row comments cache google row cache sentinel atomic override generator cache code atomic sentinel id util concurrent base increment irow cache entry common
src.java.org.apache.cassandra.service.paxos.ProposeCallback
propose callback modes controlled fail fast fail fast failure majority nodes replaying proposal earlier wait replicas reply desired wait replicas node accepted proposer guaranteed replay timeout leader replays reliable check latch avoid racing late latch check accepts payload propose callback atomic count logger message consistency level service increment accept count atomic integer response msg logger query start nano time trace db util concurrent fully refused successful paxos callback net fail fast required targets count latch total targets required accepts accepts logger slfj consistency logger factory paxos
src.java.org.apache.cassandra.tools.nodetool.SetBatchlogReplayThrottle
batchlog replay throttle nodetool probe airlift node probe arguments io override tools title batchlog replay throttle usage batchlog replay throttle node tool description node tool cmd command integer execute required airline
tools.stress.src.org.apache.cassandra.stress.generate.values.SmallInts
stress generator identity distribution db small marshal instance seed generator config config generate
test.unit.org.apache.cassandra.cql3.selection.TermSelectionTest
helper method differentiate tuple tuple tuple cast differentiate nested nested nested tuples nested ud nested nested nested nested tuples nested ud nested nested nested nested tuples nested ud nested nested nested nested tuples nested ud nested nested nested nested tuples nested ud nested litteral duration creates table reference select bound result weak explicit weak explicit bound selection text insert update delete query constant function big decimal parser spec column specification db util cql execute table timeuuid system result select udt literal decimal expected max row math metadata rows term selection throwable select prepared ten messages current time millis keyspace marshal constant result invalid message size prepare prepared function prepared column result metadata ut tuple collection literals durations uuid ascii function untyped result junit expected constant ambiguous func timestamp micros result message parse user cql tester instance transport invalid select select literal prepared column spec result function overload duration unset
test.unit.org.apache.cassandra.cql3.DeleteTest
load pstmt uninterruptibly configuration session consistency level consistency level execute async query options prepare session net cluster cql tester pstmt exhausted pstmt datastax pstmt pstmt junit true core prepared statement lost deletes pstmt driver pstmt cql pstmt execute null bind futures delete session result future
src.java.org.apache.cassandra.locator.PropertyFileSnitch
determine datacenter based properties file raw information end endpoint endpoint array index data center data center endpoint resides endpoint endpoint data rack endpoint resides endpoint endpoint converts broadcast address make found null check tolerates circular update rack live reloaded hosts reloaded dc rack null true updating live host dc rack changed check live hosts find host quickly interrupt check live hosts reload configuration update topology resource stream snitch properties filename logger reloaded refresh period endpoint info runnable watch util key liveness check intersection net gossip started network topology snitch commons remove logger token hosts common gossip snitch info inet address key google unknown host gossiper starting lang local info append collect endpoint raw endpoint info wrapped runnable configuration datacenter runtime reloaded dc rack host key properties resource file put key length load orig local address entry input stream locator fb utilities service union dc rack local address properties trace enabled host builder raw endpoint info token metadata live ring members info endpoint broadcast address storage service error run logger factory trim stream utils update io override logger remove end property file snitch format instance split resource watcher trace invalidate cached rings arrays loader sb entry rack refresh period runnable slfj broadcast address entry update utils
src.java.org.apache.cassandra.db.commitlog.FileDirectSegment
writes backing commit log file transformations compression writing io buffer pool notify buffer freed manager buffer override commit log write log header add size write error path write duplicate commit log channel nio buffer db io file direct segment commit log segment release buffer flip commit log segment manager internal close position commitlog written pos
test.unit.org.apache.cassandra.db.compaction.PendingRepairManagerTest
local session cleaned local session cleaned local session cleaned illegal table argument thrown scanners sstable pending illegal table argument thrown scanners sstable pending maximal task cleanup collections session id cleanup task repair id coordinator uuid gen illegal table argument null junit pending repair managers scanners db util compaction sstable invalid table fail unsafe table reader add table uuid collect rang prepare unsafe null sessions google pending repair consistent repair id pending repair manager cfs array scanners invalid table compaction task num pending repair finished tasks repair id unsafe fb utilities common cleanup session repair finished task sstable register session repair singleton tasks user defined task cleanup failed size collection time uuid expected maximal tasks utils repair finished compaction task background task user defined tasks estimated remaining tasks fake id estimate remaining finished repair tasks mixed pending sessions mutate repaired compaction task stream prm local session accessor abort io csm cleanup progress format participants pending repair manager true background task sessions cleanup estimate remaining tasks progress transaction cleanup false make table
src.java.org.apache.cassandra.db.rows.NativeCell
timestamp ttl local deletion time length path path unsupported operation allocator op order updated column ttl utils cell simple size cell peer buffer measure group allocator rows column metadata length offset illegal state cell cell path allocate cell memory integer size remaining schema nio sizes write op max timestamp ttl db buffer cellpath unshared heap size excluding data concurrent memory util big endian deletion local deletion time order complex updated column timestamp buffer cell length pathbuffer path empty size order
src.java.org.apache.cassandra.tools.nodetool.ResumeHandoff
execute probe node tool cmd nodetool description airlift resume handoff override node probe command airline io resume hints delivery tools node tool
src.java.org.apache.cassandra.db.partitions.ImmutableBTreePartition
creates holding data provided note method close provided iterator caller iterator iterator gather created creates holding data provided note method close provided iterator caller iterator iterator gather ordered iterator rows created creates holding data provided note method close provided iterator caller iterator iterator gather initial row capacity sizing hint created correspond good estimation number rows created creates holding data provided note method close provided iterator caller iterator iterator gather initial row capacity sizing hint created correspond good estimation number rows ordered iterator rows created ordered iterator deletion info initial row capacity shadowed data encoding stats rows stats table metadata regular columns build unfiltered row iterator holder columns metadata immutable btree partition db decorated key partition key holder partitions deletion info tree row btree partition schema row
src.java.org.apache.cassandra.cql3.restrictions.PartitionKeyRestrictions
restrictions partition checks bound bound bound checks bound inclusive bound bound checks restrictions require table column family filtering checks partition key unrestricted table column family partition key unrestricted restriction filtering statements bounds bound buffer table merge table metadata schema restrictions unrestricted partition key components nio inclusive restriction util query options cql partition key restrictions restrictions bound options
test.unit.org.apache.cassandra.repair.StreamingRepairTaskTest
repair cfm statements time uuid streaming repair task simple request utils flush transfer system parse streaming repair job desc table statement prs plan ranges active repair service column family store instance stream plan table metadata parent repair session id format cfs instance uuid gen build sync request schema junit schema true schema loader setup incremental stream plan repair db util full stream plan session id participan column family store keyspace params preview kind cql prepare server tbl desc service participan task uuid streaming repair task setup keyspace messages participan current time millis session id register session stream plan false src dst parent repair session
tools.stress.src.org.apache.cassandra.stress.settings.SettingsPopulation
option cli utility size number commands err dist counter write insert add exit build runnable generate options util remove collect common user google sequence system lookback result logger immutable generate order option distribution serializable command partition generator run arbitrary generate shuffled distribution options upper options parse pop printf wrap nowrap select config params option simple printer write count bounds distribution limit seed io override sorted contents split grouped options readlookback populate arrays command user sequential options order option stress add builder options command cl population order distribution factory
src.java.org.apache.cassandra.repair.consistent.SyncStatSummary
results session calculate totals summaries tables format util key desc session summary consume stats stream summary summary repair result collect common output key google consistent table stat estimate streaming result iterables append stats consume summaries total size array dst net pretty memory ranges inet address peer src filter keyspace session consume summary repair totals calculated sync stat cf put table fb utilities consume repair result collection consume session results pair sync stat summary files sessions builder receiving summaries column family sort utils num ranges coordinator number differences repair job results empty repair session result consume stat sending summaries null compare table left
src.java.org.apache.cassandra.tools.nodetool.EnableBackup
incremental backups enabled execute enable backup node tool cmd nodetool description airlift probe override node probe command airline io tools node tool
src.java.org.apache.cassandra.triggers.TriggerExecutor
reload triggers invoking loader jars augment partition update executing triggers generate merging update mutation called scoped single mutations triggers checked ensure table key primary invalid request additional mutations original updates updates partition update merge update generated update original update merged additional mutations generated configured invalid request mutation generated trigger apply exact partition initial collection mutations possibly augments adding extra generated configured additional mutations signalling caller initial mutations additional mutations total original additional logged mutations counter invalid request mutations initial collection augmented union initial mutations null additional mutations invalid request additional mutations initial mutations counter loader triggers column loaded custom itrigger keyspace parent buffer trigger metadata trigger add td merged concurrent thread db execute util key updates constructor cql execute internal merge mutations partitions grouped mutations augment file upd custom loader trigger dir merge common trigger executor array iterable google iterables collect array size option mutation cached triggers fb utilities metadata validate key suppress warnings validate partition decorated key trigger directory key query processor partition updates validate single partition triggers put key invalid request current thread partition update mutations table id mutation multimap counters intermediate pair schema imutation load triggers instance context loader partition key temp loader original mutations counter mutation tmutations linked utils io id runtime augmented mutations element array multimap format instance context loader empty linked nio update reload trigger validate custom loader concat collection add clear table id augmentations load trigger instance
src.java.org.apache.cassandra.io.sstable.SSTableMultiWriter
writes partition specific partition partition true partition false table id utils abort table id io append rows abort die throwables writer collection open result table multi writer file pointer fail unfiltered row iterator transactional schema filename max data age finish format db util concurrent finished open result table reader repaired partition sstable
src.java.org.apache.cassandra.hadoop.cql3.CqlRecordWriter
output pairs applies binded prepared associates turn responsible writer groups cql queries endpoint responsible rows cql queries executed directly responsible configuration writer number mutations buffer ring cache describes token ranges node ring responsible group mutations endpoints targeted targeted acts primary replica rows affected handles clients range running host prepared statement id obtain writer ring cache context task attempt close future flushing batched context context fills deprecated record writer close clients key valid mutation table event column missing marked entire key entire key marked key client keys add primary key columns bind session satisfy avoid warnings resource client runs threadpool connects endpoints bound variables keys range client endpoints bounded queue incoming mutations caller record unrecoverable stack calls put client constructs endpoints endpoints execute mutations enqueues loops collecting cql binded variable queue sending loop condition send mutation time npe attempt connect connection died due connecting endpoint state rely driver unexpected wrong invalid close connections prepared statement id prepare stop run result close internal called time add clauses partition keys cluster quoting working uppercase authentication unsupported operation table metadata invalid query cql record writer interrupted session buffer bound statement column position previous id partition key columns write token outer iterator token ranges address replicas add message key columns output cql logger output cluster build thread key clause db driver util key token replace io interrupt cql token range execute configuration lower array output column family mapreduce iter logger inet address queue size driver token range close session output partitioner cluster columns connect keyspace english close output keyspace starts collect column metadata range quote progress net metadata cluster column metadata core run suppress warnings runtime driver host ipartitioner host cql output format key address cql query record writer endpoints prepare collectors range client column reporter queue keyspace range session context array blocking queue marshal size token close async addresses metadata channels put poll fb utilities table metadata cql host start statement length datastax unsafe configuration identifier token factory offer deprecated processors partition key bind variables client table progressable iterator iterator reporter clustering columns close internal join cluster host clients put absent errors cluster append key clauses time unit logger factory hadoop compat result trim conf stream batch threshold output initial address utils auto closeable ring cache endpoints io throwable override logger task attempt context prepared statement partition key queue size cluster format hadoop ring cache empty retry driver connection dht blocking queue concurrent prepared statement composite nio batch threshold keys mapred concurrent bound statement previous closed interrupt error warn locale config helper partitioner host slfj client prepared statements progressable cql config helper milliseconds
tools.stress.src.org.apache.cassandra.stress.generate.values.Longs
stress generator identity distribution db marshal instance override generator config config generate
src.java.org.apache.cassandra.dht.Range
representation range node responsible dht range responsible tokens partitioner range natural ordering inconsistent wrapping interval hold token range full ring wrapping tokens wrap determine point dht ring range point point true point range range check true range intersects cleanup compaction membership range bounds supported range check true range intersects punishment carefull cover full ring intersection disjoint ranges wrapping nodes query range intersection empty straightforward starts ruled wrapping ranges determined mirror images endpoints lie start endpoint lies left handle swapping extra compareto ranges wrapping check split effect range wrap natural ordering inconsistent smaller compare subtracts portion range subtract array ranges left subtracting calculate difference ranges current rhs node fetch moving rhs range calculate difference subtracting yield single copy ranges sorted left bound overlapping bounds unwrap sort unwrapped ranges sorted left equivalent ranges overlapping current end range full left current intersect replacing avoid special result handled sort compute range keys range helper check token collection true ranges constructor false tokens passed method increasing token larger token true token ranges unsupported operation iterator lhs wrap collections unwrapped comparable difference lb thatwraps add empty partition position ranges substract token intersection db util token intersection iterator array commons iter token output unmodifiable current range iterable wrap make row range min result subtract lang end inclusive ret current rb intersections serializable suppress warnings closing wrapping ranges range utils subtract array intersection wrapping range normalized ranges iterator subtract serial version uid singleton point ring position intersection wrapping size collection max key bound pair sort unwrap thiswraps intersection temp start inclusive deoverlap inclusive compare bounds intersects ordered range checker utils safe varargs single io override normalize min range length empty split dht comparator difference fetch arrays max rhs bounds singleton token bounds rhs wrap inclusive left add token compare position opening left
src.java.org.apache.cassandra.cql3.statements.CFStatement
statements apply column explicitly call logged keyspace keyspace explicitly call replace method internal version client state user version client state statement keyspace client state invalid request statements keyspace parsed statement client state cf statement service column family state cf keyspace keyspace cql keyspace prepare keyspace column family cf
src.java.org.apache.cassandra.db.AbstractClusteringPrefix
utils result buffer override data size digest size clustering code duplicate clustering prefix clustering prefix fb utilities remaining ordinal nio bb db update util message digest kind security update
src.java.org.apache.cassandra.dht.IPartitioner
transform key representation key decorated version calculate token representing approximate approximate midpoint left calculate token approximate ratio left ownership token smaller range legal assign node legal range biggest token unlike token users include tokens ordered token route method token randomly generated random instance random generating randomly generated true preserves key order calculate deltas tokens ring order relative sorted tokens sorted ring orders decorated keys provided secondary minimum token decorate key maximum token midpoint token validator random unsupported operation describe ownership buffer ratio left token factory split dht optional empty splitter token factory nio partition ordering db decorated key random token ipartitioner token key token preserves order util splitter random sorted tokens marshal left
src.java.org.apache.cassandra.cql3.Term
column bind term terminal term raw term poviding actual receiver term supposed collects column specification bind variables term bound variables specification collect bind variables term bind term term options bind markers result binding variables terminal term shorter expose constants avoids allocating bind separate bind term bind note slightly calls pure functions terminal bind term terminal shortcut overriden prepared collection function method validates raw term valid provided specification prepared receiver raw term supposed column specification correspond real column raw term describe index prepared representation raw term reconstructing cql query keyspace keyspace statement term inferable bind exact inferrable valid terminal reduced buffer includes terms bind marker delayed call pure function terminal bind constant collection note terminal term consumer assume terminal bind term bind serialized terminal term reduce execution marker constant marker collection function bind pure function bind marker invalid request bound terminal column specification text terminal multi column raw collect marker specification buffer protocol version override transport function functions prepare keyspace add functions exact multi item terminal protocol version assignment testable variable specifications term nio db util query options cql protocol version terminal bind bind marker options raw receiver elements marshal bind
tools.stress.src.org.apache.cassandra.stress.generate.values.TimeUUIDs
clock seq node time uuid time utils seed override instance uuid gen time uuid generator config config dates time uui generator db util generate stress uuid marshal seed salt date gen
tools.stress.src.org.apache.cassandra.stress.settings.SettingsInsert
option cli utility row population ratio option ratio distribution printer batchsize remove exit io printf override batch statement select option config revisit params option distribution batch datastax serializable ratio distribution factory system core runnable run option simple arrays user driver select ratio visits grouped options util cl generate partitions stress insert options options insert result logger options distribution factory
src.java.org.apache.cassandra.cql3.functions.JavaBasedUDFunction
jvm standard executor service debuggable thread pool executor references triggers access control udf poor template text file splitted index constant odd index performing dns lookups instance performing dns lookups icmp param representation representation put udf separate prevent code odd indexes generated source udf source provided user code verify udf bytecode dangerous generate random internal execute detected load instance execute udf intiialization udf count code coverage instrumentation initial builder size guess temp generate source code snippet arguments part call udf function template file method generates arguments code snippet general signature udf aggregation udf calls argument unserialized state output similar output add add comment trace cast special aggregations state variable state function state generate representation input parameter source ud simple compilation required close data udf compilation invoked ecj successful compilation generated invoked ecj successful remove binary wasting file reader found code add disallowed iterator codec generate argument find constructor option report deprecation resource character error handling policies option source file attribute tokens atomic buffer data udf loader iproblem factory udf code verifier valid declare param errors driver base ln integer synthetic method count files message protocol version input logger cls execute aggregate impl option target platform replace version invoke format url max db add ctor file util append parameter code source replace io udf executor service method cql hex compiler count newlines iterator ignore optional problems array target prefix remove logger codec codecs common source code parent output sequence udf code verifier add source icompiler requestor add disallowed method call qualified google format pattern visible context loader thread factory error tokenizer identifier part english contents ecj target loader generate count tokens transport environment answer ignore min priority iproblem source builder permission collection current upper file reader array template execute aggregate user defined net problem factory error handling policy matcher body core runtime compilation result trace disabled called null input declared methods throwable security udf cls token token thread accept result udf context synthetic resource secure loader cert option line number attribute resource stream generate arguments invoke arguments executor service marshal invalid request certificate thread aware security manager input stream put full source problem factory execute internal load execute user defined option source method fb utilities regex problems param file atomic integer generate current thread column identifier params input stream problems virtual machine error length datastax annotations source line number trace enabled method handles url connection pkg thread local random classfmt compose method izer udf context declared constructors context loader malformed url param security thread group line offset method method handle copy function protection domain file substring cleanup raw loader ecj compilation unit eclipse ud function compile array executor jdt problem logger factory impl result based ud function protection domain elements utils protocol version exc orig override ierror handling policy io ia invocation target logger url stream handler driver functions thread execute impl increment verify define parse literal expressions constants code source find internal empty append env builder compiler options compilation unit open connection compiler icompilation unit concurrent file index nio initialize thread starts primitive source iname environment driver proceed problems problem reflect concurrent lookup errors permissions codesource array output stream compiler options streams lang prefix lang parent compound source template find aggregate locale files permissions st udf target loader slfj ud helper error collections sb dot
src.java.org.apache.cassandra.utils.MD5Digest
result computation arrays wrap buffer explicit buffer represent fast comparison handles nulls compare unsigned utils hex md digest override buffer wrap digest fb utilities charset code nio arrays thread local md digest util utf compute length buffer standard charsets hex
src.java.org.apache.cassandra.tools.nodetool.ResetLocalSchema
nodetool probe airlift node probe io override tools reset local schema node tool reset local schema description runtime node tool cmd io execute airline command
src.java.org.apache.cassandra.repair.consistent.ConsistentSession
base consistent local coordinator stages consistent incremental normal sends creates coordinator consistent prepare step promotes parent repair session consistent isolates repaired coordinator sends message participant node creates state persists begins pending anti session state coordinator indicating success pending local session state coordinator recieves positive messages coordinator begins normal repair coordinator runs normal data repair process sstables segregated previous node recieves local session state repair sessions complete coordinator begins begins step finishes session promotes sstables coordinator begins messages participant state respond coordinator received promise messages send message ending coordinator node receives sessions state completing sake immediately mark pending repair sstables repaired conflicts progress sstables marked repaired part normal compaction coordinator local session failures problems process session session coordinator send messages including validation errors reported back coordinator local send messages sstables immediately moved back demoted part normal compaction recovery session scenarios sessions node fails mid misses address cleanup task runs minutes attempts complete idle session completed activity session cleanup task attempt finish session learning session state sends message session participants respond notifying sender sender receives fails session receives response state coordinator sessions received messages session activity session session completed operators manually fail sessions nodetool states typical progression state transitions redundant transitions failure recovery mechanism send redundant status promised state immutable util token expected ordinal uuid failed common inet address iterable google validation request prepare consistent request uuid consistent state result iterables transitions collect tools code repair option participants preconditions status request net ranges range base put prepare message table ids messages ids check argument state preparing repairing repair consistent session prepared table id builder active repair service service transform collection participants schema state uuid table ids ranges copy coordinator session id transition prepare consistent response nodetool fail session coordinator repair admin repaired table ids propose empty state dht ordinal commit promise session id status response validate peers repaired builder
src.java.org.apache.cassandra.metrics.AuthMetrics
force instance number rate successful logins number rate login failures add meter auth metrics success failure mark failure meter mark metrics instance init codahale mark success client metrics
src.java.org.apache.cassandra.db.commitlog.AbstractCommitLogSegmentManager
performs commit log segments background methods thread segment ready management thread fills blocks single management thread produces consumers synchronizing make work performed atomically consuming make writes management thread visible consumers synchronize active unflushed tail queue allocate writes segment allocating commit log records written advance allocating synchronizes ensure reads current tracks commitlog multiples segment adjustments ahead segments oldest effect recycling segments immediately happening manager run loop manager started finished segment left segment discard writing threads segment writing threads waiting spend time flush cfs sleep arbitrary period avoid spamming offered wait reentering segment failure discard shutting ensure segment allocated allocate segment succeed recovery replay process replays mutations memtables flushes individual decide segments disk hook segment managers track state surrounding creation onl perform task segment manager performed segment management segment file flushed longer perform task submit manager performend segment management perform segment management thread segment segment delete segment safe advances allocating pointer prepared segment assumes segment management thread succeeds allocating segment kills critical section maintain order segment construction moving segment wait management thread construct change allocating active segments critical signal management thread prepare run user defined command commit recycle call head start ensure strictly cleaner enforce request cl synced finished left current flushes dirty cfs segment older discards wait commit log make writes materialized inside memtables waiting outstanding flush wait cfs dirty segments including recycle segments triggered previous active segment recycle active segment necessarily call log segment longer segment segment longer archiving successful leave file delete adjust tracked called individual segments reflect allocations space segment force flush cfs dirty future finish flushes cf id ensure queue flush remove schema entry flush dropping writer race finish append safely call force flush block attempts deadlock possibility lock stops call commit log service shut safe mutation slots allocated explicitly resets unit segment file initiates shutdown process management release management thread delete prepared block thread claim segment happen unit management thread collection active commit log current commit log position active segment allocating forces disk flush commit log files sync segments active sync compressed encrypted segments share buffer pool called commit log segments buffer freed wake management waiting buffer access current segment interrupted nicoulaj collections atomic force flush jvm stability inspector unmodifiable collection thread segments segment prepared current size segments recycle allocation add table metadata atomic logger limit commit log segment manager mutation supplier unused capacity thread signal force recycle archive success util io join discard unused tail commit log added size segment flush data array metadata yield logger await segment active segments mark clean debug throwable wait modifications iterable google active segments max commit log position visible flushing size thread factory current commit log position remove close wait queue linked add size current archive allocate net wrapped runnable flush reclaim allocating common peek runtime futures wake manager advance allocating await management tasks completion run handle commit error dirty table id metrics key storage directory dirty table ids stop unsafe put keyspace handle replayed segment discard manager thread wait condition wait condition simple cached buffer pool archive discard write order table id mutation shutdown cancel dropped tables commit log total open size dont inline table metadata start collection force sleep uninterruptibly archiver annotations schema function await termination total commitlog space mb sync keyspace await uninterruptibly wait archiving commit log position manager thread wait queue discard segment await barrier commit log max compression buffers pool commit log segment inspect throwable future future error manager thread time unit logger factory delete current allocating file add buffer pool utils segment runnable io logger id buffer pool concurrent linked queue unused current position uninterruptibles column family store cfs instance empty buffer pool commit log segment size schema config trace compilecommand db signal flushes disk size prepared unused concurrent future waiting segment allocation request extra sync delete segments notify buffer freed database descriptor segment error listenable future runnable segment buffer limit clear register slfj table id file time close delete segment unsafe column family store commitlog
src.java.org.apache.cassandra.db.marshal.CollectionType
validator base frozen note comparator checks collection collection overrided subclasses handle compatibility checks frozen comparator cell sorting compatibility subclasses handle compatibility checks frozen version deal collections version deal collections compatible internal comparator skip write vint length buffer compatible frozen hex serialized size cell path protocol version column specification buffer util format db collection comparison util io comparator read vint length cql serializer deserialize iterator key spec data output serialized size vint length transport collection serializers tprev comparison version compatible frozen previous cq kind multi cell data input ignore freezing skip vint length validate cell marshal serialize marshal cell collection path size rows source compatible collection path serializer freezable serialized serializer kind collection serializer key cells cell path serializer spec pack utils cq io override collection size make collection receiver instance number format nio collection serialize protocol compatible cell
src.java.org.apache.cassandra.utils.UUIDSerializer
data output utils serialize io sizeof uuid serializer uuid significant bits version iversioned serializer sizes data input db util serialized size io significant bits uuid deserialize write read serializer
src.java.org.apache.cassandra.utils.obs.OffHeapBitSet
file compatible calculation backward existing similar open rotate unsupported operation close utils offset data output override count read io memory memory error sizeof code ref serialized size index bitswords identities data input num bits add heap bit allocate memory integer size add memory sizes identity collection suppress warnings runtime read max db free util open bit io heap size bit write serialize capacity deserialize concurrent clear word count ibit bitmask write obs
src.java.org.apache.cassandra.db.marshal.NumberType
base numeric checks support point support point converts converted unsupported operation converted losing converts converted converts converted unsupported operation converted losing converts converted unsupported operation converted losing converts converted unsupported operation converted losing converts converted unsupported operation converted losing converts converted unsupported operation converted losing converts converted unsupported operation converted losing adds left argument left left left left addition substracts left argument left left left left substraction multiplies left argument left left left left multiplication divides left argument left left left left division left left left left negates input argument negated big decimal unsupported operation divide number comparison multiply buffer negate point na big integer big decimal comparison add number format input math infinite nio db substract mod big integer left number marshal left
src.java.org.apache.cassandra.io.sstable.Component
tables made multiple components separate components identified required unique components index implicit ids assigned base data remaining components based data index row keys pointers positions data serialized bloom filter row keys file hold information uncompressed data chunk offsets statistical metadata content holds checksum data holds chunks uncompressed holds table index summary index table stores components secondary index multiple custom custom compaction singleton components unique parse component part sstable filename representing sstable component note component parsed custom build retrieve singleton component google pattern parse crc io override toc code regex data component custom secondary index compression info representation stats matches repr summary util base digest primary index error filter sstable separator common
src.java.org.apache.cassandra.service.AsyncRepairCallback
latency snitch blockfor utils atomic message message service read response atomic integer response preprocess data resolver wrapped runnable stage db util concurrent async repair callback stage net received execute read repair increment stage manager iasync callback run compare responses repair resolver
test.unit.org.apache.cassandra.db.TimeSortTest
interleave data memtable size iterator time sort table results column family store open cfs cql tester mixed sources util row junit dk rows db validate time sort util keyspace column family store key cql untyped result execute decorated key iterator iter keyspace table force blocking flush time sort throwable row
src.java.org.apache.cassandra.index.sasi.utils.MappedBuffer
fast path retrieved single avoid multiple expensive page forcing unmapping pages undocumented unsafe sun fails sun wait gc works thread access hell unleash supposed cleaner compare google buffer page size page offset utils channel proxy visible pos ch channels io close read index slice min mode ch pages duplicate math integer size annotations buffer file nio limit page region page remaining db buffer num page bits channel util page offset ch offset file utils segment closeable size compare page capacity comparator illegal argument remaining file channel random access reader length ch limit common clean size bits position position sasi marshal page aligned format
examples.triggers.src.org.apache.cassandra.triggers.AuditTrigger
load time uuid audit trigger stream partition update input stream collections mutation io table utils fb utilities audit table table metadata simple builder add collection instance uuid gen load properties partition key schema properties schema loader runtime simple builder partition db update util singleton partition key file utils itrigger properties partitions audit resource stream property augment triggers row build mutation key keyspace close quietly table metadata metadata audit keyspace
src.java.org.apache.cassandra.io.compress.CorruptBlockException
format file path corrupt block chunk offset compress length io compression metadata io throwable chunk
src.java.org.apache.cassandra.streaming.management.SessionInfoCompositeData
plan id update progress progress info cds stream session open composite data info util integer host address uuid stream summary collect common inet address composites google transform composite array streaming state unknown host iterables session info composite data array session index convert item descs state connecting receiving files progress net composite data openmbean base array sending files put session info composite data composite session info cd peer collection apply size management simple throwables open data progress info receiving summaries func input progress info progress info composite data stream summary composite data array composite data support stream summary function array composite data array composite data sending summaries composite arrays propagate item item stream summary
test.unit.org.apache.cassandra.db.compaction.TimeWindowCompactionStrategyTest
disable tombstone histogram rounding hour window round beginning minute window round beginning day window round beginning day window round beginning decrement timestamp simulate timestamp past add progressively cells put sstables newest bucket hour reset overfill iterator num tables interrupted sleep compaction window unit key buffer drop expired tables add util validate options null junit dk thread format db util window bounds millis live tables compaction table reader add table define schema array keyspace metadata tstamp time windows common key expired table google size tiered compaction strategy options newest bucket system iterables max timestamp cfs collect size configuration buckets decorated key key expired sstable check frequency key apply unsafe unvalidated null options validation keyspace days current time millis sstable sstrs force blocking flush options bucket truncate blocking simple standard cfmd compaction window size key put keyspac wrap prep bucket open timestamp resolution key min timestamp clustering time window compaction strategy options pair schema startup tstamp tstamp keyspace column family store property minutes prepare server row update builder originals twcs bounds time unit disable auto compaction compaction task multimap utils fail abort io key low hour column family store time window compaction strategy hours empty build background task cf standar true schema loader nio time window compaction strategy concurrent keyspace params transaction compare left
test.unit.org.apache.cassandra.db.rows.UnfilteredRowIteratorsTest
simple concat rhs empty concat lhs empty concat concat cql concat concatenated iterator unfiltered row buffer cell live concat rows iterator junit columns dk buffer util db unfiltered row iterator util framework add partition key column simple iterator merge add clustering column empty iterators btree row column metadata regular columns cell data limits metadata ttl cql limits rows builder decorated key end data filter add regular column row ck deletion time cell fb utilities clustering rows table metadata buffer decorated key pk unfiltered row iterator iter schema token add cell murmur partitioner comparator compute unfiltered row iterators metadata rows iter iter utils regular columns encoding stats unfiltered row util instance build dht true deletion time arrays stats concat unfiltered row iterators row builder metadata marshal empty row
src.java.org.apache.cassandra.hints.HintVerbHandler
verb handler hint dispatch stream hint sstables node stream hints host host decommission host handler stores received hint local hint unknown table tables log happen due transfer hints schema agreement sender perform validation applying place node destination hint decommissioning store delivered topology longer replica mutation handed hint common path node destination valid replica validate messaging service local host uuid payload hint accept partition update hint verb handler marshal send reply logger message storage proxy service hint hint response message apply future id write instance applies locally mutation reply net hints storage service host id unknown table id trace hints service db util partition updates address serializers iverb handler logger partitions warn hint message uuid verb endpoint host id logger slfj write replicas debug inet address logger factory
src.java.org.apache.cassandra.exceptions.ReadFailureException
read failure request failure reason failure reason endpoint received consistency db util read failure request failure code inet address net block data present consistency level
src.java.org.apache.cassandra.db.AbstractBufferClusteringPrefix
clustering size heap utils buffer measure size clustering size heap excluding data make clustering prefix clustering prefix empty array kind nio sizes db unshared heap size excluding data raw buffer clustering prefix kind length unshared heap size empty size
src.java.org.apache.cassandra.db.lifecycle.View
immutable structure holding current memtables sstables column sstables compaction subset modifications instances performed function produced methods composed provided atomically reject accept apply ordinarily size preparing flush memtable replacement outstanding write operations table item memtables longer referenced writing queued process chronologically ascending easily perform identity checks marking expect sstables present check present live exact instance present made decision compact active memtable memtables pending shortcut live efficiently sstable tracker special method leak follow normal reason checking compacting sstable compacting early normal canonical version sstable note early version instance sstables partition bounds interval formed view fragment sstables memtables interval view fragment sstables memtables rows interval note includes bound row bounds fact restrict sstables function optimization place sstables cover row bounds sstable included bound performance impact negligible methods construct functions modifying function provided readers compacting construct predicate reject views permit mark readers construct function change liveset called prior initiating add memtable making latest called move flush live memtables called removes memtable inserts flushed live sstable collections mark flushing sstables sstables bounds predicate memtable readers add live candidates empty partition position memtable db live memtables util key compacting illegal state row bounds table reader noncompacting remove collect stop tree common flushing memtables iterable view functions google unmark minimum visible flushing iterables current memtable immutable flushing reader permit compacting empty decorated key comparable base helpers key search select live filter sstable canonical tables strictly wraps format replace compacting id interval tree apply select size live mark live tables bounds live identity predicates memtable annotations open reason live tables tables copy replace flushed flush early canonical bounds memtables utils marked compacted io override function open reason sstables operations select function empty build dht table uncompacting interval update live max table interval tree flushed sstable lifecycle concat view memtable add builder filter compare update compacting sstable left
src.java.org.apache.cassandra.tools.nodetool.RelocateSSTables
nodetool probe airlift node probe arguments io override tools option title parse optional tables relocate tables usage cfnames node tool jobs description runtime node tool cmd relocate tables keyspaces command parse optional keyspace util execute array keyspace airline
test.unit.org.apache.cassandra.db.ReadCommandTest
delete data keys sorted deletions clustering rows merge check results row filter daemon initialization buffer query filtered partition serialization helper util group row iterator row filter delete row add row iterator junit timestamp micros partition iterator buffer util unfiltered partition iterators db util add partition key column single partition group merge partitions deserialize slices define schema array cmd iter column filter add clustering column read execution controller data output buffer metadata data input buffer partition range abort partition iterator currentversion close expected rows cfs buffers unfiltered partition iterator clustering index slice filter single partition slice abort num partitions data limits read command read query net size configuration single partition abort builder merge filter decorated key groups ascii iterators commands execution controller row keyspace filter keyspace length force blocking flush single partition read command add regular column row messaging service truncate blocking group simple standard cfmd clustering bound column filter read command serializer intra node apply open fb utilities clustering rows table metadata local include row unfiltered row iterator top dk schema row merge listener keyspace partition key column family store serialize prepare server slice filter row update builder comparator versions bottom unfiltered row iterators flag read command slice utils abort io cf cf regular columns builder execute locally merge listener make column family store instance build cf config schema loader nio buffer row count slice keyspace params database descriptor data metadata metadata metadata builder marshal
test.unit.org.apache.cassandra.tools.StandaloneSSTableUtilTest
runner schema loaded keyspace loaded schema loaded standalone table util expected threads schema run tools run tool unexpected threads started standalone table util junit tools tester optional threads schema system loaded standalone table util server loaded clsm loaded ordered junit runner
test.unit.org.apache.cassandra.transport.ErrorMessageTest
make passed modifications passed affect prevent potential issues serialization created modified due delayed response failure reason endpoint simple unknown received decode put unknown host write failure io modifiable failure reasons read failure read tombstones deserialized rfe message consistency level failure reason failure reason consistency write failure ser deser request failure makes copy wfe transport version request failure reason encode received block net junit fixtures rfe error message buffer protocol version db unpooled read failure ser deser codec block data present serialize deserialized error message netty write util encoded size error message messages deserialized write deserialized wfe buf error inet address consistency level
tools.stress.src.org.apache.cassandra.stress.settings.SettingsMisc
send daemon dist iterator distribution resource printer find resources group opt runnable format url matcher util key replace io lower utf cmd remove common key distribution extra google pattern inverse cum prob system rangemax parse version file exit option distribution net serializable run stream distribution base command distribution generate length options op printer select size regex matcher version params charsets rangeperc misc version file contents err sampleperc illegal argument compile special stack trace io override empty grouped options send daemon printer description arrays max option stress url options command cl cli option
src.java.org.apache.cassandra.locator.DynamicEndpointSnitchMBean
severity operators inject preference information dynamic replica choosing replicas participate read dsnitch sorts response selects fastest latencies normalized lower scores severity injected added normalized adding severity greater replica added rapid read adding negative severity replica term historical dates represent badly background tasks compaction affecting introduced current manually injected dump timings subsnitch severity dynamic endpoint snitch mbean locator unknown host reset interval severity hostname net util update interval badness threshold severity inet address scores
src.java.org.apache.cassandra.index.transactions.IndexTransaction
base handling index transaction indexes updated stay sync base represented regular write path indexing newly acquired tables streaming transaction include row inserts updates rows previously existing base scoped single partition update obtained factory compaction stale entries superceded cleaned rows partition merged index entries purged rows cleaned index compensate fact removed write time data base table flushed disk processed update transactions scoped single row improved batch multiple rows single cleanup merging thing notify indexes partitions rows transactions scoped single row improved differentiate index transaction handler index index transactions update start cleanup compaction commit index transaction
test.unit.org.apache.cassandra.cql3.validation.miscellaneous.TombstonesTest
tombstone overwhelming thrown insert amount tombstones trigger insert amount tombstones trigger insert amount tombstones trigger delete partition level delete partition level past gc grace sleep past gc past gc grace toe tombstone failure threshold google threshold select tombstones tear daemon initialization system shadowed select fail sleep line separator original threshold tombstone failure threshold throwables cql tester table stack trace threshold config junit true db miscellaneous util concurrent base throwable database descriptor cql expired tombstones execute live shadowed cells select framework threshold select filter tombstone overwhelming common error time unit validation
src.java.org.apache.cassandra.serializers.SetSerializer
interning received huge initialize initial capacity oom add called hand avoid put reasonable limit sorted element element passed start check slice care check include include linked collections buffer instance serialize add protocol version input buffer util db compute absent pos util databb compare cql deserialize read collection size array serializer deserialize protocol concurrent slice append remaining serializers comparator version math unset buffer key comparison buffer underflow marshal validate protocol serialize marshal instances size serializer read duplicate sort builder slice serialized count collection serializer comparator transport utils start pos min serialized buffers concurrent elements copy collection nio element count collection concurrent position validate element sb element comparator
src.java.org.apache.cassandra.exceptions.StartupException
thrown system indicating environment valid state code err wrong machine state err wrong disk state err wrong config startup throwable message
tools.stress.src.org.apache.cassandra.stress.settings.StressSettings
send daemon counter write max num failures metadata current node send daemon random node graph immutable add message exit columns split log rate num failures db util keyspace replace insert execute lower array collect mode result logger key simple client google core node system disconnect rate user keyspaces port transport starts errors enc options put param schema serializable common command runtime driver command key generate compression array key keyspace length legacy copy range entry put port printf graph consistency level log port token range parse driver client key spaces params datastax prev linked schema builder append write misc encryption options illegal argument column profiles special connect parse io empty build command config encryption options driver client node arrays command user token range simple client stress entry repair params transport stress client encryption options errors clear insert mode client schema cl sb population
src.java.org.apache.cassandra.db.SnapshotDetailsTabularData
google tabular tabular utils total size cf result io entry management open throwables open data row desc pair stringify file size composite runtime item descs db util live size openmbean base propagate composite data support file utils tabular data support composite snapshot details tabular data simple put item snapshot common snapshot detail item left
src.java.org.apache.cassandra.serializers.MarshalException
serializers runtime marshal throwable message
src.java.org.apache.cassandra.net.IMessageSink
drop outgoing true message false drop incoming true message false message incoming message message imessage sink id outgoing message inet address net message
src.java.org.apache.cassandra.service.WriteResponseHandler
handles blocking writes consistency subclass current subclasses assume log response ideal cl delegate latency snitch write response handler log response ideal cl delegate updater collections atomic logger message consistency level signal service keyspace collection net query start nano time runnable write responses empty arrays db write endpoints util keyspace callback logger endpoint write decrement concurrent atomic integer field updater write response handler responses updater ack count logger slfj total block inet address response logger factory pending endpoints consistency level
src.java.org.apache.cassandra.io.sstable.metadata.MetadataSerializer
metadata serializer tables version file format number components toc toc component position component defines order sort components write number build write serialize serialize serialize read number read mutate mutate time move file top file file data input filename serialized size logger mutate pending repair metadata collector sorted components util current components io pending repair metadata uuid deserialize mutate level remove tmp filename logger common write collections google exists data output version flush stats collect array repaired version mutate repaired fb utilities metadata read component descriptor offset metadata serializer rewrite table metadata level sstable stats metadata serialize put stats file open size windows integer sort num components stats buffered data output stream stats metadata data output stream toc random access reader descriptor imetadata serializer logger factory position delete utils io logger seek file path mutate repaired format component file output stream ordinal rename confirm components trace metadata component file utils slfj file serializer
src.java.org.apache.cassandra.db.compaction.Verifier
verify digest works compressed uncompressed check null key avoid npe key scrub read iterator error buffer filename verify info predicate uuid gen message io error row index entry remaining metadata serializer verify info buffer util format max db close quietly util io compaction verification compaction id table identity iterator table reader output handler uuid file digest validator index serializer common debug output google exists eof fatal close data size offline cfs index serializer random access reader verify controller compaction info verify runtime bad rows version file pointer row index entry serializer holder primary index metadata filename pretty memory file digest validator decorated key table format base key throwable read length closeable row start key sstable length rate limiter current index key data integrity metadata hex output handler row position index deserialize position skip header verifier index file row position index open active repair service fb utilities rows service stop requested throwables mark open data reader compaction info time uuid integer unfiltered row iterator function controller pending repair column family store operation compaction controller data start index unrepaired sstable corrupt table good rows descriptor mutate repaired compaction manager decorate key utils compaction interrupted key io override purge evaluator seek verify info index key verify component instance data start data file extended nio log output time propagate file utils validate digest error table metadata prev key validator file compare
test.unit.org.apache.cassandra.db.CellTest
sides based cell note marshal escape fail valid invalid empty valid underlying empty bb bug valid proper invalid invalid local deletion valid cell invalid cell path field position field position valid invalid invalid invalid local deletion invalid cell path field position field position valid fewer invalid invalid invalid invalid local deletion newer newer tombstones purged local deletion time greater cells expired converted tombstones local deletion local expiration minus tombstone created expiring cell local deletion time iterator cf collection daemon initialization cell buffer expiring cell reconile buffer cell instance field validate frozen udt cell path live quoted tf cells cells junit rm buffer util cells db util framework add partition key column cql local deletion time define schema collect regular common add clustering column purge null rm expired tombstone conversion google ttl purgeable tombstone fail buffers deletion time serializers array column metadata cell user cfm reconcile complex position configuration kind validate frozen udt bb deleted purgable tombstone cdef val valid keyspace purgeable expiring cell simple purger decompose add regular column keyspace params column simple deletion time standard cfmd marshal cell build keyspac database descriptor fb utilities rows table metadata live column identifier integer rm ut schema expiring expiring udt validate integer prepare server bbs cells row builder purge local expiration time str conflicting field identifier invalid reconcile utils live expiring cell gc fake column instance rm rm build cfm timestamp tombstone cf standar config schema loader nio arrays rhs empty buffer regular validate deletion purger column interned builder marshal complex cell reconcile lhs purged
test.unit.org.apache.cassandra.service.LegacyAuthFailTest
reporting individual reporting multiple existing legacy tables google startup checks present auth keyspace err msg joiner service drop legacy table cql tester legacy tables legacy auth fail empty check legacy auth tables message optional junit schema legacy auth tables format legacy table util schema constants cql startup checks lang legacy table execute join array keyspace remove base common false throwable
src.java.org.apache.cassandra.db.transform.Transformation
single common superclass transformations make shared stack share transformation partition reducing internal code simplified basic methods early termination provided invoking stop method efficient simpler reason internal methods stoppable transformation run close partitions iterator function applied stipulate applied transformed iterator lifetime longer lifetime iterator applied refilled iterator outlive run close rows iterator function applied stipulate applied transformed iterator lifetime longer lifetime iterator applied refilled iterator outlive applied rows iterator encounter partitions applied row encounter rows applied rtm encounter applied partition key iterator applied applied row rows note applied iterator sequence iterators filled data iterators expected applied deletion rows note applied iterator sequence iterators filled data iterators expected applied rows remark applied iterator sequence filled application method sumilar supresses optimisation avoiding creating wrapping interator creates extra grows call stack input checked contents directly checking concatenating iterators yield stacked transformations wrapping result single iterator signal iterator base rows filtered partitions apply row base partitions unfiltered partitions iterator regular columns base row iterator wrap iterator contents marker apply transformation filtered rows partition iterator unfiltered partition iterator deletion time row iterator apply partition transform partition close range tombstone marker attach base iterator mutable transformation columns apply deletion time decorated key close apply partition key db apply deletion rows key partitions unfiltered row iterator row partition unfiltered rows add apply marker apply partition columns row
src.java.org.apache.cassandra.repair.Validator
handles building merkle tree column initialize tree add enqueues operations blocked waiting valid null rows min token current range iterator iterating ranges key beat tree distribution tree sample column family random keys called row present adds tree partition partition add generate ranges add empty move mix merkle tree xor lots output bits merkle tree digest updated registers newly created tree rendezvous log distribution rows called error validation sends repair status inform initiator validation actual reason failure log host calling send fail message nodes version called validation lifecycle respond valid runs respond request triggered row messaging service random underlying digest init input logger num keys ranges count runnable dk db trees util token token desc execute array random logger validation complete stage manager common debug inet address security merkle trees reset google merkle tree visible streaming repair job desc message digest fail run cfs trace repair engine reset net fb utilities stage consistent add tracing decorated key len ranges key validator stage offset log row size leaf log row count leaf tracing messages range keyspace range send log prefix repair anti entropy currentversion size rows prepare add unfiltered row iterator annotations invalids complete partition key column family store preserves order message digest tree debug enabled unfiltered row iterators info column family error preview kind logger factory utils row tree distribution sample key samples counting digest override logger validated engine digest message session id instance empty split dht complete tree keys update algorithm concurrent preview kind sec initiator clear partition ensure initialised partitioner slfj broadcast address engine update tree range compare find correct range tree range iterator
tools.stress.src.org.apache.cassandra.stress.generate.values.Inets
generator unknown host override val generate instance inets net config address runtime db inet address buf generator config stress identity distribution inet address marshal
src.java.org.apache.cassandra.service.pager.MultiPartitionPager
pager note easy make page command fully results result command small paging commands time compared command raised page size end page size results defeats purpose simple command provided make pager cfs partition size decide parallelizing command worth confident blow beginning find skip previous exhausted pager previous page started current note difference partition key practice read order group group protect iter closed iter closed internal reached page size group current page size math group single partition pager data limits exhausted protocol version remaining partition iterator db pagers util partitions system result protocol version close client state nano time transport max remaining pagers iterator current state closed suppress warnings paging state key request validation commands limits request execution end data key filter length single partition read command group group limit remaining partition consistency level size rows service multi partition pager query start nano time sec partition key copy limits count compute read execution controller limit client state query row mark utils fetch page internal query pager fetch page iterator updated limit min row iterator pager max remaining pagers arrays execution controller pager pager error command consistency counted
test.unit.org.apache.cassandra.db.marshal.DecimalTypeTest
check decomposed buffer initial check null argument yields empty sort array buffer decimal check array true compare utils decomposecompose high low buffer array decimal compose big decimal length plain instance low minus bb junit math sort bb nio buffer util arrays db compare util high decimal low bb low bb minus bb sort empty buffer high bb compare marshal decompose
src.java.org.apache.cassandra.io.sstable.metadata.ValidationMetadata
table metadata component validating part read opening file discarded immediately validation metadata serializer validation metadata data output serialize compare read imetadata component serializer write utf version read utf result io override sizeof metadata component serialized size write code version metadata sizes format data input db util io bits metadata deserialize temp bloom filter fp chance partitioner sstable component validation serializer
src.java.org.apache.cassandra.utils.FBUtilities
broadcast address bit arrays represented number significant calculate left left sigbits number bits points midpoint compare bitwise halfway representing lsbit remainder wrapping bitwise xor output length longer input output range careful sort order range find tokens side wrap unwrapped range standard sort microsecond resolution compatibility client microsecond instance partitioner defined table desc descriptor ipartitioner classname fully qualified readable descriptive noun role configuration constructs instance classname fully qualified readable descriptive noun role configuration instance constructs instance classname fully qualified readable descriptive noun role configuration thrown nullary including checked make straing make representation entries key pair concatenated access field klass field field null sanely calculate rate starts waits pb exit updates checksum provided buffer offset resets position limit back original method updates checksum provided resets position back original method iterator results sleep buffer display fast operations sigbits swap data output stream wait future util io serialization header metadata fast thread local array compute commons trigger dir logger update joiner tools output directory enumeration instance construct unknown host lang trigger dir codehaus xor addr sum close abs net metadata field runtime pretty memory descriptor field big integer checksum sofar sstable security closeable iterator serialize line sep fb utilities zip throwables def found error readable local inet address irole manager duplicate write utf trigger dir json annotations sort warn md join err loader inspect throwable compare validation metadata release version logger metadata component iterator interrupted array offset write sort sampled keys data config arrays max network runtime data annotation add futures file sb rpc address json socket resource timeout jvm stability inspector nets digest write key shift optional cls iauthenticator url broadcast rpc address auth json mapper iterator update merge ifc data output buffer read line validation iterable offset offset ee jackson local addresses math copy thread local md digest midpoint ipartitioner base remainder reflect declared field update end data baos length listen address tree singleton classname navigable array size construct async response output stream update checksum copy distance local host illegal argument rate future str time unit logger factory history dir conf dir field scpurl component instance append comparator exec buffer header array output stream joiner windows error buffered reader broadcast address compare milliseconds nsae compare unsigned present wait version iversioned serializer timestamp micros operating system illegal access db field token netty lower common throwable exists role manager element result fail close json factory filename array props boundary pretty memory nullable sleep quietly file authorizer closeable iterator accessible absolute path network partitioner broadcast rpc address update directory update array load pow loader header include space parse read pb json pair copied properties empty instance builder message digest comparator process input stream reader align cast cr elements utils joiner sstable metadata io execution override mod runtime millis dht nio keys database descriptor input stream authenticator max unsigned linux command length position utils left found key separator time nano bit collections serialized size instance source add logger big integer remaining metadata serializer initial thread format read checksum empty sorted token processors desc deserialize inet address security google negbit visible system inet addresses write utf message digest wait futures fail configuration broadcast inet address decorated key range offset subtract resource file column current time millis range marshal block local address update checksum instantiation input stream nonnull val algorithm processors collection local address start partitioner data output buffer fixed integer local partitioner message digest auto closeable process builder error stream err code network local md digest resource stream copy reset add suppressed property field limit flush len len wrapped closeable iterator local addresses mapper iauthorizer index field loader update concurrent future file utils lang algorithm validation metadata partitioner slfj klass serializer
src.java.org.apache.cassandra.utils.memory.SlabAllocator
slab allocator allocator large global regions doles threads request smaller sized slices purpose combat heap fragmentation ensuring allocations similar large regions contiguous ensure large freed variable length arrays allocated end interleaved generation fragmented compacting collection bigger globally stash regions allocate beaten allocating queue references allocated regions free satisfy large allocations directly jvm fill regions allocate current current allocate current allocate allocators cas fail stash region won race grab iteration region memory allocations serves provide step initialization racing cas region encapsulates allocation actual underlying offset sentinel implies region total number allocations satisfied uninitialized note memory allocated buffer allocate successful null capacity atomically claim raced lost clone heap direct buffer region count ch op order cleaner allocator utils heap regions system ensure heap current region atomic buffer race allocated override group logger poll atomic reference allocator empty buffer trace discarded sun region size slab allocator atomic integer heap buffer heap allocate alloc count atomic limit logger max cloned size memtable buffer allocator duplicate allocate direct nio buffer util unslabbed size region memory cloned util concurrent add allocate heap size position write op concurrent linked queue data identity code compare capacity context allocator offset region region free offset ensure heap logger slfj increment op clean add logger factory op group allocator
src.java.org.apache.cassandra.cql3.statements.Bound
reverses bound column reversed column metadata column bound reversed column reversed original statements reverse idx reverse end column metadata bound start start end reversed column metadata cql schema
src.java.org.apache.cassandra.cql3.ReservedKeywords
google text visible annotations reserved immutable reserved keywords util copy cql reserved reserved keywords upper collect common
src.java.org.apache.cassandra.utils.btree.BTreeSet
index item insertion point binary search converse provided index specialized easily sorted delegate equivalent represented differently shaped narrowing range constructor makes intersection ranges tree flip methods call inequality searches range invert unsupported operation descending iterator retain btree range math comparable nonnull add poll inclusive lower bound btree desc range iterator ceil util descending iterator bounds dir remove remove item common inclusive dir higher index head google btree wrap result btree index slice collect distinct btree search iterator code immutable index builder lower index offset element array lower bound index spliterator sorted length singleton spliterator sized tail upper bound negate navigable update size find index element invert iter collection sorted asc ceil index floor index empty ceiling inclusive upper bound poll op copy natural iterator count index comparator ordered tree flip find index builder compare inclusive ordering utils element spliterators override floor empty build higher inclusive index comparator arrays max update btree immutable desc lower add update function clear min element index bounds
test.unit.org.apache.cassandra.dht.KeyCollisionTest
multiple keys order preserving partitioner collision collision random partitioner length partitioner length key collision easy token kq ordered row token token convenience method cmd partitioner unsafe serial version uid simple add utils standard cfmd daemon initialization override keyspac partitioner heap size key open cfs schema clustering service filtered partition column family store clear unsafe apply unsafe util instance key incl slice collision build comparable token fb utilities tear dht config junit math schema timestamp micros key collision schema loader buffer util insert keys partitioner db cf util keyspace partition key column family store keyspace params key database descriptor prepare server partitions row update builder ipartitioner big integer key incl define schema builder keyspace big integer token keyspace token storage service table metadata configuration length partitioner
src.java.org.apache.cassandra.tools.RepairRunner
repair async replication factor check lost notification completion event messages progress event text simple condition error handle notification lost jmx locks node probe io handle connection closed override message tools active repair service interested signal service failed progress completed handle connection failed simple date format storage service mbean message repair async progress utils condition parent repair status status triggering condition progress event run messages stream format timestamp await system util concurrent jmx notification progress listener io size proxy progress condition progress percentage jmx notification poll interval repair runner lower cmd query completed repair current time millis keyspace tag parent repair status queried parent repair status error time unit runtime options complete
test.unit.org.apache.cassandra.cql3.validation.entities.SecondaryIndexTest
creating dropping index index index add keyspace drop add keyspace drop throwable error exists apply index differs existing removes quotes index index index quotes unquoted index check query indexed column key eq migrated check index validate index migrated range queries indexes migrated check unknown compression parameters options migrated migrated validation bug migrated migrated migrated migrated migrated migrated migrated migrated verify index target query secondary migrated executing row cache size restarting cleanup reject updates indexed make check conditional unconditional singly batches indexed passes batch size exceed failure temporarily raise batch hit skips size check path indexed passes batch size exceed failure temporarily raise batch hit skips size check path prefix mode indexes support mode indexes support supported indexes rejected error migrated migrated options indexes considered bugs readily visible secondary stale entry check existing row update check row update delete row check row update check row update verify contract row memtable indexer informed removed columns timestamp ttl columns unchanged update passed note simplicity resets index overwrite single leaving overwrite delete modify liveness primary delta rows cell data pk illustrate change liveness clustering columns restrictions key restrictions key blocks secondary index manager remove quotes iterator rows updated index composite overk index key reverse clustering sleep buffer row big syntax batch size threshold instance multiple indexes column cleanup cache callable entities drop index internal cell prepare statements clauses null drop collection index junit drop index quoted column identifier index clustering key insert expiring column rowa buffer util format deletions validate cell db current column family store util column cql wait index index manager tombstone uuid execute lower indexes complex primary key commons remove indices compact table table index frozen udt index partition key column rows select multi index collections null throwable null batch size fail threshold cfm index partition key insert overk table system succeed insert index expected prepared count latch fail lang client state nano time transport nio indexes clustering invalid index primary key liveness info prepare statement column metadata id id cell metadata invalid allocate index duration column index frozen collection frozen udt index metadata index composite index queries index ready configuration empty restriction secondary index await rows indexes columns schema includes columns index partition key insert expiring column rows inserted count col index def index insert cql query processor row restrictions cfs service prepared internal calls base cfs messages keyspace select eq statement id sasi index current table compose marshal row partition key index column statements rowb drop index camel identifier target option md digest index column partition rows cell put nameless index invalid message index regular column insert expiring column index full collection entry insert collection overk drop index index blocking initialization flush empty restriction secondary index compact tables size rows val table metadata cql index quoted column index live custom index column identifier rows ignoring order pair integer udt indexes schema requires filtering message index udt fail insert query secondary index index target index metadata select count indexed column live existing row compact table overk column family store dropping index invalidates prepared statements table udt initialization task index indexes clustering index counters invalid reset row range query target user index collections updates memtable data cells index invalidate task add keyspace drop syntax variations index collections unknown compression options latch invalid compare utils flush result message index compound row key override marked delete index clustering column insert overk filtering partition key index index thread keyspace cql tester index regular column partition rows indexes util stub index statement restrictions cell deletion timestamp config index keys filtering partition key secondary index true deletion time empty column def update cql id empty buffer concurrent force prepared secondary index index database descriptor batch size fail threshold kb drop index quoted identifier row invalid index select index locale index frozen collection udt options index frozen udt prepare time false validation sasi utils left
src.java.org.apache.cassandra.io.util.Memory
region memory manually longer size memory permit peer iff size allocation makes allocator justified null pointer permitted memory references exacy memory location check element fit transfers count buffer memory offset start offset buffer data buffer offset start offset count number transfers count memory starting memory offset buffer starting memory offset start offset buffer data buffer offset start offset count number provide buffer created direct buffer unsafe operations nicoulaj buffer inline memory offset math safe memory array base offset debug enabled override remaining order max util buffers illegal state put result close ref sun src offset buffer allocate net size free buffer architecture address peer null pointer buffer declared field accessible put array base offset check bounds length array ch fast operations format offset misc put copy memory memory error array size put start big endian memory integer annotations lang put copy big endian copy count buffer illegal argument put utils unsafe auto closeable field io memory memory array offset end min put field buffers put buffer offset nio compilecommand trg offset reflect concurrent memory util order error unsafe unaligned position index bounds
test.unit.org.apache.cassandra.dht.StreamStateStoreTest
range session complete event completed makes data successfully completed session adds check token range check token range check keyspace add range newly added range singleton complete utils daemon initialization streaming state stream event collections stream state store stream session update query ranges fb utilities token factory factory state net dht config junit store session complete event true token factory data handle stream event util token inet address database descriptor murmur partitioner ipartitioner range local stream state store add stream request range init dd range session broadcast address false preview kind connection factory
src.java.org.apache.cassandra.serializers.DecimalSerializer
consume contents store put utils serialize marshal put buffer serializer scale serializers big decimal unscaled plain instance duplicate allocate rewind remaining math bibytes nio buffer util bi decimal serializer validate empty buffer big integer deserialize length array format
src.java.org.apache.cassandra.db.marshal.UUIDType
compares uui count supplied compare compare uuid version nil uuid compare timestamps compare unsigned compare compare version top bits top bits empty buffer empty time uuid compatible internal reorder timestamp buffer uuid custom source uuid gen buffer util format matches matcher db util cql serializer uuid common google pattern cast serializers empty meaningless comparison version cq constants term buffer marshal uuid msb marshal msb regex serializer uuid serializer version version regex pattern simple illegal argument compile limit compare utils cq parse primitives override parsed unsigned instance empty nio json empty buffer reorder reorder compare custom exc length fixed position
src.java.org.apache.cassandra.streaming.StreamException
stream streaming state throwable message stream state
src.java.org.apache.cassandra.index.SecondaryIndexManager
handles core maintenance functionality bootstrap streaming reloading index defines number methods primarily management tasks index executed fashion submission desired behaviour tasks flushing index executed synchronously avoid deadlocking flush writer methods index defined called directly sim run executor separating task defintion execution greater flexibility flush process leave open possibility executing tasks primary callable involve significant building index existing perform task called part schema block building indexes performed instances processors listen updates base table forward registered indexes info required indexes variants factory method provided deals updates generated regular write partitions modified compaction cleanup details usage lifecycles found definitions index method query time identify selective index satisfy search predicates defined thin index accessor enables read command access functions index stages estimated result rows required storage proxy calculates initial concurrency factor distributing requests searcher instance read command executed locally target clear safe lifecycle manage index full rebuilds builds added initialization task subsequent successful mark index operation index marked full rebuild mark index rebuilds run concurrently full sstable builds run concurrently page size rebuilding index registered indexes build indexes count pending index builds executes tasks require executes blocking tasks produced indexers metadata reload task underlying column family source data drops adds indexes underlying figure added call add index definition collection created added index register assume initialization mark built run initialization task asynchronously callback mark built adds builds index def index metadata describing cf true index added part loading cf false newly added checks index index index called dropping blocking full rebuild specifed indexes sstables base note method index marks existing indexes removed prior fails marking operation conflicts ongoing index full rebuilds index indexes checks secondary cfs secondary checks secondary cf secondary parent cfs parent parent cf parent index cfs index index cf index performs blocking tables sstables tables indexes indexes specifed full rebuild true method invoked full index false mark indexes step happen index process build indexes index marked built failed marked thrown index building suppressed group building schedule index building tasks callback mark built wait index builds finish flush indexes built fail indexes flush built indexes aynchronous callback log success failure marks indexes progress rebuild progress rebuild caller full method invocation run full rebuilds concurrent note checked atomically index single marking index practically index removed full index removed system keyspace built method table remove present thread safety guaranteed methods managing index builds secondary index manager invocations indexes fine work holding lock called rebuilding index build state correctly managed index indexes index marked full rebuild method invoked full index cf method invoked initializing loading cf newly added step validate concurrent optimized expecting high number hot favouring readability step actual marks index built progress index builds index invoked index index marked full rebuild method invoked full index marks index invoked index index marked marks index index index truncate remove perform blocking flush perform blocking flush selected performs blocking flush custom performs blocking execution tasks cfs backed submit flush task wait backed flush indexes marked built ready backing tables registered indexes registered building index existing data add partition empty partitions row processed page size indexing entire delete data indexes cleanup rips partition todo improve cleanup transaction batch updates perform acquire memtable lock secondary index deletion race internally index transaction called query time choose registered index step firstly compiling searchable indexes choosing search space row filter custom index indexes automatically registered indexes filtered include support standard expressions filtered sorted reported index specific validation target custom index performed searcher method ensure pick index validity method called lifecycle read command result cached future obtaining underlying cfs estimate result size average index command read command index ready execution null registered indexes support single custom expression query favour index pay additional threadlocal build called write time ensure present valid rules registered indexes process partition key clustering cell row update checked update partition update validated registered index index registry handling index index transaction indexes sync base compaction factory methods obtaining transaction transaction updates write transaction merging rows check registered indexes transaction removing partitions single transaction processing partition update regular write null null updater diff listener collates columns added removed timestamp delete infer cells expiring column difference expiry delete index tombstone hide inserted completely identical cells expiring columns identical ttl transaction updating indexes single partition compaction operation merge todo make smarter batching updates single transaction process multiple rows single diff listener constructs rows representing deltas merged original delta rows passed registered indexes removal transaction updating indexes single partition partitions rows todo make smarter batching updates single transaction process multiple rows single tables asociated memtable contents insert existing row reload index direct executor service grouped indexes empty rebuild indexes blocking building support compaction transaction wait future updated row filter mark indexes building accumulated fail concurrent current key index gc transaction cql index transaction increment partitions table reader failure array cmd commons iter logger stage manager index keyspace index iterables lang cfs ctor index primary key liveness info unfiltered partition iterator range tombstone range tombstone selected math delete partition log mark indexes failed metadata suppress warnings runtime tracing inotification searchable indexes wait array sender stream sstable columns options group built indexes linked blocking queue marker apply add primary key liveness info fb utilities async executor add row deletion range tombstone marker truncate task table indexes write order range tombstone tracker keepalive index warn partition key column family store initialization task indexes expression future index index partition join index inspect throwable unbuilt indexes merged compare stream regular columns parent cfs primitives index build failure remove execute blocking cleanup gc transaction select function mutable deletion info empty config directories full partition read op max reflect lifecycle view sec util add updated update transaction futures estimated result rows callback index column family stores op group view fragment listening decorator system keyspace compaction unfiltered jvm stability inspector register row substring user defined callable deletion optional immutable concurrent timestamp builder constructor custom index metadata iterator insert row pre join task depends key clustering custom index option target index thread factory regular columns metadata reload task liveness info base cfs array column metadata regular columns read command flush indexes blocking index removed builder wait update base constructor put mark index removed service remove index index filter length blocking executor build task support deletion builder mark indexes removed executors add callback invalid request singleton op order partition update tracing cell deletion initial build task validate size partition level deletion future callback row size inserted direct executor schema trace enabled memtable flush indexes blocking built index kind read execution controller ranges time unit logger factory truncated indexers counter cleanup transaction index min index queryable write time transaction unfiltered row indexer indexes instance internal build partition deletion parent cfs dependent indexes tombstone table fetch page unfiltered begin added trace transactions mark index failed joiner pager error mark index built collection partition unregister index index building support full rebuild joining page size present add index force flush sstables submit index build index read supports expression columns timestamp micros index db cf illegal state range tombstone marker deletion info remove substring reload common throwable notice indexer indexes cleanup settable future write group rebuild deletion time exhausted index build task primary key liveness info execute blocking custom expression kind remove row key row collectors select reference key keyspace row diff listener single partition read command range iterator subscribe rows diff bootstrap union instance inotification consumer atomic integer difference unfiltered row iterator index transaction instance build blocking index metadata keyspace truncate indexes blocking index column family cell built indexes execute pre join tasks blocking index success complex deletion error flush cfs backed indexes blocking refs cleanup transaction find io override logger table added notification element index ref view fragment full rebuild deletion dependent indexes backing tables cell finish deletion time initialization add cell secondary index separator database descriptor row task decrement expression builder columns row indexer command row index utils sorted builder secondary index manager present partition size handle notification stored collections atomic single partition pager table index row filter add protocol version live logger cell format partition key compute absent compaction rows partition cf diff listener collect index def drop indexes page google backing table build indexes blocking visible calculate indexing page size register index update transaction btree row target page size transport row merge parent cfs notification partition size wait futures index column family store comparator cells partition row secondary index builder futures decorated key reload task invalidate indexes blocking daemon initialized custom expression concurrent column tracing commit tables row cleanup statements failed indexes listening executor service operator clustering rows index submit start function row delete index target listenable future notifications partition delete copy queryable indexes null empty removed info add suppressed progress builds versions index built cfs indexes invalidate task annotations builders compaction manager canonical indexes blocking flush task utils function update row column family store index registry unfiltered jmx enabled thread pool executor update execution controller future page size null lang refs compaction transaction controller slfj original
src.java.org.apache.cassandra.exceptions.ConfigurationException
error logged stack trace expected errors informative message stack trace suggestion handlers format code log stack trace config error code msg throwable configuration request validation
test.unit.org.apache.cassandra.db.compaction.CompactionIteratorTest
syntax stands partition deletion time sources tombstone sources result tomb sources iterator tombstone sources daemon initialization backing files unfiltered partition iterator collections compaction unfiltered length compact navigable group generator rcount expected result gc compaction supersede middle source live empty input junit dk matcher db util compaction open store partitions iterator sources compressed length array random gc compaction boundaries iter collect tombstone common compaction iterator iterable transformed sources google gc compaction superseded pattern system result fail compaction compile sum tree content immutable controller pcount dump metadata count empty decorated key range add key actual keyspace deletion times sstable marshal ksname iterator simple standard cfmd tombstone put random parse size regex shadow sources rows table metadata matcher keys transform verify valid integer unfiltered row iterator rand ut gc compaction row deletion schema operation generate content tombstones gc compaction generate source expected controller column family store copy compaction controller expected count prepare server substring comparator range tombstone boundary marker del str gc compaction supersede left io stream scanned scanner parse iterables seed table scanner override gc compaction matches cfname gc compaction partition deletion gc compaction supersede end gc current position cfs util instance build config verify equivalent true inputs schema loader deletion time arrays keyspace params compaction iterator database descriptor iterators data concat src sz add keyspace kk gc partition false unfiltered rows generator input
src.java.org.apache.cassandra.streaming.management.ProgressInfoCompositeData
google total plan id cd progress info unknown host composite data support simple direction management progress info open throwables composite data composite data integer net composite data current direction composite item descs file util openmbean base propagate host address composite peer uuid streaming put item common progress info composite data inet address item open data session index
src.java.org.apache.cassandra.cql3.functions.UDHelper
helper user defined todo make methods construct array driver data array udf argument called null input argument array size udf care data construct array driver internal udf argument array argument driver internal immediately rethrow codec tokens buffer token codec registry codec declared method protocol version remaining cls invoke db util cql deserialize codec common throwable google data protocol version transport empty meaningless cq core bb runtime codec registry def called null input codecs accessible assignable length marshal driver unreflect serialize method size codecs clazz integer datastax raw method handles data method parse error method handle null empty cql driver token cq invalid functions ud helper lookup data driver nio driver reflect lang current data cql param
src.java.org.apache.cassandra.index.sasi.analyzer.filter.StemmerFactory
snowball stemmer instance load google hungarian stemmer stemmer constructor cache snowball stemmer caffeine locale put swedish stemmer slfj finnish stemmer logger clazz cache loader loading cache index tartarus danish stemmer russian stemmer cache caffeine spanish stemmer builder substring root lang build italian stemmer logger stemmer factory direct executor benmanes french stemmer ctor instance norwegian stemmer error analyzer english stemmer util concurrent snowball constructor constructor stemmer romanian stemmer lang reflect github portuguese stemmer locale sasi dutch stemmer filter logger ext common german stemmer executor debug language logger factory supported languages executors turkish stemmer
src.java.org.apache.cassandra.gms.GossipDigest
information endpoints largest state generated local size endpoint generation data output serialize max version gossip digest serializer io sizeof ep append comparable serialized size digest version iversioned serializer builder gms net max version sizes read data input db util generation io sb compact endpoint serialization helper gossip digest gen endpoint deserialize compare write inet address serializer
src.java.org.apache.cassandra.tools.nodetool.EnableHintsForDC
google nodetool probe airlift node probe arguments io tools preconditions usage size node tool airline description node tool cmd util enable hints dc base command execute array check argument enable hints dc common
src.java.org.apache.cassandra.utils.WrappedBoolean
simple wrapper utils initial wrapped
test.unit.org.apache.cassandra.io.util.RewindableDataInputStreamPlusTest
mark mark marked mark reading previous reading previous previous reading previous previous reading previous max file big amount multiple times check file previous reading previous previous reading previous previous max file capacity exhausted reading previous reading previous capacity exhaust reset max file read read skip read part previously skipped mark read read read remainder read read half half parent mark read read read remainder mark reset big buffer read unsigned past mark io rewindable data input stream write read fully system write utf fail read read mem capacity mark reset skip file read baos skip mem size exists mark reset read fully mark reset simple read write mark skip write read max data output stream large capacity read junit true write write mark reset unsigned read disk size read rewindable data input stream reader capacity exhausted str array input stream initial buffer size write io write array output stream data illegal state reset util exhaust capacity disk size property read unsigned setup disk capacity integer read circular spill file length array mem size file false read utf read line write
test.unit.org.apache.cassandra.streaming.StreamOperationTest
unknown descriptions fall back repair bootstrap streaming restore replica count serialization relocation decommission bulk load stream operation rebuild stream operation junit description
test.unit.org.apache.cassandra.utils.MerkleTreeTest
assumes tree units todo trickle method affected passing method split range check fail split fail split validate validate validate validate validate generate trees check compare keys slightly depth depth depth depth depth depth populate validate add dummy give room split leaf created trees disagree difference behave extremely small add dummy root binary tree leaves val consume partial iterator random lchildval difference recommended depth rtree hstack init leftval junit restored hashable difference depthiter max util token split limit depth rchild binary deserialize iterator rstring random split limit size collect token common initialhash data output buffer null data input buffer full range google peek merkle tree fail big integer token full array random net math token scale mthash full add data input midpoint ipartitioner range linvalid tlist lchild ranges big integer ltree serialization range fullval hex messaging service divide depths serialize hex pop mthash invalids currentversion message degenerate size val start mt add tok maxsize integer invalids dummy array deque diffs maximum add compute merkle tree middle dstack tree split mt array serialized end data minimum token partitioner unsafe leftmost linked utils row childfull partial io random partitioner tokens end length invalid instance partialval rinvalid split dht config true difference small range arrays max lstring push multiply iterator database descriptor hiterator error rchildval clear partitioner depth serializer tree range false bint validate tree tree range iterator childfullval left
src.java.org.apache.cassandra.index.internal.IndexEntry
entries indexes tables composite encapsulated indexed entry indexes tables keys clustering index nio indexed key index clustering decorated key index entry db index indexed entry clustering internal buffer timestamp
src.java.org.apache.cassandra.utils.WindowsTimer
utils period jna start timer period logger time begin period sun def found error time end period error logger end timer period warn register windows timer logger slfj error logger factory
src.java.org.apache.cassandra.tools.nodetool.SetTimeout
google timeout nodetool probe airlift timeout node probe arguments io override tools parse message preconditions usage size node tool airline description node tool cmd util base command timeout execute array required check argument common timeout timeout illegal argument
tools.stress.src.org.apache.cassandra.stress.util.JavaDriverClient
pending requests thread request driver metrics conflict consistency level exists driver protocol options compression local session ret requests connection ssl context query consistency level math metadata add contact point port address white host protocol version auto encryption options db execute util ssl quorum hosts password netty ssl factory internal logger factory mode policy builder local quorum token aware policy factory ssl context cipher suites concurrent simple statement disconnect rate connect protocol version close port max requests connection protocol version stmts dc aware round robin policy net connection threshold metadata system core datacenter driver builder load balancing policy stmt load balancing policy host security compression datacenter logging prepare slf jlogger factory session max thread count bound statement pooling options cl metadata host distance put execute prepared jmx reporting printf cluster builder consistency level size auth provider port compression ciphersuites load balancing policy datastax username connections host metrics array ssl local dc cluster quorum connections host enabled thread count cluster policies max threads auth provider jdk ssl options pooling opts result ssl context cluster ssl options bstmt io ssl context session cluster encryption options pooling options ssl options internal build config white policy driver client node auth provider concurrent prepared statement max concurrent stress rack local max pending connection error stress client encryption options credentials resolve bind builder consistency query params
src.java.org.apache.cassandra.repair.RepairParallelism
degree parallelism calculating merkle trees repair node nodes node data center repair parallelism match match repair repair parallelism match repair repair parallelism override sequential datacenter aware parallel
tools.stress.src.org.apache.cassandra.stress.operations.userdefined.ValidatingSchemaQuery
operations row population ratio iterator results pkc buffer left run op consistency level math row lb generator actual row clustering components exhausted spec partition iterator argument index variables db util io report data spec partitions insert execute iterator array partition operation iter statement index inclusive end system time retry index max depth append ub column metadata arraycopy current metadata core run index driver partition generator timer column definitions base generate seed manager definition convert prepare concurrent timer length seed actual bound statement lb seed manager statements cl cc consistency level size table metadata cql add driver client statement pair pk datastax definition thread local random expected row builder unsafe partition key factories clustering columns reset bind buffer partition count bounds driver run runner length ub expected utils result factory seed distribution fixed io override session partition key min inclusive start partition generator reset bounds column definitions driver client prepared statement nio userdefined jclient row count stress stress validating statement bind depth client sb row ccc validating schema query
src.java.org.apache.cassandra.tools.nodetool.Move
required nodetool probe airlift node probe arguments io override lang tools empty usage node tool move description runtime node tool cmd io execute move commons token airline command utils
src.java.org.apache.cassandra.cql3.conditions.IfExistsCondition
clustering exists condition add conditions statements request exists db conditions add exist override query options clustering cq cas request cql conditions options
test.unit.org.apache.cassandra.tools.StandaloneScrubberTest
runner schema loaded standalone scrubber keyspace loaded schema loaded expected threads schema standalone scrubber run tools run tool unexpected threads started standalone scrubber junit tools tester optional threads schema system loaded server loaded clsm loaded ordered junit runner
src.java.org.apache.cassandra.exceptions.OperationExecutionException
thrown operation problem occured division creates operator argument original creates msg error operator function failure message msg operation execution cql format db util cql code request execution marshal
tools.stress.src.org.apache.cassandra.stress.settings.OptionRatioDistribution
selecting mathematical google option ratio distribution pattern builder ratio distribution group prefix override apply display code regex option matcher format config param illegal state matches display multi line display option distribution spec grouped options parse delegate factory ratio distribution factory opt function delegate full description arrays matcher insensitive format multi line util base accept generate stress divisor illegal argument required spec compile present common user happy option distribution factory
src.java.org.apache.cassandra.db.commitlog.CommitLogReplayer
throttle speed replay mutations pass max outstanding count number replayed care compute global replay truncated cf start replay point time restore tables replayed deleted point truncation record point cleared replay flushes keyspaces replayer blocking flushes number mutations wait writes finish mutation flush replayed flush batchlog incase mv wrapper initiating mutations read log make spy initiated mutations rebuild omitting column families user requested part cf mind thing based cfid replay current segment newer flushed commit log segment commit log replay based range covered disk sstables prior recent truncation find earliest commit log position covered flushed ranges efficiency assumes contiguously flushed interval moment table start replay end interval replay true flush table stalled chances happening assumption prove incorrect replay chance affected deployment iteration replaylist supplied empty array replay consult ranges position covered true iff replay finished outstanding drain futures logic error identical replayer recoverable care simply construct persisted intervals ignore replay errors property system keyspace atomic force flush block writes predicate serialized size segment id commit log descriptor system keyspace entry common add message empty logger desc keyspace metadata split commit log read handler runnable commit log intervals disk format highscalelib db util collection io permissible commit log reader handle unrecoverable error partitions table reader array cliffc commons logger replayed count stage manager mutation initiator debug collections metadata invalid mutations commit log replayer iterable mutation initiator keyspace google raw pair visible system position flush iterables lang submit cfs table metadata ref multimap restore point time collect replay files wait futures mutation reader restore time wrapped runnable custom replay filter builder handle commit error stage peek ends batches mutation suppress warnings commit log replayer error point time exceeded commit log replay queue base max timestamp key millis flushing system throwable ranges partition updates cf persisted wait future covered key filter sstable length future truncated commit log reader table metadata size stage partition update replay filter put table id mutation truncated apply commit log poll config blocking fb utilities min mutations skip segment error multimap atomic integer replay filter replay path archiver mutation integer entry location annotations schema commit log archiver array deque offer replay tolerate truncation precision max outstanding replay count warn keyspace keyspaces replayed column family store natural commit log position remove truncation record message read commit log segment info property illegal argument table metadata commit log read run upd logger factory restore target builder interval trim file stream truncated position ordering utils pending mutation io max outstanding replay logger id clogs open keyspace column family store keyspace instance replay instance replay filter empty build handle mutation commit log schema config read files trace initiate mutation update includes concurrent schema constants entry pair entry cf fm live tables global position runnable add integer clear futures utils intervals increment slfj table id file truncated time commitlog property prefix
src.java.org.apache.cassandra.io.util.RewindableDataInputStreamPlus
adds functionality input stream caching read memory buffer spilling disk stream marked cached memory read stream cached note successive calls sequentially cached remaining written beginning treating circular cached stream invocation rewindable data input methods marks current position stream position empty rewinds previously marked position mark custom parameter io error ocurs input stream methods marks current position stream readlimit maximum amount space cache skipped data input methods read skip file atomic read arraycopy math data input stream rewindable data input disk tail written exhausted read data reader disk tail mem spill file rewindable data input stream read unsigned util read multi io illegal state merge write multi filter input stream throwable read line exists system read read utf compare disk head fail close read fail closed file pointer size read data input closed len skip tail disk markpos buffer read length write read unsigned read readlimit read fully mark supported pos marked input stream read close underlying skip mem buffer throwables spill buffer mark closeable read head initial mem buffer size write size read read tail max disk buffer size reset past mark mem buffer size random access file delete initial pos exhausted utils parent file skipped io rewindable data input mark seek disk buffer min format write read mkdirs concurrent data position grow mem buffer mem written max mem buffer size skip head disk head written file atomic
test.burn.org.apache.cassandra.concurrent.LongOpOrderTest
safe functionality mark blocking consumers sleep atomic scheduled executor service group executors message ordering logger junit count runnable thread format highscalelib rnd util sync point execute producer cliffc remove logger scheduled thread pool millis op order replacement report interval ordering system state errors current state issue run barrier schedule error total count report throwable check count current time millis length executor service op order current thread entry shutdown atomic integer start checker handler thread local random op count wait nanos minutes info cached thread pool err thread factory producers uncaught handler time unit logger factory delete utils await termination accept stack trace put absent override logger key barrier barrier interrupted check true sched exec uncaught handler await concurrent entry runtime shutdown op group increment slfj blocking uncaught compare order milliseconds
src.java.org.apache.cassandra.repair.SyncStat
statistics synchronizing revert repair session summary summaries node pair util streaming sync stat nodes number differences summaries
src.java.org.apache.cassandra.index.internal.CollatedViewIndexBuilder
manages building entire index column family runs compaction index key page size utils build calculate indexing page size compaction interrupted io close cfs index compaction info compaction info read uuid gen internal time uuid metadata indexers secondary index builder db total decorated key util column family store compaction operation index manager index partition uuid index build stop requested iter collated view index builder sstable compaction id reducing key iterator
src.java.org.apache.cassandra.hadoop.cql3.CqlInputFormat
hadoop input format rows cf hadoop job config helper provided make configure number rows input split split size input split size mb precise provided page row size big limit cql big minimize network big avoid memory protocol connection parameters canonical split fetching splits canonical ranges nodes holding pick live owner compute pick live owner compute wait results data split size estimate full split assume smallest granularity partition count hadoop token token range splits size input splits hadoop turn hadoop unsupported operation cql config helper input splits partition size hadoop session system keyspace splits input keyspace input initial address wrapped token range metadata intersection job context size estimates tr address system keyspace callable replicas host input partitioner logger runnable cql record reader job token range db ordered partitioner util key config helper endpoint io cql thread pool executor token range execute cf array random mapreduce logger context collections input key range record reader record reader system split ranges endpoint index range connect query splits nano time splits collect runtime job conf hosts configuration future metadata core reporter driver input split size host ipartitioner range split entry future input splits initialize split count splitfutures describe splits token ranges input format row input cluster result input splits keyspace range session context executor service row shuffle split callable metadata linked blocking queue job conf table num splits size master range nodes reporter token range add submit key order preserving partitioner call partitioner opp entry pair datastax input split size mb schema configuration token factory shutdown unwrap token range split size mb validate configuration split size collectors partition count subrange end cluster executor time unit logger factory hadoop compat cql input format ranges range token range intersects io stream utils result ranges length substring cluster split evenly mapred task id conf tac override logger endpoints task attempt context token format interrupted record reader job range split splits dht task attempt id column family split intersect trace start mapred record reader concurrent schema constants task attempt context job key range entry input split add reporter wrapper token partitioner slfj put input column family left
src.java.org.apache.cassandra.utils.Throwables
closeables stream extra read utils error fail safe varargs accumulate io checked fail close actions write error op iterator cast perform throwables file path path fail optional empty extract io existing fail read error suppress warnings runtime arrays discrete action write io throwable concat util add suppressed iterator stream merge file action file op instance auto closeable closeable iterable fail cast
test.unit.org.apache.cassandra.service.SerializationsTest
serialize empty validation validation empty validation failed sync sync random uuid serializations tester daemon initialization message collections math data input stream uuid gen serialized size sync request nodes desc local junit read max trees file util token io uuid session summary stream summary deserialize define schema array collect validation complete common node pair inet address sync complete merkle trees google validation request tear uuid streaming repair job desc fail close message array dst summaries net size empty sync request read data input validation request read serializations ipartitioner range validator partitioner src sync request messages success repair singleton partitioner pow serialize validation request ranges table id input message validation complete write fb utilities validation complete read service sync complete read add add merkle tree time uuid integer schema validation request write sync request write random token data output stream version full range dest mt execute writes preview kind minimum token utils output io partitioner switcher validation complete repair message write random partitioner sync complete message util instance split dht config address arrays sync complete write database descriptor desc sec repair message initiator broadcast address partitioner switcher serializer
src.java.org.apache.cassandra.db.ClusteringBoundary
threshold shortcut combination clustering bounds end complement beginning buffer close bound utils clustering bound clustering bound boundary close bound boundary override allocator invert memory clustering boundary kind nio reversed db open bound boundary allocator copy boundary kind open bound
src.java.org.apache.cassandra.utils.memory.MemtableBufferAllocator
clone cloning btree row builder op order utils allocator buffer group allocator rows buffer decorated key memtable allocator heap heap allocate memory size memtable buffer allocator nio write op decorated key builder row builder db concurrent allocator key token context allocator key op group row
src.java.org.apache.cassandra.hints.CompressedHintsWriter
compressed uncompressed size stored beginning compressed put google buffer initial compressed buffer length visible channels preferred buffer estimated size directory io global crc compressor position zip allocate compressed hints writer icompressor annotations channel hints writer file nio bb rewind compress util compressor io compressor compression buffer hints capacity metadata size write buffer clear hints descriptor remaining file channel descriptor compressed size limit common file cr fd original size
src.java.org.apache.cassandra.index.internal.composites.CollectionKeyIndex
index collection element cell row keys index collection element indexed clustering stale collection key index base index cell buffer path operator clustering index rows base cfs column metadata cell cell path internal cell indexed column nio collection key index db index metadata live partition key column family store cql data sec indexed key supports operator operator index def composites schema marshal cell row
test.unit.org.apache.cassandra.utils.FreeRunningClock
freely adjustable clock unit enable nanoseconds override clock millis utils free running clock nanos current time millis util concurrent time time unit advance nano time unit
src.java.org.apache.cassandra.io.sstable.CQLSSTableWriter
utility write typical usage schema table primary insert creates provide directory write created schema sstable write insert statement partitioner provide partitioner details cqlss table writer writer user adds nember rows resulting close note threads access safe multiple instances parallel instance sstables partitioner client builder adds row shortcut row bind variables insertion statement creating adds row provided correspond cql correspondance cql documented prefer providing directly row bind variables insertion statement creating adds row equivalent add row keys columns add order insert statement construction note column keys lowercase declared column quoted key exact colum column representing row note column part keys correspond column insert statement creating adds row writer serialized row bind variables insertion statement creating adds row writer serialized shortcut row bind variables insertion statement creating note indexes validate triggers forces lot initialization buffered writer problem writing io wrapped sync buffered writer extract adds row writer serialized equivalent raw add row keys columns add order insert statement construction colum column representing row note column part keys correspond column insert statement creating user defined table udt data user defined user defined close method produced sstables guaranteed complete builder cqlss table writer directory write mandatory directory directory exists illegal argument exist directory write sstables mandatory directory directory exists illegal argument exist schema table table sstable note provided table statement table include keyspace mandatory schema schema table sstables illegal argument valid table table partitioner partitioner cluster tables method provide correct partitioner partitioner insert update statement defining order add cql note provided insert statement table include keyspace statement bind variables variables bound resulting mandatory insert insertion statement defines column illegal argument valid table bind size buffer defines data buffered written correspond roughly data size reasonable oom lower size size creates cqlss table writer expects sorted option resulting writer expect rows added table sorted order thrown table sorted order rows added partition key respect option rows rarely provide rows order sorted note option buffer size mb creates table schema table created prepares insert statement writing data prepared insert statement bound updated columns bound table metadata codec unset collections buffer write parsed statement raw math tables syntax keys views update statement writer system keyspace add codec protocol version timestamp cql statement spec column specification buffer util format db definition time live util io sorted cql illegal state partitions insert file array keyspace collect codec schema add row system keyspace keyspace clustering clustering tables functions exists statements build partition key system table simple writer table simple writer prepared insert close client state sync table metadata ref add update key load insert statement user table directory ref builder metadata core buffer size mb suppress warnings empty bn partition decorated key unset buffer query options clusterings schema keyspace cqlss table writer closeable query processor ipartitioner table service collectors internal calls parse statement current time millis sorted sstable table format marshal ud client initialization invalid request statements key simple raw builder serialize table statement prepare prepare insert validate size statement keyspace metadata table format table metadata buffer size mb schema keyspace prepared params statement pair datastax add raw builder schema data counter ksm murmur partitioner conditions user illegal argument table simple unsorted writer keyspace metadata raw add row column family raw builder swapped partitioner unsafe stream utils partitioner schema statement io st driver functions format update parameters instance codecs empty build clustering nullable dht config nio arrays driver schema constants offline tools keyspace params database descriptor parsed raw statement builder min options partitioner ud helper modification statement directory update partitioner newest supported left
src.java.org.apache.cassandra.utils.BloomFilter
murmur faster approach combinatorial generation approach prove work actual performing iterations ridiculous numbers special thread local note method thread local longer avoid generating lot garbage stack allocation support array caller threadlocal array storing storing indexes allocate indexes google key present utils visible results buckets nicoulaj io override identity collection ref ifilter serialized size capacity filter bloom filter filter key indexes fb utilities add abs max heap size net annotations add initial compilecommand count identities wrapped shared closeable util concurrent base bitset bloom filter serializer inline copy shared copy count netty fast thread local clear ibit common reusable indexes obs
src.java.org.apache.cassandra.index.sasi.utils.trie.Tries
slightly correspond code patricia trie supports pluggable key comparators patricia trie supports deployed maven central downloadable collection true bit index true bit index true bit index true bit index considered valid true null message argument utility method cast cast fooling bounds bit key valid bit index trie utils key analyzer null null bit key message index null bit key bit key bit key suppress warnings bounds index key null pointer bit index cast sasi
test.unit.org.apache.cassandra.db.lifecycle.RealTransactionsTest
simulate real transactions compactions sstables table metadata ref iterator replace table log transaction compaction directory tables sstables op writer lifecycle transaction table desc files junit table writer format scanners db util framework live tables compaction rewrite aborted cf expected files index manager originals serialization header table reader remove rewrite aborted add row rewrite finished dir flush cf flush system query rewrite finished cf op id cfs append table metadata ref check obsoletion num partitions files directory fb utilities metadata writer nanos descriptor cqlss table writer table keyspace keyspace rewriter refresh overlaps table descriptor size txn ci truncate blocking simple standard cfmd file paths construct originals scanner open table rewriter path tracker schema keyspace controller column family store operation compaction controller indexes minutes prepare server wait deletions descriptor abort time unit scanners directories file newsstables utils fail directory real transactions io sstable compaction strategy manager keyspace make file path column family store nano time table instance empty build dir path schema compaction strategy table data folder compaction iterator true finish schema loader table load tables concurrent keyspace params lifecycle sec table reader builder gc file modify directory io
test.unit.org.apache.cassandra.cql3.validation.entities.udfverify.ClassWithField
unsupported operation codec data buffer protocol version transport functions field entities params protocol version datastax param execute aggregate impl core nio driver udf context util cql data execute impl field udf context udf udfverify validation
src.java.org.apache.cassandra.tools.nodetool.ProxyHistograms
cas read latency nodetool probe airlift system node probe io override metric percentiles array tools percentiles range latency node tool read latency description format node tool cmd cas write latency command view write latency lang execute proxy metric write latency length airline proxy histograms
src.java.org.apache.cassandra.io.util.LengthAvailableInputStream
filter input stream remaining read device ready provide readlimit skip mark supported input stream length input stream io override close remaining mark integer read max len util io reset total length length filter input stream
tools.stress.src.org.apache.cassandra.stress.settings.SettingsCommand
generic command common option cli utility operations tables warmup nodes maximum uncertainty measurements format db util command pre defined mixed illegal state execute lower cmd remove common user truncate google system user duration category factory option result logger option distribution serializable command run command user uncertainty target uncertainty parse truncate tables min measurements options uncertainty days upper length command options parse printf parse table consistency level size cl cql truncate driver client sleep uninterruptibly params op distribution factory integer minimum uncertainty measurements count option simple printer command pre defined minutes count time unit substring runnable io basic override uninterruptibles max measurements hours build grouped options driver client node arrays concurrent stress mixed duration units stress options client command duration consistency level
src.java.org.apache.cassandra.io.compress.SnappyCompressor
snappy found runtime processed calling specific options supported snappy match icompressor contract state leaves dest counters snappy match icompressor contract state leaves dest counters snappy deal input output buffer avoid pretend support buffer initial compressed buffer length utils raw uncompress preferred buffer snappy collections snappy compressor io jvm stability inspector buffer logger position uncompress snappy error instance snappy library version supported options icompressor logger unsatisfied link error supports heap empty xerial chunk length nio empty max compressed length compress buffer util input length io compression options input output offset warn inspect throwable logger slfj dlimit limit output logger factory def found error input offset
src.java.org.apache.cassandra.tools.nodetool.GetConcurrentCompactors
execute probe node tool cmd nodetool description airlift system node probe command airline io concurrent compactors tools node tool concurrent compactors
src.java.org.apache.cassandra.exceptions.RequestFailureReason
reason failure reasons recorded data data node read tombstones attempting execute read query code serialized unsigned bit integer reason code code unknown illegal argument code request failure reason read tombstones
test.unit.org.apache.cassandra.index.sasi.SASIIndexTest
split data distinct tables paging overlapping token single smaller single page size minimal pagination age range query make sense rebuild index trigger index rebuild check data build index column data make make prematurely delete add back data make back bit loop figures number search results monotonically make concurrent updates interfere indexes correctness trie skip column index make read worth index expected results age wrong correct make query fail normal coverts interval lookup invalid queried prefix flush make interval flush produce range make overlap prefixes properly handled simple interval tree lookup cover prefix lookup special check option special option supersedes comparator check restrictions clustering columns preceding columns prefix search column combined statc columns overwrite index file query corrupted index file yields rebuld make garbage make indexes work rebuit unsupported partition key invalid index invalid sparse literal invalid sparse explicitly literal sparse expected analyzed indexes support expected analyzed support expected prefix indexes support expected prefix indexes support prefix expected prefix indexes support eq expected prefix indexes support expected prefix indexes support write data emulate memtable emulate discarding data column metadata iterator single expression queries prefix table lookup results buffer expression query expressions disk row analyzed prefix table executors big rejected init message prefix search mode rebuild indexes blocking read attributes junit gt util live tables updates load schema invalidate cql cf partitions array cross table queries index cfm query plan cql limits index unfiltered partition iterator key range current metadata compose path partitioner array convert full text search sasicfmd result sstable force blocking flush unicode support live search entry replace column filter table apply rows ignoring order fb utilities duplicate memory ut thread local random partition key column family store lte indexes literal option decorate key compare io pending memtables attribute fts cf decorated key write lt empty config true arrays raw statement json keyspace params runtime data lifecycle build expression op unsupported operation sasi cfmd cql tester truncate blocking range rpc timeout decompose index memtable validate options path optional runnable timestamp framework rebuild secondary index empty tokenized results serializer execute iterator column filter cf schema metadata custom index option table keys index array index index comparison index index read command rm discard memtable filename build row execute cql keys rows builder ipartitioner key put eq query processor basic file attributes filter tree invalid request singleton partition update file systems cell open size flush memtable max key bound conditionals reversed path search memtable multi expression queries row split tables store schema gte max results simple chinese prefix search property read execution controller file writer truncate cleanup data build cell stack trace prefix table index part instance part lower analyzer build part table data data concurrent schema loader plan collection multi expression queries execute internal prefix milliseconds page size column column search timeouts column column column column start key singleton force flush writer live null count sasicfmd max db row index manager data range common invalidate indexes blocking tokenized table fail close serializers current memtable rm rm kind rm row builder key time unit tracker size disk index builder key keyspace sasi index execute cql executor service comment minimum token unique keys ascii mutation table table metadata random atomic integer sleep uninterruptibly pair unfiltered row iterator empty sasi index index metadata truncate indexes blocking untyped result data column index invalid index options index regular column unicode suffix mode splits data output id cf utils conf index rebuild execute locally runtime dht nio keys add cell fixed thread pool table rebuild database descriptor row expression increment part file command left collections atomic files memtable buffer cell size instance row filter custom source add current page previous count queries tokenized buffer util format sorted builder scheduler partition range read command uuid data column slashes single row update collect load data operator google system partitioner btree row empty inserting incorrect age index indexed clustering indexes data limits matches flush memtable max term size configuration term mutation decorated key range query controller clustering cf clustering cf write count idx column keyspace current time millis range marshal flush row clustering column statements marshal clean table entry concurrent memtable reads writes neq serializer rows processors submit integer index target big murmur partitioner row row row cells pagination suffix literal key memtable tables indexed view writer index memtable table file parsed time quota exceeded uninterruptibles clustering sasicfmd column family store expected index paged update eq semantics difference kinds indexes execution controller tables count full keyspace age controller partitioner index false compare custom sasi
src.java.org.apache.cassandra.cql3.Tuples
helper methods literal tuple holds parser differentiate tuple element term wait target determine parser differentiate tuple element term wait target determine tuple terminal similar functions bind tuple written entirety preserve reject override saves allocation terminal similar components tuples collections small hack validate called serialized deserialization validation raw placeholder tuple multiple raw marker represents marker single represents marker representation tuple elements tuple representation representation tuple items tuples items items tuple mapper mapper items representation tuple representation exact tuple items items items tuple mapper mapper retrieve element exact tuple items checks tuple elements assigned receiver receiving elements tuple invalid request tuple assigned tuple elements assigned receiver receiving elements tuple message bound unsupported operation add functions buffer bind instance tt split add multi item terminal protocol version assignment testable logger tuple spec column specification buffer util weakly assignable db util tuple assignment cql serializer term result array raw collect identifier bind raw deserialize protocol make receiver protocol version transport collection serializers logger add functions cq variable specifications term multi cell receivers tuple component unset buffer marker query options component spec bind index collectors column items keyspace length iterable receiver elements marshal terminal invalid request statements marshal text build literal multi column raw collect marker specification apply size stream support buffers prepare marker serialized column identifier protocol version function builder append assignable tuple terminal spliterator mapper validate tuple assignable logger factory decompose elements stream item utils marker terminal tuples override logger element function functions terms format slfj make receiver split request validations cf assignment exact elements nio arrays bind internal delayed bind marker exact tuple options invalid request assignable joining
src.java.org.apache.cassandra.db.marshal.SimpleDateType
checks duration data statements compatible internal utils protocol version marshal cq time millis cast buffer override time millis parsed transport order serializer serializers source day time millis millis comparison duration instance time millis day protocol version integer cq constants term nio buffer util format buffer simple date serializer request validations db json day precision simple simple date cql serializer exc deserialize date validate duration date days invalid request duration json marshal temporal
src.java.org.apache.cassandra.locator.GossipingPropertyFileSnitch
data center endpoint resides endpoint endpoint data rack endpoint resides endpoint endpoint trim saved endpoints psnitch local address utils dc ep state locator rackdc property filename load configuration system keyspace atomic gossiper starting snitch helper reference logger snitch properties filename endpoint atomic reference factory service instance pending helper load gossiper state property file snitch rack prefer local gossiper properties application state gms dc net fb utilities load dc rack info storage service configuration key datacenter endpoint state db util concurrent parse rack rack host address logger add local application state endpoint state endpoint info application state reconnectable snitch helper network topology snitch unregister register internal ip rack logger slfj broadcast address snitch properties internal ip inet address logger factory dc gossiping property file snitch
src.java.org.apache.cassandra.db.compaction.PendingRepairManager
companion compaction strategy manager manages sstables marked pending tables classified pending repair performed incremental streamed pending repair unrepaired pending repaired sstables compacted repair sstables part compaction sstable marked pending highest max remaining tasks compaction session compactions head calling underlying strategy leveled compaction strategy sstables involved consistent repair rewrite sstable move abort mutating metadata guarded obsolete prevent compactions marking sstables unmarking unsupported operation check pending id leveled manifest tasks collections compaction sstables session id math compaction strategy instance group group added immutable pending id add illegal table argument empty builder logger local metadata serializer format directories db compute absent run util key token compaction split output execute internal uuid table reader notify table repaired status changed array keyspace leveled compaction strategy logger common debug throwable key directories num tasks sessions google max level count consistent visible table count level originals collector cfs collect compaction executor stats collector level size compaction aware writer num pending repair finished tasks mutate repaired add table metadata run suppress warnings builder ranges range groups strategies tracker strategies collectors put key sstable table metadata session repaired session progress user defined tasks txn add tables user defined task repair finished compaction task lifecycle transaction entry startup maximal tasks shutdown counts active repair service size session tables grouping service collection strategy remove table params group removed pair integer maximal tasks annotations schema sort repair finished compaction task enable operation sessions compaction params completed estimated remaining tasks pending repair column family store copy strategy removed count illegal argument descriptor pending repair pending repair logger factory scanners put compaction manager close propagate compaction task io stream repair finished task utils background task filter keys abort table scanner logger id replace tables remove session reload table metadata instance writers empty build deprecated dht compaction strategy scanners pending repair manager added max maximal task session id disable cleanup tables compaction strategy manager entry expired tables lifecycle transaction add repaired builder max estimated remaining tasks gc slfj modify entry sum arrays left compaction aware writer
src.java.org.apache.cassandra.service.pager.AbstractQueryPager
key reading reading key remaining partition makes starting reset null partition continuation partition previous problem partition rows page size knew partition upper layer partition results previous group counter processing clustering row partition data clustering row row data page size record unfiltered math row single partition pager exhausted protocol version remaining counter partition iterator db execute internal partitions query pager execute clustering apply clustering partition count counted current partition empty iterators protocol version close client state transformation transport unfiltered partition iterator partition max remaining data limits read command metadata restore state apply close counter decorated key key key remaining partition client state service limits filter execute locally previously partition current key row apply consistency level apply row clustering rows table metadata apply partition transform unfiltered row iterator query start nano time unfiltered partition partition key paging count read execution controller schema partition exhausted query pager fetch page base row iterator row pager fetch page internal override page read command row min page limits row iterator empty empty pager fetch page unfiltered execution controller pager sec counter unfiltered pager command consistency counted selects full partition
src.java.org.apache.cassandra.batchlog.Batch
time batch creation creates batch enclosed mutations decoded form mutation creates batch enclosed mutations encoded form buffer mutations encoded current messaging count mutations version match current read encoded mutations decode deal skip mutation messaging service io read vint length data output utils serialize mutations read unsigned vint collections mutation batchlog currentversion sizeof id read encoded mutations uuid serializer empty array add collection decoded mutations version iversioned serializer mutation mutation size empty net size write unsigned vint sizeof unsigned vint sizes nio buffer util data input db batch util serialized size io local serializer count uuid deserialize remote creation time batch read decode mutations buffer encoded mutations write serializer
src.java.org.apache.cassandra.metrics.TableMetrics
metrics total amount data stored memtable resides including column related overhead partitions total amount data stored memtable resides including column related overhead partitions total amount live data stored excluding data structure overhead total amount data stored memtables pending flush memtables resides total amount data stored memtables pending flush memtables resides total amount live data stored memtables pending flush memtables resides excluding data structure overhead total number columns present number times flush resulted memtable current compression ratio tables histogram estimated partition size approximate number keys histogram estimated number histogram number sstable data files accessed read read metrics range slice metrics write metrics estimated number tasks pending table total number flushed server total number written compaction server estimate number pending compactios table number tables disk cf disk space tables belonging table total disk space tables belonging including obsolete waiting size smallest compacted partition size largest compacted partition size smallest compacted partition number false positives bloom filter number false positives bloom filter read false positive ratio bloom filter false positive ratio bloom filter read disk space bloom filter heap memory bloom filter heap memory index summary heap memory compression meta key cache hit rate cf tombstones scanned queries cf live cells scanned queries cf column update time delta cf time acquiring partition lock materialized view updates table time local read materialized view update disk space snapshot files row cache result range number row cache hits number row cache misses cas prepare metrics cas propose metrics cas commit metrics percent data repaired number started repairs coordinator table number completed repairs coordinator table time spent anticompacting data participating consistent repair time spent creating merkle trees time spent syncing data repair approximate number read creating merkle trees number partitions read creating merkle trees number read anticompaction number sstable repairing range mutated repair status ratio anticompact mutate repair time spent waiting free memtable dropped mutations count stores metrics rolled single global stores metric created optionally alias creates metrics cfs column family store measure global global global global global global avoid capture view mutation specific metrics makes sense capture base release metric null view metric views null view lock acquire time gauge part merged version column global merge cf gauge adding gauge part merged version column global defined global gauge creates counter global counter sum counters column computes compression ratio sstables compression ratio sstable open early mode sstable register keyspace global histogram forward updates registers metric removed unloading true time metric canonical secondary index manager memtables heap size iterator bloom filter serialized size global partition size sync time memtables live data size view gauge buffer compute compression ratio context sstables arraycopy math range latency coordinator read latency recent bloom filter true positive count open reason compressed file length live table count estimated partition size global factory numerator histogram cf counter global alias factory live distributed keyspace sampler compression ratio unit compression metadata heap size repairs completed memtable bloom filter false positive count bucket entry format metadata collector uncompressed length reader db histogram cf util cas propose table metric factory compression metadata live disk space recent bloom filter false ratio mutated table reader pending flushes iterator waiting free memtable space mutated anticompaction array memtables heap size false count memtable count key cache hit collect reads latency metrics common index summary heap memory index summary heap size col update time delta histogram cas prepare repaired denominator iterable google requests percent repaired allocator table concurrent number metrics alias factory remove compaction strategy manager duration close cf timer cfs empty index live data size pending compactions memtable heap size bloom filter true positive count concat indexes factory ret heap current memtable cfs heap memtable partitions coordinator scan latency cf histogram table histogram metric ratio gauge metadata read latency bloom filter heap memory table timer partitions validated flushed counter timer release compression metadata ratio combine histograms min partition size hits table histogram repairs started write latency top ksampler put count histogram max partition size sstable length compression ratio histo repaired metric key metric tables validation time estimated histogram data length sum system keyspaces anticompaction time bloom filter heap size entry key cache hit rate nano time compressed length sum dropped mutations sampler keyspace keyspace group total memtable live data size row cache hit size min memtable columns count memtable heap size speculative sample latency nanos table gauge max estimated column count histogram add bloom filter disk space keyspace timer recent bloom filter false positive count speculative failed retries integer tracker schema metrics registry auto closeable compression metadata heap memory estimated partition count sample latency nanos builder live tables tombstone scanned histogram system key keyspace compression recent bloom filter false positives index column family row cache miss true count replication factor keyspace histogram compaction written bloom filter false ratio global gauge view read time replication strategy partition count writes total disk space table timer early put absent compression metadata sstables read histogram time unit metric validated view samplers memtables data length view lock acquire time concurrent anticomp utils speculative retries table metrics mutated anticompaction gauge key cache request codahale estimated partition size histogram ratio io override live scanned histogram estimated column count buckets metric schema global range latency speculative insufficient replicas counter global percent repaired table counter anticompacted metric factory mbean operations true snapshots size start keyspace instance metrics instance bucket append max update table iterated table table metric factory cf gauge bloom filter false positives concurrent index column family stores nio time compress update metrics concurrent schema constants timer estimated remaining tasks row cache hit range entry tables count global write latency histogram lifecycle metric global read latency memtable approximate key count add open reason cas commit nanoseconds register table metrics alias gauge sst repair sync time column family store sum
src.java.org.apache.cassandra.index.sasi.disk.PerSSTableIndexWriter
generated tokens added index memory size parts build entire index parts present flush memtable configuration start min key schedule segment flush buffer disk row row index flusher memtable segments nanoseconds complete callable source add logger remaining executor info mode output file format entry db util compaction combined max thread pool executor term upcast segment number validator combined min logger token common millis error index google unfiltered visible start partition thread factory flush count latch key validator index descriptor filename column index column metadata core thread time filename column cur position index current key position size max term size close quietly system pretty memory max memory size suppress warnings futures decorated key analyzer count descriptor key latch util column analyzer segment file disk index builder key sstable executor service marshal current key row linked blocking queue nano time put analyzed fb utilities rows max key submit disk index start duplicate call pair annotations schema index flusher general complete key position part await uninterruptibly operation minutes future supported indexes reset index builder combined term iterator illegal argument max compaction flush memory mb descriptor analyzer error time unit estimated memory logger factory builder delete compare table index writer conf utils column def mode column index runnable io logger code table flush observer index uninterruptibles current builder indexes parts empty component unfiltered jmx enabled thread pool executor begin finish nio valid concurrent future added file utils entry segment sec clear unfiltered cluster pool size slfj file entry sasi
src.java.org.apache.cassandra.repair.messages.SnapshotMessage
repair version data output serialize message repair job desc io override message serialized size code snapshot snapshot message data input util io desc message serializer repair message snapshot message serializer deserialize messages serializer
tools.stress.src.org.apache.cassandra.stress.generate.DistributionFactory
stress config serializable io distribution distribution factory generate
src.java.org.apache.cassandra.repair.messages.PrepareMessage
size repair ranges read version range count messaging service data output utils serialize incremental message db streaming write table id read io preview kind override message validate partitioner parent repair session uuid serializer global partitioner collection code token serializer add prepare message serializer timestamp net dht schema sizes serialization val sizeof repair message read data input global util token serialized size io write message serializer prepare message table ids uuid deserialize table id count array messages range table id prepare message write preview kind serializer
src.java.org.apache.cassandra.utils.Architecture
note architectures officially supported adding convenience run architectures risk google utils system collections unaligned arch architecture util property collect unaligned common unmodifiable
test.unit.org.apache.cassandra.utils.UUIDTests
damn uuid timestamp ignore spurious failures concurrent fail time uuid uuid timestamp atomic buffer uuid executors verify concurrent uuid generation uuid gen junit verify runnable timestamp decomposed db util execute uuid cliffc tstamp collect common throwable uuid failed ordering google shutdown system failed duplicate version bb comp timestamp add threads decompose raw buffer executor service marshal time uuid iterations verify ordering wrap adjusted timestamp timestamp time uuid minutes time uuid time unit decompose compare utils await termination current time millis instance highscalelib nio buffer fixed thread pool concurrent generated task blocking atomic uuid
src.java.org.apache.cassandra.utils.progress.ProgressEvent
progress message attached progress event total notification utils notification total progress percentage message progress event progress message progress count progress count
test.unit.org.apache.cassandra.io.sstable.BigTableWriterTest
transactional random directory tables filename writer add junit db framework io desc serialization header define schema testable btw exists cfs append big table writer update builder prepared primary index metadata component descriptor commit ascii exists progress directories filter sstable length marshal table descriptor simple standard cfmd keyspac exists open rows schema committed summary keyspace column family store prepare server table rewriter cf standard unfiltered iterator descriptor keyspace io utils regular columns file override data encoding stats component column family store instance build true schema loader components update testable transaction concurrent keyspace params stats table txn writer row sw file false aborted
src.java.org.apache.cassandra.repair.ValidationTask
validation task sends replica sends back task send validation request receive merkle trees replica trees merkle trees null validation failed replica repair google validation request messaging service request utils streaming repair job desc preview kind message repair instance net send future runnable run validation task trees trees received util concurrent inet address desc sec endpoint tree response messages common preview kind merkle trees
src.java.org.apache.cassandra.locator.LocalStrategy
override override depends token calculations local strategy tokens local strategy expect utils ring position locator collections override natural endpoints config options fb utilities replication strategy collection add empty validate options iendpoint snitch net dht configuration singleton calculate natural endpoints token metadata util token snitch replication factor search position recognized options array token metadata token broadcast address local strategy inet address metadata keyspace
test.unit.org.apache.cassandra.cql3.validation.entities.udfverify.CallFinalize
unsupported operation codec data buffer protocol version transport functions entities params protocol version datastax param execute aggregate impl core nio runtime driver udf context util call cql data execute impl udf context udf udfverify throwable validation
src.java.org.apache.cassandra.utils.HeapUtils
utility generate heap generates heap dump directory jvm jmap file jmap hope log heap retrieve path jmap path jmap executable null searching safer searching jvm jre logs output io problem retrieves jvm jvm option option general jv argument retrieves process id process id process id process id retrieves process id jvm process id process id jvm oracle jv text files management factory runtime mx bean files logger input stream reader process id jvm util io home runtime mx bean process resolve commons filename filter read line dir jmap path system lang starts logger str builder exec log process output heap dump path option bin directory runtime mx bean length dump path process id file systems heap dump path management histo commands path library appendln files process id getenv jmap command path line info input dump commands directory error logger factory file utils pid argument accept substring array utils home io heap utils logger input arguments heap dump path option runtime slfj jvm empty split number format process id nio generate heap dump runtime input stream lang builder jmap path input arguments buffered reader file
src.java.org.apache.cassandra.cql3.restrictions.SingleColumnRestriction
definition column apply query converts checks converted converted check restriction supported index secondary restriction supported holds restrictions combination binds query options terms resulting terms options query resulting binding query options copies keys copy copy suitable index clustering represent actual clustering clustering specific subtype determined examining turn initially created generic function bound trims wildcard tuple inferred operator subtype bound pair inferred subtype wildcards term slice secondary index manager index operator unset supported unsupported operation check false collections buffer check null multi column restriction add supports expression entry keys row filter add multi item terminal reverse begin index buffer util format db lval operator util cql index manager ends term array inclusive append bound merge operator evs bind index column suffix column defs number null merge wildcard terms operation add element buffers index slice null merge number keys column metadata copy keys matches check true add functions constants term end null restriction multi column restriction index query options eks key supporting index add element single restriction eq restrictions single column restriction multi column number entries filter slice elements options statements null restriction restriction bound marker restriction size marker converted multi column restriction duplicate pair slice schema column def restriction marker check bind instance slice restriction multi cbuilder indexes key restriction key restriction eq entry inclusive utils terminal restriction override limit function functions terms add functions append request validations simple expression make specific supported nio starts keys eq restriction unset start singleton bound end index add bind builder add row filter bound key invalid request expression position prefix column left
src.java.org.apache.cassandra.cql3.selection.RawSelector
converts raws selection raw google table table metadata raw transform column identifier selectable schema raws util selectable cql raw selector prepare aliased selectable selectables alias common collect
test.unit.org.apache.cassandra.io.util.FileUtilsTest
paths io exists delete exit stream daemon initialization system setup dd read path file path child folder files files write sum charset folder data file locations expected path folder size config junit true nio truncate arrays file util temp file utf folder size database descriptor length path folder size err absolute path file utils file utils random access file length file file standard charsets io directory truncate
src.java.org.apache.cassandra.index.sasi.utils.AbstractIterator
fork guava state variables previous constructor computed element computed reached end data suffered call elements left failure result infinite initial invocation invocation successful call invokes guaranteed called method propagate outward invocation invoked attempts iterator result method invoke methods element runtime unrecoverable error propagate outward invocation invoked attempts iterator result invoke method elements left convenience simple statement temporary element iteration advancing contract expose functionality unsupported operation google utils element state index failed state preconditions peeking iterator common peek util base iterator compute sasi remove collect ready compute check state end data ready
src.java.org.apache.cassandra.db.rows.RowAndDeletionMergeIterator
iterator merges source rows range tombstone partition level deletion give produce merging deletion infos additional make row includes columns selected resulting remove data shadowed commet partition guarantee deletion information deletion range shadow data cares skipping shadowed data contract unfiltered row iterator shadow skip open note point checking open tombstone check range sorts opening range row row fully shadowed current range row opened check range closing check close boundary compare selection close opened range open range clustering bound deleted slice column filter range make boundary fetched columns unfiltered marker close close open clustering encoding stats rows range tombstone table metadata clusterable range tombstone marker row deletion merge iterator consume range row update row row reverse order supersedes close bound schema active deletion range tombstone boundary marker deletion time comparator range tombstone bound marker consume row decorated key reversed db unfiltered row iterator stats util consume open range partition key partition level deletion deletion time reversed ranges iterator comparator compute end data remove shadowed data filter range update range row open bound metadata row
src.java.org.apache.cassandra.db.partitions.CachedBTreePartition
creates holding data provided note method close provided iterator caller iterator iterator gather sec time creation time created creates holding data provided note method close provided iterator caller iterator iterator gather initial row capacity sizing hint created correspond good estimation number rows sec time creation time created number rows live time partition number rows partition live time partition cached number live rows due expiring number rows cached partition note generally meaningful number row note slightly simpler deserializing header separatly lot harder capacity partition size properly saves creation temporary rows directly written slightly messaging service serialization helper serializer iterator data output utils serialize initial row capacity cell header deserialize header sizes table id io cached live rows currentversion sizeof btree id iterable schema rows table metadata local created sec flag row estimate cell instance data limits version build serialized size net holder schema reversed immutable btree partition unfiltered row iterator serializer cached btree partition cached partition read data input db header util unfiltered iterator partition key io key btree holder expiring iserializer partitions sec unfiltered row iterator decorated key deserialize row count row cells partition tree existing table metadata iter filter tombstone live data write expiring live cell rows expiring cells metadata serializer row
src.java.org.apache.cassandra.db.marshal.BooleanType
false true makes false sort serialize marshal cq serializer buffer override logger true parsed transport remaining serializer serializers empty meaningless format protocol version comparison custom instance empty protocol version logger constants term nio buffer db json simple position cql serializer source false deserialize ignore cq logger slfj length fixed compare custom json logger factory marshal decompose
src.java.org.apache.cassandra.tools.nodetool.Snapshot
separate path kclist avoid existing google nodetool probe airlift system replace override node probe arguments io iterables table lang tools append multiple table snapshot option title snapshot options split builder usage empty kt node tool common description runtime node tool cmd util keyspaces command sb snapshot array execute join snapshot array put commons current time millis collect airline skip flush io utils
src.java.org.apache.cassandra.gms.GossipDigestSyn
message start gossip protocol size data output serialize cluster id gossip digest syn partioner read utf io digest sizeof digest syn message digest serialized size digest add version iversioned serializer digests data input gms digests sizes read db syn util gossip digest syn serializer io gossip digest serialization helper gossip digest write utf deserialize array gossip digests write serializer
test.unit.org.apache.cassandra.security.EncryptionContextGenerator
context iv init params transparent data encryption options config jks key provider key alias encryption context key alias encryption context generator put encryption options util parameterized key provider disabled context security
src.java.org.apache.cassandra.db.ColumnFamilyStoreCQLHelper
helper methods represent table metadata related cql table created record schema dropped columns indexes applied interfere column drops remove empty columns exposed compact build cql representation column family build cql representation user column order ensured built innermost build cql representation dropped columns column column dropped appended build cql representation indexes columns column metadata compatible representable cql resolve user cdc compact table atomic buffer cds comma appender partition key columns indexes cql table metadata cql base table clustering order add partition columns crc check chance pk comma appender cql compatible min index interval buffer util dropped column db util replace dc local read repair chance custom empty cql array collect single quote common cql add dump statements google custom index option cql drop cd comma appender cfd visible columns regular columns iterables max index interval append include dropped columns column metadata dropped time read repair chance user partition columns cq metadata dropped columns cql user cql memtable flush period cql column field key extensions marshal hex comment column statements bloom filter fp chance target option entry cd put table table params size field compression table metadata builder dense comma table params params concat annotations schema function builder index target index metadata udt consumer clustering columns user clustering columns speculative retry meta data utils regular columns accept dropped columns cql id order comma appender gc grace time live column family store cql helper format index metadata indexes instance empty nio concurrent compact table field sb entry add builder options dropped column caching entry atomic compaction
src.java.org.apache.cassandra.db.ClockAndCount
google utils measure override clock cache code blank clock count sizes format db base count unshared heap size common empty size imeasurable memory
src.java.org.apache.cassandra.cql3.conditions.AbstractConditions
base conditions conditions applies regular columns function functions column metadata add functions empty applies columns conditions schema util cql exists columns exists iterable
src.java.org.apache.cassandra.io.sstable.metadata.IMetadataSerializer
table metadata serialize metadata components metadata components deserialize metadata components descriptor table deserialized metadata deserialized deserialized metadata component descriptor table metadata component deserialized metadata null mutate table descriptor table level table mutate repaired time pending repair data output serialize pending repair version io descriptor format repaired version metadata metadata component util descriptor io metadata uuid deserialize mutate level level sstable mutate repaired imetadata serializer components
src.java.org.apache.cassandra.tools.AbstractJmxClient
jmx service url jmx conn add option fmt url mbean server connection description system add cmd option parse mbean server conn io printf close tools credentials management cli jmx connector jmx url output host jmx connection options port message command line parser env writeln msg integer posix parser username parser description stream format command line mbean server conn util host jmx connector factory io parse jmx client opt password closeable option opt options opt remote err header opt opt mbean server connection put commons process arguments jmxc synopsis write throwable jmx port options connect
src.java.org.apache.cassandra.repair.StreamingRepairTask
streaming repair task performs data streaming remote replica repair task send message back coordinator streaming sstables isolated beginning incremental repair flushing request ranges remote send ranges remote care success failure handled success succeeded stream reply back failed stream reply fail size repair google messaging service request throwable visible repair streaming repair job desc stream event system keyspace preview kind logger stream operation event flush transfer keyspace dst message session id instance state transfer ranges sync request net streaming repair task stream state annotations stream event handler send runnable run column family empty handle stream event dest db initiator preferred preview kind util pending repair stream plan inet address stream plan logger desc info ranges execute log prefix uuid failure sync complete messages success request ranges logger slfj common preferred ip summaries listeners collections src logger factory
src.java.org.apache.cassandra.index.sasi.sa.CharTerm
google buffer sequence buffer disk index start duplicate term encode remaining term nio db token tree builder base charsets tokens utf comparator suffix sasi term length common compare position sa marshal
test.unit.org.apache.cassandra.db.marshal.TimeUUIDTypeTest
compare bigger time uuid utils random marshal wrap significant bits uuid buffer remaining serializers timestamp significant bits pos uuid gen compare compare time uuid version expected valid time version uuid junit true timestamp comparison permutations nio compare timestamp db bj bi util framework smaller uuids position validate time uuid uuid time uuid comparison equivalent length compare invalid time version uuid uuid marshal decompose pos
src.java.org.apache.cassandra.streaming.StreamCoordinator
helper maintaining stream session progress info instances coordinates multiple session streams peer outgoing stream plan context inbound stream result future executor strictly establishing initial connected end rest streaming handled directly incoming outgoing true stream session point divvying things buckets iterator event plan id results update progress progress info session collections stream session math unmodifiable collection stream sessions stream prepared add logger runnable session connect util key processors host address execute uuid failure array iter logger debug throwable round sstable details streaming table streaming sections stream session connector connect session info event index slice failed factory session infos state connecting net size stream state state stream event handler run buckets stream complete step stream result future inet address peer connect stream sessions transfer files connection factory concurrent put add transfer files target slices stream session active sessions session id connect sequentially host streaming data debuggable thread pool executor pending repair fb utilities sessions connect collection receiving integer start fixed pool size peers stream connection factory handle stream event host data pending repair info connections host illegal argument success future slice table details preview kind logger factory result session info complete utils stream coordinator remove stream event override logger id min session index add event listener peer sessions stream sessions iterator stream executor preview kind data host data table level add add session info session slfj
src.java.org.apache.cassandra.db.ClusteringBound
start end range inclusive smallest start starts biggest end ends called sstable bound opposite slice slice bound call max sstable slice bound sstable bound slice start start sstable end bound intersect inverse end slice slice bound sstable bound slice start slice start end slice bound sstable results depends slice inclusive incl end bound buffer inclusive start utils clustering bound exclusive end inclusive end prefix clustering bound boundary override end exclusive start allocator exclusive val bottom cbuilder add excl start bound excl end bound clustering prefix memory empty array size top clustering comparator kind start nio incl start bound db bound kind compare component util build bound allocator copy boundary kind comparator builder inclusive sstable bound compare invert cmp
src.java.org.apache.cassandra.exceptions.OverloadedException
overloaded request execution overloaded reason code
src.java.org.apache.cassandra.cql3.functions.AggregateFunction
performs calculation single creates aggregation adds input protocol version protocol add computes aggregate current protocol version protocol aggregate current reset invalid request aggregate function buffer protocol version aggregate transport function functions protocol version aggregate nio util cql reset compute add input
src.java.org.apache.cassandra.dht.IncludingExcludingBounds
bounds left cql key key range unlike including excluding bounds left min including excluding bounds bounds minimum utils ring position lb collections including excluding bounds override inclusive left split rb pair end inclusive dht closing unwrap rhs bounds range position excluding bounds util start inclusive singleton inclusive compare strictly wraps opening left
src.java.org.apache.cassandra.utils.memory.EnsureOnHeap
clustering apply row utils copy apply deletion info rows base row iterator clone heap marker apply key transformation rows instance apply partition buffer decorated key transform row iterator range tombstone marker build memory heap allocator unfiltered row iterator deletion info apply db clone apply partition key search iterator util cloning btree row builder key token decorated key iterator row deletion info partition remove ensure heap op apply marker empty row row
src.java.org.apache.cassandra.repair.consistent.CoordinatorSession
coordinator side logic state consistent repair user repair number tables ranges update coordinator state participants times initially runs asynchronous consistent repair actual repair sessions scheduled submitter make unit run repair sessions mark propose commit repaired messaging service participant state participant states results propose coordinator session atomic supplier session submitter promised participants repair session results logger propose future repairing message util execute failure success commons logger send message common debug inet address key session start google prepare consistent request consistent min system success state result settable future iterables lang commit collect runtime state verb preconditions net propose future prepare future nullable async function builder futures states repair message base throwable put service message messages handle prepare response check argument preparing add callback repairing repair consistent session prepared apply message builder active repair service future callback failed destination transform function state prepare result failure listenable future format duration words future info start debug enabled transition failed duration format utils logger factory fail session failed future coordinator handle promise logger current time millis format duration participant format propose instance empty build repair session result state send commit trace concurrent session id validate annotation repair start repair message builder prepare msg slfj time fail atomic serializer
src.java.org.apache.cassandra.exceptions.InvalidRequestException
invalid request invalid code msg request validation
test.unit.org.apache.cassandra.db.marshal.AbstractCompositeTypeTest
unescape escape db composite junit composite unescape escape marshal
src.java.org.apache.cassandra.db.DeletionInfo
combination tombstone range tombstones describing note practice concrete parts code mutated cast mutate safer actual mutable lazy note expose deletion info sharing deletion info deletes efficient deletion info modify provided added clustering slice range iterator range count utils data size collector allocator del info encoding stats rows mutable copy cache live live mutable deletion info range covering memory live deletion info partition deletion deletion time range tombstone reversed db util slice allocator copy max timestamp iterator collect stats modify ranges collector imeasurable memory
src.java.org.apache.cassandra.utils.OverlapIterator
iterating sequentially ordered collection finding overlapping matching algorithm intervals sorted ascending min separate walked forwards time visit intervals added indexing tracks interval indexing tracks interval clone sorting make sort generally increases likelihood partially sorted sort collection subset including occur move iterator forwards overlaps matching binary search expect points superset add start remove end accessible sort max ordering point utils intervals collections include comparable exclude min ordering collection add size overlaps max interval update util data array min remove overlap iterator sorted max compare unmodifiable sorted min
src.java.org.apache.cassandra.locator.DynamicEndpointSnitch
dynamic snitch sorts endpoints latency adapted phi failure make eds biased newer score merged endpoints worse score separate endpoints warrant merging ranges single host considered bad chance read score update configuration estart configured rates tasks scores change concurrently call comparator endpoint compare copy scores alias version make score change middle loop matter cleaner sort scores compare scores subsnitch scores exceed score ordering subsnitch compare endpoints immutable snapshot function fundamentally unsafe scores change time result method stable identical rely weight latency host worst arrive sort find worst make pass weighting based maximums found add severity hosts scale relative load size task causing basically measure compaction activity lowest score amount skip checking scores make subsnitch decision true lack max score endpoint provided node latency unsupported operation iterator max max collections reset interval exponentially decaying reservoir ilatency subscriber register mbean management factory application state add samples gms parse sort proximity storage service compare endpoints update interval runnable dynamic badness threshold endpoint snitch endpoint state mbean util snapshot range merging preference severity iterator array gossip active schedule fixed delay gossiper sample inet address update schedular reset schedular sorted proximity unknown host gossiper starting apply config close severity dynamic reset interval event window size dynamic endpoint snitch state score scheduled tasks net mbs datacenter run runtime unregister mbean host max merged worth merging range query address daemon initialized endpoint state endpoint endpoints scored max latency mbean server put timings key update scores dynamic reset interval application state size messaging service addresses severity subsnitch receive timing snitch entry dynamic endpoint snitch mbean locator subsnitch score cancel fb utilities management service median collection rack inet platform mbean server sort dynamic badness threshold registered reset sample endpoint target versioned scored sorted scores merged time unit add local application state max score clear dump timings compare scheduled executors utils sort proximity score put absent codahale override sort proximity badness severity hostname instance subsnitch ordered scores iendpoint snitch config factory concurrent comparator time update sorted score iterator metrics concurrent badness threshold dynamic update interval scores entry database descriptor lang entry severity scores subsnitch register broadcast address scores dynamic update interval alpha scheduled future milliseconds
test.unit.org.apache.cassandra.io.util.MemoryTest
buffer buffer close read fully utils offset canon wrap hollow fail memory input stream io memory order thread local random current slice stream input stream hollow direct buffer read duplicate allocate memory junit true buffers nio bb arrays memory util framework io memory util order buffer concurrent length limit eof position order
src.java.org.apache.cassandra.db.rows.Unfiltered
unfiltered common constituent unfiltered unfiltered row range tombstone uniquely identified clustering information sorted kind row range tombstone digest atom provided digest validate data metadata metadata table atom part data atom invalid invalid column unfiltered digest row rows table metadata clusterable empty metadata kind db full details row validate data message digest kind range tombstone marker range tombstone marker security schema include cluster keys
src.java.org.apache.cassandra.exceptions.UnauthorizedException
unauthorized unauthorized code msg request validation
src.java.org.apache.cassandra.cql3.ErrorListener
listener collect syntax errors emitted lexer invoked syntax error recognizer parser lexer emitted token token invoked syntax error message recognizer parser lexer emitted error msg error runtime antlr error msg syntax error recognition recognizer error listener token base recognizer cql
src.java.org.apache.cassandra.index.sasi.utils.CombinedTerm
stream utils token tree builder range union iterator tokens token tree builder buffer disk index data term merge range iterator combined partial disk index add term build combined term nio token iterator builder db finish token tree builder util token builder term comparator array union merged terms compare sasi marshal
src.java.org.apache.cassandra.cql3.restrictions.PartitionKeySingleRestrictionSet
single restrictions partition token restrictions handled query mix restrictions single column restrictions partition composite slice unrestricted key restriction secondary index manager filtering statements restriction clusterings bounds add row filter bound build bound bound collections builder buffer buffers override table sorted clustering index merge table metadata missing elements row filter partition key columns token restriction token filter add append empty partition key restrictions clustering prefix slice size restriction clustering comparator schema unrestricted partition key components nio empty restriction start db single restriction util multi cbuilder add restriction append bound cql restriction index manager partition key single restriction restrictions slice comparator array build bound query options restriction wrapper filter serialize partition key token options inclusive
src.java.org.apache.cassandra.tracing.TraceKeyspace
comment tables simple builder statements time uuid simple memtable flush period partition update request make start session mutation parse dc local read repair chance table statement table id mutation buffer ttl table message events keyspace metadata rows table metadata sessions description sessions add id hours uuid gen build millis date started net fb utilities utils schema make stop session mutation trace keyspace nio make event mutation format system table simple builder row builder db append elapsed util concurrent build mutation schema constants keyspace params inet address cql partitions lang parameters row tracing builder cql gc grace metadata broadcast address events session id client command thread time unit trace keyspace row
src.java.org.apache.cassandra.tools.nodetool.stats.TpStatsHolder
ignore fetching tp stats holder dropped messages nodetool probe entry put node probe result override tools runtime metric percentiles array stats dropped message tp convert thread pools integer wait latencies messaging queue wait metrics util entries thread pool thread pool metric stats holder key entry thread pools entry
src.java.org.apache.cassandra.transport.CBUtil
buf utility note contrarily method buf advancing write advancing write functions provided buf avoiding decoder properly handle removed resolved release decoder reset time copy backward compatibility size serializing size provided size reads readable code tl buffer read read size inet addr collections buffer math write unpooled buf allocator uuid address illegal state uuid gen read protocol version smaller write utf remaining write consistency level read inet addr initial buffer util db code util read coder result read netty utf fast thread local uuid read inet inet addr array length write uuid write inet address uuid write write read unknown host read protocol version size read port transport slice capacity size dst nio buffer read raw charset util allocate read net write sizes empty max read unset buffer buf address src upper key size consistency level length decompose buf util write write inet addr hex write cb format entry encoded ut length put entry wrap cr config read uuid consistency level size decoder charset decoder underflow read size add decode reader index duplicate write write pair size inet port inet buf allocator decoder addr size read simple write readable size reset writer index illegal argument flip read bound read slice size str read standard charsets inet socket address size read unsigned write inet write pooled buf allocator buffer utils size uuid io override cb util write allocator tl ut decoder charset size read consistency level config address size address heap allocator size nio buffer max concurrent write decode character coding clear size size protocol consistency entry size property prefix index bounds
test.unit.org.apache.cassandra.io.sstable.CQLSSTableWriterClientTest
invalid request tabl google tear length daemon initialization accept file utils tabl io close files delete recursive ends writer client mode writer files build directory config junit temp dir schema override format util io database descriptor cqlss table writer insert table directory builder add row filter sstable writer filename filter common file cqlss table writer client data files dir
test.unit.org.apache.cassandra.dht.RangeFetchMapCalculatorTest
ips endpoints upto unique racks validate streamed unique validate streamed unique validate streamed local host ranges local host stream false validate streamed local host streamed local dc accept streamed remote dc entries daemon initialization range fetch calculator add junit live source util key rf replacement make addrs addrs multiple rounds computation illegal state network topology snitch array big integer token collect setup snitch common inet address local host filter google overlapping source unknown host result index multimap range fetch hosts net datacenter ranges sources range ip part put host key filter length local dc local data center range fetch calculator range streamer empty graph locator parse single source database descriptor size remote dc endpoint snitch add range sources collection source local multiple rounds computation local host expected integer validate range dead filter endpoint str trim multimap calculator substring override empty dht config true index random partitioner arrays entry rack include token generate range isource filter entry arrays left
test.unit.org.apache.cassandra.cql3.PstmtPersistenceTest
pstmt clear prepared statements load prepared statements validate execute validate prepared statements system add anther prepared statement sync drop keyspace statements removed remove prepare statements trigger prepared statement caused system keyspace cnt query state digest row system keyspace options str add validate pstmts null junit cached prepared statements buffer util db collections util framework number statements disk number evicted statements cql validate pstmt execute array array table prepared statements count throwable null system external calls fail client state query cnt prepared statements evicted prepare statement options net empty stmt query options prepared schema keyspace query processor tables prepare internal calls require network keyspace statement id decompose current table marshal row statements clear prepared statements md digest wrap table size service schema keyspace prepared handler statement ut schema parsed statement untyped result client state inet socket address unresolved utils number statements memory preload prepared statement pstmt invalidation stmt ids pstmt persistence prepared statements format cql tester nano time instance prepared metrics singleton schema constants count query handler stmt id keyspace execute internal options cql query handler process prepared
src.java.org.apache.cassandra.utils.btree.BTree
leaf nodes raw array branch child elements branch node half array include access quickly distinguish leaves require leaf nodes odd elements branches number btrees updating tree reuses unmodified references back parent node make impossible subtrees modifying modified tree parent store references path navigating maximum fan factor nb encode path indexes empty btree leaf empty empty btree branch internal purposes direction creates btree provided source items build tree strictly ascending size size source btree representing contents provided size size pad odd length match contract leaf nodes btree provided collection btree tree comparator comparator defines ordering items update items insert strictly ascending update length number elements update update function apply pairs abort iterator entire btree tree iterate dir direction btree tree iterate comparator comparator defines ordering items start beginning range inclusive ascending end end range exclusive ascending dir iterator start item move iterator defined btree tree iterate comparator comparator defines ordering items start low bound start inclusive inclusivity lower end high bound end inclusive inclusivity higher dir direction iterator defined item tree sorts search null modifies provided btree extreme care btrees meant finds replaces item provided index semantics mirrors exact branch modifies provided btree extreme care btrees meant finds replaces provided item sort honours result semantics performed tree flattened index item position tree semantics mirrors exact branch access binary search semantics requires logarithmic operating primitive clarity utility upper bound search keys index leaf boundary position branch number indexed index branch node child index branch node child number children branch size branch size branch size index length child end child count position full tree hard code true provided node false fill target array contents provided ascending starting tree target target offset offset target number items copied check fail simple avoiding duplicate transformation btree transforms provided filtering null result transformation sort identically wrt results made transformed bits head partial concatenate remainder original transformation visit iteration visit key nodes inbetween delegate equivalent trees represented differently shaped tree index index key wrt items tree laid version method permits requesting root calculate tree index key index index key calculate number items preceding key tree support easily iterator bounds key index index key calculate index method symmetry root calculate key index index key calculate number items preceding key tree root calculate child index index calculate number items preceding child tree bulk applied manually output sort order resolver method called sequence resolver applied automatically encountering duplicate output sort order resolver method called sequence true managed cheaply ensure sorted resolver false user promised enforce sort order resolve creates copy copy cleans builder instance recycling permit quick addition collect bother merge necessarily expensive sorting iter sorted ensure existing contents make room cur count copy current continuing directly current btree fast array append calling save time skipping identity perform cheap superset copy remaining existing freeing space merge avoid comparison make exhausted fill remainder automatically enforce simple wrapper calls checks special represent compare child node branch element head node corresponds leaves branches simple method walk btree forwards reversed apply function simple method walk btree forwards reversed apply function till stop condition simple method walk btree forwards apply function till stop condition visit iteration visit key nodes inbetween simple method walk btree reverse apply function till stop condition visit reverse iteration visit children nodes inbetween child children half adjust visited keys half array reverse subtract child offset adjust children walked cur end recycle handle resolver iterator tree index key child tree target offset tree key end fanfactor find math previous current predicate lb exact source detected cleanup inclusive lower bound leaf recycle updated handle reuse sizes size array max tree builder ceil util resolve floor index start inclusive dir desc update netty key end size structure heap tree start iterator size replace situ count quick resolver tree index branch key merge ai quick resolver common tree index leaf key cur count comparators iterable cmp higher index google btree min system result add offset iterables btree array tmp index auto enforce slice child index root collect tree end apply forwards btree search iterator leaf key end iterators fan factor boundary prev idx builder add count arraycopy len builder recycler asc base merge update length remainder lookup size reverse idx size shift prev count filter formed length target offset dir node formed positive infinity singleton tree index offset child natural comparator build internal elements child end filtration tracker replace parse apply allocated update iterable size empty leaf casted current find index lower index failed invert transform collection asc start offset ceil index wrapped integer prev empty branch empty function child offset head array instance inclusive upper bound reversed op copy child start natural copy consumer branch node key index count property target comparator recycler localmax illegal argument tree negative infinity child count find index visited child start root apply reverse ub sort compare transform filter ordering utils aj add end element accept binary search fan shift io stop condition limit code function sorted end min initial capacity mid branch key end empty build child count auto key count fill higher node comparator arrays max clone update quick resolver minimal node size child end resolver handle btree concat desc lang lower add natural order end inclusive update function builder floor depth add index bounds
test.unit.org.apache.cassandra.repair.consistent.PendingAntiCompactionTest
multiplied prevent ranges prevent ref leak verify pending anti compaction happy session anti compaction fine release sstable releases sstable exit anti compaction task submitted supplied acquire results transaction cancel sstables acquired acquire result null sstables acquire anti compaction txn daemon initialization fake result collections sstables refs transactional token executors pending anti compaction uuid gen logger null junit unrepaired sstable metadata serializer buffer util format db submitted compactions util token live tables tbl cql execute internal reload table metadata table reader acquisition callback uuid pending repair tables exist array acquisition success logger acquire result table statement schema common inet address repaired google submit pending anti compaction consistent system single anticompaction streaming state listenable future task result callback null txn cfs parent repair session make tables collect array progress state net metadata run table metadata pending repair ranges range register parent repair session pending anti compaction query processor logger factory service keyspace current time millis sstable force blocking flush executor service repair singleton statements simple cb cfm table id collection shutdown apply acquisition callable callback null result active repair service size table metadata add call time uuid expected acquisition callable transactional schema perform anticompaction setup listenable future pending repair column family store prepare server info ordered partitioner full range originals local host setup cfs descriptor num mutate repaired executor preview kind min token compaction manager minimum token disable auto compaction intersects utils callback success parse partitioner abort io logger id instance pac empty build dht config pending repair tables acquired true schema loader column family store instance unrepaired repaired tables acquired concurrent session id keyspace params database descriptor val single thread executor instrumented acquisition callback slfj aborted false left success compaction
src.java.org.apache.cassandra.index.sasi.utils.trie.Cursor
slightly correspond code patricia trie supports pluggable key comparators patricia trie supports deployed maven central downloadable traverse visit step step make step traversing traversing operations work support exit traverse traverse remove previously remove previously exit traverse called finish remove iterating remove stop operations support trie utils select index remove exit decision util entry cursor remove exit entry sasi
tools.stress.src.org.apache.cassandra.stress.report.TimingIntervals
medianlatency timing intervals meanlatency partitionrate oprate latencies percentile min entry rank partition counts intervals entry median latencies timing interval unit op ranklatency end nanos na tree row rates start start nanos append max builder size max maxlatency arrays end max latencies interval util latencies entry report partitioncount length stress rowrate op rates math partition rates key timing parameter length min str sb errorcount error counts op rate
src.java.org.apache.cassandra.cql3.functions.UDAggregate
base function traced ignore unsupported operation match codec present aggregate function collections buffer find add message protocol version logger optional callable wrt nullable function state format db util cql deserialize array trace logger codec common functions google system result protocol version aggregate nano time transport codec code state add input aggregate core empty broken tracing fun reason base state resolve scalar ud aggregate execute aggregate code tracing singleton state function duration marshal invalid request state func driver initial condition function size aggregate duplicate datastax ud function state function schema function init udf reset compute logger factory decompose initcond func override logger driver state codec state function count add functions function nio reference arrays driver functions scalar function start time add init slfj ud helper function
src.java.org.apache.cassandra.utils.CassandraVersion
versioning code slight variation semver document group matches words number checked regexp parse version version illegal argument provided represent drop initial version backward compatible version provided null integer integer major google version pattern utils group bld override compare identifiers find supporting version parse builder lang math regex comparable join pred matcher empty replace code parse matches version regexp snapshot build stripped pattern whitespace pre release version minor split supported pr parse identifiers arrays matcher compare append util number format base integer substring parts versions ids illegal argument min commons patch compile length part common str pattern sb utils ids
tools.stress.src.org.apache.cassandra.stress.Stress
assumes due gc possibly latency stepping variance request ratio media attempt account pauses stderr possibly assuming pauses distributed mixed work uncertainty calculations reporting inspection interval based operations thread future configurable connection driver column data automatic detection provided target rate produces steady work simulate real op rate application variation actual op rate auto rate vary thread count based performance potentially starting thread count high error rate low count basic special socket stress action graph mode utils flush output stream parse stack trace windows timer start timer period add shutdown hook io printf close output stream client initialization line fb utilities add stream multi result logger graph runtime thread message exit arguments input stream net config stress temporary log file run socket stream inp stress graph system util logout stress send daemon database descriptor runtime windows exit code shut message stress socket stress action input stream reader illegal argument output write io buffered reader stopped log generate graph write throwable read line closed end timer period
src.java.org.apache.cassandra.tools.nodetool.Stop
unknown nodetool probe airlift stop node probe arguments io override tools option title compaction stop empty usage node tool description node tool cmd db command compaction operation execute stop id required airline compaction id
src.java.org.apache.cassandra.auth.AllowAllInternodeAuthenticator
remote port authenticate internode authenticator iinternode authenticator remote address auth inet address net configuration validate configuration
src.java.org.apache.cassandra.cql3.selection.ScalarFunctionSelector
invalid request selection selectors scalar function selector output buffer protocol version function selector transport function functions selector protocol version size nio execute util fun scalar function cql reset result builder add input
test.unit.org.apache.cassandra.db.marshal.CompositeTypeTest
make aligned putting fit compatible putting full put time uuid buffer cnames syntax iterator instance escape unescape parser uuid gen cell input partitions junit split timestamp micros buffer util stop util cname cname cname cname comparators hex uuid iterator define schema array end component iter splitted metadata composite cmd fail schema loader cfs serializers total size column metadata allocate configuration full round immutable btree partition bb comp empty parameters notallowed uuids key apply unsafe uuid cdef keyspace keyspace length marshal hex column simple read partition marshal random uuid compatibility cell put keyspac open fb utilities clustering rows add start time uuid bbs ut schema validate keyspace column family store integer prepare server row update builder comparator partition unfiltered remaining decompose compare utils parse composite key composite charset column family store util instance build rewind inputs composite nio arrays db keyspace params validate compare cname character coding dense cfmd uuid count compatible cf standardcomposite row
src.java.org.apache.cassandra.io.util.CorruptFileException
suppress warnings runtime file path util corrupt file io
src.java.org.apache.cassandra.transport.messages.ResultMessage
specific information make singleton message fact streamid describes variables bound prepared statement describes results executing prepared statement scm bound parsed statement math extract result metadata illegal state read protocol version format dest cql read prepared metadata netty keyspace subcodec write metadata event result schema change transport size serialize event version partition key bind indexes cql statement body kind read result schema change change result metadata max id messages ids keyspace statement id buf message statements md digest prepared wrap size prepared decode statement encode greater response msg event serialized size result metadata result metadata kind rows keyspace deserialize event rows write row msg utils result result message codec io override cb util id write select statement codec empty buffer max prepared id encoded size size protocol
src.java.org.apache.cassandra.db.TruncateResponse
message back truncate operation basically specifies truncate messaging service version data output serialize truncate response write utf sizes read utf io sizeof serialized size read message tr verb iversioned serializer net request response write data input db util truncate response serializer io deserialize success message keyspace column family serializer
src.java.org.apache.cassandra.io.sstable.Downsampling
base level determines granularity higher number approximate closely ideal lot expensive resamplings thresholds index summary manager prevent bsl power order good sampling changed index summaries full treat starting indices downsampling round start offset sampling level base sampling unique indices spread start make recursive call ordering start translate current index summary indexes original index repeats entries current index summary entry index index current index originally index sampling level current sampling level index original indexes current summary calculates effective index interval entry number partitions primary index partition entry index sampling level index index index sampling level current sampling level min index interval min index interval index interval full number partitions index summary inclusive calculate starting indexes sampling start points affected removal items earlier earlier index ideal start decrement start size initial round sample pattern cache original index cache entry original index min index interval original indexes abs put io start points math adjustment downsampling ordering pattern start add effective index interval index sampling level current sampling level integer start points start points arrays start indices util base sampling level sampling level num rounds odds sampling pattern sstable index original indexes array
src.java.org.apache.cassandra.security.KeyProvider
customizable key retrieval expect retrieved keys key requested stampeding herds unique keys requested concurrently mark provide constructor accepts sole key alias key provider io io secret key security
test.unit.org.apache.cassandra.utils.HistogramBuilderTest
behave negative atomic array utils stdev vals atomic histogram builder hist histogram builder stdev empty bucket offsets junit buckets util concurrent stdev singleton ranges build stdev ranges stdev large numbers array stdev stdev length array estimated histogram
test.unit.org.apache.cassandra.db.NativeCellTest
buffer ttl group math cell group uuid cell path rndcd unsorted builder logger junit clustering comparator info allocator max db util io size cql local deletion time randomsize allocator uuid random buffer cell logger regular pool clustering expdecay share system btree row brow column metadata row builder kind run complex row builder logger factory current time millis col row rand cloning btree row builder op order lowest bit cell rows path wrap size clustering rows start column identifier memory integer ut schema cells rndcol add cell copy pathbytes count comparator rndclustering interned compare allocator utils seed io logger min make slfj instance build timestamp heap allocator rndcell true nio max clone concurrent sanesize row number trailing nrow builder marshal
src.java.org.apache.cassandra.cql3.statements.KeyspaceAttributes
keyspace attributes google statements obsolete keywords keyspace params collections valid keywords replication options property option empty replication add build empty previous schema immutable option key builder util replication option altered keyspace params durable writes keyspace params validate cql property definitions durable writes replication options builder replication strategy remove collect valid builder common replication options durable writes configuration replication params
src.java.org.apache.cassandra.tools.nodetool.TpStats
tp stats holder nodetool probe airlift system node probe io override tools stats option title empty tp stats printer node tool printer description node tool cmd stats printer execute command data output format illegal argument stats holder tp stats airline
test.unit.org.apache.cassandra.cql3.NonNativeTimestampTest
updates reconcilliation update row cql tester junit true framework cql untyped result server timestamp cql statements execute table false throwable timestamp timestamp row
src.java.org.apache.cassandra.utils.memory.NativePool
cleaner max heap memory max heap memory runnable pool utils allocator memtable pool override allocator memory clean threshold
src.java.org.apache.cassandra.concurrent.SEPExecutor
stores work permits task bottom bits number queued range top bits number work permits range producers wait room queue improve schedules worker pool work outstanding spinning threads add queue worker task permit task permits schedule threads work serviced difference practical terms work permit added work add block fact breached queue schedule thread tasks waiting original enqueue started thread service work spawned helper workers exhausted tasks avoid incurring unnecessary signalling penalties work hand simply start worker spinning register receive signal task processed bringing queue signalled queue drops creates equivalent external advantage choose intervening time queue dropped eventually receive directly schedule worker propagate signal permission perform proceeding call worker permit task permit work maintain invariant scheduling work processing rest queue work permit wasted immediately attempt spawn release shutting atomic sep worker add combine atomic pending tasks runnable executors signal task permit util completed tasks aborted future task sep executor array remove timeout release simple condition schedule compare jmx path wait queue completion current task permits run schedule task work current blocked waiters add task room completed tasks update task permits spinning count tasks shutdown cancel max workers poll unit total blocked task delta terminated sep metrics signaled prev shared executor pool shutdown await uninterruptibly update work permits execute immediately permits time unit dec utils await termination work permit concurrent linked queue work permits interrupted start spinning worker ft signal await metrics concurrent shutdown pool max tasks queued local aware executor service active count task register work permit increment command
src.java.org.apache.cassandra.utils.concurrent.Refs
collection managed ref references ref counted care permanent reference leaks alerted lack reference operations modify collection release references held refs referenced ref ref referenced ref release retained ref provided false referenced retain ref true held reference false release retained ref provided attempt reference provided null acquire reference true iff release merge ensuring reference retained acquire reference provided size release holds google iterator utils entry transform put referenced references ref counted entry iterables close key ref function reference collect collection throwables array ref retain collection illegal state iterators fail add rc present unmodifiable iterator ref refs apply auto closeable relase nullable ref counted add suppressed util concurrent base annotation refs overlap present fail obj ref iterator key accumulate refs add remove merge common release throwable key clear iterable fill stack trace
src.java.org.apache.cassandra.tools.nodetool.Cleanup
nodetool probe airlift system keyspace node probe arguments io override tools option title parse optional tables table usage node tool schema jobs description runtime node tool cmd util keyspaces system keyspace schema constants command force keyspace cleanup parse optional keyspace execute array keyspace cleanup airline local strategy
src.java.org.apache.cassandra.db.marshal.TemporalType
base temporal date current temporal current temporal converts temporal unix temporal unix timestamp temporal unix time millis unix timestamp temporal unix adds duration temporal add duration duration addition substract duration temporal substract duration duration substracion validates duration correct duration duration unsupported operation system time millis buffer duration time millis cql temporal comparison instance validate duration add duration add time millis nio db comparison substract compose substract duration duration current time millis duration marshal temporal
test.unit.org.apache.cassandra.db.commitlog.CommitLogSegmentManagerTest
commit log service perform initialization making initialization method guarantee byteman performed injections makes call segments blocks waiting truncation discard active segments allocation snapshot discard newly allocated allocated count reach limit perform wait dummy thread daemon initialization standar entropy buffer semaphore interrupted segment manager bm rules immutable archive discard add sync junit commit log segment manager thread rules db util compaction interrupt target bm rule compressed commit log backpressure array random collect common release throwable google active segments commit log segment size wrap schema loader run byteman open bmunit jboss metadata ascii commit log sync parameterized keyspace commit log sync period action marshal current thread simple standard cfmd keyspac mutation contrib config size clustering start spin schema acquire keyspace column family store target location prepare server sleep row update builder join cfs commit log max compression buffers pool compaction manager disable auto compaction runner target method column family store standar util instance periodic build commit log config commit log compression nio dummy thread concurrent keyspace params bm unit runner database descriptor clsm commit log segment manager commitlog commit log sync
src.java.org.apache.cassandra.utils.DefaultValue
reset current modified utils original
src.java.org.apache.cassandra.hints.InputPosition
input position subtract hints
src.java.org.apache.cassandra.schema.SpeculativeRetryParam
multiplied custom google text substring override percentile upper english threshold custom speculative retry param length custom parse decimal format configuration table params kind format srp kind nanos util concurrent base option lang lower locale illegal argument speculative retry ends percentile common time unit code schema milliseconds
src.java.org.apache.cassandra.transport.RequestThreadPoolExecutor
shutdown event executor group await termination command thread factory id time unit io transport max threads override event loop transport request thread pool executor thread interrupted terminated event executor unit wrapped integer shared executor pool runnable shutdown parent max queued requests termination future util concurrent future shared database descriptor shutdown illegal state netty execute thread integer config local aware executor service shutdown gracefully shutting timeout time unit executor
src.java.org.apache.cassandra.index.TargetParser
regex matches target form simple column implictly quoted column target enclosed include quote characters escaped target stored cql compatible quotes actual column cql assume column linear scan columns matching column statements pattern utils target quotes result starts lang target parser regex index table metadata matcher column metadata metadata column identifier pair columns configuration substring matches matcher index target index metadata util column cql table target regex cql group parse target column commons options compile replace quote index def schema utils format
test.unit.org.apache.cassandra.db.aggregation.GroupMakerTest
clustering put decorate key group maker goup maker daemon initialization setup dd group clustering columns prefix buffer clustering group clustering columns buffers instance instance make group partition key components buffer group reversed clustering columns allocate group config junit clustering comparator true nio buffer array instance db reversed decorated key aggregation clustering group reversed clustering columns partition key group maker comparator database descriptor reversed comparator partitioner group maker flip group clustering columns length component components false marshal decompose
src.java.org.apache.cassandra.db.marshal.ReversedType
interning compare references user parser marshal cq instances buffer protocol version custom parsed transport serializer syntax instance base comparison parser source override protocol version compatible parameters size configuration length fixed term nio buffer db json util serializers cql user serializer reversed compare cql reversed empty meaningless put cq compatible compare custom json marshal
src.java.org.apache.cassandra.index.sasi.memory.MemIndex
buffer utils column column index conf disk key validator index trie mem index range iterator add memory nio db decorated key token mem index key expression search skip mem index expression column index literal sasi marshal plan
src.java.org.apache.cassandra.repair.SyncTask
sync task calculate difference merkle tree perform operation repair compares triggers repairs ranges compare collect choose repair method based significance perform streaming size repair tree response google utils min finished system column family store streaming repair job desc preview kind current stat logger log prefix open keyspace trace repair session id empty tracing logger dht metric future stat runnable run sync task format differences db update trees util keyspace range sync time start time preview kind difference start sync desc info endpoint concurrent tracing token current time millis logger slfj sync stat common column family node pair time unit milliseconds logger factory merkle trees
src.java.org.apache.cassandra.cql3.statements.SchemaAlteringStatement
statements alter schema alteration result database created capable permissions gran ted creator primary role assigned performing automatically granted applicable permissions hook subclasses override order perform grant statement announces migration nodes schema change event execution schema occurred exists exists clause result actual schema avoid extra work drivers handle schema empty message schema alteration results db grant permissions user performing request user configured iauthorizer supports granting permissions authorizer custom external grant optional method invalid request unsupported operation statements schema altering statement result message ce user announce migration schema change override query state client state transport cf statement service prepared state change cql statement local created bound terms auth column family level anonymous query options user grant permissions creator cql execute internal change request validation execute authenticated user prepare messages options prepare keyspace query state client state query start nano time cf event
test.unit.org.apache.cassandra.hints.HintsBufferTest
allocating entry hint smaller allocation fits generate random host ids choose index random uuid previously created uuid calculate size single hint size allocate slab fit fixed timestamp base mutation start wait sanity check allocate ensure allocation failed allocation automatically close failed allocation automatically make buffer host id buffer iterate written validate nullify visited entries load array visited free read validate read validate size read hint validate hint iterator random base timestamp collections buffer row write serialized size hint entry size hint thread allocation add message null junit mutation runnable buffer util format validate entry db util framework hints buffer io slab size deserialize uuid iterator define schema array random cells iter collect common null data input buffer google system thread factory table iterables index capacity crc cell arrays allocate hint threads count net size hints count wait modifications clustering run suppress warnings read data input free consuming hints iterator hints buffer closed partition updates table metadata thread concurrent entry overhead size keyspace current time millis keyspace length threads host ids hints thread row load messaging service singleton simple standard cfmd random uuid cell mutation currentversion fb utilities hint size rows zip start table schema update checksum host id count prepare server hints row update builder join idx illegal argument creation time remaining table metadata cr time unit hint utils writer overly large allocation fail io mutation thread di micros interrupted instance build timestamp write schema true host id schema loader nio buffer allocation  keyspace params lang milliseconds position serializer
src.java.org.apache.cassandra.service.ActiveRepairService
active repair service starting point manual user triggered repair correspond multiple repair token range repair session repair column column repair session request merkle trees replica range diff trees receiving schedule streaming ofthe parts repair tree wait repair session creation repair session submit repair session future completion singleton active coordinator weight work reflect mutation cached assume entry bounding size requests repairs keyspace column future asynchronous call null register remove session repair clean unregister listeners repair clean neighbors share provided keyspace keyspace keyspace local ranges repair token data centers data centers involve neighbors share provided repaired incremental incremental preserve repaired streamed bailout early avoid potentially waiting failed repair expensive wait longer happen node coordinator coordinator back called repair session failed anticompaction clears snapshots created replica parent repair session duration entire token vnode repair session prs avoid anticompacting repaired ranges end repair anticompact exclude tables coordinator node dies remove parent repair session notifications happened remote node node mark parent repair session id fail marker make coordinator repair fail entire repair ep endpoint phi phi ep higher confidence failure detection usual failing repair wrongly high neighbors sync complete global column family stores empty nodes schedule fixed rate util datacenter endpoints io host address topology table reader failure array fail session logger keyspace sessions force consistent sync unknown host iterables cfs multimap iendpoint state change subscriber parent repair session repair option net metadata runtime ranges prepare message convert host sstable repaired options cache builder entry gossiper apply fb utilities time uuid optional tasks msg platform mbean server sessions error msg column family store range address endpoint range pending repair executor repair status scheduled executors prepare repair validation complete remove unregister failure detection event listener preview predicate remove parent repair session interrupted id empty cfnames config future add listener await  response repair message add register callback atomic register failure detection event listener dc endpoints mbean predicate coordinated change storage service immutable runnable endpoint state cleanup interval restart dht unregister gossiper debug key broadcast address parent repair session repair session cmd clock record repair status ifailure detector incremental submit repair session join ep parent repair session failure reason repair session entry remove state key dc endpoints force shutdown validation complete base put repaired messages days length executors phi convict threshold messaging service cache transform table id message active repair service size management service repair direct executor schema alive registered endpoint expire write iasync callback failure token metadata illegal argument time unit logger factory latency snitch snapshot exists repaired neighbors preview id instance build local sessions alive mbean server session id preview kind fail repair host clear session id table id session ranges register mbean cache management factory application state uuid gen version local snapshotted tables max db dc trees token remove clone token failed common throwable parent repair sessions table ids count latch repair status cmd ifailure detection event listener state consistent preview kind topology message key keyspace forced repair register fd gossip rpc timeout active repair service mbean builder keyspace local ranges pair topology versioned token metadata parent repair status endpoints failure detector utils preview kind io override logger maximum size register parent repair session sync complete message hours terminate sessions status phi index bounds parent session id database descriptor task pull repair repaired builder cancel session message collections atomic replica summaries add gms logger format unrepaired token intersection consistent sessions desc uuid success collect hosts inet address sync complete prepare latch present google concurrent streaming repair job desc message snapshot validation complete failed nodes convict run repair parallelism thread executor count range clear snapshot table ids current time millis range current state session info repair column family stores locator listening executor service entry change mbs ep state collection start request failure reason integer send rr copy supports global prepare flag version unrepaired sstable parallelism degree trim intersects coordinator snapshot failure detector completed coordinator sessions cleanup dead snapshot concurrent concurrent parent repair status data centers progress lang neighbour slfj handle message validation
tools.stress.src.org.apache.cassandra.stress.generate.FasterRandom
based periodically reseed stronger random note expects single gaussian random generator random seed math bits rollover math abs reseed bits util generate stress random commons seed length faster random
src.java.org.apache.cassandra.io.sstable.SSTableLoader
table bulk load externally created sstable conserve open table readers bloom filters index summary calculating file sections stream number keys calculate sstable sections stream estimated number keys conserve heap space bulk empty references acquired constructing table streaming sections releases shared reference acquire opening initialize perform step call partitioner correct method guaranteed called method stop connection stream connection factory validate existing keyspace existing column event collections stream session filename release summary bulk load common add message empty table component filename format endpoint details directories db execute util key token endpoint io desc table reader output handler failure stream state array estimated keys primary index release output metadata streaming details dir google ignore exists token ranges peer streaming table streaming sections connection factory sstables ref append table metadata ref multimap collect runtime listeners cfm net table metadata ref session complete event stream event handler open tables suppress warnings ranges descriptor range stream result future endpoint ranges inet address transfer files stream complete put success key sstable range global count connection factory open batch output handler failed hosts lifecycle transaction entry ref sstable sections cfname active repair service linked service init collection pair compression info schema connection factory stats stream connection factory handle stream event builder summary client state endpoint ranges remote stream plan connections host success ignore descriptor table loader estimated keys ranges positions ranges table metadata preview kind add range endpoint files io stream multimap utils parent file table stream event file throwable data keyspace stream operation component event empty details dht components failed hosts stop file concurrent plan txn err entry lifecycle path release references builder client file directory entry se left
src.java.org.apache.cassandra.utils.JVMStabilityInspector
responsible deciding kill jvm state throwables represent conditions recursively checks input hierarchy throwable check check file handle policy give grace time situations represent conditions reason logged current jvm throwable log killing current socket google scheduled executors utils dieimmediate visible system quiet memory error atomic io jvm stability inspector logger config user function timeout generate heap dump error service logger inspect commit log throwable killer unstable user function timeout policy instance message exit remove shutdown hook net ignore config annotations storage service heap utils replace killer file found killer daemon setup completed schedule killer util concurrent commit failure policy periodic tasks killer throwable database descriptor commit failure policy logger kill current jvm disk failure policy err stack trace atomic killing inspect throwable corrupt table disk failure policy sstable slfj common die time unit milliseconds logger factory error compare
src.java.org.apache.cassandra.cql3.statements.CreateTriggerStatement
invalid request statements check access present schema altering statement updated trigger exists trigger executor schema change announce migration query state logger client state trigger metadata configuration transport schema service keyspace format trigger statement current instance state validate table build table logger change schema clazz local target triggers migration manager announce table update unbuild ensure trigger unauthorized validate cql request validation info updated table metadata triggers metadata logger slfj view column family table metadata query state load trigger instance logger factory cf event
src.java.org.apache.cassandra.cql3.functions.SecurityThreadGroup
determine checks functions initialize thread thread group util functional security thread group thread initializer cql pkg thread initializer
src.java.org.apache.cassandra.tools.BootstrapMonitor
io text utils jmx locks tag progress event override message event interested error tools handle connection failed interrupted simple date format message progress simple condition condition progress event stream format timestamp await signal system util concurrent jmx notification progress listener io bootstrap monitor condition await completion progress percentage handle connection closed current time millis handle notification lost progress complete
src.java.org.apache.cassandra.hints.HintResponse
empty successful response messaging service data output serialize io message serialized size hint response instance version iversioned serializer net request response data input util verb response serializer hints deserialize message serializer
test.unit.org.apache.cassandra.db.rows.UnfilteredRowIteratorsMergeTest
filter prefer merger check attach boundaries iterator daemon initialization sources collections unfiltered tombstone merge iterative pointer marker row util group generator tombstone merge reversed iterative del range source live empty row includes end clustering prefix matcher input parse optional junit clustering comparator split dk matches db unfiltered row iterator clustering bound util add partition key column dt row iterator open deletion time duplicate range array random remove tombstone merge reversed collect val common add clustering column positions row open marker clustering google buffer inputs pattern compute excl end incl start boundary system inclusive find deletion time content close btree row index range tombstone marker open merge del time iterators immutable boundary size supersedes dump metadata clustering kind suppress warnings items decorated key range raw ascii partition level deletion close marker unfiltered row iterators merge reverse collectors filter prev unfiltered length decompose span add regular column row reversed multiplier deletion marked delete deltime pos curr unfiltered close deletion time iterations cell live row apply open fb utilities regex iterators rows table metadata time generator matcher invert add start live verify valid integer unfiltered row iterator merged row schema function error reversed sort generate source open inclusive close inclusive partition key source opt kind prev bound comparator source mi unfiltered row iterators range tombstone boundary marker deletion range tombstone marker merged str end data di clustering def input tombstone merge compare time generators curr stream inclusive compile utils regular columns binary search parse includes start seed override function encoding stats clusterable make merge iterators si instance empty build unfiltered bound kind config verify equivalent true nio comparator range tombstone bound marker arrays start clustering boundary stats database descriptor close sec sz lower add builder liveness info marshal incl end excl start boundary time false fail unfiltered rows generator
src.java.org.apache.cassandra.schema.TableMetadataRef
encapsulates reference immutable metadata avoid cost ref passed offline tools metadata table metadata ref instance linking passed update reference current version methods make table metadata ref github table metadata validate compatibility offline tools metadata keyspace table id override jamm unmetered id schema
src.java.org.apache.cassandra.repair.RemoteSyncTask
remote sync task sends data remote sync task receives sync complete remote task size repair sync complete messaging service request utils finished streaming repair job desc preview kind override logger log prefix message summaries remote sync task trace repair message repair summaries fb utilities instance sync request success net dht local stat sync task format tracing differences util tree response range session id preview kind src start sync logger desc info ranges session summary endpoint tracing messages token logger slfj broadcast address send inet address logger factory dst
src.java.org.apache.cassandra.service.StorageProxy
execute counter writes directly coordinator node counter mutation verb handler replica write executed verb handler run execute underlying stage risk apply updates current row match provided algorithm minus leader election node cluster propose unit single paxos cohort replicas entire expect performance cas intended phases coordinator generates ballot replicas accept updates older ballots recent update majority replicas coordinator replicas accept highest proposal ballot heard proposals commit majority replicas acknowledge accept commit commit procedure covered made briefly mentioned made coordinator sends commit message replicas ballot commit replicas note send subsequent promise discard acceptance successfully committed incomplete proposals commit note performing cas simple perform read prepare accept slightly longer window coordinator trump promise newer keyspace keyspace cf column family key row key row request conditions cas apply update perform conditions consistency paxos consistency paxos prepare propose serial consistency commit consistency write commit serial null operation succeeds updating current cas current match single liveness check start read current check validate finish paxos round desired todo turn null updates apply triggers cas triggers emit trigger generate mutations partitions paxos round scoped trigger executor validate generated mutations targetted partition initial updates reject restrict natural endpoints pending endpoints node local dc cas operations pending note fake impossible number required nodes unavailable nail home point impossible operation matter nodes begin paxos session sending prepare request completing requests paxos ballot promised replicas requests quorum nodes timestamp guaranteed unique node ballot globally prepare make pick timestamp chance greater recently progress timestamp older assigned client state operations note ballot micros guaranteed unique proposal handled concurrently ballots unique proposal sleep random amount give proposer chance ballot greater mrc round preparation paxos cas sleep random amount give proposer chance propose quorum replica learn previous explained waited quorum commit timing lost provided commits invalid prepare missing mrc acknowledge commit move proposing adding ability commit paxos pass commit remove unlike wait commit paxos task task times submitting real submit fake executes immediately mutation generates signal method mutations method possibility replica data mutations mutations applied consistency level query start nano time query started wait timeout hint mutations safely successful worth track individual unusual mutations mutations require local writes dropped local mutation runnable hint method mutations mutations mutations applied write commit log commitlog base complete time epoch local base mutation query start nano time query started joined write batchlog paired replicas base view replication store bl add handler mutation includes checking initiate local node endpoint pending nodes apply mutation paired endpoints range movements write local batchlog replay apply local batchlog memtable perform writes wait adds additional steps writing writing batch availability check fd row write entire batch batchlog remove batchlog entry writing hints batch mutations mutations applied consistency level require quorum remove quorum nodes update deleting query start nano time query started requiring quorum nodes upgrade consistency level quorum require quorum nodes add handler mutation includes checking initiate exit early fulfill cl write perform writes wait perform write mutation gather write apply locally forward mutation write endpoint actual wait responses based consistency mutation mutation consistency level write performer write performer charge appliying write endpoints standard write performer standard writes counter write performer counter callback optional callback run write query start nano time query started exit early fulfill cl perform writes initiate writes perform availability perform writes initiate writes perform availability track decouple availability check write caches consistency level replicas picked replicas alive failure replicas local choose number qualifying candiates local node replica send mutations write locally corresponds writes hint note hinted handoff level wait notify handler wait responses count fire wait fire wait overloaded hints dc grouped message belongs direct writes local dc forward message updated dcs mark response expired request send message node relay write avoid oo ming due excess check generate hints overloaded simply dead idea max hints progress hints due small number nodes causing avoid shutting writes completely healthy node hints progress considered add destinations message send combined message forward data output buffer handle counter mutation coordinator counter mutation applied replica call leader replicated achieve coordinator host proceed applying update locally replicate coordinator forward chosen replica proceed apply counter mutation leader wait check fulfill cl coordinator host replica quicker response write response handlers make easy send back write latencies coordinator node make gathering point similar standard exit fulfill cl forwarding leader forward actual update chosen leader find suitable replica leader counter pick random replica local dc snitch replica alive local track latency counter writes makes contrarily standard writes read trust dynamic snitch unclear mix latencies read bit todo compute consistency endpoint local pick closest endpoint called replica replica leader apply counter mutation leader difference mutation stage execute write apply counter mutation leader assumes mutation stage serial client state performs actual reading row specific column column make paxos writes committed majority performing quorum work applying uae timeout read command honoring total honor enforce todo avoid giving command latency fix function executes local remote blocks replica sorted response time send data request closest digest requests read repair closest number required satisfy wait response digests match data carry read repair data full data read resolve correct response repair node digest result read check full data requested node digests caught repair cl initial command guava retain inefficient large practice replicas range small retain fact ultimately converting make sorted retain maintain sorting estimate number result rows range ring based local assumes ranges uniformly distributed cluster queried data uniformly adjust max expected results number tokens node replication factor restricted range broken queried range token replication factor intersection live endpoints consecutive meets cl merge ranges current range min stop merging deal wrapping slightly efficient destination nodes range deal start sending wrapped range wire easier check endpoint merge estimate merging win merge range consume range merged peeked digests range slices maintained improve good range sends batch concurrent queries close previous batch queries improve estimate update concurrency query remaining ranges compute rows range average pick concurrency fetch remaining rows batch queries provided query range multiple queries query batch reason matters whe paging command specifically information state valid query query previously count results sake updating concurrency factor enforce limit point code rely estimate result rows underestimate rows order increase likelihood fetch rows note range command iterator honor command limit enforce initiate session live node check migration determining schema change propagated assumed node fails record response remote empty message acts request wait versions hosts results ready rest debug check version log hosts compute ranges sorted nodes replica destinations restrict scan specific range duplicate special bounds divide query range pieces delimited ring minimum remainder token keys split remainder split provided remainder split nodes tokens split remainder tokens keys time include keys token include node performs truncate effectively deletes data column family unavailable hosts ring truncate operation aggressive typically invoked simplicity require nodes perform send truncate calls track responses wait gossiper nodes true gossiper nodes captures metrics views runnable aborts start running times rerun mutation marking hint progress hint backpressure mechanism hint runnable decrease total hints progress target hints responsibility increment notify handler cl iterator simple timestamp paxos timeout partial results transport max concurrent connections ip keyspace buffer consistency commit fetch query peeking iterator check hint overload fetch rows commit paxos local data center response message tk atomic batchlog cleanup te mutate atomically datacenter racks partition iterator live endpoints async write batched mutations query iterator live natural endpoints util verb io updates difference host address replicas missing recent commit partitions topology execute immediately failure level array cmd commons iter stage manager millis write performer keyspace round index hinted handoff enabled token metadata add latency iterables lang targets restricted ranges dc groups index multimap execute async paired endpoint retain current total endpoints version mutation size range query net metadata datacenter suppress warnings runtime tracing error interval millis ranges contentions stage record cas contention quorum overloaded base version dc predicate write response handler read serialize entry hinted handoff disabled dcs updates affect view hinted handoff disabled dcs read command total hints otc backlog expiration interval unlogged batch apply fb utilities uuid serializer endpoints destination replication strategy handler mutation starting msg stage peeking iterator platform mbean server local strategy write thread local random bootstrap mode view replicas attempted warn partition key column family store read executor version replication factor schema versions hints max hints progress endpoint join async remove batchlog compute cas hinted handoff enabled merged dec min timestamp micros decorate key query performer cas recent override write failure perform locally repaired background read tombstones schema local dc read paxos transport max concurrent connections ip iterator ideal consistency level interrupted batch uuid empty data resolver data config batch store read repair attempted max await token metadata paxos state dc fully refused schema constants fe start time transport max concurrent connections filtered merged response sec token metadata range count wrap batch response handler commit paxos local counter estimated result rows max expected results make mutation callback unavailables micros timestamp live members counted endpoints hint natural endpoints recent progress commit propose paxos chosen endpoints timeout mbean range rpc timeout delay predicate open store group uuid schema check read timeout upper bound system keyspace client request metrics transport max concurrent connections data key optional live ring members storage service await full data read immutable total hints progress runnable contention increment dropped mutations local serial view mutation remaining rows unreachable recent progress commit update execute local endpoints iterator wrap view batch response handler limits reload trigger bootstrapping gossiper describe schema versions timeout debug data output buffer counter write rpc timeout write timeout host id endpoint iterable read executor refreshed progress minimum batchlog response handler back pressure hosts repair handler ep sync write batched mutations serial consistency counter write coordinator performer logger rows range range command iterator read response participants verb read command coordinator scan latency read callback proposal request failure write response handler wrapper cached token monitoring time prepare callback await results retry digest mismatch tombstone overwhelming put remainder reload supports back pressure increment dropped messages end data base complete messages consistency paxos filter hint window expired pos endpoint snitch write metrics add callback invalid request messaging service singleton unknown partition update paxos commit local read runnable trigger executor message verify hints progress open payload size management batchlog manager service max hints progress wrapper moving validate cas commit store schema mutate imutation mutate mv alive updates view cas request write handler iasync callback failure system keyspace endpoint downtime partition iterators compact endpoint serialization helper range metrics target replication strategy read execution controller write response handler counter mutation apply counter mutation coordinator time unit logger factory view write metrics latency snitch trace enabled incr past window count latch rpc timeout mutate triggers standard write performer repaired blocking counter mutation dc targets index latency client state block unavailable min query range result cfs instance live cf consistencylevel random time uuid micros construction time latch trace accept count consistency batch metrics mbean server singleton unfiltered partition iterator pair inet address rack cmds expired unreachable members error runnable exc request minimal endpoints mutation timeout broadcast address concurrent queries ring iter disable hints dc milliseconds counter write performer hosts present ring iterator unreachable token owners begin repair paxos truncate blocking read failure filtered partition math submit register mbean cache management factory uuid gen read regular verb stages view utils truncation local timestamp micros info consistency commit response handlers db batch cl ceil row iter remotes local rack write token start time metrics view write latency incr created hints recent commit mutate counter remove summary common write throwable pending endpoints view local mutation runnable min result missing mrc joining close data size nano time empty batchlog endpoints range merger send requests state concurrency factor otc backlog expiration interval counter hint read rpc timeout write commit log droppable runnable nanos wt worth merging range query key run valid targets topology received commands initial queries total range count natural pending endpoints triggers message concurrent subrequests margin read repair metrics hint runnable key keyspace send single partition read command paxos hint mutation load successful cm block cb ring position mutations propose callback cas read metrics rpc timeout mutation batchlog live sorted endpoints cfname prepare paxos table metadata hints progress multimap applies locally atomic integer mark sleep uninterruptibly batch consistency level pair proposal storage host empty query start nano time hinted hand manager apply counter mutation ranges queried keyspace data range apply back pressure view replicas success cmd count write rpc timeout tracing hints progress num tokens system keyspace query timeout applies batch read repair repaired background microseconds endpoints counter batch log bounds linked counter write task results range utils disabled dcs hosts reads io ideal consistency level primitives client write request metrics logger write metrics id slow query timeout topology sufficient live nodes storage proxy element ballot micros additional replicas range iterator storage proxy mbean message cas write metrics split iendpoint snitch dht forward sorted tokens wrappers filter query nio cas contention timeout hints service add nano bounds paired mutations apply counter mutation leader failure detector read metrics database descriptor pending endpoints mbs decrement live hosts timeouts nanoseconds quorum view natural endpoint increment command uninterruptibles entry progress upper bound token utils consistency level left failure reason endpoint make mutation message max hints progress wait response collections atomic request timeout group cache loader view write metrics paxos prepare prepare coordinator read latency insert local post reconciliation processing row iterator cl batch handler add cleanup estimate results range gms logger unfinished commit sort proximity digest mismatch partition position format read splits paxos participants token send rr failure processors resolver commit intersection prepare write uuid apply submit hint iasync callback hinted handoff enabled range rpc timeout inet address local quorum range command google max hint window system row iterator range timeout millis local request make updates ballot message counter write rpc timeout read rpc timeout collect storage metrics replicas batchlog endpoints token read iterators immutable data limits execute locally mutation cas client write request metrics live members truncation perform write peek run total hints decorated key time count truncate rpc timeout host truncate response handler stage partition range read command inter execution controller tracing upper current time millis enable hints dc range batch remove max hint window commit host ids local droppable verbs estimate total results paxos propose locator entry base token consistency level cas client request metrics rows view write metrics wrapped read repair repaired blocking hint mutations response handler transform collection start update concurrency factor natural endpoints cas contention timeout number tables request failure reason send messages nonlocal dc integer check service start validate cas time uuid filtered endpoints complete unwrap attempted range slice host id send rr min responses copy write rpc timeout version find suitable endpoint count required participants current timeout versions single range response targets size send hinted endpoints checked cast table metadata transport max concurrent connections view manager single partition read lifecycle require quorum remove trim hint read metrics counter replica promised metric hints progress condition met local dc write response handler contacted replicas column family store send commit key range concurrent executor sync write batchlog mutation opt update concurrent future parameter snitch count concat lang truncate rpc timeout assure sufficient live nodes endpoint filter partitioner slfj write joined selects full partition read consistency failures original serializer augmented
test.unit.org.apache.cassandra.index.sasi.disk.OnDiskIndexTest
check find exact cat embedded check cat positions scat random suffix full partial iteration start start element partial iteration start start element explicitly range words single small range figure search point works data sparse pair exclusions generate exclusions generate split change exclusions properly bound random steps max partial term check lady gaga lady pank lady results produced range single smaller index iterator disk index random daemon initialization results iter check nums partial iter collections put buffer ttb disk current compose lower inclusive check count add random empty junit count gt sorted numbers disk op db disk index util framework temp file cql tokens op term iterator descriptor array iter dynamic token tree builder collect token common operator data output buffer builder iterable true google builder write system token combined term result close hppc index expression data term descriptor index index offsets upper inclusive tree iterator iterators arrays version term neq gte num iterations terms upper key integer sa construction decorated key key offsets descriptor step base key offset index eq remaining dk array convert actual collectors sorted disk index builder key union blocks disk disk validate exclusions carrotsearch murmur marshal token mode combining partitioned sa singleton key id block upper key entry number wrap put lady bells buffer apply iter size rows key builder buffer decorated key disk index asc start composed term key converter pair integer ut cursor combined sort thread local random disk block search builder lower token tree builder expected range block search range blocks lte setup dd expression op murmur partitioner query numbers idx comparator combined term iterator index upper disk index iterator limit builder sparse sparse mode clear decompose token compare buffer cursors stream raw key utils token prefix io current version override current time millis function data level end range iterator bound write iterator order lower key instance lt validator split expression offset iter key count dht config sa construction partial bit finish tree nio keys iter index concurrent plan delete exit position entry database descriptor token tree builder data desc tokens lower entry add range query exclusions query key expression builder block retrieval token range exclusions version aa prefix search mode file compare false multi suffix matches sa prefix sasi exclusions left
test.unit.org.apache.cassandra.utils.IntegerIntervalsTest
upper google max stream add utils min add multi thread iv fail tasks expand cover single thread integer interval expand cover multi thread math min callable executors invoke expand cover unchecked interrupted immutable make expected integer junit flat mt array max futures interval util concurrent future threads seed covers stream size error fixed thread pool lower integer intervals add covers array random intervals collect length common st array
src.java.org.apache.cassandra.net.IAsyncCallbackWithFailure
called remote node timeout failure iasync callback failure request failure reason iasync callback inet address net failure reason
test.unit.org.apache.cassandra.serializers.SimpleDateSerializerTest
serialized unsigned unwrap bits empty time text bounds low min marshal date days lenient date bounds high expected buffer time zone time zone days date calendar serializers bad day timestamp millis day unparsed dates simple date format instance add simple date serializer date integer time junit time zone gregorian calendar serialize nio format max simple date serializer db gregorian change system util date timestamp bad parse results simple date sql proleptic range dates err deserialize bad month date format utc array days deserialized bad day month compare calendar bad input marshal
src.java.org.apache.cassandra.db.marshal.TimestampType
meant replacement date wrongly sorting unsigned empty buffer empty statements compatible internal utils protocol version marshal cq json date formatter time millis cast buffer override logger time millis parsed transport serializer compare timestamp serializer date millis invalid request millisecond precision custom instance empty request validations date length fixed logger previous constants term nio buffer util format buffer duration protocol version db json util simple serializers cql serializer source comparison exc deserialize date timestamp validate duration empty meaningless cq warn logger slfj empty buffer timestamp compatible timestamp duration compare custom json logger factory marshal temporal
src.java.org.apache.cassandra.cql3.functions.OperationFcts
operation functions operator function executes operation numeric result result ype left left left left operation executes operation temporal temporal temporal temporal duration operation function function function function function perform checks function function function function checks function function function function operator operator function operator function determine operation left left operation number represent number represent number tinyint smallint fixed length handle special base functions execute operator operator function execute operations function execute operations temporals function negate unsupported operation symbol buffer multiplication math point parameters temporal system keyspace add execute numerics input mod modulo function format max db util column cql numeric negation function execute duration negation addition array execute temporal counter negate operation fcts protocol version duration operation transport remaining execute temporals result scalar function function simple date substract duration keyspace timestamp substraction marshal operation function divide operator size collection counter column integer integer operation execution schema function numeric operation function protocol version integer function left operator number override input function functions column temporal operation function instance decimal add duration operation numeric division point nio max symbol substract schema constants multiply function operator function operation negation function length fixed left
test.unit.org.apache.cassandra.hints.HintWriteTTLTest
max ttl expired due expired due max hints reader buffers iterator hint iterator session buffer files hint writer uuid gen live input junit allocate hints writer ttld hint buffer util reader db util tbm gcgs cql partitions iterator deserialize array iter millis data input buffer system close append page hints iterator hint file mutation ttl net size bb decorated key key file keyspace gc grace session buffer iterator make hint messaging service statements simple partition update table statement mutation currentversion open fb utilities table metadata add time uuid temp directory integer live hint schema setup false property prepare server hints creation time hints descriptor descriptor hint key time unit file hint utils parse io full partition delete gc grace sm build hint write ttl true schema loader nio session update concurrent hint live keyspace params page file file directory io serializer
test.unit.org.apache.cassandra.locator.ReconnectableSnitchHelperTest
make node fails internode authentication messaging service pool reconnectable snitch helper fails tolerate null daemon initialization locator unknown host collections reconnect authenticator original authenticator messaging service broadcast address mock back pressure strategy net reconnectable snitch helper config junit replace authenticator internode authenticator empty auth util address database descriptor back pressure strategy internode authenticator reconnectable snitch helper iinternode authenticator inet address failed authentication
src.java.org.apache.cassandra.tools.nodetool.InvalidateRowCache
execute invalidate row cache node tool cmd nodetool description airlift probe override node probe command airline io invalidate row cache tools node tool
tools.stress.src.org.apache.cassandra.stress.generate.values.Doubles
stress generator identity distribution db marshal instance override generator config config generate
test.unit.org.apache.cassandra.db.commitlog.CommitLogFailurePolicyTest
commit log failure kill jvm failure storage service active stop policy shutdown commit log failure kill jvm failure killed quietly startup completed successfuly method policy jvm die daemon finished quietly due startup commit log failure kill jvm failure policy jvm killed error ocurs commit failure policyignorebefore startup utils system jvm stability inspector ignore throwable config init server killed register daemon service enabled killer killer instance original killer gms commit log commit log failure policy config junit storage service configuration true schema loader complete setup replace killer stop db killer false commit failure policy commit failure policy database descriptor commit failure policy killed quietly prepare server daemon define schema policy commit failure policyignoreafter startup daemon property commit failure policydie gossiper die commit failure policystop commitlog handle commit error
test.unit.org.apache.cassandra.utils.KeyGenerator
unsupported operation buffer skip utils random ready random key io wrap file input stream line runtime start words reader integer size input stream reader reset word generator nio buffer util file found key generator util io br resetable iterator seed random generator modulo random remove buffered reader read line generator
test.unit.org.apache.cassandra.io.BloomFilterTrackerTest
sanity sanity false positive count adding true positives bloom filter tracker true positive count sstable add true positive adding leaves recent true positive count recent false positive count add false positive adding false positives io bft bloom filter tracker junit
test.unit.org.apache.cassandra.cql3.LargeCompactValueTest
buffer flush wrap small cql tester junit nio rows large compact cql execute large row insert query table throwable
test.long.org.apache.cassandra.dht.tokenallocator.NoReplicationTokenAllocatorTest
grow half metrics back normal check remain unit info random existing cluster random partitioner collections group target cluster size token allocator base tokenallocator random token allocator tc murmur partitioner descriptive format token info util framework token navigable token count random commons collect token update summary grow token infos fixed token count google token count system replication strategy verify metrics math replication start ceiling entry lose replace cluster murmur partitioner tree common unit count spread expectation mms unit wu replication token allocator priority queue ipartitioner add unit current time millis sorted tokens rand unit count cluster random partitioner replicas unit size cluster weight strategy token remove unit random token summary tokens token stat full count unit stat existing cluster token allocator base update summary junit tokens units unit summary statistics max expected sorted units existing cluster murmur partitioner fail target cluster size random partitioner numtokens lower key replication token allocator dht stat replicas max update replication strategy singleton replication strategy grow weighted su st partitioner seeded rand time add max vnode count
test.unit.org.apache.cassandra.CassandraXMLJUnitResultFormatter
xml output constant unnnamed property suite log configuration pick log file specific xml wrapper element current keying bit keyed easily match manually iterating keys individual note key bit timing write log testsuite suite null output local local work fall back testsuite suite build fix bug suite multiple disambiguate listener junit listener junit error occurred running attr end elements junit version helper end suite document builder attr message xml host root element wri attr failures message suite junit xml constants ignore message cdata section format timestamp run time add failure current util framework io listener properties document builder factory hostname assumption failure failed error format output inet address property testsuite junit result formatter element system enumeration unknown host taskdefs close error count starts document attr skipped description flush testcase hashtable props net skipped xmlj unit result formatter output throwable optional key document builder timestamp junit current time millis length skip count start suite filtered trace unknown prop element error property nested put datetime pattern message tools wc props element system output buffered writer system err attr date properties attr dom element writer output stream attr instance initializer error failure run count property element local host add error property err local host text attr errors attribute failed failure parsers properties junit runner append child date utils hostname elements writer failure count ant format skip tag build io attr classname description output hostname attr time write format error empty split document builder trace document element file utils system output stream writer exc dom strace doc start command system error text node
test.long.org.apache.cassandra.dht.tokenallocator.Murmur3ReplicationAwareTokenAllocatorTest
murmur partitioner murmur replication aware token allocator cluster flaky cluster max vnode count existing cluster flaky util tokenallocator replication aware token allocator dht junit
test.unit.org.apache.cassandra.cql3.validation.operations.SelectSingleColumnRelationTest
require require require treat partition clustering indexed operations unset multiple partition key index function call unset requires filtering message user invalid multicolumn slice restriction partition key invalid message filtering indexed column columns clustering column relations compact storage invalid collection relation filtering clustering column index clustering columns partition key column relations cql tester udt invalid slice restriction partition key add statement restrictions invalid frozen udt relation msg integer row select single column relation junit range query index empty rows arrays clustering column relations filtering indexed column util empty clustering column relations clustering order invalid column invalid collection eq relation cql restrictions execute index req composite index primary key select queries clustering column relations array large clustering compact option limit unset table unset duplicate throwable validation index queries complex primary key invalid
tools.stress.src.org.apache.cassandra.stress.operations.predefined.CqlReader
operations build run op query parameters cql reader read expect row cql run op wrap collections buffer table override query append predefined slice generator max columns key column params client wrapper columns namestrs cql operation nio build query arrays builder partition generator timer util wrap quotes command stress key report generate cql run op match results seed manager stress singleton timer client query id seed manager
src.java.org.apache.cassandra.auth.Roles
roles granted supplied including directly inherited roles cached primary role granted roles primary true supplied role role granted superuser role primary true role superuser false primary role role resource role manager cache irole manager role config roles auth roles util database descriptor superuser status role manager roles cache
src.java.org.apache.cassandra.tools.SSTableMetadataViewer
shows contents sstable sstables metadata interested reset option histogram widest partitions table scanner regulars open validation text unicode compression file disable colors encoding stats scanned overview output gc compaction buffer percent regular columns gcgs filename row joda min clustering cli instance key min max token add version cardinality estimator err writer live empty metadata serializer tombstone count unfiltered scanned overview format max command line db scan enabled util total columns io min timestamp sorted token tombstone deserialize key serialization header cell table reader metadata option deserialize ref header cmd commons collect add option common fname millis row cells maximum size estimated partition size table metadata viewer google unfiltered exists ptombcount system parse columns regular columns largest partitions percent complete tleaders flush duration data size sstable level append min max priority queue table metadata ref total cells stats option row size percent time compaction metadata wrap quiet max ttl simple date format cell buffer pcount math unicode reader progress size path metadata files stream err decorated key compression info psize ipartitioner descriptor min clustering parse compare enabled colors options compression validation estimated column count collectors row count absolute path scanner vcomp current time millis full scan sstable length compression ratio max marshal row comment encoding stats writer key stats metadata color pow offset entry index summary period colors cfm printf scanner cyan timestamp unit tools white unit fb utilities line separator rows log table metadata tombstones scan max local deletion time message command line parser pair integer enabled unicode unfiltered row iterator ut min ttl schema files term histogram header exit stats stream builder reversed summary sstable metadata date partition key metadata table partition level deletion version cardinality max timestamp blue kind left period format partition count length filename input stream descriptor range tombstone marker comparing estimated droppable tombstone ratio compression metadata microseconds time unit posix parser pre exp summaries file file stream scan validation metadata utils parser total rows parse ordered columns iter stream formatter io formatter metawriter key optional min cell count key tombstone leaders component commit log intervals util field date ensure released deletion partition key clustering dht config index summary serializer valued buffer usage nio comparator metadata component arrays min local deletion time row compress compressor concurrent data input stream offline tools client initialization est dropped database descriptor duration gcgs key partitioner unit max clustering estimated tombstone drop time repaired partition bloom filter fp chance options partitioner encoding stats pending repair file time duration sb iterator validation milliseconds compaction
src.java.org.apache.cassandra.tools.nodetool.TableStats
keyspace table nodetool probe airlift system human readable table stats node probe arguments io override tools stats option title table stats holder empty table usage node tool printer description node tool cmd stats printer execute util command holder output format array stats holder ignore airline table stats printer illegal argument
src.java.org.apache.cassandra.utils.ResourceWatcher
scheduled executors utils period loaded io throwable jvm stability inspector logger logger filename fb utilities scheduled tasks logger resource watcher runnable run format watch util concurrent watched resource resource resource file modified inspect throwable schedule fixed delay callback slfj file error time unit logger factory milliseconds
src.java.org.apache.cassandra.concurrent.NamedThreadFactory
give threads meaningful tool ensures called method instance completes ensure cleanup direct buffers allocated locally google visible thread factory fast thread local thread priority norm priority atomic io thread counter id thread thread thread group atomic integer priority context loader thread local deallocator annotations runnable run thread thread factory thread group daemon util concurrent context loader increment netty daemon runnable fast thread local thread loader remove increment common
src.java.org.apache.cassandra.service.TokenRange
holds token range informations sake exists sake rely thrift equivalent reason behave reason good providing backward dc rack host format matters backward compatibility size token factory rpcs locator sb left override rpcaddress ep append builder rack str token factory service endpoint details rack instance add tk str iendpoint snitch net dht config storage service details rpc address datacenter format token range util token snitch database descriptor host address dc str datacenter array range host range hosts inet address endpoints rack endpoint snitch
test.unit.org.apache.cassandra.db.PartitionRangeReadTest
insert columns represent integer binary forms padded extra fetch column version column fetch column version column start end start end start end start end def iterator column buffer filtered partition row add cell junit incl buffer util db util add partition key column partitions range slice inclusion exclusion define schema cmd add clustering column partition range read throwable metadata keyspace limits cfs cfname column metadata compound cf standardint math configuration key excl row ascii apply unsafe big integer keyspace keyspace force blocking flush col row truncate blocking simple standard cfmd keyspac keyspac open size clustering rows table metadata include row key incl clear unsafe limit integer add column schema keyspace column family store integer prepare server row update builder key excl inclusive bounds cf compac utils dense cfmd charset column family store util instance build cf standar cf true schema loader nio key incl keyspace params marshal character coding builder add regular column incl
test.unit.org.apache.cassandra.cql3.validation.entities.UFPureScriptTupleCollectionTest
script ud check udf stuff udf executed add protocol encode expected version serializes collections serialize deserialize execute net version keyspace text tup tuple def tup uf pure script tuple collection transport protocol versions cql tuple cql tester tree rows entities tuple integer datastax row javascript tuple collection junit core tuple arrays protocol version driver util rows net function tuple tup cint tup tup execute data cboolean cdouble table tup put throwable validation tree
src.java.org.apache.cassandra.db.monitoring.MonitoringState
monitoring monitoring state db aborted progress completed
src.java.org.apache.cassandra.cql3.statements.DropTypeStatement
drop anymore drops recreates definition previous things places user nest drop existing tables referencing exists null invalid request drop statements check access present schema altering statement unauthorized keyspace table override query state client state validate transport schema function functions user service permission schema change request validation column metadata keyspace access instance state exists ut keyspace metadata columns schema function local target format user migration manager db keyspace metadata auth announce migration ksm keyspace drop statement announce drop keyspace cql references user nullable table metadata configuration ut event keyspace dropped prepare keyspace change drop query state marshal def tables views
test.unit.org.apache.cassandra.service.WriteResponseHandlerTest
register peers expected dc validate successful write ideal cl logs latency query start time past ensure minimum latency validate write response handler thing validate datacenter write response handler thing validate failing achieve ideal cl increments failure local remote simple ideal cl datacenter write respone handler works address cfs write failed ideal cl unsorted address junit merged compare endpoints runnable db ideal cl latency tracked util quorum load schema write uuid ideal cl write respone handler works replication strategy update host id collect common throwable local quorum google sorted proximity system total latency query start time gossiper starting targets broadcast address immutable net metadata datacenter run nts worth merging range query inet address nanos keyspace days addresses cl standard cfmd random uuid nano time locator collection open rack consistency level service endpoint snitch clear unsafe write response handler schema keyspace column family store endpoint target write response handler token metadata sort proximity storage service time unit dec address metric failed ideal cl increments stat ideal cl write latency write response handler micros column family store message instance ideal iendpoint snitch config true schema loader latency awr reset counters concurrent keyspace params dummy message count database descriptor expired response token metadata starting count write response handler
src.java.org.apache.cassandra.metrics.ConnectionMetrics
metrics total number timeouts happened node pending tasks large message tcp connections completed tasks large message tcp connections dropped tasks large message tcp connections pending tasks small message tcp connections completed tasks small message tcp connections dropped tasks small message tcp connections pending tasks gossip message tcp connections completed tasks gossip message tcp connections dropped tasks gossip message tcp connections number timeouts specific ip metrics connection ip ip address metrics connection pool connection addresses invalid jmx large message pending tasks pending messages ip connection pool gossip message dropped tasks meter replace small message pending tasks factory codahale gossip message pending tasks remove small messages metric factory factory metrics integer net large message dropped tasks metrics registry completed messsages gossip message completed tasks connection metrics metrics metric total timeouts address outbound tcp connection pool host address register dropped messages small message completed tasks large message completed tasks timeouts meter large messages gossip messages gauge small message dropped tasks release inet address
test.unit.org.apache.cassandra.cql3.validation.entities.UFAuthTest
terminal evaluated prepare evaluated component check revoking execute permission component functions lose ability execute fail fast uae granting execute fail due execution reflection logged user bother user select modify table permissions note brittle assumes function face avoid duplicate functionality transforming cql execute revoke iterator logged func outer function function function pk delete simple function system user instance entities add message agg def function resource outer function junit immutable function format matches illegal access function collection element condition function clustering delete auth util table def function call unauthorized attributes cql grant execute function unauthorized functions array keyspace statement requires keyspace role collect table common nested functions throwable cql statement aggregate iterable google user field modify fail batch statement client state select function selection func permission batch statement aggregate wrapping function function select pk restriction statement runtime system functions require explicit privileges stmt base query processor declared field function select clustering restriction accessible keyspace field current table function select multi column eq restriction revoke execute function invalid request function select multi column slice restriction stub authorizer statements check access outer func function regular condition authorizer aggregate parse function function column condition table database descriptor size authorizer service cql function setup client state collection function function def schema function aggregate cql setup authorizer setup table function select token slice restriction function resource function localized message function wrapping aggregate function select restriction join authenticated user setup batch internal calls client state role resource field function function select multi column restriction data resource function clustering insert function functions iauthorizer grant function pk insert cql tester uf auth function column restriction select role schema config revoke execute permissions aggregate components true function select token eq restriction func reflect permissions function user authorizer field permissions nested functions simple function joiner fn function lang clear grant revoke syntax requires explicit keyspace simple state function modification statement require execute permission component functions defining aggregate role validation permissions validity function collection literal condition
test.unit.org.apache.cassandra.net.MockMessagingSpy
inspecting behavior mocked messaging observing future mocked incoming message created future number mocked incoming messages created future mocked incoming message created future number mocked incoming message created future intercepted outbound message future number intercepted outbound messages future intercepted outbound messages future number intercepted outbound messages future absence intercepted outbound messages specifed google mocked message responses expect mocked message linked blocking queue results interrupted failed error result logger poll messages intercepted message intercept message wait results queue error messages executors captured results future message transform ret response add empty unit time matching message net size junit blocking queue future runnable run trace capture mocked message futures result absence future listenable future concurrent matching response delivered responses executor logger intercepted messages capture message util execute single thread executor framework message array wait responses intercept msg logger slfj mock messaging spy common results completion future executor time unit logger factory capture mocked message
src.java.org.apache.cassandra.transport.FrameCompressor
avoiding reuse icompressor api expose snappy found runtime processed calling close icompressor layout uncompressed size beginning message make uncompression contrarly written protocol feels putting annoying trap client size allocator utils lz snappy uncompressed length snappy compressor io jvm stability inspector cb util heap buffer array transport lz compressor lz decompressor def found error uncompress valid compressed buffer snappy error read raw instance written snappy read library version fast compressor array offset input net unsatisfied link error frame lz factory body xerial fastest instance protocol jpountz buffer writer index max compressed length output buf compress decompress compressor integer io throwable output offset decompressor netty frame compressor frame inspect throwable length lz factory buf release output
src.java.org.apache.cassandra.db.WriteType
batch log counter write cdc simple db batch unlogged batch cas view
test.unit.org.apache.cassandra.repair.consistent.LocalSessionAccessor
makes hacks compaction repair consistent session consistent startup coordinator state session prs put session unsafe active repair service save session service instance local session start net state local local session accessor session unsafe util session id ars fail unsafe unsafe peers uuid parent repair session failed prepare unsafe inet address parent repair session
test.unit.org.apache.cassandra.OrderedJUnit4ClassRunner
block junit runner framework method comparator junit collections override throwable sort util copy initialization error runners compute methods method comparator array framework method junit ordered junit runner throwable model
src.java.org.apache.cassandra.streaming.StreamReader
stream reader reads stream writes streaming pending sstables session pending repair channel reads data table io reading remote sstable rte local write channel remain streams top schema dropped todo move sstable columns assume note practice io thrown actual reading bother runtime iterator plan id progress info file seq num unfiltered stream session read serialization helper messaging version direction write partition writer io error logger columns buffer util format read directories db kind util io lzf serialization header uuid deserialize header preserve size stream deserializer channels collect session common debug throwable row google report incoming file counter streaming version unmodifiable iterator deletion time close cfs append stream hook data directory logger total size regular columns flag version preconditions table multi writer progress size metadata filename pretty memory kind suppress warnings data input decorated key file message header base key read length table data input stream row table simple iterator messages sstable deserializer row transaction input version sequence number check input stream channels peer estimated keys table id pending repair fb utilities rows helper table metadata throwables reverse order collection pair unfiltered row iterator sections stream reader schema exists pending repair column family store partition level deletion mark local cleared lzf input stream input stream writeable location ning logger factory range aware table writer decorate key directories local dir table format utils regular columns read row abort tracked input stream mark counter local cleared io logger writer encoding stats keyspace sstable level component instance unfiltered readable channel header channel nio compress partition propagate stats warn repaired header partitioner slfj partition key table id row section serializer left
src.java.org.apache.cassandra.cql3.statements.ListUsersStatement
cf actual datasource dependent irole manager google statements add column role manager result result message role resource rows users statement override roles statement transport role instance sorted roles irole manager immutable column identifier format results login role config ut schema column specification auth keyspace db cf auth util schema constants database descriptor cql superuser status messages role manager collect common roles metadata marshal decompose result
src.java.org.apache.cassandra.batchlog.BatchRemoveVerbHandler
uuid batch remove verb handler verb message remove message util id batchlog batchlog manager net payload iverb handler
src.java.org.apache.cassandra.utils.MerkleTrees
wrapper handling multiple merkle trees divided ranges creates empty merkle trees partitioner partitioner ranges merkle trees partitioner add merkle defined maxsize add merkle tree defined size created merkle responsible init tree init selected merkle tree tree split merkle tree responsible invalidate merkle tree responsible merkle tree responsible token merkle tree responsible merkle tree null iterator invalids generated log row count leaf log row size leaf iterator ranges differences iterator trees recommended depth rtree init version iversioned serializer logger histogram row size leaf db trees util key token io rt difference merkle trees deserialize iterator array collect write iterable full range google merkle tree data output visible sizeof rt tree current merkle tree common sizes runtime read data input ipartitioner total count range add put merkle trees serializer log row count leaf ranges end data range merkle trees add merkle trees invalidate iterator serialize entry compare intersects serialized size size log maxsize collection add merkle tree validate overlapping annotations peeking iterator invalids differences add compute tree array ltree token range comparator add trees utils histogram row count leaf add tree io override baos logger iterator write split dht hashdepth comparator log row size leaf row count array output stream entry error partitioner slfj tree range compare rt tree range iterator serializer left
src.java.org.apache.cassandra.cql3.KeyspaceElementName
base keyspace elements index keyspace stored keyspace checks keyspace keyspace converts internal lower locale util override keyspace keyspace keyspace element keyspace cql
src.java.org.apache.cassandra.index.sasi.disk.TokenTreeBuilder
bits ordinal positions change overflow trailer capacity simple data output utils overflow trailer io ttb overflow disk token count packed hppc index shared header serialized size max offset leaf shift write add empty pair block header ordinal entry mask finish ab magic factored key position token tree builder io data util iterator sasi illegal argument tokens block sorted token block carrotsearch entry iterable
src.java.org.apache.cassandra.tools.nodetool.GetTraceProbability
nodetool probe airlift system node probe io override tools trace probability node tool trace probability description node tool cmd command execute airline
src.java.org.apache.cassandra.metrics.CommitLogMetrics
metrics commit number completed tasks number pending tasks current size commit log segments time spent waiting cls allocated normal conditions time spent waiting cl periodic occurs sync lagging sync interval factory codahale timer completed tasks segment manager service disk size metric factory factory metrics attach commit log segment manager metrics registry pending tasks total commit log size commit log service db timer metrics metric waiting segment allocation pending tasks register waiting commit commit log metrics gauge completed tasks commitlog
test.unit.org.apache.cassandra.cql3.KeyCacheCqlTest
make make prevent system tables populating key cache ensure reliably check size key cache size tables created caching enabled manually cql call base disabling key table dropped synchronously cql tester keyspace dropped asynchronously flush operations change expected result add manual disabled cachinng key cache size indexed index load indexed index loading dropped load indexed index load query partition result result queries hit queries partitions key inserts partitions split sstables clustered tables receive cql rows table metadata ref iterator interrupted truncate blocking force flush query row formatted index clear cache call clustering column index cache size add junit storage service keyspace drop table format db util io entries cql index manager execute size iterator config array cache service iter table throwable key cache clustered index info heap slice queries index info heap index metrics col testi key cache paths index info heap metrics expect testi key cache paths shallow index entry index table metadata ref ckfrom submit write key cache clustered rows load saved testi key cache paths save keys dropped table index info heap insert data key prepare table cache flush task hits make cache metrics cluster rows current table requests row cache key cache clustered shallow index entry testi key cache paths save keys dropped table slice queries shallow index entry clust key table clust key clust key open key cache clustered shallow index entry size callable rows service caching params part key part key integer schema metrics registry testi key cache paths table metadata ref index keyspace ckto pk key cache untyped result info format query index drop formatted table key cache key key cache clustered make col key iterator result disable auto compaction blocking flush task trigger blocking flush remove key cache cql io execution override ckto ckfrom execute formatted query pk keyspace cql tester column family store octal instance ck max ck schema force keyspace flush common columns def true starts cnt metrics concurrent update version slice queries count database descriptor testi key cache paths save keys dropped table shallow index entry key cache clustered index info heap clear col text table id false index common columns
src.java.org.apache.cassandra.tools.SSTableRepairedAtSetter
repaired status pass repaired time modified ran repair weeks sstablerepairset sstables metadata paths io attribute charset system table repaired setter file filename tools files repaired descriptor data charset component read lines compatible util version exit fname metadata serializer init database descriptor nio stream arrays file time util descriptor io modified time path err filename file sstable length mutate repaired file millis charset
src.java.org.apache.cassandra.auth.IAuthenticator
authenticator requires explicit false instantiate user resources made inaccessible users accessible column families unmodifiable validates configuration iauthenticator configuration configuration setup called system startup initialize method required provide sasl handler perform authentication single stateful instance client address ip address client internal client connected remote legacy method jmx jmx authentication null authentication option authentication credentials specific representation authenticated performs actual sasl negotiation single authentication sasl instance delegate instance evaluates client response data generates reply challenge informational negotiation completed method called time checked determine negotiation authenticated user obtained calling active connection back client negotiation client challenge continues complete error client response possibly response possibly null response send called invocation determine authentication completed successfully true authentication exchange false sucessful authenticated user representing logged method called null authentication option authentication representation authenticated authentication legacy authenticate credentials evaluate response require authentication complete net configuration authenticated user iresource resources auth util validate configuration client address iauthenticator authenticated user setup sasl negotiator inet address sasl negotiator client response
tools.stress.src.org.apache.cassandra.stress.util.MultiResultLogger
stream printf stack trace io flush add stream multi result logger stream add stream util line stress array streams additional stream result logger
src.java.org.apache.cassandra.db.commitlog.CommitLogPosition
segment id position commit log segment replay general commit log file tables streamed nodes local satisfy criteria real commitlog segment sort real effectively compare data output serialize commit log position serializer io override sizeof comparable serialized size segment id code integer clsp sizes comparator read data input clone db util read io commit log position iserializer deserialize comparator write compare write position commitlog serializer result
test.unit.org.apache.cassandra.cql3.validation.entities.udfverify.ClassWithStaticInnerClass
unsupported operation codec data buffer protocol version transport functions entities params protocol version datastax param execute aggregate impl core nio driver udf context util cql data execute impl udf context udf udfverify validation
test.unit.org.apache.cassandra.db.lifecycle.LifecycleTransactionTest
reader staged diff incorrectly declared original incorrectly declared original staged obsolete staged logged obsolete logged instance logged reader logged current version transactional logged update cfs log transaction atomic sstables restore incremental backup lb readers visible original logged illegal state failed add prepared wait deletions mock schema junit memtable view format reader db predicates util framework compaction readers readers present bad update table reader visible ref array collect common throwable iterable add initial tables google transactional obsolete state tracker result iterables cfs incremental backups current immutable state tracker reset tidying staged obsolete cancellation base helpers logged obsolete logged txn progress sstable commit cfstore txn bad obsolete lifecycle transaction unknown txn visible id cancel progress select size staged reader state checkpoint lifecycle transaction prev schema operation reader state updates array pair ready commit readers array column family store copy action commit log position originals disable incremental backup staged split ub incremental backups enabled compacting obsolete originals untouched originals utils states io obsolete override atomic reference bad cancel global count sstables incremental backups enabled transactional cleanup split config true aborted update testable transaction concurrent pair database descriptor lifecycle concat committed aborted modify false fresh commitlog original left
test.unit.org.apache.cassandra.cql3.validation.entities.UFSecurityTest
script todo calls consume cpu evil kill unit policy javascript reset user defined function warn timeout user function timeout policy user function timeout policy client warn fail invalid message reset warnings warnings config function udf fail timeout ignore functions service keyspace source runtime cql tester max entities table empty null config junit keyspace access control user defined function fail timeout warnings udf warn timeout javascript util false instance error database descriptor cql security permissions execute sources invalid message user defined function warn timeout script user defined function fail timeout uf security capture warnings ud helper access control function execution throwable security validation amok udf
src.java.org.apache.cassandra.io.FSWriteError
override io file throwable path write error error
src.java.org.apache.cassandra.utils.NativeLibraryWindows
offers support retrieves process identifier calling process process identifier calling pid jvm unsatisfied link error fail link runtime unexpected error thrown call open call getpid utils call mlockall call munlockall jna call posix fadvise logger call fcntl call fsync call strerror sun def found error error command logger unsatisfied link error runtime errnum len warn flag fd offset call close library wrapper register method error logger slfj flags library windows error path logger factory pointer current process id
src.java.org.apache.cassandra.io.compress.CompressionMetadata
holds metadata compressed data length represent true length shorter impose shorter limit early ensure readers read past fully written metadata compressed file including uncompressed data chunk chunk offsets compressed expensive data file path path compressed metadata compressed amount memory amount memory read offsets individual chunks input source collection chunk chunk compressed data position position pair chunk offset position reserved sections collection sections uncompressed sections overlap total chunk size sections including sections collection sections uncompressed array chunks corresponds sections uncompressed sorted chunk sorted eliminate duplicates sort chunk reserved path provided user store length store position reserve place uncompressed data length chunks written wire metadata size memory unnecessary correct flush data calculate entries data length grab actual compressed length offset position opened chunk offset chunk index index offset chunk compressed reset writer chunk offset written chunk index index holds offset length file chunk max count chunk offsets commit filename write error files transactional serialized size compressed file length parameters safe memory data length failed add iversioned serializer data output stream heap size chunk offset max db util io accumulate desc compressor deserialize chunk compressed length chunk common read error write throwable options index file path google chunk offsets size data output transactional visible sync data output write utf read utf result max compressed size add offset close sizeof ref chunk count tmp fos section offsets flush data input code version allocate icompressor configuration sizes suppress warnings runtime read data input free descriptor base key offset data file path chunk offset abort array idx write read key sorted sstable length eof reset truncate chunk index options tree format serialize entry put start index chunk serializer max compressed length path chunks file input stream open size offset throwables max compressed size collection length pair compression info sections annotations schema identity collection file found compressor simple chunks sections read chunk offsets integer copy shared copy fd count input compression params filename corrupt table sstable compressor input stream compression metadata add paths compare max compressed length file stream utils writer length io memory primitives file path identities option count component offsets size file output stream buffered output stream total size sections post cleanup chunk length nio comparator write header compress chunk offset concurrent data input stream propagate entry entry msg end index offsets prepare file position serializer left
test.unit.org.apache.cassandra.io.sstable.SSTableWriterTestBase
max size validate column family store checking sstables referenced marked checks generation files disk live ensure data files disk belong checks metrics correct disk space live note method submit maximal compaction live order check maximal task live method side effects called performing checks previous checks involving files cfs column family store table writer base random daemon initialization index access mode buffer max size simple add file counts desc junit tmplinkcount table writer format db util live tables compaction live disk space index manager disk access mode serialization header table reader ref define schema live descriptors common truncate cf metadata dir put google datacount generation system writer cf small max directory standard mode cfs submit maximal compacting open current files size configuration standard global count validate cfs tracker stats descriptor absolute path keyspace index mode current time millis keyspace index access mode disk access mode table descriptor txn truncate blocking lifecycle transaction standard cfmd count wrap config fb utilities rows sleep uninterruptibly integer metric store revert configuration files thread local random cf max size keyspace column family store indexes prepare server wait deletions disk filename total disk space descriptor time unit schema compaction manager directories utils regular columns cf directories marked compacted io sstable encoding stats keyspace tmpcount uninterruptibles column family store instance empty config true schema loader nio truncate concurrent keyspace params disk access mode database descriptor lifecycle windows gc ends file max size false space milliseconds
test.unit.org.apache.cassandra.db.RowIterationTest
delete row sstable higher delete row marked delete table row iteration open cfs util partition level deletion cql tester column family store empty row iteration size junit build row iteration deletion time deletion time db keyspace column family store dt cql local deletion time execute row iteration deletion partition unfiltered cmd keyspace table force blocking flush false throwable
test.microbench.org.apache.cassandra.test.microbench.PendingRangesBench
add wrap pending ranges bench average time pending range random token benchmark threads setup util token benchmark mode search token pending ranges addresses pending range big integer token collect pending ranges common measurement inet address max token google state unknown host scope fork multimap current search token net warmup bh microbench infra range jvm append put key range consume entry locator blackhole iterations entry collection integer annotations thread local random jmh openjdk time unit endpoints multimap gen range add pending range random partitioner pending endpoints dht concurrent mode time unit add nanoseconds time output time unit entry left
src.java.org.apache.cassandra.service.StorageProxyMBean
live schema version hinted handoff disabled dcs cl max hint window rpc timeout total hints otc backlog expiration interval write rpc timeout ideal consistency level read rpc timeout consistency level range rpc timeout service read repair repaired blocking hints progress storage proxy mbean max hints progress interval millis counter write rpc timeout transport max concurrent connections otc backlog expiration interval ideal consistency level max hint window read repair attempted number tables read rpc timeout cas contention timeout range rpc timeout db dc util truncate rpc timeout transport max concurrent connections schema versions transport max concurrent connections cas contention timeout timeout millis max hints progress write rpc timeout hinted handoff enabled reload trigger truncate rpc timeout read repair repaired background enable hints dc hinted handoff enabled rpc timeout counter write rpc timeout disable hints dc
src.java.org.apache.cassandra.db.rows.AbstractCell
base good reason cell extend slightly hijack purging convert expired purgeable columns reason column expired equivalent tombstone tombstone compact column reason related dealing surprising purging note expiring column tombstone put live longer gc grace fulfil responsibility discussion cell offheap referenced inside guarded context ud require cell path logic pushed validation involves cell complex comparator buffer ttl buffer cell validate cell cell path cell live update timestamp remaining counter column format timestamp db util allocator comparator local deletion time tombstone update security sizeof data size serializers column metadata code mark local cleared digest fb utilities ttl sizes multi cell counter context column update context marshal liveness info deletion time marshal marked cell path total ct rows timestamp duplicate memory schema copy max timestamp message digest collection purge update digest purge expiring counter cell update utils mark counter local cleared override allocator instance nio clone update validate sec deletion purger purger tombstone
src.java.org.apache.cassandra.cql3.statements.UpdateStatement
statement parsed cql query update row timestamp insert compact tables semantic differs row exists row timestamp compact accept pk declared columns recognize compact parsed column family operated attrs additional attributes statement column column column column exists true exists condition false created parsed insert json provided creates update statement column family columns key column family operated attrs additional attributes statement updates column operations clause exists flag check row operations unsupported operation bound check false collections attrs prepare internal column update statement column condition add exists prepare collect markers columns buffer util insert db util clause updates attributes cql partitions operations execute clustering statement check duplicates column definition raw compact table operator operation parsed insert json updates regular rows clustering defs counter json empty compact operation empty updates row slice conditions column metadata primary key column check true conditions constants metadata variable specifications term build row add update key builder update apply columns column parsed insert eq restrictions single column relation clustering columns clause cf parsed op statements partition update raw term column collect marker specification require full clustering key add primary key liveness info size clustering table metadata collection prepared params pair schema bound terms operations unset restrictions cql table partition key parsed update regular operations compact tables def setter slice utils raw exists override raw update insert update parameters column compact column statement restrictions empty build request validations json applies columns update prepared empty buffer singleton row clustering column prepare modification statement entry left
test.unit.org.apache.cassandra.TeeingAppender
ch qos unsynchronized appender base spi override logback appender append detach appender iterator appenders detach stop appenders started appender attachable impl attached teeing appender append loop appenders appender core appender attachable stop util appender iterator aai add appender
src.java.org.apache.cassandra.streaming.compress.CompressedStreamWriter
stream writer compressed calculate chunks send continuous chunks stream required sections length section tracks write calculate total length transferring chunks assumed sorted extend previous section end size filename chunks chunk utils channel proxy plan id descriptor streaming session io compression info override stream session logger filename data transferred math stream writer direction trace section logger total size section write component length collection write add apply channel chunk size pair compression info logger fb utilities sections chunk wbc compressed stream writer pretty memory section idx peer format compress transfer sections acquire util data output stream io transfer sections offset progress limiter shared copy table reader table metadata progress info repaired array min transfer sstable slfj fc data channel compression metadata debug transfer logger factory transferred left
src.java.org.apache.cassandra.index.sasi.plan.QueryController
build range iterator expressions applying operation building iterator involves index results persisted internal resources released op operation coalesce expressions expressions expressions build range iterator results range builder based expressions operation range iterators closed determine primary expression op column query act filter primary add execution quota present row filter min key start key collections expressions disk readers row filter add empty op optional resources partition term iterator db close quietly util token calculate primary key validator execution start index manager range intersection iterator table reader partition range read command array apply scope remove column filter collect common index operation key view index google minimum system operation cfs index indexed data limits eq metadata suppress warnings builder decorated key nanos primary indexes query controller key null pointer clustering index filter execution controller put key filter sstable range sasi index single partition read command expression marshal op index unions entry primary file utils expressions size rows table metadata collection release indexes checkpoint max key pair unfiltered row iterator op schema data range table index column family store operation stop key add expression data range read execution controller illegal argument indexes match time unit view conf utils expressions column index query memtable disk io index time quota exceeded indexes range iterator format nano time table build partition key time quota finish concurrent plan range union iterator entry view sec builder partition command compare sasi milliseconds left
tools.stress.src.org.apache.cassandra.stress.settings.OptionCompaction
replication google option compaction override apply options function strategy strategy adapter schema strategy option simple happy arrays compaction params util base extra options option option multi stress illegal argument common configuration options
src.java.org.apache.cassandra.metrics.ClientMetrics
add meter meter factory codahale callable metric factory factory metrics instance call provider integer metrics registry runtime util concurrent metrics metric register add counter meter gauge client metrics
tools.stress.src.org.apache.cassandra.stress.generate.DistributionInverted
stress min max inverse cum prob distribution inverted invert min seed wrapped max distribution cum prob distribution seed generate
src.java.org.apache.cassandra.metrics.DroppedMessageMetrics
metrics dropped messages number dropped messages dropped latency node cross node dropped latency messaging service cross node dropped latency meter factory codahale dropped metric factory factory metrics verb dropped message metrics net metrics registry timer timer metrics metric verb meter internal dropped latency
src.java.org.apache.cassandra.io.util.BytesReadTracker
reset counter reset count util read tracker io read
src.java.org.apache.cassandra.db.Clustering
copy empty clustering special clustering special sense matter clustering columns table empty clustering tables clustering serializer clustering clustering table size size change record clustering buffer data output utils serialize buffer clustering prefix io override cql skip size clustering deserialize size serialized size table metadata serialize size make column metadata deserialize empty version allocator clustering prefix memory empty array data input size builder schema kind size serialized size nio buffer db clone append unshared heap size excluding data util io sb copy serializer allocator kind val clustering skip runtime marshal buffer clustering clustering columns data output buffer empty metadata data input buffer serializer
src.java.org.apache.cassandra.index.sasi.SASIIndex
sasi indexes flushed side temporary proper query plan integrated priority sasi indexes query query interested data handled table writer check notification invalid request sstables rebuild operation partition key regular columns rebuild singleton collections left table added notification sstables disk submit index build key validator cql supports expression row filter callable searcher init validate options transaction index metadata optional columns allocate timestamp micros searcher mode partition iterator format range tombstone db execute util compaction navigable index transaction partitions table reader subscribe flush observer definition data insert row schema common depends operator table metadata added empty index query plan backing table generation min index mode writer partition iterator additional space operator tracker iterables cfs index metadata reload task range rpc timeout range tombstone sasi index builder base cfs notification column metadata tree index build task heap current memtable tracker read command target parser row supports configuration notice complex secondary index builder empty group memtable renewed notification decorated key remove row custom expression descriptor op indexer key table changed notification tracker row update sender inotification column adjust memtable size sorted disk index builder registry memtable notification filter sstable sasi index build task support marshal mode googlecode statements partition update sec put analyzed read command truncate task blocking flush task allocator register index database descriptor fb utilities column family store instance rows table metadata drop data inotification consumer collection pair integer build empty schema function bi function live tables index target build blocking index metadata notifications controller column family store indexer op order initialization task expressions target column murmur partitioner sasi index building support validate analyzer target invalidate task descriptor literal sparse row compaction manager truncated view compare table index writer table conf stream utils mode parse column index io id table flush observer index index builder support update row handle notification index metadata indexes instance index registry partition key post processor command dht config begin finish deletion time transactions update concurrent memtable discarded notification plan validate lifecycle deletion time memtable discard memtable concurrenttrees post index query filter removed register estimated result rows options partitioner tombstone index building support compare partition delete row sasi op group memtable
src.java.org.apache.cassandra.security.CipherFactory
factory loading encryption keys maintains cache loaded keys avoid invoking key provider thread local instances cipher expensive instantiate bonus points avoid calling point supporting caching cipher cache large close reload avoid reload rigorous checks make absolutely correct instance correct simple struct thread local caching cipher mode cipher cipher mode caffeine completion removal listener instance cache key provider init cipher logger transformation decrypt mode ctor util io constructor decryptor netty fast thread local iv length crypto logger common security maximum size google visible secure random cached cipher invalid key padding caffeine invalid algorithm parameter iv parameter spec loading cache key mode runtime retrieve key error key constructor encryptor length key provider options secure random classname ivlength algorithm build cipher encrypt mode builder cipher thread local annotations direct executor instance github info spec executor logger factory iv key provider keyprovider cipher factory io secret key logger key alias iv executors build transparent data encryption options config arrays algorithm reflect concurrent cipher lang alias slfj benmanes cached cipher
src.java.org.apache.cassandra.gms.FailureDetector
failure detector paper phi accrual failure check paper phi larger percentage log debug useless provide backwards compatibility pretty accustomed users tuned environments register instance scaled scale dump inter arrival times examination alive fail screws node badly worth defensive minor bugs avoid adding empty arrival window thread event record interval longer rpc host regularly experiencing connectivity problems mark quickly initial fd seeded large initial interval average depends cluster err high corrected waiting bit low explanation math work called samples phi convict threshold register failure detection event listener endpoint state results mbean write error math files write output stream pause register mbean open simple management factory application state window phi convict threshold dump inter arrival times gms path logger count listener endpoint state util key temp file phi io report arrival intervals interpret max local pause remove logger gossiper debug inet address failure detector mbean illegal argument clock max interval nano ifailure detector system ct initial nanos debug enabled unknown host endpoint states filled nano time append index sum pause ifailure detection event listener state version composite data convict net fb utilities arrival window runtime heartbeat window interval millis openmbean add reported phi composite data support address tabular data support arrival intervals interpret endpoint state endpoint convert generation mbean server key length application state size reported phi endpoint state initial tabular standard open option parse entry copy write array put endpoint state path parse diff append mbs management log open data heart beat version ep state endpoint count inter arrival time endpoint count max local pause nanos nodes status integer max interval tabular data platform mbean server trace enabled min alive builder hb wnd warn array backed bounded stats info tokens property versioned arrival samples put absent tnow error time unit logger factory append endpoint state io wnd utils phi factor states override heart beat state output stream file debug percentage logger unregister failure detection event listener failure detector simple states phi instance buffered output stream config newvalue max pause ep concurrent composite nio trace arrays force conviction concurrent entry file utils entry database descriptor data lang tokens nanoseconds interval eps sample size slfj file broadcast address fd evnt listeners sb milliseconds
src.java.org.apache.cassandra.io.util.DataInputBuffer
input stream single duplicate duplicate buffer ensure thread buffer wrap io override slice duplicate remaining nio buffer util io offset capacity buf buffer length rebuffering input stream limit position data input buffer
test.unit.org.apache.cassandra.cql3.validation.operations.BatchTest
batch migrated migrated migrated batch operations batch empty batch range delete invalid message flush query batch multiple table batch unset row clause format cql tester batch batch delete insert tbl tbl junit batch clustering empty rows batch update partition key table schema change cql batch batch restriction execute keyspace table throwable validation unset
src.java.org.apache.cassandra.db.Directories
encapsulate handling paths data column family column family added tables secondary indexes put directory directory parent directory index secondary index files moved directory backward directories directory table id data directory potentially represents multiple note multiple manifest compaction snapshots created sstables snapshotted inside subdirectory snapshots inside subdirectory secondary snapshots created snapshot details rest checks rwx permissions logs error details dir file data dir representation status representing rwx permissions supplied folder directories table directories created defined exist metadata metadata upgraded version existing check table directory move handler loop move existing older versioned table files table location inside data table basically calling unknown size directory data directory usable method production write error directories data directory usable write error directories temporary subdirectory data usable method temporary io error directories data directory usable null space left write error directories pick directories space resulting sstable dirs blacklisted exclude directory total write size fit data shortcut single data directory separated unit weighted separated unit calculate sort directories exclude directory total write size fit data directory write directory secondary location base snapshot snapshot directory write files txn txn permanent sstable file safe temporary sstable file transaction log file information temporary handle failure read txn log note times giving ignore problematic parts txn log file function false adds components interested table files belong specific snapshots space pair snapshot size disk true snapshot empty delete entire snapshot snapshot total snapshot size raw size disk recursively finds directories execute components sstable lister ksname visitor snapshot dirs data path walk file tree collections write writeable location file code write error find previous files comparable rw candidate snapshot directory immutable data file locations add message candidates location acceptable blacklisted dirs path logger location disk file action remove temporary directories pair component filename backups subdir writeable locations min free space drive directories rename confirm db snapshot manifest file rnd util io ephemeral snapshots filtered base backups illegal state hex desc raw diretories size space cf array commons snapshot creation time logger older directory exists common modified debug cf dirs estimated tables snapshot dir cf directories google data directory backups directory exists true size folder size input directory tables visible system snapshots size disk result ephemeral snapshot marker file windows iterables lang true allocated size starts table relative path data directory collect error snapshot runtime table relative path subdirs usable space filename current files data directories size tmp dir metadata override data directories directories index directory size calculator file filter snapshot directory pick writeable directory files descriptor space xrw total snapshot schema file array expected total write size unwritable idx temporary writeable directory file absolute path add failed snapshot put snapshot dir key filter sstable length snapshot directories separator error action identity code directory dir cf dir blacklisted directories privilege tmp subdir lifecycle transaction entry snapshot exists snapshot subdir txn err data dir txn log index file read cfname clear snapshot files fb utilities perc loc table metadata snapshot details allocated size collection total space data directory file data paths pair ephemeral snapshots write size annotations schema function bi function filter thread local random snapshot space include backups privilege copy io error xr snapshot deleting task xw skip temporary data directory candidate ephemeral snapshot marker file join parent child directories filename ignore descriptor filename writeable location table lister error txn err big logger factory total allocated size sort compare file snapshots linked utils parent file locations accept substring table directory tag skip io override logger path id paths temporary reset data directories keyspace format component true snapshots size dest file delete recursive file empty disk space config calc free perc nio trace arrays file verify full permissions mkdirs concurrent handle error index files secondary index separator file utils comparator database descriptor entry sort writeable candidates lifecycle index dot unreadable path filename disk full write error table size summer slfj table id sn file compare directory entry nb files space utils left
src.java.org.apache.cassandra.io.util.RebuffererFactory
instantiate rebufferers chunk sources instantiate buffer managing rebufferer shared rebufferers directly rebufferer rebufferer factory instantiate rebufferer util io reader file proxy
tools.stress.src.org.apache.cassandra.stress.util.NoopResultLogger
printf stress flush util result logger line noop result logger
src.java.org.apache.cassandra.utils.progress.jmx.JMXProgressSupport
progress listener translates progress event jmx notification notification utils system put tag atomic progress event override management send notification notification event message atomic progress ordinal user data jmx util concurrent integer increment user data jmx progress support notification serial number current time millis broadcaster total progress count progress listener notification broadcaster support
test.unit.org.apache.cassandra.repair.consistent.LocalSessionTest
clear data previous sessions loaded saved replacing future inspect state anti compaction anti compaction finished state memory disk anti compaction state memory disk success message back anti compactionn fail session send failure message back replacing future inspect state anti compaction anti compaction finished state memory disk anti compaction state memory disk success message back parent repair session previously session send failure message multiple calls repairing initial repeated call repeated call fail session session success session state promise message back session move send promised message coordinator session state propose session state fail session send failure message fail session send failure message session state sstables messages session move fail session messages check states prevent moving startup happy subsequent startups load persisted called problems rows reading repair repair refuse sessions failed deleted left sessions past auto fail cutoff sessions past auto delete cutoff sessions start checking status participants activity handle commit message session completed cleanup status request messages node initialized session system keyspace atomic repair cfs pending anti compaction future handle status response redundant session promised session repaired prepare server cfs coordinator uuid gen cleanup repair empty save junit state updated commit success db prepare anti compact failure util failed cql illegal state uuid completed sessions array fail session rang rang rang send message common inet address handle propose message null setup google handle status response failed redundant prepare consistent request submit pending anti compaction consistent startup system null repairing existant session state compare settable future fail update collect array local session id auto fail timeout id cfm messages prepare existant parent session status request net sessions started check status timeout commit existant session repaired load unsafe submit pending anti compaction called builder cleanup fail execute internal handle fail message address handle status response failed handle status request session query processor validation failure key actual service propose success fail session called keyspace messages session id current time millis participan id preparing register session session time cleanup op failed executor service session progress repairing repair truncate blocking statements consistent session session local session simple prepared put table statement prepare success session progress existant session repaired session message system keyspace open active repair service fb utilities handle status request repaired failed table metadata destination add start messages time uuid participants expected integer schema function repairing duplicates state alive sessions started handle status response send status request uuid table ids handle status response listenable future keyspace fake id ranges session progress failed consumer coordinator unrepaired sstable handle status response noop illegal argument handle status response session checked session session id session load corrupt row executor prepare consistent response propose invalid state failure repairs repaired initial sessions utils fail session accept parse handle prepare message put session unsafe atomic reference runtime session repaired setup column family store table ids propose instance participants handle fail session message prepare build state instrumented local sessions schema persistence true propose existant session failure clear commit schema loader promise column family store instance repairing local sessions participan concurrent participan schema constants keyspace params status response cleanup delete repair message calls consumer builder broadcast address num sessions repaired progress time false column family store validation builder multiple startup failure
test.unit.org.apache.cassandra.locator.GoogleCloudSnitchTest
datacenter snitch daemon initialization dc locator io az init server regions service instance stop client google cloud snitch nonlocal application state cleanup tear override gms net config junit storage service configuration schema loader add saved endpoint db mkdirs util keyspace google cloud snitch inet address database descriptor google cloud snitch rac endpoint state endpoint datacenter add application states versioned local setup gce api call put rack url gossiper state io factory initialized rack
src.java.org.apache.cassandra.cql3.statements.SelectStatement
encapsulates completely parsed select including column result ordering number methods made accessible benefit query handler reducing due make comparator orders results multiple keys selected selection columns fetch internally select statement selected user include restricted column creates simple select based note results select statement actual processing queried data validation simple wrapper avoid code properly ordering page group aggregation queries page internally user turned paging note exhausted state pager updated closed moved inside custom query handler custom query handler note total limit potentially limit slices fetched assuming internal call bound note select intrinsically selects rows convert equivalent slices purpose mvs restrict read affected view view select statement clustering restrict read command internally query rows queried select give key materialized assuming internal call bound limit provided user number cql row range slice count number number secondary index command request note side viable index identified index cached serialized distribution replicas order avoid distinguish partition live rows trivial live depends potentially query due thing reconcile hard optimize properly simply row partition limit row clusterings selecting query columns fine start bounds common worth ignore slices post ordering results sorted trim group aggregation queries paged internally avoid user provided page size page internally aggregation queries work fine top group paging backward compatibility limit custom query handler limit user partition limit custom query handler partition limit user treat unset limit requested columns handle due slice ignore custom query handler determines partition result content result row null regular general rational rows specifically selected query clustering regular columns ignore partitions empty full include make table cql standpoint show content backward modification statement cas include content respect selection checks query full partitions query full partitions ordering queries partition key order orders results multiple keys selected order sorted column result ultimately ship client checks selectables select partition key columns table table selectables selectables selectables select partition key columns columns order columns order prepares metadata column family meta bound variable selects columns query select invalid request problem occurs building term limit null limit key require partition key columns selected creates make metadata table selection restrictions distinct query distinct make support grouping part partition clustering columns build check column order filtering verifies queries involve filtering potentially filter data index expression row filter method single condition method multiple conditions ordering index execute iterator selectables find base table buffer query row ordering column compose rset empty limit partition iterator collection util key unauthorized helper cql partitions verify ordering pages columns positions array logger ordering columns distributed query page size validate key cfs select index clustering columns restrictions check true clustering prefix size metadata complex empty selection complex column data stmt query options groups view unset buffer selection internal calls group limits internal query options check null check access slices entry column filter put slice orderings partition key columns key range queries full partitions clustering stream selectors msg sort comparison warn partition key column family store result ordering columns result builder clustering columns normal pager data limits aggregate client state def decorate key compare requested slices complex data process client warn query pager order end iter schema end select statement ensure permission empty start iter composite clone aggregation specification aggregation query pager data protocol version view sec raw statement serialize protocol selectors post query ordering columns partition limit receiver group maker cql partition limit aggregation specification query state partition key restrictions partition limit execute internal column filter make slices selectable optional make clustering index filter request validations auth key components execute iterator queried columns distinct column filter raw regular match statement iterable column family access clustering user partition limit row filter internal calls multi cell ordering columns clustering index filter clustering index slice filter permission column metadata user user limit parameters ordering comparator clustering index filter end cql limits empty builder paging state base aggregation spec query processor pk restricted columns request execution messages filter clause view select columns client state cf invalid request reversed composite comparator process partition selectors collection navigable prepared open size service restrictions linked schema end bounds validate distinct selection prepare limit reversed result metadata kind partition range query read execution controller sorters requested columns column index range command logger factory rows clusterings pk column result message raw regular columns restrictions id sort partition keys distinct limits instance build key bounds complex column data cf comparator consistency entry pager columns partition bound wildcard selects columns selection page size row filter bound check false parsed statement parameters base table validate index raw selector limit receiver query column specification dk limit db internal pager index manager common cql statement view result client state internal read view nano time collection serializers selection partition key bind indexes single column comparator state distinct add key request validation clustering index filter commands select clause limits key keyspace partition limit single partition read command cl clustering bound filtering collect marker specification table cf statement aggregate table metadata requested rows row filter paging state prep limit empty query start nano time requires filtering message restrictions bound terms cell keyspace logger comparator check null slice commands clustering columns bounds primary key columns prepare restrictions json utils result index override logger make key relation split dht nio keys column restricted eq selectors compact table validate row builder command clustering columns bounds row add position secondary index manager partition key add functions collections group partition key columns row iterator row filter exhausted reverse order protocol version partition position buffer util partition key aggregation clause requested rows column pos partition range read command pk columns slices page bind process results google parameters system validate read protocol version empty table metadata ref cql rows data limits validate table statements read query fb utilities variable specifications term clustering index filter slices decorated key result metadata cql row limit execution controller column aggregate pk prefix sorted marshal row content partition rows group maker marshal components partition key bounds consistency level clustering filtering rows prepare fetched columns check filtering start column identifier integer column comparator function bound terms secondary indexing column range count data range limit column family trim primary key restrictions result orderer fetch page internal fetch page function functions column family store order results statement restrictions transport bound variables functions pager start bounds select columns secondary index manager start entry page size pager consistency reversed clustering column ordering indexes group maker selectables partitioner slfj reversed ordering comparator
src.java.org.apache.cassandra.cql3.CQL3Type
generates cql literal binary buffer convert cql serialized version protocol version delegate cql literal representations work fine syntax express custom separatly simplify input fields declared support field size null input fields declared support field size null current keyspace resolve actual raw represent supercolumns counters internal parsing make counters provided keyspace current statement part keyspace reject limit user keyspace timeuuid time uuid text nested frozen error keys bigint buffer keyspace syntax references user instance user cql literal parser add read protocol version udt logger remaining empty raw buffer util format tuple end db inet address util keyspace field prepare internal empty cql serializer duration uuid read collection size raw tuple array raw collection logger time generate cql literal field ascii user defined counter freeze keyspace message transport collection supports freezing serializers code keys version lower cq configuration kind multi cell udts compose simple date raw ascii nullable prepare timestamp frozen keyspace timestamp time column identifier marshal field invalid request uuid marshal raw ut quote keys kind size keyspace metadata read tuple collection start duplicate counter column ut inet schema varint field override builder decimal collection append integer custom match collection serializer target user frozen keyspace metadata ksm logger factory elements duration stream utils counter cq parse duration tinyint date logger schema smallint varchar generate cql literal tuple frozen instance decimal ut blob remaining elements nio buffer internal error user element slfj sb
src.java.org.apache.cassandra.schema.Tables
immutable table table empty table optional table table null table found tables instance provided table creates tables instance table provided tables google iterator present index tables format index cfs metadata swapped table id tables diff iterables table code tables indexes table metadata index tables index immutable id illegal state add internal build nullable stream size optional indexes diff schema index table nullable override index custom nullable put builder nullable util tables difference annotation iterator builder index filter collect index tables common difference iterable
test.unit.org.apache.cassandra.db.compaction.OneCompactionTest
live tables disable auto compaction column family simple utils standard cfmd keyspac collections cmd inserts table compaction open compaction clustering compaction column family store util instance add build cf standar cf standar size junit store schema schema loader lcs buffer util compaction params compaction db util keyspace apply unsafe compaction key inserted prepare server row update builder empty buffer define schema keyspace metadata keyspace singleton force blocking flush column family store perform maximal configuration compaction manager keyspace params
test.unit.org.apache.cassandra.cql3.validation.entities.udfverify.ClassWithInnerClass2
unsupported operation codec data buffer protocol version transport functions entities params protocol version datastax param execute aggregate impl core runnable run nio driver udf context util cql data execute impl udf context udf udfverify validation
src.java.org.apache.cassandra.schema.ColumnMetadata
column definition parts partition parts clustering columns regular serialized deserialized override rename existing adding modify column partition key clustering position relative columns note partition key clustering columns numbered separately clustering column compared encode comparison single position make sense partition clustering columns make sneak complicated udt nested achieves avoids array features significantly allocation profile caches converts column definitions column definitions column definitions column identifiers collections complex validate udt path path index array cell cell belonging column collections method check column counter checks tables determine proper placeholder converted real comparator identifiers column creates unquoted identifier creates quoted identifier creates rare column identifier raw assuming existing column table check matching assume table check match assume internally rare column sanity check bound selection iterator comparator partition key unquoted buffer code find predicate collections validate cell bottom clustering order cell path add quoted text udt selectable columns column specification counter column buffer util primary key kind db collection interned util cell path comparator regular comparator helper cql identifiers tombstone lower iterator validate cell path collect regular common iterable defs cell google visible counter result multi cell column append collection serializers raw column column metadata selector cell user math primary key column factory variable specifications compact table column kind complex comparable simple sb base column raw text prepare column keyspace validate cell jamm marshal invalid request column predicate reversed partition key column simple selector marshal cd cell literal path table quote partition key comparison order size clustering rows table metadata transform collection asc column definition comparator column identifier asymmetric column data comparator annotations schema function path column def builder clustering column factory path unmetered copy serializer kind comparator cell comparator ut locale column regular column add index def compare definitions processes selection utils identifier override cql debug cell path serializer format id asymmetric cell path comparator cf ordinal remaining exact nio comparator max position select columns clustering order compact table make cell path comparator expected validate desc github buffer clustering column interned column data compare position selector factory top prefix comparison
src.java.org.apache.cassandra.repair.consistent.LocalSession
basically record local local session logic repair google consistent session consistent started state session result builder update fb utilities update local session code participants preconditions build started utils started completed update state builder session id base validate ranges table ids update coordinator repaired builder check argument failed common
src.java.org.apache.cassandra.io.sstable.Descriptor
table keyspace column family generation higher generations recent alphabetic version descriptor marked influences generated canonicalized path directory table resides version descriptor assumes constructor sstable writers temporary files found directory parse sstable filename shortcut filename filename sstable descriptor parsed illegal argument provided point valid sstable filename sstable parse sstable filename tables files located subdirectories form normal sstables directly subdirectory structure backups snapshot inside additional file note method sucessfully parse sstable files supported file filename descriptor parsed illegal argument provided point valid sstable filename sstable parse sstable extracting file filename pair descriptor component provided illegal argument provided point valid sstable filename sstable extract keyspace table parent make deal absolute invalid sstable file provide error format note assume format sstable number check index directory exclude backup backup true current version read sstable ksname code parameters append file add io error generation canonical file metadata serializer backups subdir format matches matcher directories db util latest version io array tmp filename common dir google generation pattern visible version append format starts filename split ret filename current version files temporary files metadata splitter filename component parent component metadata serializer base tmp files format descriptor version format valid file sstable msg format separator generation absolute file snapshot subdir absolute parse table cfname size regex tmp file compatible table dir base filename pair integer annotations index legacy tmp regex str separator builder legacy tmp regex version info illegal argument filename compile imetadata serializer parent file table format utils parent file parse io override relative filename format keyspace component tmp ext split number format buff invalid table filename splitter secondary index separator validate tokens ends file directory left
src.java.org.apache.cassandra.notifications.SSTableRepairStatusChanged
table reader sstable inotification format repair status changed collection util notifications sstables io table repair status changed
src.java.org.apache.cassandra.tools.LoaderOptions
client encryption options load config file rewritten option unthrottle stream keystore assume username password support party auth providers support plain text auth provider provide constructor party auth provider provided driver plain text alternate support party auth providers plain text auth provider provide nullary constructor ssl found protocol parse streamthroughputoutboundmegabitspersec inter dc throttle mbits user option verbose cli port option method requireclientauth add message usage nodes ciphersuites split throttle mbits option format ssl truststore pw encryption options util option constructor plain text auth provider password cmd commons ignore hosts debug inet address server encryption options illegal argument dir config add option storetype exists system unknown host ignores ignore nodes option server enc options cmd auth provider option config path verbose option url uri enc options exit net storageport configuration core ssl storage port option builder host parse constructor options gnu parser ssl algorithm nativetransportport truststorepassword ssl keystore length constructor cmd line options options option ssl cipher suites instantiation storage port auth provider header formatter passwd option parse tools construct auth provider line separator auth provider port ssl storage port sslstorageport config file load config command line parser msg integer datastax clientencryptionoptions parser instance error msg malformed url throttle noprogress option connections host err progress enabled connections host truststore ssl keystore pw inter dc throttle trim auth provider ssl truststore client enc options ssl store parse usage directory io loader options invocation target keystore dirname storage port option build illegal access keystorepassword config command line node cmd line options bulk loader passwd driver reflect serverencryptionoptions yaml configuration loader user tool auth provider lang client encryption options algorithm footer ssl protocol builder interdcstreamthroughputoutboundmegabitspersec initial host address option file directory
src.java.org.apache.cassandra.db.marshal.ListType
interning note collection support slicing unsupported operation time uuid compatible internal comparator collections buffer compatible frozen previous syntax references user instance parser add protocol version frozen instances logger db compute absent util serializer comparator cql serializer uuid iterator read collection size array logger cells cmp concurrent decode json freeze json protocol version terms transport remaining serializers comparison intern elements elements comparator compatible frozen configuration stringify parameters term multi cell ignore freezing user size json size singleton marshal marshal cell instances custom size compare rows read duplicate freeze nested multicell bbs builder include frozen freezable simple serialized collection collection serializer kind math json logger factory bb bb elements compare parser override logger parsed min format instance append parameters concurrent elements frozen nio buffer json collection concurrent sb references duration delayed slice serialized element slfj compatible compare custom serializer
src.java.org.apache.cassandra.io.util.ChecksummedRandomAccessReader
rebufferer channel validator handles closing io utils channel proxy file close checksum validator checksum open path channel rebufferer suppress warnings util io rebufferer crc file checksummed random access reader random access reader validator checksummed rebufferer file cr throwable data integrity metadata random access reader channel
src.java.org.apache.cassandra.utils.memory.MemoryUtil
copied transfers count buffer address start offset buffer data buffer offset start offset count number transfers count memory starting memory offset buffer starting address start offset buffer data buffer offset start offset count number direct buffer direct page size direct buffer attachment offset allocate instance jna direct buffer capacity offset buffer duplicate direct buffer instance buffer array base offset address source order instantiation buffer direct buffer unsafe copy threshold direct buffer limit offset hollow buffer trg put buffer hb offset sun hollow direct buffer allocate copy memory free buffer architecture address peer null pointer src declared field accessible array base offset ch lang offset misc put attachment array ro direct buffer size put put clazz start memory field offset allocate direct inverted order attachment big endian count buffer put limit direct buffer position offset malloc utils unsafe buffer offset offset field memory array offset hollow buffer put length field put buffer offset nio buffer reflect memory util direct buffer address offset order error unsafe unaligned read buffer position order index bounds
src.java.org.apache.cassandra.schema.TableParams
crc check chance min index interval copy cdc compaction buffer code comment read repair chance immutable add extensions format util compaction dc local read repair chance helper max index interval lower collect common google bloom filter fb chance fail max index interval read repair chance configuration dclocal read repair chance min supported bloom filter fp chance builder memtable flush period base min index interval time live extensions comment bloom calculations gc grace bloom filter fp chance min index interval time live table params compression val caching params params schema dclocal read repair chance compaction params comment cdc compression params speculative retry crc check chance compression memtable flush period utils caching unbuild override speculative retry param gc grace time live memtable flush period crc check chance build nio gc grace max index interval read repair chance validate option lang builder speculative retry min bloom filter fp chance caching bloom filter fp chance
src.java.org.apache.cassandra.db.marshal.UTF8Type
ascii utils protocol version marshal cq ascii json buffer override parsed transport order serializer serializers source charset comparison instance protocol version previous ut constants term nio buffer util format buffer db json simple text cql serializer error utf exc character coding cq cast ut serializer compatible standard charsets json quote json marshal decompose
src.java.org.apache.cassandra.repair.RepairMessageVerbHandler
handles repair related todo add exclude tables repair cleaned trigger forwarded sync messaging service failed session remove parent repair session global message status request submit validation propose predicate snapshot validation request handle status request add handle fail session message sync request logger local format timestamp index db util column family stores token commit desc consistent response table reader uuid array logger log error send failure response column family store common debug inet address verb prepare message google validation request prepare consistent request consistent incremental send reply streaming repair job desc cleanup propose run message parent repair session parent repair session handle commit message validation complete active repair service prepare message verb snapshot status request reply net streaming repair task metadata status response consistent runtime ranges base register parent repair session prepare message table ids cleanup message message sync request messages repair message verb handler handle prepare response sstable validator parent repair session session progress repair validation request table id apply message payload size service status response store schema parameter handle status response handle propose message failure exists column family store coordinated handle promise message internal response column family error preview kind logger factory compaction manager error message intersects io failure response param fail session prs handle prepare message logger id keyspace message session id cfs instance cleanup snapshot dht consistent request send commit promise promise repairing bounds session id parent session id preview kind iverb handler sec repair message task prepare consistent response request slfj validator table id handle message compaction
test.microbench.org.apache.cassandra.test.microbench.FastThreadLocalBench
make matches number fast thread locals fast thread local iterations variables illegal argument param state thread locals io average time scope fork index thread benchmark thread local blackhole state threads annotations initial consume warmup max time microbench infra util concurrent jmh fast thread local bench state benchmark mode jvm append bh baseline netty fast thread local openjdk fast thread local bench thread local initial measurement output time unit time unit time unit nanoseconds mode
src.java.org.apache.cassandra.io.compress.LZ4Compressor
initial compressed buffer length lz preferred buffer buffer validate compression level max compressed length fast compressor input output offset remaining fastest instance util integer io high compressor high compression level level lz compressor compressed length logger common output google lz high compressor visible buffer lz compressor lz compressor fast decompressor supported options icompressor net supports lz factory configuration uncompress len put decompressor jpountz heap instances instance decompressed length lz fast compressor pair integer valid compressor lz factory lz fast decompressor compressor level warn compressor buffer logger annotations logger factory utils put absent io logger compressor input length compression level format validate compressor instance number format lz concurrent chunk length nio arrays lz high compression level compress decompress concurrent slfj position input offset
src.java.org.apache.cassandra.db.Slices
represents selection multiple range rows basically guaranteed clustering slices selecting rows slices selecting rows creates single comparator comparator table slice slice single slice newly created slices lower slice start slices lower slices upper slice end slices upper number slice number slice ith slice ith slice slices continuing paging slices clustering comparator comparator table filter clustering query paging resulting slices results stricly inclusive include newly page reversed query paging reversed slices select results rows selected assuming clustering reversed rows passed assumed reversed clustering selection rows clustering selected clustering clustering clustering selected column minimum maximum sstable slices intersects sstable min clustering smallest clustering column sstable max clustering biggest clustering column sstable slices intersects sstable checks simple inclusion rows slices assuming passed clustering order reverse clustering argument passed builder array slices overlapping equivalent slices clustering slices array modified smallest array slices clustering slices comparator provided simple stores slices start end condition expressed group things slice cql slice eq simple slice eq slice eq inequality note cover read command cql support ignore display bogus query end improve assume component slice bother adhoc utility specialized selects equivalent single specialized selects unsupported operation linked iterator column components max clustering collections buffer serialized size bottom forward order tester add singleton iterator clustering comparator write unsigned vint serialize db util io select slices start inclusive iterator deserialize slices array trivial tester inclusive collect component common component info iterable cmp clustering google data output read unsigned vint slice empty iterator includes start subtypes append slice column metadata select slices iterators version metadata sizes slices copy empty data input builder slice array idx column slice length marshal slices order tester lower bound clustering bound eq upper bound initial size includes finish size clustering min clustering table metadata order tester copy range start slices clustering size selects schema sort sizeof unsigned vint builder reversed array backed slices paging normalized serializer normalizing comparator clustering columns start forward paging compare slice intersects inclusive top reverse order tester reverse paging component slice io override cql normalize end make empty build nio comparator arrays includes end add end inclusive array sb serializer slice
test.unit.org.apache.cassandra.db.KeyspaceTest
synchronous table drop avoid flushes causing flaky failures slice limit slice fetch slice limit fetch row fetch row check empty reads partitions existing overwrite rows compact big row minimum index verify multiple index creates composite columns slice check sstables incl end bound iterator limit tables composites end clustering prefix limit tables buffer sstables column row util metric bottom row limit clustering prefix cell row index entry junit columns incl execute formatted query partition iterator buffer util format index entry slice bloom filter false positive db table reader current column family store util snapshot live tables compaction cql execute internal partitions column filter execute start clustering keyspace cmd table cf operator throwable round clustering row filter row columns slice cutoff clearable histogram query fail cfs instance clustering index slice filter regular columns cell data limits validate slice large max force filter failures fb utilities comparator metadata kind cql limits rows incl start bound rows slice row key row single column eq perform maximal filter sstable length force blocking flush single partition read command row column slices clustering bound cell disable auto compaction size reversed flushing rows include row collection limit column identifier expected integer top dk reversed slice expiration column family store untyped result position row iterator read execution controller limit sstables read histogram compaction manager slice keyspace slice basic utils slice end slice large format query io override start bound end bound slice start make cql tester row iterator build columns index count single partition slice nio empty slices column prefix metrics execution controller rows result slice advanced clear expected incl command false hex
src.java.org.apache.cassandra.dht.Murmur3Partitioner
generates big integer token big integer avoid overflow intermediate wrapping length range bisecting add max wrapping overflow acceptable scale full range adjust signed making generate token note ensure generated token strictly bigger minimum correspond key range include minimum range select data token smaller exclude minimum addition token token token save advance start range backward saved maximum token iterator increase slightly buffer big integer ratio big decimal token shift add message ti optional remaining hashx buffer util format max db util token token mod splitter token random token common ownerships max token google token validator min token token factory scalb sum code current minimum math ri math configuration splitter runtime decorated key midpoint ipartitioner array key subtract size big integer obj measure deep token sorted tokens murmur marshal serial version uid divide pre decorated key heap size describe ownership put size ratio left parse start token token factory thread local random maximum random token token preserves order murmur partitioner partitioner illegal argument min token token minimum token decorate key compare token factory utils token override primitives normalize tim array sizes min instance split number format dht round half nio partition ordering max iterator concurrent heap size multiply validate age partitioner defined order compare position
src.java.org.apache.cassandra.index.sasi.conf.DataTracker
version data tracker index column family replaces tables creating immutable tables tables tables tables add collection tables component attached current index file ignore avoid part query add index simply release move covers situation sstable collection sstable times kind collection view data tracker sstables rebuild min key collections atomic sstables filename built tables key validator add empty logger format db util table reader logger release throwable iterable view exists compare max timestamp tables index descriptor column mark obsolete empty indexes max term collectors tables absolute path filter sstable length collect marshal built indexes validator index file size drop data collection max key pair indexed tables table index min term info indexes column index error logger factory view table io stream utils column index marked compacted conf logger remove atomic reference built indexes table component truncate update concurrent view current view slfj file sasi left
test.unit.org.apache.cassandra.io.sstable.SSTableCorruptionDetectionTest
corruption size larger comparable size chance corruption land middle large expensive current fit corrupt max position end restore table writer base iterator random table corruption detection single partition iterator buffer directory tables math row row table scanner cache max size simple add util logger junit build corrupt sstable table writer dk format read db close quietly util row iter io compaction add partition key column corruption size noop listener table reader slices random corruption position corruption logger add clustering column throwable dir cfm unfiltered tear system writer size cfs number runs max size update builder offline size metadata filename sstable scanner compression builder decorated key ascii file length keyspace scanner filter sstable length force blocking flush backup add regular column row txn writer table reads listener lifecycle transaction column filter invalidate file wrap table open scanner clustering rows compression table metadata corrupted counter unfiltered row iterator number pks schema function brute force corruption max size write keyspace column family store timestamp operation consumer info wait deletions max corruption size unfiltered iterator compression params corrupt table random access file abort logger factory raf disable auto compaction table scanner reg accept reg seed io close logger seek chunk cache keyspace column family store nano time instance append unfiltered config true finish schema loader nio truncate directories update keyspace params file utils database descriptor lifecycle partition iterator row table reader builder min marshal slfj write file walker position
src.java.org.apache.cassandra.cql3.SingleColumnRelation
relations encapsulate relationship entity creates entity kind relation term compared key key entity identifying term compared describes entity relates creates entity kind relation term compared describes entity relates restrictions element eq enforced receivers column def column receivers invalid request relation row key clustering key backward compatibility conside ud support support relations entire collections bound make collection receiver entity check false collections eq restriction add udt column specification gt format term db tuple util check true cql key term key array raw operator multi cell receivers collection restriction column metadata entry primary key column entry key cq constants variable specifications term terms receivers marker entity restriction restriction single column relation single column restriction keyspace receiver marshal invalid request statements null restriction restriction bound eq collect marker specification operator table size table metadata terms relation schema column def restriction marker gte restrictions rename identifier slice restriction restriction entity lte collection key relation key restriction slice restriction restriction inclusive raw restriction override lt null literal request validations relation legal relation frozen collection strict operator eq restriction key singleton references duration bound invalid request prepare entry
test.unit.org.apache.cassandra.gms.EndpointStateTest
thread reading whilst updated thread entry entry previously added accessing iterator backed underlying works endpoint state copies time threads update state size status multi threaded read consistency daemon initialization system random uuid tokens partitioner internal ip host id collections atomic entry multi thread write consistency add application state hb increment format interrupted atomic integer multi threaded read consistency application state state host id heart beat state gms multi thread write consistency dht config junit factory true runnable run key thread normal num failures endpoint state internal ip setup dd util concurrent token start random token entry database descriptor ip states tokens add application states join uuid endpoint state versioned versioned factory singleton token put key
src.java.org.apache.cassandra.db.transform.BasePartitions
signalled singleton base partitions utils stop stop child collections run close close fail transformation rows throwables apply partition stop transform add attach input transformation contents base iterator close db len apply throwable stack partitions util base partition iterator merge length copy base row iterator
src.java.org.apache.cassandra.index.sasi.analyzer.AbstractAnalyzer
true current analyzer text false unsupported operation tokenizing text buffer normalize index normalizer form original init input nfc nio normalized db analyzer util reset iterator remove options validator analyzer sasi marshal
test.unit.org.apache.cassandra.OffsetAwareConfigurationLoader
path separator cdcrawdirectory offset str system io override config yaml configuration loader sep load config commitlogdirectory integer storageport config configuration savedcachesdirectory runtime offset offset property property hintsdirectory nativetransportport datafiledirectories length file offset aware configuration loader
src.java.org.apache.cassandra.db.transform.Stack
number stack stack contents providers internal placeholder storing stack length time reinitialise transformations contents drop transformations present contents prefix transformations contents splice system prefix array transformation empty index empty transformations transform arraycopy add contents refill stack arrays prefix count db util copy contents holder contents copy holder stack resize len empty contents holders count count length
src.java.org.apache.cassandra.utils.NativeLibrary
file status flags file status flags mac specific turns cache detect jvm running instance compatable clibrary wrapper detected operating system running jvm crude fall back linux impl unknown implicitly supported checks library successfully library successfully logged repeat mlockall jna unavailable skipping direct instance act normal fcntl depending jna unavailable jna unavailable skipping direct jna unavailable skipping direct jna unavailable skipping direct system file descriptor file descriptor descriptor file descriptor objec fd file pid jvm failed call open posix fadv random jna posix fadv dontneed jvm stability inspector math fis call close wrapped library open directory nocache message logger close fd skip cache level max util io rdonly call fsync lower method error logger mac fcntl exists windows system result unsatisfied link error sun sync getfd posix fadv normal error code field runtime len offset path warn logger factory library darwin getfl process id ch call mlockall channels file input stream setfl fb utilities log errno enomem posix fadv willneed error integer posix fadv sequential mcl current lang library flags channel warn minutes info property library wrapper illegal argument inspect throwable descriptor library windows jna lockable time unit file channel fd field aix call getpid utils field sublen io file descriptor logger call fcntl spam logger file channel impl jna memory lockable min posix fadv noreuse file descriptor fd field library linux illegal access call strerror channel nio linux direct reflect concurrent fd call posix fadvise mcl future file channel slfj command file mlockall
src.java.org.apache.cassandra.service.PendingRangeCalculatorService
executor run single range calculation time task queued trigger update recent state change update job blocking finished trust active job size update jobs token metadata rejected execution linked blocking queue system thread factory sleep atomic increment logger rejected execution handler decrement schema local strategy keyspaces submit service start open replication strategy interrupted atomic integer strategy instance max jmx enabled thread pool executor logger locator block finished storage service schema trace enabled runnable run trace calculate pending ranges db pending range task update util keyspace integer pending range calculator service thread pool executor finish update concurrent replication strategy runtime current time millis logger slfj thread executor rejected execution handler time unit logger factory keyspace keyspaces
test.unit.org.apache.cassandra.dht.RangeTest
wrapping range half range left half range parts ends range range half range left half range parts ends range range half range range ends range overlaps rhs range overlaps lhs range ends range range range rhs range rhs range avoid running wraps wraps wraps wraps wraps daemon initialization wraps expected collections buffer compare wrap wraps fiv check difference onestartswith normalize sort tokens tokens add tokens collections tokens tokens input partition position junit make ranges intersection wraps normalize noop intersection format intersection max db result util token wrap difference fetch wrap array random collection utils commons intersection wraps big integer token normalize complex common intersection token google difference fetch wrap range wrapping min tokens token pairs result fail lang compare wrap fou nowrap nowrap subtract wrap normalize unwrap difference fetch wraps onewrap correct wrapping tokens compare ranges range range base random ordered range checker collection normalize range subtract range ring position token token collection wrap diff size ranges range checker oneendswith expected tokens token tokens intersection setup dd murmur partitioner ordered partitioner join boundaries orcc twowrap range intersects sort normalize simple overlap intersects ordered range checker safe varargs num tokens intersection normalize random partitioner make range expected range expected expected expected length expected util onecomplement ranges difference fetch wrap dht config true nio subtract nowrap arrays result collection difference fetch wraps intersects wrapping database descriptor joiner tokens intersection thr compare false range wrapping utils left
test.unit.org.apache.cassandra.hints.HintTest
compare sanity check data inside read inserted sanity check data inside truncate apply hint creation time past update skipped updates applied sanity check data inside lower gc hint updates skipped sanity check data inside lower gc hint updates skipped prepare metadata injected stale endpoint serving mutation sanity check data inside process hint hint applied longer attempt send endpoint node live prepare metadata injected stale sanity check data inside process hint hint applied longer attempt send endpoint local id iterator apply regular expiration collections filtered partition row serialized size hint read partition simple builder partitions add total hints read command announce table update local junit storage service timestamp micros updated serialize total hints partition iterator di db util framework io execute internal partitions total hints progress uuid deserialize define schema random tokens verb cmd update host id collect schema common hinted handoff enabled data output buffer data input buffer tabl tabl google serializer token changed topology hintable apply gcgs reduced currentversion message storage metrics column metadata regular columns immutable verb mutation net size apply metadata boot strapper suppress warnings empty data input simple builder hint key inet address partition updates table metadata column keyspace keyspace partition update partitions hint message messaging service truncate blocking simple partition update standard cfmd apply truncation random uuid locator tabl changed topology mutation count table message open table params fb utilities column family store instance verb handler service reset gc grace hints progress update normal tokens clear unsafe dk schema token meta hints hint upd upd keyspace column family store prepare server gc grace hints endpoint read execution controller token metadata deserialized hint columns table metadata local host uuid hint utils target id unbuild io mutation id storage proxy gc grace length column family store cfs util instance partition build timestamp dht config schema loader apply buffer migration manager hints util update metrics execution controller total hint count keyspace params tables views database descriptor token metadata dob builder partition broadcast address column false serializer
src.java.org.apache.cassandra.cql3.selection.MapSelector
literal add null collection collate columns child factories add selection selector buffer add column aggregate selector factory add protocol version column specification db util cql array collect add input protocol version transport serializers column metadata tree selector column writetime selector factory builder query options collectors put key filter ttl selector factory options invalid request tmp entry column filter add keys size selection column pair schema instance factories reset result builder collection serializer fetched columns pack stream utils factory output override function functions add functions empty buffers elements add fetched columns nio factory pair entry builder marshal results column entry left
src.java.org.apache.cassandra.utils.concurrent.SimpleCondition
fulfils condition spurious wakeup lost notify problems call work unsupported operation utils system updater locks waiting updater deadline atomic cancel wait queue unit signal interrupted nano time start waiting signaled date simple condition condition signal await await signaled util concurrent await uninterruptibly nanos await nanos signal register atomic reference field updater time time unit nanos timeout compare
src.java.org.apache.cassandra.streaming.messages.SessionFailedMessage
serialize stream message streaming session io override stream session message session failed message version readable channel nio session failed util data output stream serializer channels deserialize messages serializer
src.java.org.apache.cassandra.locator.Ec2Snitch
snitch assumes region dc information config split hack populate region zone fail read rack cl length utils request method dc disconnect substring locator application state saved endpoints system keyspace io close logger az endpoint ec snitch conn instance charset gossiper endpoint state endpoint application state state utf load dc rack info split read fully gms dc net fb utilities rack open connection configuration key datacenter nio url endpoint state db util data input stream io content rack content length logger concat info ends ecregion network topology snitch splits datacenter suffix url response code eczone file utils zone query url logger slfj filter input stream broadcast address snitch properties standard charsets inet address logger factory http url connection aws api call
src.java.org.apache.cassandra.db.KeyspaceNotDefinedException
invalid request db keyspace defined
test.unit.org.apache.cassandra.streaming.compression.CompressedInputStreamTest
compressed input stream block reading check array write compressed data file buffer relevant parts read buffer daemon initialization compressed read filename arraycopy writer param compressed read add snappy input junit clustering comparator format read big db util io desc array timeout truncated read chunk system streaming version fail collector tmp index total size metadata big format comp descriptor offset seek truncated read uncompressed chunks absolute path write read sstable length eof marshal check pos put parent dir compressed sequential writer chunks size compression read compressed input stream expected compression info sections schema min compress ratio pair chunks sections setup dd compressed read uncompressed chunks info property read compression params expected size random access file compression metadata sequential writer option cr truncate utils io compressed input stream checksum data component instance metadata collector compression info config total size sections finish compress array input stream data input stream database descriptor read corrupted read uncompressed chunks file position left
test.unit.org.apache.cassandra.locator.DynamicEndpointSnitchTest
initialized des work make hosts make make bad make make make scores differ ideal order sort dynamic snitch behavior compared size snitch receive timing utils scores daemon initialization locator sleep io simple snitch dynamic endpoint snitch rounds fb utilities service sorted proximity dynamic endpoint snitch interrupted code instance host host host host setup dd integer net config junit storage service configuration dsnitch thread arrays util scores inet address database descriptor order hosts io unsafe initialize round broadcast address
test.unit.org.apache.cassandra.repair.messages.RepairOptionTest
parse empty parse hosts combined data expect error parsing hosts remove data centers proceed parsing explicit explicit daemon initialization repair option matchers ranges expected dcs immutable add message parallelism junit murmur partitioner format expected hosts util token parallel options parse remove collect pr local parse options incremental key google columnfamilies key pull repair key incremental fail primary range token factory junit matchers repair option common repair parallelism standard ipartitioner range hosts messages sequential index access mode disk access mode options repair put primary range key config fb utilities hosts key parse options parse illegal argument message token factory option pull repair parse options ranges key expected cfs illegal argument force repair key data centers token factory utils parse datacenters key instance dht config true parallelism key expected error message pull repair disk access mode database descriptor forced repair windows expected ranges force option global incremental repair parse column families partitioner false
test.unit.org.apache.cassandra.utils.streamhist.StreamingTombstoneHistogramBuilderTest
add points histogram end sum sum add points histogram deserialized histogram working hit spool force make size expected itr stream point utils tombstone histogram entry streaming tombstone histogram builder hist result io entry large linked iterator expected sum numeric range build samples integer overflow junit streamhist rounding serialize max update deserialized util entry histogram ser de streaming tombstone histogram builder deserialize iterator function builder put key length array data output buffer stream data input buffer serializer
test.unit.org.apache.cassandra.db.compaction.CompactionTaskTest
compaction task repair collections compaction sstables pause simple uuid gen null junit metadata serializer format db table reader util compaction task live tables compaction cql execute internal execute rotate uuid array repaired cfm transactional metrics state compaction strategy manager fail cfs pending repair compact state fb utilities pending pending query processor service keyspace sstable force blocking flush txn truncate blocking statements lifecycle transaction table statement compaction interruption active repair service size column family store instance table metadata time uuid tracker schema enable pending repair column family store operation prepare server unrepaired sstable compaction interrupted reload table metadata illegal argument descriptor compaction task mutate repaired mixed table failure compaction manager utils parse abort io id transactional instance build schema schema loader unrepaired concurrent disable keyspace params lifecycle task repaired aborted modify io
src.java.org.apache.cassandra.hints.HintsServiceMBean
pause dispatch affect creation resume dispatch affect creation irrevocably deletes stored hints files dispatched written irrevocably deletes stored hints files target address dispatched written delete hints delete hints endpoint pause dispatch resume dispatch hints service mbean address hints
src.java.org.apache.cassandra.tracing.ExpiredTraceState
trace impl trace trace state tracing utils delegate elapsed session id broadcast address delegate message expired trace state wait pending events fb utilities
src.java.org.apache.cassandra.serializers.BytesSerializer
make copy user modifies shared utils serialize marshal buffer override validate serializer serializers cql literal instance duplicate nio buffer util buffer serializer deserialize hex
src.java.org.apache.cassandra.db.commitlog.PeriodicCommitLogService
periodic commit log service system waiting commit commit log nano time expected sync time synced allocation commit log config pending await sync commit log service db metrics database descriptor alloc decrement commit log segment increment block sync lags nanos time wait sync commitlog commit log sync period
src.java.org.apache.cassandra.db.HintedHandOffManagerMBean
nuke hints node host endpoint address delete hints ip address truncate endpoints node hints force hint delivery endpoint pause hints delivery process unknown host execution schedule hint delivery interrupted truncate hints net db pause hints delivery util concurrent host hinted hand manager mbean endpoints pending hints deprecated delete hints endpoint
test.microbench.org.apache.cassandra.test.microbench.DirectorySizerBench
laptops commodity desktops enterprise virtualized server spinning disk stdev confidence interval stdev confidence interval ubuntu stdev confidence interval throttle cpu windows box turbo stdev confidence interval load full commit log divided size iterations writer io tear utils random uuid walk file tree file utils state path file scope close average time files write pw tear benchmark blackhole delete recursive threads count files directory sizer bench temp dir annotations temp directory fork populate random files nio warmup level arrays directory size calculator setup microbench infra util concurrent jmh io benchmark mode jvm append bh count uuid sizer trial openjdk file separator dir file measurement output time unit time unit rand milliseconds mode
src.java.org.apache.cassandra.notifications.SSTableListChangedNotification
table reader added io sstable compaction inotification format db collection util notifications compaction operation removed table changed notification
src.java.org.apache.cassandra.auth.Permission
encapsulating permissions authenticated user iauthorizer encode permissions order change adding schema role alter drop permissions granted data resource required keyspace alter alter index drop index require alter permission relevant drop keyspace drop table require drop context role permissions granted granted role required alter drop granted role giving permissions specific data required select required truncate permission required grant revoke permissions required role resource udf required invoke user defined function execute google read describe modify alter select permission drop immutable immutable deprecated auth write authorize util collect range common
test.unit.org.apache.cassandra.service.ActiveRepairServiceTest
generate fake endpoint spoof generate ensure nodes generate ensure neighbors ars generate ensure nodes remove remote generate ensure neighbors ars remove remote generate ensure neighbors hosts give local neighbors local ranges iterator column family store collections neighbors times local dc sstables address ranges neighbors local dc add null junit storage service count format update normal token db parent repair status util datacenter endpoints token endpoint cf counter intersection topology table reader local endpoints remote uuid define schema table array keyspace metadata remove clone token collect hosts common member snapshot add tables inet address null google record repair status system streaming replica range initialized cfs empty neighbors times failed active repair service immutable tmd parent repair status net start gossiper configuration prs id tables ranges range throwable apply unsafe topology endpoints prepare keyspace current time millis sstable range force blocking flush local data center singleton truncate blocking simple add tokens standard cfmd random uuid locator ars collection keyspac cfname active repair service select fb utilities clustering canonical host service failed replication strategy clear unsafe expected integer refs store tokens random token keyspace column family store add replication factor prepare server neighbors hosts local host row update builder replication strategy illegal argument token metadata preview kind schema canonical minimum token disable auto compaction repaired utils range addresses partitioner io neighbors snapshot open neighbors times hosts completed register parent repair session id instance topology build timestamp cf standar dht config prepare column family store schema loader arrays max concurrent singleton keyspace params parent repair status neighbors database descriptor local lifecycle view token metadata prs id refs parent repair session partitioner broadcast address original snapshot table readers
tools.stress.src.org.apache.cassandra.stress.settings.SettingsGraph
option cli utility io text system override runnable remove file graph operation select title runtime simple date format params date exit grouped options serializable revision command temporary log file run option simple format arrays printer stress command graph options util cl temp file io option stress graph mode options file result logger options
src.java.org.apache.cassandra.tools.StandaloneSplitter
load keyspace load sstables stop daemonized filter sstable size expected max sstable ksname finish compactions shutdown iterator parse open validation jvm stability inspector sstables filename snapshot directory cli debug links add message usage snapshot directory option format directories db util option compaction table larger table splitter desc table reader ref iterator header array cmd commons iter lifecycle add option exists debug option system remove disk length cfs append length cfname init database descriptor filename exit offline primary index filename snapshot option component descriptor parse options current time millis filter sstable standalone splitter cmd line options options load disk option lifecycle transaction unknown entry put formatter parse tools path command line parser msg compression info schema stats error msg size option sstable size keyspace column family store operation integer minutes wait deletions err stack trace illegal argument inspect throwable cmd descriptor descriptor filename time unit compaction manager release file parsed filenames utils parser parse table io usage key data schema keyspace component column family store util instance empty split builder cf command line cmd line options file open tables bulk loader arrays size mb filenames gnu parser concurrent entry tool fn transaction snapshot components snapshot opts
src.java.org.apache.cassandra.metrics.CQLMetrics
regular statements executed register ratio numerator cql metrics factory codahale ratio prepared statements ratio prepared statements evicted metric factory factory metrics integer ratio gauge metrics registry counter prepared statements executed metrics metric cql query processor counter denominator count gauge prepared statements count
src.java.org.apache.cassandra.config.ConfigurationLoader
loads configure configuration configuration properly config configuration loader load config config configuration
test.unit.org.apache.cassandra.net.MessagingServiceTest
clocks track make internode authenticatino fails outbound connection code connection pool handles null tolerate unsupported operation response received state daemon initialization collections find math group update back pressure receive outbound tcp connection cleans abs bucket offsets null junit failed internode auth db internode authenticator auth queue wait latency util negative queue wait latency verb io convict outbound tcp connection pool back pressure strategy messaging service back pressure state time collect iasync callback common timeout write inet address null caffinitas remote port google logs pattern max unknown host iterables message authenticate mock back pressure state message small messages reset dropped messages broadcast address verb dropped messages net data input stream host approximate time configuration key supports back pressure queue wait latency empty data input timer host back pressure state address nanos convert back pressure strategy bucket offsets message current time millis receive read construction time send messaging service original authenticator gossip digest ack estimated histogram messaging service read doesnt apply back pressure broadcast address put timeout regexp parse apply message database descriptor unit size regex metric scope id local host remote address matcher back pressure enabled start add queue wait time expected bucket mutation msg integer updates back pressure send enabled supported callback replace authenticator back pressure state internode authenticator wrapped data output stream add dc latency send validate configuration data output stream apply back pressure connection managers dropped messages logs binary search bp callback applied dc latency join connection pool increment dropped messages compile callback array histo time unit clear latency snitch back pressure callback connection dc latency ohc states updates back pressure timeout enabled supported callback codahale io override baos monitoring response timeout instance empty negative dc latency matcher mock back pressure strategy back pressure rate limit config update back pressure send true concurrent latency arrays array input stream metrics concurrent updates back pressure receive enabled supported callback applies back pressure enabled array output stream count authenticator response pool dropped messages enqueue destroy connection pool nanoseconds iinternode authenticator snapshot false back pressure callback milliseconds
src.java.org.apache.cassandra.service.BatchlogResponseHandler
latency snitch natural endpoints required finish updater required finish batchlog response handler updater write failure run message signal service callback total endpoints cleanup request failure reason wrapped batchlog cleanup net failure reason query start nano time write invoke util concurrent waiting response msg batchlog cleanup callback decrement failure mutations waiting atomic integer field updater write response handler mutations waiting updater ack count keyspace total block assure sufficient live nodes inet address write timeout pending endpoints consistency level atomic
src.java.org.apache.cassandra.service.DefaultFSErrorHandler
read write errors mark path left blacklisted directories logger utils stop override io path jvm stability inspector logger disk failure policy ignore service error handler besteffort illegal state stop transports instance mark unreadable logger config storage service read error daemon setup completed error db kill current jvm keyspace handle error database descriptor handle startup error error handler stopparanoid die inspect throwable corrupt table handle corrupt table remove unreadable tables sstable slfj file mark unwritable directory throwable logger factory error
src.java.org.apache.cassandra.hints.HintsBufferPool
primitive pool normal conditions hold buffers written reserve buffer host ids host ids target hint hint allocation failed due insufficient size remaining wrapper ensure current buffer target byteman messaging service hint linked blocking queue interrupted flush poll currentversion buffer size config flush callback hint size allocation serialized size hint runtime hints buffer pool reserve buffers write max allocated buffers current buffer allocate integer net previous config flush callback blocking queue offer buffer util concurrent hints buffer buffer pool hints allocation uuid current buffer integer current initialize current buffer serializer host ids allocated buffers property prefix iterable
tools.stress.src.org.apache.cassandra.stress.operations.predefined.CqlCounterAdder
todo increment distribution subset operations build run op counter write cql run op wrap cql run op succeed buffer override query write append predefined generator max columns key cql counter adder add integer client wrapper columns namestrs cql operation nio build query builder partition generator timer counteradd util wrap quotes command stress key report distribution generate seed manager stress array timer client query id params distribution factory query parameters seed manager
src.java.org.apache.cassandra.hints.CompressedChecksummedDataInput
current position advanced reading current position file advanced consuming entire block compressed data read hint report eof decompressed data read allocate cover variability compressed closing checksummed data input close underlying size rewind google buffer reset crc utils channel proxy visible pos flip compressed buffer preferred buffer buffer offset io position override close source position seek seek position buffer size position uncompress path buffer read buffer read allocate memory icompressor checksummed data input upgrade input annotations channel buffer pool eof nio suppress warnings buffer metadata buffer compress compressor util compressor io compressed checksummed data input file position subtract buffer position input hints input position capacity compressed hints writer metadata size clear put buffer start remaining source position compressed size limit common read error position uncompressed size
test.unit.org.apache.cassandra.service.StorageServiceServerTest
verify storage directories proper call decommission mixes shutdown interested items properly handled stopping insert extra database information system initial failed snapshot confirm deletion simulate shutdown restart closing failed perform mimicking behavior check make delete insert extra database information system insert extra database information system endpoints primary endpoints primary ranges cover endpoints primary endpoints primary ranges cover endpoints primary endpoints primary ranges cover holds token token node covers range ranges token ranges endpoints primary ranges cover endpoints primary ranges cover endpoints primary ranges cover holds token token node covers range ranges token ranges make sense prevent human errors delete snapshots daemon initialization file collections primary range endpoint dc vnodes primary ranges simple strategy ranges snapshot data file locations junit storage service primary range endpoint dc simple strategy update normal token db util handle failed snapshot token io snapshot toks dht uuid primary ranges endpoint random metadata collect common inet address dir google exists system meta close dc primary range endpoint dc network topology strategy dc multimap run subdir net size primary ranges network topology strategy dc configuration token reset primary ranges empty windows failed snapshot tracker range path schema keyspace storage service server temp printer primary range endpoint dc network topology strategy dc put ordered junit runner separator order preserving partitioner snapshot failure handler update normal tokens load writer random uuid locator clear unsafe init server fb utilities primary range endpoint dc keyspace metadata service endpoint snitch mkdir schema keyspace table snapshot snapshot flush assume true integer repair range schema token stop client assume repair range getenv keyspace primary ranges network topology strategy simple murmur partitioner token metadata keyspaces check temp file presence file writer initialized delete partitioner unsafe multimap runner utils exist io property file snitch config options instance cleanup empty regular mode iendpoint snitch schema config true schema loader table snapshot ranges empty mkdirs primary ranges vnodes schema constants keyspace params delete exit snitch database descriptor windows collection token metadata clear repair range file file todeletefile replication params
test.unit.org.apache.cassandra.hints.HintsCatalogTest
load catalog stores delete hints store stores keepts deleting delete hints load hints writer google stores io descriptor descriptor descriptor system random uuid suppress warnings file hints catalog poll files delete hints descriptor immutable load completeness order hints store null temp directory host id host id null junit false true nio store timestamp store util framework catalog io descriptor delete exit delete hints write descriptor hints count files hints catalog uuid hints descriptor current time millis collect file common file directory timestamp timestamp timestamp
src.java.org.apache.cassandra.db.aggregation.GroupMaker
determine sorted rows belongs group groups rows checks row belongs group previous row partition key partition clustering row clustering row belongs group previous row selection performing aggregations row records row size clustering prefix make comparator compare clustering partition key clustering entering group partition key clustering null prefix clustering clustering compare group maker buffer override clustering clustering state pk prefix group maker group clustering prefix size clustering comparator nio row instance db decorated key aggregation partition key partition key grouping state clustering comparator group key
src.java.org.apache.cassandra.db.ColumnIndex
column index builder index entries exceed serialization logic reaches config track size serialized size reaches config index offsets shallow shallow serialize offsts offsts passed calculate offsets index offsets offsets serialized index info deal special index subtracting index element collect index info reach put check reusable data output buffer exists column index instance standard recycler recycles requires proper beginning index remember start notify observers hit column index size index ahead index add top level column fallen index boundary index serialize index info directly code write offsts offsets buffer exceeds offsets serialized computed index write iterator add index block buffer index offsets messaging version serialized size writer column index cache size serialize offsets add version index samples serialized size sequential writer column index count buffer util format reuse allocate buffer db util io build row index serialization header index info open deletion time array current position common data output buffer open marker initial position google unfiltered index samples version sizeof column index size nio arrays written previous row start unfiltered serializer kind sizes offsets header length clustering index info serialized size start position key sstable length idx serializer row write length serialize pos header reusable buffer marker clustering rows write end partition range tombstone marker collection unfiltered row iterator clustering prefix row index entry clustering observers partition key copy partition level deletion serializer reset kind range tombstone marker limit checked cast utils column index io primitives table flush observer index info empty unfiltered write partition header config finish deletion time open index info serializer buffer database descriptor iserializer clear unfiltered cluster serialize row row position index sample serializer
src.java.org.apache.cassandra.exceptions.CassandraException
transport code runtime code msg throwable
test.unit.org.apache.cassandra.net.WriteCallbackInfoTest
messaging service hints cl partition update daemon initialization random uuid paxos commit fail true mutation commit counter mutation payload consistency level service buffer decorated key regular columns mutation verb mutation mock schema net dht config junit expect hint schema token hint buffer util db write callback info util framework verb throwable database descriptor table metadata partitions murmur partitioner empty buffer utils null hint uuid message wcbi init dd write callback info inet address paxos
src.java.org.apache.cassandra.index.internal.composites.CollectionValueIndex
index collection lot index collection key part index entry scan collection query time entry stale satisfies collection multiple time delete delete entry indexing prefix empty partition key query cell present indexing searching clustering stale compare index comparator complex data comparator index column def metadata cell prefix buffer path operator collection index clustering index primary key liveness info rows base cfs column metadata cbuilder cell cell path add internal build clustering prefix timestamp indexed column complex column data size comparator nio decorated key index entry complex column data db index metadata live build index clustering prefix indexed column partition key column family store indexed cql data sec builder collection decode entry clustering index entry index indexed indexed entry clustering supports operator clustering columns operator index def composites schema marshal cell row
src.java.org.apache.cassandra.db.compaction.DateTieredCompactionStrategyOptions
timestamp resolution max sstable age days base time parse expired sstable check frequency expired table check frequency number format option date tiered compaction strategy options base time logger expired check frequency math format max window size key unchecked options max window size max window size logger round configuration max table age deprecated validate options db parse max sstable age key util concurrent compaction expired sstable check frequency key fractional days base time key convert illegal argument days remove timestamp resolution warn logger slfj max sstable age microseconds time unit logger factory options milliseconds timestamp resolution key
test.unit.org.apache.cassandra.db.compaction.AbstractPendingRepairTest
cutoff messaging creates orphan sstable removed unrepaired iterator repair imessage sink compaction strategy manager repair junit unrepaired metadata serializer format db util live tables tbl cql execute internal table reader uuid remove collect common inet address google pending repair consistent startup system iterables message cfm outgoing message net table key incoming message ignore column family store instance post query processor service message keyspace current time millis sstable force blocking flush messaging service statements simple table statement diff message active repair service size table metadata remove table pk schema setup orphan pending repair column family store prepare server unrepaired sstable reload table metadata setup descriptor pending repair mutate repaired pre disable auto compaction local session accessor parse io id csm cfs instance build schema add message sink schema loader keyspace params tables compaction strategy manager error ars repaired io make table compaction
test.unit.org.apache.cassandra.schema.SchemaTest
add size system keyspaces simple setup database descriptor system stop io announce keyspace keyspace metadata start schema instance migration manager gms null config junit schema keyspace metadata schema loader db cleanup leave dirs keyspace keyspace params database descriptor daemon initialization trans migration unload current time millis gossiper schema io null initialized load disk
src.java.org.apache.cassandra.schema.IndexMetadata
immutable representation secondary index uuid deterministic uuid generated index id guaranteed unique serialized size immutable method custom logger serialize invoke format matches matcher util key replace io validate custom index options custom cql index pattern word deserialize commons logger common key schema metadata index google custom index option unknown index pattern lang targets append index indexer collect code metadata version composites configuration kind data input base key filtered options obj collectors assignable put options options statements target option builder index targets table quote fb utilities regex uuid serializer table metadata method unknown options column identifier cql valid data output schema index target index metadata uuid simple copy serializer info target kind target compile logger factory root stream utils filter keys composites io cql override invocation target logger id keys indexes empty build cf keys reflect uuid validate lang pattern word builder slfj serializer joining
src.java.org.apache.cassandra.db.transform.UnfilteredRows
base rows regular columns regular columns unfiltered override transformation encoding stats rows partition level deletion transform add empty live input unfiltered row iterator unfiltered rows columns deletion time db stats apply deletion row apply partition columns
src.java.org.apache.cassandra.utils.LongTimSort
file originates modified sort primitive arrays iterative mergesort requires fewer comparisons running partially sorted offering performance comparable traditional mergesort random proper sort stable runs log time worst sort temporary storage space requires small constant amount adapted tim sort detail code found underlying techniques paper earlier sorting information theoretic peter soda annual symposium discrete pp january api consists solely tim sort instance holds state assuming input array large warrant small arrays sorted binary insertion minimum sized sequence sequences lengthened calling array merges constant power tim empirically determined work event number power change decrease change computation tim sort risk array bounds minimum stack length required function array sorted minimum merge sequence array comparator galloping stay runs win consecutive controls galloping merge lo merge methods nudge higher random lower highly structured maximum initial size tmp grow accommodate unlike original allocate sorting smaller change required temp storage stack pending runs run starts address true indices cut storage minor info explicit simplifies number pending runs enable field true enable vm command line modify creates tim sort instance maintain state ongoing array comparator determine order allocate temp storage increased allocate stack stack length requirements version stack length measured expensive sorting arrays smaller stack lengths smaller computation changed declaration methods entire api methods obeys method signature arrays size array march array left finding natural extending natural runs min run merging maintain stack identify run extend push run advance find merge remaining runs complete sorts portion array insertion method sorting small requires log movement initial part range method advantage method assumes elements index exclusive array range lo index element range index element range start index element range sorted lo start comparator left index pivot pivot invariants pivot pivot pivot belongs elements left points slot sort slide elements make room make room number elements optimization arraycopy length run beginning position array reverses run descending run ascending method run longest ascending sequence longest descending sequence intended stable strictness definition call reverse descending sequence violating array run counted possibly lo index element index element required comparator length run beginning position find end reverse range reverse range array range lo index element range index element range minimum acceptable run length array natural runs shorter extended roughly computation small bother fancy exact power close strictly exact power length array length minimum run bits shifted pushes run run base index element run len number elements examines stack runs waiting merged merges adjacent stack invariants method called time run pushed invariants guaranteed hold stack size entry invariant merges runs stack method called complete merges runs stack indices run penultimate antepenultimate run stack index runs record length combined run slide run current run find element prior find element subsequent merge remaining tmp array locates position insert key sorted range element index leftmost key key insertion point search array base index element len length hint index begin hint closer hint faster method comparator order key pretending minus infinity key belongs index elements precede follow gallop key make offsets relative key gallop left key make offsets relative key key belongs farther invariant key key key range element gallop index rightmost key key insertion point search array base index element len length hint index begin hint closer hint faster method comparator order key gallop left key make offsets relative gallop key make offsets relative key key belongs farther invariant key key key merges adjacent runs stable element run greater element run element greater elements method called merge called called index element run length run merged index element run base length run merged copy run temp indexes tmp indexes indexes move element run deal degenerate elt run end local variable number times row run number times row run straightforward thing run winning run winning consistently galloping huge galloping run winning consistently penalize leaving gallop end write back elt run end method called merge lo called called index element run length run merged index element run base length run merged copy run temp indexes indexes tmp indexes move element run deal degenerate local variable number times row run number times row run straightforward thing win run winning consistently galloping huge galloping run winning consistently penalize leaving gallop end write back move elt front ensures external array tmp number increasing size increases exponentially ensure amortized linear time min capacity minimum required capacity tmp compute smallest power bloody checks index index array len length index index element index index element illegal argument index array index bounds index index addition original outer ensure capacity min gallop arraycopy math comparator hint lo run min run gallop dest index util min capacity remaining merge lo push run base base array index bounds force max system merge force collapse stack size merge collapse tmp functional tim sort init run len size suppress warnings len base key stack len array len index length reverse range debug pivot start sort range check merge count count run len min merge illegal argument min run length compare gallop left utils len len array min mid arrays binary sort cursor cursor count run make ascending min gallop initial tmp storage length merge run base left
src.java.org.apache.cassandra.db.monitoring.Monitorable
completed monitoring abort slow db aborted complete slow timeout monitorable timeout cross node construction time progress
src.java.org.apache.cassandra.repair.NodePair
node pair repair message body pair repair google version data output serialize node pair io override ep serialized size ep code iversioned serializer endpoint net data input util base io node pair serializer compact endpoint serialization helper endpoint deserialize common node pair inet address serializer
src.java.org.apache.cassandra.io.FSReadError
override io file throwable path read error error
src.java.org.apache.cassandra.cql3.statements.AlterViewStatement
validated invalid request view statements check access announce view update altered table params copy schema altering statement find base table unbuild attrs schema change announce migration query state client state table params transport schema current table metadata ref gc grace time live table metadata permission alter instance state validate table params build table view alter view statement change schema view metadata updated local target format migration manager db auth unauthorized validate cql base table request validation updated service table attributes cf keyspace meta column family access view column family query state metadata cf event view
src.java.org.apache.cassandra.repair.messages.StatusRequest
repair io data output utils serialize request status request uuid serializer code version status request data input util msg session id serialized size io message serializer repair message uuid deserialize messages serializer
src.java.org.apache.cassandra.db.commitlog.CommitLogReader
reads passed files mutation reads passed files mutation reads passed file reads passed file mutation limit reads mutations handing handler handler action based deserialized file commit log segment file min position optional minimum commit log position segments id larger matching position mutation limit optional limit mutations local serves marker play tolerate truncation truncation file eof transform file reading determine call legitimately desc block null care handler tolerate truncation global skip segments completely desired iterator checked check wrapping segment id candidate reads section file handler handler action based deserialized reader file data input logical buffer commitlog min position commit log position indicating start actively replaying end logical numeric end segment status tracker read status tracker current state mutation error desc descriptor commit log seek deserializing reach desired min position rely reading serialized size identify naturally due padding empty segment era commitlogs mutation ended end unable read full read eof reads hit mutation key length column prevents crc fooled garbage count processed mutation min suppress reading mutations deserializes passes mutation icommit log read handler handler handler action based deserialized input buffer raw array size deserialized size min position suppress replay mutations required entry location file pointer offset mutation desc commit log descriptor worked motions deserializing mutation determine size file pointer forward requested min position doublecheck read valid current checksum passed error helper methods deal changing formats internals commit log polluting deserialization iterator tolerates errors section messaging version atomic jvm stability inspector read section serialization helper files write output stream recoverable descriptor error segment id status tracker mutation error data output stream path logger partitions commit log read handler format file pointer db file util temp file io sync segment claimed cr commit log reader invalid mutations desc mutations left calculate claimed cr deserialize upd commons logger rebuffering input stream common debug throwable read status tracker invalid mutations data input buffer handle unrecoverable error keyspace google end position eof visible file data input mutation position lang commit log format mutation limit segment id filename flag version mutation reader size add processed mutation runtime read file start position error commit log read serialized size key compression mutation start partition updates skip segment error claimed size checksum commit log version unknown table checksum length eof encryption context legacy end segment marker read fully partition update file entry put table id mutation open validate fb utilities tolerate errors section rows mutations zip error context local update checksum atomic integer request termination handler entry location annotations schema files cr path tolerate truncation update checksum input commit log position read commit log segment skip segment id reset input buffer join inspect throwable commit log descriptor random access reader sync segment logger factory trace enabled calculate claimed checksum io utils file commit log segment reader logger seek id end increment replay segment reader handle mutation config read files read mutation nio trace buffer update concurrent buf entry database descriptor eof unrecoverable unknown error eof read header slfj commit log read error reason serializer file position commitlog unrecoverable descriptor error utils min position
test.unit.org.apache.cassandra.utils.NativeLibraryTest
true io utils pid pid file skip cache path library junit skip cache util temp file library file utils process id file
src.java.org.apache.cassandra.db.BlacklistedDirectories
register instance server start bean adds parent directory file file unreadable blacklisted directory null added adds parent directory file file unwritable blacklisted directory null added clear unwritable directory blacklisted directory blacklisted directory blacklisted directory blacklisted file path read determining directory determine file directory called blacklisted directories ends google file mark unwritable utils parent file visible mark unreadable unreadable directories unreadable directories collections blacklisted directories mbean io path jvm stability inspector mbean logger management register mbean mark unwritable management factory add path instance unwritable directories logger mbs annotations platform mbean server directory mark unreadable error db util mbean server clear unwritable unsafe unreadable lang warn unwritable concurrent file clear inspect throwable directory logger slfj unwritable directories common file copy write array directory unmodifiable logger factory
test.unit.org.apache.cassandra.db.ColumnFamilyMetricTest
size metrics show sum table size metrics confirms overflow histogram overflowed smallest time delta overflow histogram update large timestamp delta overflow size live tables disable auto compaction getth percentile simple utils standard cfmd cf column family store truncate blocking io count sstables enable auto compaction open cfs metric fb utilities clustering util keyspace column family metric size metric collection add build reader junit store schema timestamp micros schema loader buffer util format db util keyspace apply unsafe snapshot keyspace params live disk space prepare server row update builder empty buffer table reader define schema disk keyspace total disk space col update time delta filtering spin sstable force blocking flush col update time delta histogram column family store metadata
test.unit.org.apache.cassandra.streaming.StreamSessionTest
make pending repair repair pending repair pending repair sstables pending repair iterator stream session cql uuid gen junit metadata serializer runnable format db util token live tables sstable sstable difference execute internal sstable io table reader uuid incremental table selection collect schema common queryable google system streaming table streaming sections sstables table cfs array section sstable ref run ipartitioner descriptor range query processor ranges service keyspace table sections ranges current time millis sstable force blocking flush statements simple stream session table statement diff active repair service size column family store instance table metadata add collection time uuid sections schema setup pending repair column family store prepare server unrepaired sstable reload table metadata descriptor pending repair mutate repaired preview kind minimum token utils parse partitioner io id select readers keyspace instance build dht config schema loader table keyspace params database descriptor repaired partitioner tbm
src.java.org.apache.cassandra.tools.nodetool.stats.TpStatsPrinter
tp stats holder nodetool printf entry yaml printer collections io override key tools empty tp stats printer convert json printer wait latencies stream format dropped messages stats printer util convert data stats latencies data entry printer thread pools entry key
src.java.org.apache.cassandra.schema.Types
immutable empty optional null found instance provided creates instance provided ignore build instance raw constructs dag graph dependencies resolves topological build dag udt numbers referenced resolve dependencies topological ud immutable iterator present prepared field buffer cql references user immutable field add raw udt optional resolvable buffer util format db util prepare internal difference illegal state nullable iterator array remove collect configuration iterable google raw field cql parser iter iterables multimap raw difference iter code user common multi cell nullable vertex builder queue adjacency collectors put field key filter keyspace marshal raw builder entry replace diff size prepare integer udt schema udt udt match internal field identifier linked stream multimap utils parse raw cq immutable sorted override dependent prepared field empty build nullable nio entry entry annotation lang natural order raw builder builder vertices definitions
test.microbench.org.apache.cassandra.test.microbench.MutationBench
partitioner client score results buffer scope tables serialized size primary result benchmark add ksm keyspace metadata run result thread read message setup db util records throughput benchmark mode cql thread state forks dht deserialize jvm allocate mode measurement data output buffer score unit openjdk system state options builder message fork update builder state threads mutation net metadata run warmup statistics microbench jvm append options message mutation bench data input buffer keyspace result options keyspace params load messaging service statements simple serialize table statement mutation iterations currentversion keyspace metadata table metadata collection data output buffer fixed annotations schema stack profiler add profiler jmh murmur partitioner input buffer include setup output buffer time unit result swapped partitioner unsafe runner parse partitioner io schema message instance build rewind config profile nio buffer concurrent client initialization time unit database descriptor row runner counter simple make mutation opts mode time output time unit io milliseconds
src.java.org.apache.cassandra.utils.ChecksumType
buffer utils instances io override checksum zip data initial nio instance checksum update len util concurrent adler buf reset netty fast thread local checksum cr
src.java.org.apache.cassandra.db.Slice
slice represents selection range slice start end bound clustering slice selects rows clustering bigger slice start prefix end start end inclusive slice selecting rows give clustering give clustering slice comparator comparator compare slice formed empty slice formed provided bound empty comparator comparator compare start start slice start end end slice end slice formed empty clustering bound included comparator comparator table slice bound bound inclusion bounds slice continuing paging clustering comparator comparator table filter clustering query paging resulting slices results stricly inclusive include newly page reversed query paging reversed slice selects results resulting slice selects originally selects column minimum maximum sstable slice intersects sstable comparator comparator table slice min clustering smallest clustering column sstable max clustering biggest clustering column sstable slice intersects sstable slice start max end safely true minor slice restricted single slice check component falls component repeat component falls range component start check max clustering buffer serialized size bottom add clustering prefix clustering comparator extract db compare component bound util io start deserialize clustering inclusive subtype cmp clustering data output close append slice cbuilder code version exclusive start data input marshal end serialize clustering bound open size clustering min clustering val start builder reversed build bound paging serializer end comparator inclusive start compare slice intersects inclusive top exclusive end inclusive end io override end make empty nio start includes builder compare sb serializer
src.java.org.apache.cassandra.service.ActiveRepairServiceMBean
sessions service fail session util session active repair service mbean mbean force
src.java.org.apache.cassandra.tools.nodetool.GetEndpoints
google nodetool probe airlift system endpoints node probe arguments io override table tools endpoints preconditions usage net size node tool airline description node tool cmd util base command key host address execute endpoint array check argument common inet address endpoints
src.java.org.apache.cassandra.cql3.CQLFragmentParser
helper encapsulate common code calls generated methods call parser method error lexer parse query statement error collector queue errors lexer parser turn error stream antlr format parser parse parse cql fragment parser cql parser function stream token stream cql lexer antlr stream add error listener parse unhandled syntax error collector common token stream message input token stream runtime error collector recognition syntax error parser function cql cql parser lexer simple functional runtime
src.java.org.apache.cassandra.db.DataRange
groups range partitions clustering index filter apply partition range clustering index filter obtained providing partition key filter paging range starting key keys previous page queried ended middle creates range partition keys clustering index filter range range partition keys clustering index filter clustering index filter creates query data partitioner partitioner newly creates query rows provided token token range token range newly creates query rows provided key key range range newly creates query partitions ring clustering index partitioner partitioner table filter clustering index filter newly range partition key queried range partition key queried start partition key range queried start partition key range queried end partition key range queried end partition key range queried underlying clustering index filter filter underlying clustering index filter filter data range paged request true false range queried wraps range queried wraps range provided ring position covered provided ring position covered queries restriction partition queried queries clustering index filter provided filter keys paging filter start key partition key clustering index clustering filter paging range range partition keys comparator comparator table clustering result previous result start correspond left bound partition key inclusive include newly page suitable paging range result previous equivalent restricted provided range newly data note assumes initial range validate make provided paging partition key range clustering index filter filter reused single partition read command handling composite partition specialized paging clustering result previous page restrict filter queried partition fetch results follow makes resume paging left paging wrapped unclear handle range range called subrange initial beginning initial preserver care clustering previous paging inclusive query start key buffer append key partition key columns serialized size serializer partition position clustering comparator format db util token io selects partition token data range deserialize slices end inclusive clustering minimum clustering index filter data output wrap make row range inclusive subtypes append clustering index filter clustering index slice filter key range column metadata version size metadata write key bound data input decorated key ipartitioner paging key clustering index filter range key filter range append clause marshal read serialize pos ct table metadata stop key token range schema builder paging data comparator start inclusive operator minimum token bounds row position serializer inclusive unrestricted io override cql token range filter empty split partition key key range dht range composite nio start partitioner paging sb serializer left
src.java.org.apache.cassandra.serializers.MapSerializer
interning received huge initialize initial capacity oom put called hand avoid put reasonable limit sorted element comparison passed start check slice care check include key include kbb collections buffer instance serialize add protocol version input count buffer util db compute absent pos util compare cql deserialize read collection size array concurrent slice transport remaining serializers comparator version math unset buffer key vbb pairs serializer put key marshal validate protocol serialize entry marshal instances deserialize protocol size serializer read duplicate pair linked sort comparison builder append slice serialized collection serializer comparator skip compare sb utils start pos buffer underflow min serialized buffers concurrent copy collection nio element count keys collection concurrent position entry validate element entry left
test.unit.org.apache.cassandra.cql3.validation.entities.UserTypesTest
overrides selecting partitioner table exposed field ud table ud udt collection part udt udt referencing udt referencing unknown bad deletions frozen bad updates frozen bad deletions bad updates bad insert udt nested frozen frozen frozen migrated deserialize check user migrated migrated overwrite individually fields individually fields null delete fields reverse field delete thing alter function user id row delete frozen udt insert frozen udt entities junit storage service column prefixes prepared execute util cql invalid input user invalid field uuid table invalid udt statements schema change altering user nested user user altering user nested tuple nested user altering user nested typename circular references flush user altering user nested frozen udt unset rows invalid alter drop statements throwable keyspace invalid message flush service ut ut ut ut ut ut function tuple complex invalid alter drop statements function prepare server ordered partitioner aggregate initcond typename invalid altering user nested nested tuple address partitioner unsafe altering user nested user altering user nested column keyspace column prefix cql tester instance max dht update frozen udt add field udt alter frozen udt alter udt validation unset
src.java.org.apache.cassandra.locator.AbstractEndpointSnitch
sorts node addresses proximity address address sort proximity unsorted address nodes sorted sorts node proximity address address sort proximity addresses nodes noop querying remote dc order magnitude slower querying queries local nodes faster query involving remote compare addresses sorted proximity local data center locator collections gossiper starting ep local dc collection iendpoint snitch unsorted address net config sort proximity merged sort compare endpoints datacenter comparator endpoint snitch preferred worth merging range query address database descriptor util target array remote node inet address merged remote
test.unit.org.apache.cassandra.db.marshal.JsonConversionTest
supports json integer unsupported operation json mapper utils serialize time parse simple date buffer utf mapper timestamp read time uuid bytebuffer position output json parser instance uuid gen counter column codehaus protocol version expected inet address reversed junit time uuid composite nio lexical uuid decimal counter column db uuid empty json query options output jackson cql dynamic composite serializer current json conversion udt date tuple bb ascii bind json position json marshal transport
src.java.org.apache.cassandra.transport.messages.CredentialsMessage
message server ready receive authentication metrics mark success legacy authenticate codec credentials message io cb util override query state transport service authenticator ready message decode state codec version protocol version encode credentials greater config response query start nano time body write protocol buffer mark failure request execute auth util msg instance user read database descriptor client state netty auth metrics size credentials dest authenticated user encoded size error message messages buf login message
src.java.org.apache.cassandra.db.commitlog.CommitLogMBean
command execute archive commitlog blank command execute make archived commitlog live directory scan recovery files restore mutations created including timestamp recovery segment timestamp greater time mutations timestamp precision timestamp restore determine passed restore point recover single file full active commit log segments unflushed files pending archival include failed archive size mutations active commit log segments space disk commit log active log segments compression ratio achieved active content size archiving segment commit log mbean io recover restore command active disk size restore precision active segment restore point time db archive command io path restore directories active segment compression ratios util commitlog
src.java.org.apache.cassandra.db.rows.RangeTombstoneBoundaryMarker
range tombstone marker represents boundary range tombstones closes range open deletion time range tombstone boundary ends clustering deletion time range tombstone boundary starts clustering boundary open boundary close compare close bound bound exclusive close inclusive open utils end deletion time bound open deletion time close close deletion time raw buffer override close marked delete make boundary allocator deletion time clustering range tombstone marker rows table metadata open range tombstone bound marker start deletion time code metadata digest clustering prefix memory supersedes end deletion schema boundary kind excl end incl start boundary nio open start deletion inclusive close exclusive open reversed db clustering bound util open inclusive close inclusive incl end excl start boundary allocator opening deletion time copy open deletion message digest kind open marker inclusive exclusive range tombstone boundary marker exclusive close close marker deletion time clustering boundary format open bound security close deletion
src.java.org.apache.cassandra.tools.nodetool.GetTimeout
google timeout nodetool probe airlift system timeout node probe arguments io override tools message preconditions usage size node tool airline description node tool cmd util base command execute timeout array check argument common illegal argument
src.java.org.apache.cassandra.serializers.Int32Serializer
utils serialize marshal buffer serializer serializers instance integer remaining nio buffer util format empty buffer validate deserialize serializer
src.java.org.apache.cassandra.cql3.selection.Selector
convert data storage engine data requested correspond elements select introduction called anymore multiple internal factory column specification output selector instances created table table meta column note true column intern creates options options query instance created depends bound checks factory creates selectors instances creates factory creates selectors instances creates checks factory creates selectors factory creates selectors checks factory creates selectors factory creates selectors checks factory creates simply column index column factory creates simply column checks factory creates simply index column factory creates simply column output selector instances created column selector instances created selector output record column definitions instances created factory column selector instances utilise multiple columns produce instance column belonging current results column column column definitions selector checks columns fetched selector created factory columns fetched selector created factory adds columns fetched selector created factory provided assuming factory terminal builder column builder add fetched columns potential error method called factory add provided builder column potential fetch builder builder add columns subselections add current protocol version protocol version invalid request problem occurs add input selector protocol version protocol version selector invalid request problem occurs computing output output output reset internal state invalid request selection factory column filter output buffer protocol version simple selector factory table function index functions add column table metadata results column add functions aggregate selector factory selector column column identifier transport protocol version column specification schema selection column column specification add fetched columns nio instance builder db util query options cql reset result builder simple selector factory builder options filter keyspace add input fetched columns ttl selector factory writetime selector factory marshal
test.unit.org.apache.cassandra.db.RecoveryManagerMissingHeaderTest
nuke reset unsafe content collections commit log location snappy compressor encryption context add runners missing header junit dk db util io commit log keyspace define schema cmd disabled context keyspace security metadata parameters schema loader lz compressor run files configuration deflate compressor recovery manager missing header empty decorated key parameterized parameterized keyspace delete confirm simple standard cfmd keyspac keyspac collection apply open clustering rows clear unsafe unfiltered row iterator schema upd upd keyspace encryption context generator prepare server row update builder generate data unfiltered iterator partition unfiltered context io runner file column family store util instance build cf standar cf standar config true commit log compression arrays compress encryption context encryption context keyspace params file utils database descriptor commit log compression ends file commitlog
test.unit.org.apache.cassandra.io.sstable.CQLSSTableWriterTest
check write respect buffer size insert rows partition writer buffer write rows partition validate created check write empty partition error local ranges table metadata ref iterator codec unset daemon initialization interrupted switcher buffer collection codec range row files util system output user immutable writer add message protocol version junit temp dir udt thread format writer thread db util nested tuple codec token buffer size mb cql execute internal uuid insert iterator output handler cf keyspace iter collect filename filter schema add row illegal argument dir google writes dependent udts forbid counter updates fail close table metadata ref table loader immutable codec allocate directory fb utilities common core run suppress warnings partitioner table metadata cleanup leave dirs range cqlss table writer partitioner table val thread result sstable length separator threads ud row invalid request tuple random uuid loader put data dir sync empty rows functions init server size stream service init start query processor frozen table datastax concurrent writers schema sync partition auto closeable alive nested tuple collection keyspace client untyped result murmur partitioner ordered partitioner join writes udts unsorted writer setup nested tpl storage service absolute path initialized add range endpoint tuple utils accept load tables udt io execution override id functions buffer util tuple codec filter data files number writes runnable deserialize instance build tempdir dht config update statement schema loader nio arrays driver cnt mkdirs concurrent database descriptor tuple codec data builder tpl ends ud helper broadcast address file cqlss table writer false newest supported unset
test.unit.org.apache.cassandra.io.sstable.SSTableWriterTest
checks work windows writer channel open till called checks work windows writer channel open till called checks work windows writer channel open till called table writer base iterator random interrupted open early buffer directory tables util big corruption writer add file counts junit table writer dk format db framework compaction noop listener table reader ref slices release dir writer cf small max fail close cfs append abort txn open early remove table max data age update builder allocate offline metadata decorated key validate cfs directories filter keyspace large txn table reads listener stream lifecycle transaction sstable column filter open fb utilities rows unfiltered row iterator cf write keyspace column family store timestamp operation wait deletions unfiltered iterator corrupt table abort txn closed open writer remove tables abort txn closed writer remove table utils abort io keyspace column family store build true finish datafiles nio truncate update lifecycle windows row row iter builder table writer writer writer file compare
src.java.org.apache.cassandra.auth.CassandraRoleManager
responsible maintenance deletion purposes authentication role data stored roles encrypted passwords stored coupling iauthenticator irole manager password cql role alter role processing handled iauthenticator concerned credentials checking modify password authenticator depends role manager alternative iauthenticator conjunction password role configuration custom irole manager role manager includes additional password storing alternative added overridden role alter role transform row role failing deserialize rounds null supplied role found true nodes cluster version supports roles unlike data access methods prepared statement order assignments superuser role bootstrap role creation clean role password password authenticator log role avoid range query delay give node chance peers attempting supposed retrieve roles granted include inherited include roles granted directly inherited single role instance role null role safe call methods risk adds removes role membership entry roles table op removes op clear membership membership update member removing role granted remove membership dropped convert options statement assignment clauses construct cql update executes provided setup directly error manager setup setup drop role existing role present local modify role membership gensalt log rounds role query state row custom options password callable authenticator add remove members empty empty logger storage service collected mindrot runnable buffer util format entry db add auth roles util include inherited cql insert cql illegal state role options execute member commons role logger common granted collections cql statement iterable google system result escape iterables run lang options nano time transport superuser collect code template supported options singleton configuration superuser password runtime setup role parse statement base auth keyspace table null pointer query processor request validation hashpw logger factory revokee prepare request execution login messages query options key filter keyspace entry null role sorted tokens su query bcrypt marshal row invalid request statements cluster ready assignments roles auth keyspace rows null apply superuser setup delay config rounds consistency level alter role roles service gensalt lo rounds transform irole manager options call statement consistency role predicates integer ut jbcrypt row role iresource optional tasks token metadata warn validate configuration role members null empty untyped result gensalt lo rounds property alterable options quorum info revoke role join roles authenticated user setup schedule superuser grant role login internal calls time unit schema grantee gensalt schedule setup task immutable performer setup task scheduled executors process utils result message joiner role resource data resource logger function login select statement instance role build users query role config query resources rows load role statement options assignments replace concurrent existing roles schema constants empty superuser password collect roles database descriptor password option error password authenticator role manager integer builder role utils slfj consistency level entry op property prefix milliseconds
src.java.org.apache.cassandra.db.marshal.EmptyType
accept empty validation comparator column empty serializer utils protocol version marshal cq buffer override parsed serializer serializers source comparison custom instance empty transport protocol version constants term nio buffer util format buffer db json empty buffer empty empty cql serializer cq length fixed compare custom json marshal
src.java.org.apache.cassandra.db.ClusteringBoundOrBoundary
defines threshold ranges start end bound boundary defined range tombstones merging multiple iterators range tombstones represented start end range close reopened easily produce markers merged iterators risking fail sorting guarantees comment saves storage inverse current invert start end inclusive exclusive invert bound exlusive inclusive end kind incl end bound buffer serialized size bottom serialize size excl end bound clustering prefix clustering comparator serialize inclusive close exclusive open db exclusive open bound util allocator deserialize io deserialize subtype write data output excl end incl start boundary read sizeof append deserialize size version clustering boundary metadata bound kind sizes incl start bound data input length invert exclusive close inclusive open inclusive open clustering bound exclusive close size skip table metadata memory top schema size serialized size builder reversed incl end excl start boundary write buffer clustering prefix copy serializer kind comparator read unsigned clustering bound boundary utils close io allocator excl start bound skip size ordinal nio open clone start inclusive close boundary marshal sb serializer
src.java.org.apache.cassandra.net.OutboundTcpConnection
intradc size buffer output elements added precise version version detection target version accessed pool connect connect message note true version node node seed gossiped connected rely target version connected detection helper method unit method unit method iterating queue expensive operation queue queue expired exit loop stop enqueuing sentinel unblock data race method enqueuing clearing backlog connection size small unbounded array timestamp message provided coalescing skip logging clear gossip messages back update statistics statistics slightly added calls connection pool thread messages handling bad drop messages current update dropped statistics number unprocessed assumes version session retried message put back queue retry io programming error silence fields message forget update cast cuts half assume recipient reconstructs streaming socket channel null version disconnect invalid yaml added config party seed providers network custom supports bb write block async ssl errors recoverable timeout period waiting thread success expire elements queue queue pretty full expiration method remove droppable expired element removed timestamp nanos current time plenty expiration expiration expensive iterating queue locks queue writes reads single thread messages retried drop message timestamp expired retry messages socket internode send buffer size inter dc tcp delay droppable lz outer drained message size internode compression atomic buffer destroy thread jvm stability inspector retry outbound tcp connection pool serialized size current msg buffer count queued message parameters thread endpoint compact endpoint serialization helper backlog expiration interval nanos buffer size property version output stream wait version max time atomic logger count otcbacklogexpirationintervalinms socket drained messages otcbacklogexpirationintervalmsdefault checksum dc protocol magic util ssl verb io backlog purge size host address lz seed uuid netty deserialize header outbound tcp connection array iter write internal channels logger expire messages writable channel common timeout handshake version debug inet address uuid qm backlog endpoint snitch session id otc coalescing window google compress connection trace otccoalescingwindowusdefault timestamp trace min visible system disconnect thread factory fast thread local thread internal response count latch duration close input stream message ttl otc coalescing strategy lz compressor backlog purge size property authenticate local session retried queued message protocol magic id timestamp size state verb backlog expiration active net size close socket lz factory trace header port datacenter await run ssl handshake suppress warnings read tracing error intradc tcp nodelay property nanos write xx factory compare jpountz convert destroy connection pool socket tracing message timeout nanos close sentinel coalescable target host compression enabled messaging service ch trace state droppable verbs pending messages write connected format serialize linked blocking queue version channels put end point otc backlog expiration interval buffer size lz block output stream strategy config version fb utilities zip query internode auth failed backlog expiration time socket max coalesced messages atomic integer nano time current time millis coalesce stopped intradc tcp nodelay msg integer timestamp nanos annotations local dc trace enabled initializer error internode authenticator wrapped data output stream buffered data output stream fast compressor tcp delay channel warn timed data output stream version localized message target version nanos info match alive parse property timeout rpc timeout backlog expired messages inspect throwable data output coalescing window sleep uninterruptibly internode compression xxhash message time unit logger factory request response nanoseconds connect trace currentversion stream add wrap local dc utils flush remove soft close socket micros prefix completed messsages dropped io throwable fastest instance logger checksum id trace version latch uninterruptibles checksum coalescing strategy interrupted start nano time instance empty uuid gen session input stream config completed blocking queue count seeds nio trace write header coalescing strategies iterator compressor concurrent data input stream pool reference channel database descriptor send buffer size target version pool error dropped messages timestamp millis display enqueue integer coalescing strategy clear max target version remote dc increment slfj broadcast address se open retry delay entry iterator atomic property prefix milliseconds streaming
test.unit.org.apache.cassandra.db.ColumnsTest
subset comprehensive basic functionality pick arbitrary groupings columns remove avoid factorial left perform logic contents check select group ensure recursive functions explode state kinds pk pk pk clustering column metadata iterator daemon initialization results complex count character collections simple idx remaining defs current predicate serialized size group instance columns pk count add complex add cleanup mock schema junit columns regular column predicate random remove groups buffer util serialize subset db select order iterator util framework io add partition key column superset simple iterator deserialize array remove merge collect serialize common add clustering column data output buffer complex subset data input buffer subset true google btree result btree append remove array random columns code iterators complex columns serialize huge subset shuffle group metadata empty random small builder max count simple complex length simple columns deserialized keyspace serialized subset size simple marshal order inclusion tester regular partition key column simple serialize partition key columns check permit multiple partition keys partition key columns size clustering deserialize subset table metadata merge select order columns ut function random huge thread local random builder clustering column complex idx cfs input count add partition kind remaining table metadata schema def sort utils regular count io add regular column serialize subset add regular instance complex empty build primary key kind select order defs config serialize small subset mock defs add clustering select cl count contents buffer concurrent complex idx database descriptor subset subset definitions add builder large number columns compare false definitions serializer
src.java.org.apache.cassandra.db.marshal.DateType
version replaced comparing backward compatibility empty buffer empty compatible internal utils protocol version marshal cq json date formatter cast buffer override logger date parsed transport order serializer timestamp serializer comparison instance empty protocol version date length fixed logger previous cq constants timestamp term nio buffer util format buffer deprecated db json util simple serializers cql serializer empty buffer exc deserialize date timestamp empty meaningless warn logger slfj source compatible timestamp json logger factory marshal
src.java.org.apache.cassandra.index.sasi.utils.trie.AbstractTrie
slightly correspond code patricia trie supports pluggable key comparators patricia trie supports deployed maven central downloadable basic functionality utility methods actual build patricia constructs length key bit key false key utility method calling utility method calling basic replaces current key key compare trie utils entry basic entry key analyzer io null override select index trie null bit key key code buffer append key size serializable bit select builder util key bit index trie key key analyzer length bits entry select key compare keys entry previous sasi serial version uid
src.java.org.apache.cassandra.db.DeletionTime
information deletion storage engine special deletion time signifies timestamp microseconds unix data considered implies data deletion local server unix tombstone purposes purging tombstone deletion time deletes local deletion time basically metadata deletion time purge intrinsically local information part digest exists google data output utils min skip fully serializer cell serialized size mfda sizes read io measure override sizeof data size digest del time comparable rows timestamp liveness info cache code cell live serializer max live integer fb utilities marked delete info serialize deletion time sizes read data input db util base io skip dt local deletion time iserializer deletes message digest deserialize ldt write supersedes unshared heap size common compare format write security empty size imeasurable memory update
test.unit.org.apache.cassandra.io.compress.CompressedSequentialWriterTest
small chunk data confirm pipeline data writes confirm pipeline boundaries small chunk data confirm pipeline data writes confirm pipeline boundaries write write garbage transition write greather mark thi write buffer reset current position flushed size write flush compress compressed sequential writer daemon initialization lz preferred buffer collections buffer make bb arraycopy files writer full input add snappy testable csw sequential writer junit clustering comparator reset truncate data pre db util framework temp file io compression metadata array random common reader google exists eof chunk length system commons read utf result fail close raw post lz compressor uncompress filename read testable sw allocate reader full contents sstable metadata collector metadata empty temp file builder compressed offset testable transaction max compressed fh sequential writer option progress data post sstable length reset truncate marshal read file array read fully compression parameters pos put compressed sequential writer buffer size size flush offset path mark write size ut schema sequential writer complete setup dd compression params flip lz writer sstable compressor random access reader temp dir compression metadata absolute path cleanup delete file read io override buffer size uncompressed write instance writers metadata collector write offsets file config true clear finish nio arrays snappy writer compress deflate array input stream singleton data input stream data position position file utils deflate writer database descriptor aborted run partial contents write builder memmap sw offsets ends prepared file false flushed offset file handle
src.java.org.apache.cassandra.hints.HintsReader
paged hints reader buffer iterator deserialize hints decoded deserializes underlying optimisation messaging version file matches messaging version extra decoding reencoding waste effort avoid required dispatch hints nodes messaging general easy enable backward future read kb hints pass rate limiter hints reader cheaper calculate size hint hints reader hints descriptor read normal compressed input instantiated uncompressed decoding iterator deserializes hints reached read page size corroborate size safely skip null code log warning skip corrupted verbatim iterator simply underlying reached read page size corroborate size safely skip log warning skip corrupted hints reader buffers iterator iterator reset crc messaging version buffer buffers iterator hint compute internal past limit input logger storage service file util io iterator deserialize compressed logger check limit common encrypted checksummed data input iterable google rate limiter read hint pages iterator system check crc page size close hints iterator rate limiter cipher reader limit upgrade input hints iterator read error suppress warnings nullable read input position compressed checksummed data input offset subtract unknown table end data current time millis eof deserialize live input skip open size seek position service annotation input position encrypted auto closeable eof acquire warn compressor position hints compute hints descriptor descriptor reset limit checked cast position endpoint host id logger factory uncache read file hint read buffer live utils io primitives logger seek id iterator read buffer instance host id nio buffer concurrent page checksummed data input slfj file position serializer
src.java.org.apache.cassandra.transport.Event
assumes assumes assumes protocol version protocol versions keyspace represent simply iterator read event scc node code status change serialized size address removed node size inet protocol version empty change topology change dest util read moved node deserialize iter common inet address trace complete status google node event node greater read schema change port transport node address version dropped net function target netty serialize event host base schema change change event keyspace buf read inet node topology change write cb serialize minimum version table write inet size status table greater removed node builder event serialized size status change table updated target stc size deserialize event node inet socket address write io override cb util write keyspace created moved node append aggregate node buffer iterator error tpc size protocol sb size
src.java.org.apache.cassandra.index.internal.CassandraIndexSearcher
op order closed closing index expression partition key index route query preparation range requested token start beginning stop indexed row intuit smallest key potential fix store token key indexed hand side range decorated key instance optimise slightly restricting index queries lot querying key slice queries slightly restrict beginning effectively support reversed queries support start index slice key query start key index comparator row key bottom row filter end slice filter add logger searcher partition position db bound util requested rows partitions end key partition range read command slices inclusive logger clustering index buffer btree index hits start slice filter make index clustering close btree index clustering index filter unfiltered partition iterator clustering index slice filter read command sprc metadata clustering index filter suppress warnings runtime builder decorated key clustering index filter make index filter index key filter range single partition read command expression index key clustering bound column filter query data index slice navigable size clustering rows backing table table metadata query index start pk unfiltered row iterator make index bound top schema reversed data range search build bound partition key column family store error expression index searcher requested slices data range index iter read execution controller unfiltered row iterators logger factory decorate key bounds clusterings utils query memtable disk logger end slices end make index metadata row iterator internal build key range index cfs dht index requested nio start build index clustering prefix execution controller slice sec builder start slices slfj command index read controller left
src.java.org.apache.cassandra.repair.messages.FailSession
repair failed session data output utils fail session io uuid serializer code version msg serialize data input session id serialized size io message serializer repair message uuid deserialize util messages serializer
src.java.org.apache.cassandra.db.rows.EncodingStats
stats encoding rows tombstones stats optimize storage stats information sake vint note due stats suffer inaccurate effective storage provided stats completly huge impact fact accurate reasons explained deletion time encode diff give vint fixed provide small substracted timestamp deletion arbitrary date summit roughly correspond timestamps microseconds local deletion times sparingly note exact impact efficiency timestamp deletion store min timestamp efficient epoch result guaranteed merge stats comments applies result merging totally accurate live care ttl ttl epoch math serialized size instance september day month minute live millisecond format timestamp db util io year min timestamp local deletion time tombstone partitions deserialize iterator deletion info month collect collector data output read unsigned vint expiration time collector del time stats deletion time liveness info code cell sizes data input min del time legacy counter shards collect stats partition statistics collector update timestamp row marked delete serialize cell rows timestamp time millis rows column row ttl integer time zone sizeof unsigned vint hour day update column row serializer info min deletion time update ttl local expiration time deletion time epoch min local deletion time min ttl expiring write unsigned vint update legacy counter shards deletion info io override time zone encoding stats min empty max timestamp deletion time update stats calendar merge timestamp epoch locale update local deletion time row serializer
src.java.org.apache.cassandra.db.rows.RowIterators
methods work row computing digest schema digest schema digest agree filter provided iterator include cells selected iterator iterator filter deciding cells queried querying filtered wraps provided iterator logs rows debugging note meant debugging log large amount logging log iterator regulars utils column filter override id apply logger transformation digest fb utilities rows queried data table metadata keyspace transform row iterator duplicate empty fetched columns queried logger reverse order columns schema info apply partition key db update logging iterator row iterators partition key message digest queried data row apply row metadata key filter logger slfj update row security logger factory row
src.java.org.apache.cassandra.serializers.UUIDSerializer
version utils serialize marshal buffer serializer uuid serializer serializers instance uuid gen remaining nio buffer util format empty buffer validate util uuid deserialize buffer uuid
src.java.org.apache.cassandra.db.filter.ClusteringIndexNamesFilter
filter selecting rows clustering empty selected columns columns filter selects clusterings clustering order clustering order reverse clustering order query requested note empty row requested clustering clustering order clustering order query clusterings empty selecting row rows covers filter smaller rows match note filter markers bit trickier advance range harmless left requested clustering bounds covered include descending iterator max clustering fully covered buffer row serialized size search iterator add clustering comparator write unsigned vint format search iterator unfiltered row iterator util requested rows unfiltered row iterator io selects partition partitions table reader append order cql iterator clustering slices internal deserializer column filter serialize internal clusterings query order slices clusterings clustering head unfiltered btree clustering index filter data output read unsigned vint apply subtypes btree transformation append clustering index filter stats column metadata partition version metadata head filter kind sizes data input builder partition apply min clustering end data filter sstable filter indexed deserializer table metadata row serialize serialized size internal column filter tail navigable size clustering rows table metadata transform fetched columns unfiltered row iterator selects schema sizeof unsigned vint cached partition builder reversed partition key deserializer partition level deletion kind comparator compute filter indexed clustering iter clustering columns compare slice intersects clusterings inclusive utils io override cql row make deserialize empty build nio db sb include searcher builder apply row paging clustering index filter serializer
test.unit.org.apache.cassandra.db.commitlog.CommitLogTestReplayer
utility examine commitlog size google serializer sync messaging version mutation io commit log reader override apply commit log descriptor commit log reader serialization helper predicate rows commit log location replay files replay filter instance flag handler examine commit log mutation files commit log config junit read mutation true commit log read handler commit log replayer db util base io buf database descriptor commit log position local desc error input buffer deserialize commit log replayer entry location processor rebuffering input stream common file commit log reader commitlog data input buffer min position
src.java.org.apache.cassandra.hints.HintsStore
encapsulates state queue hints files current writer queue dispatch writer accessed timestamp make reuse timestamp methods dealing exclusively open writer hints directory write error math hints writer immutable add live logger storage service hints writer timestamp file util io uuid fsync remove logger common inet address timestamp dispatch offset google system writer close collect net dispatch positions files close writer dispatch dequeue queue address checksum file input position concurrent linked deque current time millis offer fsync writer put clean poll deque service hints store input position writing sort alive delete hints descriptors blacklist gms hints info writer params hints descriptor descriptor error endpoint host id logger factory delete compare stream utils hints file io offer logger sync util failure detector concurrent linked queue blacklisted files instance empty concurrent host id file max concurrent sync dir slfj mark dispatch offset open writer
src.java.org.apache.cassandra.io.sstable.IndexInfo
embedded indexed version instance roughly covers range clustering slice offset data file width data serialized serialization format changed introduced integer fields stored varint null end index block open range tombstone deletion null index size width serializing imperfect user change index size ideally save index size index bit involved change seldom change size base size data output utils serialize read unsigned vint row index entry version io measure skip sizeof messaging version clustering serialized size read vint index info read width version serializer clustering prefix data input write unsigned vint info sizeof unsigned vint sizes deletion time sizes format db util io write offset iserializer serialization header end open marker deserialize header sstable unshared heap size write vint width base sizeof vint empty size marshal serializer
src.java.org.apache.cassandra.utils.obs.OpenBitSet
bit direct access arrays storing derived paged backing bits unlike fact bits packed array part efficient efficiently alternate serialization interchange faster faster calculating cardinality results handle larger cardinality goals fastest maximum code extra safety built built cost removed people version order totally encapsulated slower bitset multiple arrays avoid promotion failure caused attempting contiguous arrays uniformly avoid waste small bloom filters sized remaining number words required achieve desired size number words constructs open bit large hold current capacity bits greater index current capacity included true bits number array true false bit index open bit div signed shift negative index force removing explicit mod todo perfectionist bit true false bit index open bit div mod todo perfectionist bit bit index open bit bit index open bit div mod clears index open bit instruction clear work bits shift binary position correct place sign jvm clears index open bit div mod clears range clearing past end change size start index lower end index bit end index past index word due invert masks clears range clearing past end change size start index lower end index bit end index past index word due invert masks number bits fill shorter length bit compatability lowers number words checking trailing number bit words hold num bits true bits make larger check bits range start mix results input effectively truncates trailing explicit rotate fold leftmost bits add constant empty gc page size wlen math bit util serialized size num bits heap size db pos util io bit deserialize arr ibit write page size page size bit length close sizeof ref index bitswords capacity data input code intersect page size sizes read page len idx write bitmask obs page count serialize arr start index end word size start word bit count page idx bits add identity collection page size startmask open bit cardinality num words data output page size page size utils middle read io word num override identities fill min trim trailing full page count length empty page count arrays concurrent poparray end index page size clear endmask
src.java.org.apache.cassandra.streaming.StreamOperation
fallback avoid null deserializing handles description operation requires view build operation requires views updated involves base wether operation requires views repair rebuild bootstrap description ignore bulk load stream operation relocation decommission requires view build text description restore replica count streaming
src.java.org.apache.cassandra.db.commitlog.MemoryMappedSegment
destination channel buffer mutation threads sync forces buffer recycles segment files avoid reallocating large chunks constructs segment commit log commit log mark initial sync marker room discard section write empty sync marker replayer cleanly write previous sync marker point sync chain crcs ensure method idempotent declare io put cleaner read write force io utils channels manager path buffer memory segment commit log write error sync util add size file sync mode sync marker size write disk size library commit log config commit log segment manager skip cache override nio buffer start marker db buffer util io buffer file utils database descriptor commit log segment size capacity commit log segment write sync marker marker fd file channel channel clean absolute path internal close position commitlog log file
src.java.org.apache.cassandra.transport.messages.StartupMessage
initial message number connection message authenticate message compression startup utils entry illegal argument upper put codec authenticator io protocol versions override query state transport lz compressor service instance format require authentication snappy compressor decode dest state codec version protocol version encode version size config response query start nano time body upper keys write protocol entry buffer cql version request compressor util msg startup message database descriptor read cql version compression netty execute frame compressor size lower encoded size ready message messages key cb util connection buf compare entry message key options
src.java.org.apache.cassandra.db.marshal.DecimalType
empty buffer empty unsupported operation buffer point compose big decimal custom source add protocol version input buffer util format db cql serializer mod deserialize decimal cq protocol version transport remaining serializers empty meaningless comparison constants term big integer remainder empty buffer big integer marshal big decimal divide serialize marshal math context negate math serializer subtract number decimal decima decimal serializer json left decompose utils cq override parsed instance empty decimal number format nio buffer json substract multiply exc compare compare custom left
src.java.org.apache.cassandra.transport.ProtocolVersion
protocol versions client beta flag frame version considered beta versions word order defines chronological history determine feature supported serdes longer longer version number description beta versions word true beta versions supported versions stored required fast supported published enumset unsupported add newer unsupported versions preferred versions supported version check version longer supported ensures version invalid reply highest version format mandated protocl specs supported options message version complement greater override num version num invalid version message array utils lang transport comparable descr supported add ret decode protocol version supported versions greater size optional max supported version supported versions format arrays join smaller util smaller beta copy min supported version current add array commons unsupported length beta protocol beta
src.java.org.apache.cassandra.utils.NativeLibraryLinux
jna methods attmpted linked method defined target operating system availble initial linking initialization jna calls supported target operating system unavailable simply defined method runtime operating call open fcntl call getpid utils call mlockall call munlockall jna path close logger open call fsync library linux call strerror call posix fadvise sun def found error posixfadvise getpid error command logger unsatisfied link error runtime errnum call fcntl len warn flag fd offset call close fsync library wrapper register strerror method error logger slfj flags munlockall error mlockall logger factory pointer
src.java.org.apache.cassandra.index.sasi.TermIterator
add referenced reference release index bad inside checkpoint indexes complete search crossed execution quota exceeded opening indexes local indexes released unsupported operation atomic disk submit executors thread skip add direct executor service atomic logger count runnable term iterator thread logger factory close quietly util token op netty fast thread local token count remove logger common copy write array debug add referenced indexes google reference memtable iterator thread factory debug enabled count latch close add index mode suppress warnings thread factory concurrency factor marked partials count release throwable ranges search search concurrency factor end data disk index builder executor service expression executors mode current thread perform skip copy write array file utils path maximum size search executor thread union atomic integer checkpoint minimum search memtable table indexes op table index tokens await uninterruptibly expression info compute error latch key iterator utils token prefix initial io logger range iterator uninterruptibles format release index indexes build config release quietly fixed thread pool concurrent plan search executor range union iterator count database descriptor task clear increment slfj sasi
test.unit.org.apache.cassandra.utils.NoSpamLoggerTest
valid make passed underlying logger correct objs check mock logged sizes nano time clock logged result utils clock substitute logger offer spam logger poll logger level spam logger statement direct logged length param code empty spam logger pair spam log statement size clear wrapped loggers junit mock statement true info override array deque warn statement level nospam util concurrent error logger log info queue spam logger null nospam statement nanoseconds put warn logger slfj spam logger direct helpers error false time unit left
test.unit.org.apache.cassandra.db.view.ViewUtilsTest
load present natural endpoint false daemon initialization network topology strategy locator meta index natural endpoint schema keyspace metadata service local host preference property file snitch endpoint snitch clear unsafe instance metadata base token belong local replica empty view utils iendpoint snitch net config junit storage service schema true token view utils replication update normal token db util framework keyspace params snitch database descriptor dht token metadata keyspace optional clear put token metadata order preserving partitioner view natural endpoint inet address configuration initialized replication params view
tools.stress.src.org.apache.cassandra.stress.StressServer
option message add option action thread input stream parser output stream system accept parse thread factory server socket atomic io stress server close alive stack trace multi result logger cli increment thread thread atomic integer start exit command line parser net posix parser printf read run socket stream runtime read command line util concurrent option io stress parse address host address options input stream options stress thread thread counter stress socket err interrupt cmd commons stress action server socket client log result logger action inet address
src.java.org.apache.cassandra.utils.obs.BitUtil
variety high efficiency bit twiddling number bits delight bit pop bit version function number bits array robert harley david bit counting revisions function adapted extended bit access wider registers sse function transformed compute popcount bitsets sed macro unsigned handle trailing words derived loop specific elements original method hackers delight simple add tot tot popcount cardinality array generated sed popcount cardinality union array generated sed macro unsigned popcount cardinality array generated sed macro unsigned macro unsigned python code generate def val keyspace number trailing number trailing bit full binary search determine low slower linear search shifts bits probability single binary search top level bit shifting remain friendly bit checked dense bit mask low bit check grab upper mask low bit check number trailing bit single binary search top level checked common dense bit mask low check based index works alternate bit shift based index alternate hackers extended converted bit ntz algorithms step true power true power highest power current power highest power current power upper utils num words pop ntz popunion bit util val tot ntz table power popintersect popxor lower word offset poparray low obs popandnot ntz ntz tot highest power
src.java.org.apache.cassandra.net.RateBasedBackPressureState
tracked replica state made length window rate supporting incoming rate supporting outgoing rate limiter eventually apply outgoing incoming rate outgoing rate updated response received guarantee consistency methods exclusively windows apply concurrent note read lock response processing concurrent rate updates screw rate response received google rate limiter time source lock utils unlock override message sliding time rate rate limiter time source positive infinity rate code back pressure state net back pressure rate limit host incoming rate format window size update util concurrent host inet address outgoing rate obj response timeout read lock message interval lock common message time unit rate based back pressure state milliseconds
test.unit.org.apache.cassandra.cql3.restrictions.ClusteringColumnRestrictionsTest
clustering clustering clustering slice restriction clustering slice restriction descending clustering slice restrictions clustering clustering slice restrictions clustering slice restrictions clustering column slice restrictions slice restrictions descending clustering columns slice restrictions descending clustering column slice restrictions descending clustering column slice restrictions ascending clustering column slice restrictions ascending descending mixing single multi restrictions mixing single restrictions slice mixing multi restrictions slice empty bound bound empty bound bound start bound bound inclusive bound expected elements expected elements end bound bound inclusive bound expected elements expected elements creates instance clustering table metadata column family meta index clustering column instance clustering creates instance clustering table metadata column family meta index clustering column instance clustering creates instance clustering table metadata column family meta index index clustering instance clustering creates instance clustering table metadata column family meta index clustering column instance clustering clustering table metadata column family meta index clustering column clustering creates instance clustering table metadata column family meta index clustering column bound slice inclusive bound bound instance clustering creates instance clustering table metadata column family meta index clustering column bound slice inclusive bound bound instance clustering converts term converts term converts terms bounds clustering multi slice restrictions ascending descending column mix table metadata daemon initialization multi item terminal buffer add partition key column end bound instance bottom bounds clustering single eq multi restrictions add multi item terminal bounds clustering eq restrictions clustering columns bounds clustering single eq slice restrictions junit build single slice buffer util db bound util single eq multi eq cql index table metadata multi slice column metadatas array bounds clustering restrictions collect common add clustering column bounds clustering multi slice restrictions clustering column multi google clustering column definition inclusive multi slice bounds clustering multi eq restrictions iterables terms eq start bound instance slice merge bounds clustering multi slice restrictions descending clustering column column metadata multi eq sorts size bound constants term end builder multi column restriction query options single restriction bounds clustering single eq multi eq restrictions single column restriction bounds clustering multi slice restrictions ascending descending clustering columns clustering column restrictions bounds clustering restrictions clustering column bounds clustering slice restrictions clustering column length marshal single eq statements bounds clustering multi column restrictions bounds clustering multi slice restrictions descending ascending clustering columns clustering bound clustering table metadata terms array asc restriction top schema sort column def bounds clustering slice restrictions descending clustering column slice restrictions slice restriction safe varargs setup dd multi eq bounds clustering columns bounds clustering eq restrictions clustering column bounds clustering inclusive utils bounds clustering multi slice restrictions clustering column tuples bounds clustering eq slice restrictions sort sorted bounds clustering multi slice restrictions ascending descending clustering columns format bounds clustering multi restrictions empty end single eq term bounds clustering eq restrictions config multi true multi slice elements nio index arrays eq restriction start empty start start bounds clustering multi eq single slice restrictions single slice database descriptor reversed desc bounds clustering multi slice restrictions descending clustering columns builder bound element clustering column restrictions
tools.stress.src.org.apache.cassandra.stress.operations.userdefined.SchemaStatement
driver accepts cql operations bind row partition generator cl schema statement db report buffer data spec override run op consistency level consistency level row integer permit nulls add runner statement column definitions datastax size spec driver client convert core prepared statement nio userdefined index argument index variables driver timer util row count stress date definitions days epoch local date generate stress bind buffer data bind array partition operation timer illegal state length row partition count bound statement bind row
tools.stress.src.org.apache.cassandra.stress.operations.FixedOpDistribution
operations stress fixed op distribution op distribution operation operation
src.java.org.apache.cassandra.concurrent.AbstractLocalAwareExecutorService
task submission creation unsupported operation tasks current thread utils tracing future task cancelled timeout submit execution jvm stability inspector interrupted logger interrupt running unit signal executors invoke completion collection callable message run locals invoke future task call logger simple condition cancel runnable runnable callable thread task tracing await util concurrent future signaled throwable executor locals local aware executor service add task execute task failure tracing inspect throwable local aware executor service local session future task warn logger slfj command timeout time unit logger factory result
src.java.org.apache.cassandra.io.sstable.KeyIterator
skip remainder decorate key closeable iterator key position skip utils row index entry io close filename key iterator read partitioner table metadata open runtime component version data input dht primary index schema eof read length buffer util db total file pointer decorated key key position util descriptor io key iterator serializer desc ipartitioner compute end data init random access reader sstable length file path metadata
test.unit.org.apache.cassandra.dht.Murmur3PartitionerTest
minimum token stop recursion split exceed maximum override math scalb tok size murmur partitioner instance dht junit token max midpoint split wrapping token mintoken murmur partitioner midpoint midpoint minimum partitioner split split partitioner init partitioner compare left
tools.stress.src.org.apache.cassandra.stress.generate.values.LocalDates
stress simple date generator local dates instance identity distribution db marshal integer generator config config generate
src.java.org.apache.cassandra.io.util.AbstractReaderFileProxy
base valid compressed reader file proxy channel proxy util override simple channel io close size file length crc check chance reader file proxy
test.unit.org.apache.cassandra.utils.concurrent.AccumulatorTest
iterator add capacity utils accu empty size accumulator add empty integer size junit true util accumulator iterator illegal state iterator concurrent iter false fail index bounds
tools.stress.src.org.apache.cassandra.stress.report.StressMetrics
collected data intervals align report timing nearest reporting interval starts rounded single operation record leftover measurements round redistribution record wait record interval collected measurements consumer stop timestamps newline separate aggregates section end stress curr op timing intervals measurements recycling row rate uncertainty interrupted interrupt prefix park nanos headmetrics reporting start math hist jmx port headformat histogram callable run time add start nanos time override total hdr file start row output interval histogram gc stats op summary timing interval level log op rates stop output base time compute absent util interval end report wait time row rate max latencies err id len array level commons stopped log histograms result logger resolve permitted throwable log op summary line summarise start median latency system rate gc stats collector stress metrics count latch id maxms lang nano time end record poll consumers end tree output comment current hdr histogram epoch millis wakup target size sdvms jmx collector pretty memory total current interval wait converges end nanos leftovers uncertainty target uncertainty nanos queue total count op min measurements response time output row rates operation count count op current timing interval thread base time gc stats count current time millis error count fixed length summs record interval partition rates adjusted row rate cancelled latencies format entry output legend op history wake formatstr cancel timing interval fb utilities park interval partition rate log rounded epoch op rate uncertainty start header call total summary interval latencies percentile utils end time stamp service time offer op measurement array deque file found start time uncertainty histogram latency percentile relative start ended start time stamp max latency consumer latency verbose reset partition cnt rowformat log interval millis stress action stack trace partition count illegal argument drain consumer measurements histogram writer record row count row cnt duration format utils cancelled time unit history interval reporting loop measurement sink epoch output start time ids partition counts locks io output log format version median latencies key measurements reporting format duration end thread histogram log writer park lock support max measurements port started leftovers size op sleep node head intended total gc stats arrays max await update concurrent stress aggregate entry summary op current time stress nanoseconds relative end tag time op interval log histogram consumer error counts milliseconds op rate
test.unit.org.apache.cassandra.index.sasi.utils.LongIteratorTest
empty iterator close basic iterator utils io maximum index minimum junit current iterator io count convert iterator false sasi
test.long.org.apache.cassandra.dht.tokenallocator.RandomReplicationAwareTokenAllocatorTest
maximum number vnodes random partitioner smaller number longer existing cluster random partitioner cluster random replication aware token allocator flaky cluster max vnode count flaky util tokenallocator clusterr replication aware token allocator dht junit
src.java.org.apache.cassandra.db.marshal.FrozenType
fake parsing include frozen unsupported operation parser marshal freeze buffer parsed serializer syntax instance protocol version comparison parser source transport protocol version parameters size configuration term frozen nio buffer db json util comparable serializers cql serializer json marshal
src.java.org.apache.cassandra.gms.Gossiper
module responsible gossiping information local maintains live dead periodically chooses random node initiates round gossip round gossip involves rounds instance node initiate round gossip node starts sending node node receipt sends node receipt message node sends node completes round module hears mentioned messages updates failure detector liveness hearing module instantly mark remote node failure timestamp prevent processing messages send syn maximimum difference generation local time accept subscribers interest endpoint state change live member unreachable member initial seeds joining cluster key endpoint state endpoint key endpoint timestamp endpoint removed ignore gossip endpoints removal prevent nodes falsely reincarnating time gossip propagated nodes seeds gathered shadow round shadow round phase endpoint states gathered shadow messaging service start update local heartbeat gossip random live member gossip unreachable member probability check back gossip seed prevents partitions group gossiping subset straightforward check check seeds verified live avoid computation reason live nodes introduce member ring node gossip gossip random seed gossiped seed half ensure removed endpoints leeway prevent register failure detector receiving failure detector events register instance register interesting state subscriber module unregister interest state subscriber module live gossip including fat live ring unreachable gossip including fat unreachable token method part ifailure detection event listener failure detector convicts end endpoint end point method mark node gracefully exited told endpoint endpoint shut greatest heartbeat application removes endpoint gossip endpoint endpoint removed current removes endpoint gossip retains endpoint subscribers subscriber depends gossiper state quarantines endpoint quarantines endpoint quarantine expiration quarantine endpoint specifically replacement quarantine endpoint effectively add remove endpoint evict avoid gossiping called token ip endpoint endpoint gossip digest built based looping collection live digests gossip local epstate part method begin removing existing endpoint cluster spoofing called coordinator endpoint endpoint host id id host local host id host id replication remember make update generation mimic changed make evict handles state called make evict ensure gossip round occurs call method extremely hard obliterate endpoint make make evict todo pass collect true chosen target false ep endpoint random endpoint true chosen endpoint generate random number size sends gossip message live member true recipient seed sends gossip message unreachable member based probability possibly gossip seed facilitating partition healing gossip seed check node safely started join node examines gossip state previous status decide safe node start compares host node reading generated host id obtained gossip endpoint address prevents node started address previously endpoint endpoint local host uuid host id bootstrapping node intends bootstrap ep states endpoint states true safe start false previous node previously removed states join cluster failed bootstrap start node legit cluster stopped kill node previous uuid matches read good start amiss replace previous messages give executor time work check fat fat clients removed automatically gossip remove dead states put removed endpoints respect quarantine rid state check dead state expire time time include heart beat state greater version passed happen heart beat version lesser version application state version version passed send heart beat receiver accumulate application states versions greater variable determine endpoint started local endpoint state exists report fd versions node dead generation possibly clean fd intervals relearn version report prevents status check racing evicting method called change ep state generation change ep ep state endpoint state node subscriber action check end nodes learn state exist add add remote generation generation attempt heartbeat measure generation drift local based fact generation initialized assume peer corrupted memory broadcasting unbelievable generation peer major state change handle update inserting remote state generation apply find maximum state apply notify major report fd time node restarts version back notify local application state change triggered remote notify application state request state endpoint digest data endpoint locally request send data version greater max remote version method figure state gossiper gossipee delta delta state built empty happen endpoint send syn happening node attempting shadow reply state end point digest fire data endpoint follow path absolutely endpoint request data max version keys state endpoint request gossiper send data generation localgeneration version max remote version greater request remote endpoint send endpoint version greater max version number locally max remote version send data locally version greater max remote send data generation localgeneration version max remote version data endpoint locally request start gossiper generation preloading application states initialize heartbeat state local endpoint snitches gossiper single round gossip retrieving endpoint states stored exclusively preparing join replacing assume check local host id matches previous id endpoint method flag shadow round calling received order immutable copy caller therefor single shadow round execution permitted endpoint states gathered shadow round empty local address entry attempting shadow round send completely empty retry beginning ourself fail initialize local hb state gossiper started add endpoint knew state previously data endpoint fire notifications preventively raise remote newer version received add local application state fire respondent back full exit shadow respondent shadow state exit shadow retrying sr responds full ack learn seeds add version net version state handle major state change removed nonlocal add local application state internal digest syn message max version removal coordinator live endpoints local ep state util key live members gossip settle poll successes required host address array live members logger stage manager millis local endpoint state advertise removing unknown host gossiper starting joined append change notifications index iendpoint state change subscriber force newer generation local ep state ptr version net current size remote entry runtime error interval millis rand dbl stage address status normal endpoint state endpoint generation hb state local hb generation update timestamp live token owners shuffle rpc ready entry stored time release version gossip task fb utilities local version current generation number generation number inetcomparator gossip shutdown msg annotations platform mbean server force newer generation unsafe warn seed sleep live ring members inject application state states endpoint ep addr inspect throwable executor put compare lock pieces gossip digest syn locks rpc ready mark shutdown gossip settle min wait finish shadow round interrupted add application state empty config arrays max force conviction remove expire time state state fd shutdown response expire time endpoint delimiter str hibernate token metadata integer destroy connection pool register sb change register failure detection event listener endpoint token owners nano jvm stability inspector mbean force highest version unsafe echo message echo handler change storage service runnable time millis make random gossip digest fat client timeout endpoint state gossip status restart unregister schedule fixed delay gossiper debug key shadow round generation ifailure detector bootstrapping unlock reset version send gossip live member ep add saved endpoint version verb stage reentrant lock removing token state gossip unreachable member echo message compute expire time put debuggable scheduled thread pool executor status check status bootstrapping endpoint network version assassinate endpoint length heartbeat application state messaging service probability copy write array host id message ep size management service delta ep state slept removing nonlocal ep size mark alive trace enabled alive unsafe assassinate endpoint max local version tokens heart beat state endpoint downtime unreachable token owners add expire time endpoint preload local states reqd endpoint state time unit logger factory latency snitch ep states states put absent seed instance initialize local state host id trace remote generation concurrent skip epstate metrics mbean server singleton update heart beat entry pair shadow round addr build seeds replacement quarantine clear broadcast address compare scheduled future evict membership milliseconds ep state ptr notify failure detector scheduled gossip task random max remote version initialize node unsafe remote state addr addr host id math max generation difference add expire time endpoint register mbean enabled management factory application state seeds digests version local host uuid remote ep state unreachable endpoints add application states clone higher version downtime report dead state gossip settle poll interval pending tasks random remove local max version processed message common member throwable endpoint snitch processed message nano time release version held current thread ifailure detection event listener state send gossip gossiper mbean removed endpoints key alive echo remove endpoint uuid message key mark dead remote states send wtf local hb version max endpoint state version examine gossiper application state internal ip shutdown cancel subscriber sleep uninterruptibly mystate interpret pair builder shadow round gossiped seed comparator add local application states versioned pending replaced endpoint ap state endpoints shutdown utils heart beat state logger change notifications ep ep split dht status phi gossip seed remote endpoint state total polls local host id database descriptor local time request time nanoseconds quarantine expiration dead states eps task lock ring delay quarantine endpoint unreachable members left subscribers collections partitioner previous digest immutable add gms logger safe startup thread token wait settle uuid silent shutdown states apply state locally advertise token removed cancelled collect iasync callback inet address status left google status bootstrapping replace visible concurrent debug enabled num digest message compare endpoint startup endpoint states removal coordinator immutable endpoint state convict prod prob run heart beat state silent shutdown state generation nbr syn send gossip digest unsafe statuses current time millis seeds update timestamp removed token respondent local generation stop entry join remote max version mbs quarantine delay heart beat version ep state collection seeds shadow round start remote version integer add local application state random token system send rr ep state copy cluster live endpoint count info real mark alive force apply states max version unreachable endpoint count gossip digest syn failure detector endpoint shadow state uninterruptibles endpoint wait listening dead jmx enabled thread pool executor factory status concurrent tokens concurrent state version bigger gossip gossip member lang internal ip local state partitioner slfj delta gossip digest serializer
test.unit.org.apache.cassandra.db.marshal.TypeValidationTest
unicode skip cps invalid tolerates convert valid sequences point valid unspecified modified modified invalid arr max code point buffer time uuid invalidth buffer cb utils character marshal wrap ascii ch io array invalid time uuid invalid ascii serializers uuid valid utf util instance uuid gen allocate invalidnd expected junit floatingc invalidrd unsupported encoding nio db valid time uuid append util random uuid validation validate buf uuid time uuid ut marshal decompose
src.java.org.apache.cassandra.io.FSError
unwraps throwable chain error top throwable error found null throwable io top file io error path find nested error
test.unit.org.apache.cassandra.io.sstable.SSTableScannerTest
produce data range variations produce inclusive start exclusive end disable compaction full range simple read chunk start range edge end range edge single item empty starts starts starts past starts starts disable compaction full range scan ranges skip skip skip scanned range stops actual data scanned range requests data actual data middle scan range splits data empty order empty ranges equivalent full disable compaction full range scan ranges iterator column family store range util full scanner range start add insert row key partition position junit make ranges min key bound dk buffer util format db util token io single key multiple ranges start inclusive table reader comparator slices define schema array keyspace collect token common iterable inclusive end token google min system iterables close array key clustering index slice filter open boundaries keys minimum size metadata ends table scanner runtime builder decorated key ranges range key apply unsafe scan ranges range starts keyspace scanner current time millis filter sstable force blocking flush table reads listener simple standard cfmd column filter disable auto compaction clear unsafe boundary noop listener scanner clustering table metadata collection start max key bound expected table single data range scan end store schema data range keyspace partition key column family store integer prepare server row update builder ordered partitioner data range bounds scan matches bounds table scanner range end inclusive utils multiple ranges range pairs io key scan start end pair idx min inclusive start length empty build timestamp dht true schema loader arrays max empty buffer data ranges keyspace params concat live tables end inclusive keyspace scan empty compare false sb
src.java.org.apache.cassandra.db.rows.RowIterator
iterator rows belonging row iterator unfiltered row iterator deletion information filtered cell rows iterator code row iterator tombstones deletion note rows clustering order reverse clustering order reverse order row valid call provided iterator rows empty db row iterator base row iterator row row
src.java.org.apache.cassandra.service.pager.PartitionRangeQueryPager
pages include key achieved note key key page size record row filter row data limits protocol version partition position optional remaining db util key open store index metadata query pager partition range read command clustering column filter data range full range clustering index including excluding bounds protocol version transport index max remaining row mark state read command metadata restore state decorated key paging state range key remaining partition excluding bounds make key bounds limits request execution key filter previously partition row clustering rows service empty schema data range index metadata keyspace partition key paging limits comparator bounds decorate key bounds row mark page read command index updated limit index metadata key range dht range page range bounds include key partition range query pager pager sec partitioner command
test.unit.org.apache.cassandra.db.partition.PartitionImplementationTest
gotta gotta unfiltered unfiltered randomly search sliceable row empty row null reported increased chance start exclusive sz fetch slice fetch slices slice bounds inclusive matched markers deletion del time make row iterator skip content supplier descending collections unfiltered multi slices supplier row util predicate generate unfiltereds buffer cell cl search iterator rows prev add unsorted builder make slices junit stream dk buffer util format dest exclusive start search iterator empty pos util col filter descending iterator add partition key column dt cql iterators partitions cell iterator clustering open deletion time define schema array random remove collect slicing iterators common add clustering column throwable metadata iterable clustering inclusive start google slices close bound add markers iter iterables close btree row rows make boundary slice column metadata row markers iterators def col max mul current content supersedes rk clustering immutable btree partition empty inclusive close builder partition btree partition generate rows sorted content ascii rt markers array markers actual add stream rows timestamp live keyspace filter keyspace regular raw add regular column row rand column slices simple inclusive open cf spliterator column filter partition close deletion time deletion marker navigable open iterable stream support deque rows table metadata generate markers invert unfiltered source range tombstone marker collection start live column identifier expected integer unfiltered row iterator add column schema function error search iterator started reversed cf singleton iterator add cell head removed prepare server reverse directed match collectors comparator unfiltered iterator cells unfiltereds range tombstone boundary marker iter entries array del times sort compare slice linked stream utils find inclusive end empty deleted row close configuration key range function keys end clusterable make row instance empty build sliced iter make row search iter schema loader deletion time open range tombstone bound marker arrays db row keyspace params col result concat row sz selection builder add builder partition slicelist marshal rows clustering bound tail compare open bound tree
src.java.org.apache.cassandra.locator.TokenMetadata
maintains token endpoint node token address multiple bi multi val maintains endpoint host id node cluster prior added node began bootstrap removed inadequate multiple suppose ring nodes replication factor node bootstraps pending ranges suppose node bootstraps pending nodes assigned pending range unable represent thing nodes boot simultaneously made changed pending ranges replication options added bootstrap tokens leaving endpoints rebuild pending ranges complete information additional made note recording tokens joining nodes bootstrap tokens detect reject addition multiple nodes part record token part token endpoint cache calculation nodes migrating tokens lock manipulating token signals replication strategies nodes joined left ring recompute number nodes bootstrapping primary range update token single pair normal update token pairs normal prefer multiple pairs update single expensive removing endpoint store host id id changed unique host id unique host id copy operations add moving token token node moving endpoint address moving called snitch properties endpoint called snitch properties endpoints topology endpoints snitch remove pair moving endpoint address moving copy token metadata pending bootstrap tokens leaving endpoints included cached token metadata clone token cached copy invalided ring common extra locking callers mutate metadata synchronize prevent thundering herd copy token metadata token endpoint reflecting situation current leave operations token copy token metadata token endpoint reflecting situation current move operations token mutable caller modify calculate pending ranges bootsrapping leaving reasoning write node multiple nodes calculate biggest ranges node unneeded data missing writes node ranges nodes grow node lose current ranges result remove leaving tokens sake calculation check ranges nodes biggest ranges regard current leave covering subsets node ranges nodes complex calculations multiple bootstraps simply base token ring situation leave operations bootstrapping nodes added removed metadata checked ranges give biggest ranges node bootstraps make actual ranges matter clean data heavy ineffective state avoid race branches lock block unrelated clone current copy metadata reflecting situation leave operations ranges affected leaving find nodes responsible range leaving nodes stage pending ranges updated leave calculation checking bootstrapping bootstrapping simply add remove left metadata check ranges stage pending ranges updated leaving bootstrapping finish calculation checking moving moving thing simply add remove left metadata check ranges ranges include ranges address moving ranges ranges rid ranges node copy bootstrapping tokens operation safe call read lock caller modify leaving endpoints operation safe call read lock endpoints migrating addresses moving operation safe call read lock insert minimum token index include member iterator tokens starting token node token include min true minimum token ring minimum index ring token end retained benefit endpoint token multimap representation token endpoint token endpoint normal bootstrapping topology nodes dcs copy made avoid concurrent topology methods subsequently tracks assignment racks endpoints datacenter faster calculation endpoints dc endpoints dc dc rack endpoints rack endpoint current assignment construct stores current assignment removes current assignment dc endpoints dc rack endpoints dc rack pending ranges iterator pending ranges ring iterator node ranges collections atomic buffer clone settled host id endpoint update topology pending range current address ranges inverse successor immutable bi multi val address write endpoints source add tm primary range gms endpoint token logger optional storage service immutable topology datacenter racks update normal token read db source ranges util key token endpoint add bootstrap tokens stored ep entries force put insert min token replacement node uuid bootstrap addresses nullable pending range iterator array compute commons remove clone token remove logger token common member add replace tokens debug inet address key keyspace remove moving token index current time millis empty google minimum visible concurrent ring version token unlock host id empty iterator update host id debug enabled iterables lang ep append builder index multimap collect read write lock runtime endpoints moving endpoints pending ranges mm iterators ranges started net endpoints metadata sort tokens datacenter address ranges affected ranges cached token calculate natural endpoints pending range dc endpoints cached token decorated key add pending range add moving endpoint ipartitioner range range property key node leaving endpoints remove endpoint topology ranges logger factory leaving endpoints end data endpoint tokens put partitioner move affected ranges range sorted tokens subtract token endpoint eps update normal tokens pending ranges endpoint singleton add endpoint decorate key sorted bi multi val address entry locator start index node tokens clear unsafe bi wrap ring strategy replacing tokens rack size endpoints calculate pending ranges include min service reentrant read write lock replication strategy collection start moving sort tokens pair ring version bi prev annotations topology trace enabled alive remove endpoints deprecated add leaving endpoint stored id system tokens read lock copy token metadata pending ranges info clone left join locks add endpoint left metadata token metadata warn rack difference remove endpoint host id bootstrap tokens remove endpoint put minimum token natural endpoints compare sb endpoint host id reading multimap inetaddress cmp lock utils size leaving endpoints pending range singleton iterator binary search dc partitioner primary ranges current locations size endpoints trace leaving logger key atomic reference failure detector iterator pending endpoints format size moving endpoints add bootstrap token bootstrap tokens replacing node instance empty dc racks snitch moving endpoints iendpoint snitch dht config write lock concurrent tokens nio comparator invalidate cached rings arrays endpoint snitch current endpoints concurrent replacement original moving update endpoint clone partitioner pair entry database descriptor cloned concat addr add location endpoint host id datacenter endpoints normal bootstrapping token endpoint clear remove bootstrap tokens original partitioner predecessor slfj endpoint token reading update endpoints compare entry utils left
src.java.org.apache.cassandra.auth.DataResource
primary resource represent table keyspace root level root level data data data permissions granted permissions granted memoized hashcode data ressource immutable hashmaps creates data resource representing keyspace data resource instance representing creates data resource instance representing keyspace table data resource instance representing column parses data resource data resource data data resource instance matching printable parent illegal state keyspace illegal state column family illegal state resource parent resource exists table level permissions google exists root level format modify table keyspace table data resource keyspace lang alter select schema parent keyspace level permissions keyspace drop root code parts split table root schema error override iresource immutable level table level auth util base instance illegal state parent authorize level keyspaces root illegal argument permission commons keyspace level collect length applicable permissions common table metadata root resource utils
src.java.org.apache.cassandra.db.compaction.CompactionHistoryTabularData
google tabular composite data support utils put result tabular composite management instance open throwables open data row desc id compacted row merged integer fb utilities tabular data compaction history tabular data item descs db util openmbean base propagate compaction tabular data support cql untyped result composite uuid simple row cf result item common uuid item marshal row
src.java.org.apache.cassandra.tools.nodetool.StatusHandoff
hinted handoff disabled dcs nodetool probe airlift system node probe io override tools handoff enabled node tool description format node tool cmd dc command execute status handoff airline
src.java.org.apache.cassandra.auth.RoleOptions
specific syntax option multiple true options false options options options superuser superuser option login login option password password option representing custom responsiblity irole manager handle checking conversion custom validate contents options ensure subset options supported configured irole manager validate option condition invalid request method validation cql ire results error response invalid request options supported configured option incorrect invalid request google custom options utils role manager entry put entry login options options fb utilities syntax option option irole manager empty supported options superuser optional password option suppress warnings format validate auth util base database descriptor password role options superuser config nullable key login common key options
src.java.org.apache.cassandra.tools.nodetool.CfStats
cf stats deprecated nodetool description airlift table stats command airline io hidden tools
src.java.org.apache.cassandra.exceptions.PreparedQueryNotFoundException
format utils unprepared md digest prepared query found make msg code request validation id
src.java.org.apache.cassandra.serializers.FloatSerializer
utils serialize marshal serializer buffer serializer serializers instance remaining nio buffer util format empty buffer validate deserialize
src.java.org.apache.cassandra.metrics.ThreadPoolMetricNameFactory
pool append metric metric factory group metrics registry builder mbean metrics metric path thread pool metrics thread pool metric factory metric
src.java.org.apache.cassandra.io.util.NIODataInputStream
rough equivalent buffered input stream data input stream wrapping input stream file created work fact bis dis delegate nio socket io allocate thread local direct buffers large array performance improvement due dbb underlying buffer io indirection delegation reading individual closing nio data input stream invoke close readable channel provided nio data input stream thread google check null buffer channels file utils io override close buffer size math nio data input stream read preconditions max readable channel integer size remaining channel check state allocate direct nio make buffer buffer max seekable channel util sbc base io remainder buffer clear flip rebuffering input stream limit common clean position
src.java.org.apache.cassandra.utils.WrappedInt
simple wrapper wrapped utils initial increment decrement
test.unit.org.apache.cassandra.hints.ChecksummedDataInputTest
make array bigger reader buffer updating crc buffer fill bytebuffer calculate expected save buffer file read crc read fill bytebuffer save buffer file read fill bytebuffer update save buffer file read read reset crc daemon initialization buffer reset crc read vint writer sequential writer junit write unsigned vint read buffer util read max util framework temp file io utf crc check limit write data output buffer failed crc exists write min write utf read write read utf read methods write arrays reader read cr read write read length write vint buffer pos checksummed data input buffer size read fully array open fb utilities zip read eof update checksum write setup dd read hints reset read unsigned vint check crc remaining random access reader limit standard charsets file utils io write length charset write write config true finish write nio buffer delete exit database descriptor checksummed data input file false position
test.unit.org.apache.cassandra.utils.MerkleTreesTest
assumes tree units method affected passing method split range check fail split fail split validate validate validate validate validate generate trees check compare keys slightly depth depth depth depth depth depth populate validate add dummy give room split leaf created trees disagree root binary tree leaves val consume partial iterator random daemon initialization lchildval serialized size hstack maxsize add leftval junit storage service restored hashable difference depthiter util token split limit depth rchild binary deserialize iterator rstring random split limit size collect token common initialhash data output buffer null data input buffer merkle trees full range google peek merkle tree fail big integer token full array random net math token scale mthash full add midpoint ipartitioner range linvalid tlist lchild ranges big integer val end data serialization range fullval hex add merkle trees messaging service divide depths serialize hex pop mthash invalids currentversion message degenerate size service init collection tok add merkle tree integer invalids dummy array deque diffs maximum failure add compute middle mts dstack mts split serialized array minimum token partitioner unsafe merkle trees leftmost linked utils row childfull partial io random partitioner tokens iterator length invalid instance partialval rinvalid split max dht config true intersecting ranges arrays max difference lstring push multiply database descriptor hiterator error rchildval clear partitioner depth serializer tree range false bint validate tree tree range iterator childfullval left
src.java.org.apache.cassandra.tools.nodetool.stats.StatsHolder
stats property stats nodetool stats holder util convert tools
src.java.org.apache.cassandra.service.ReadRepairDecision
global service read repair decision dc local
test.unit.org.apache.cassandra.MethodComparator
line numbers compare indexes compare declaring line number reader index method position input stream method position index line io close override method input stream method method separator comparable method position method method integer input stream reader junit method separators comparator method separator index framework method method position reflect simple io line number line method position read line runners lang util resource stream method comparator line number reader null method position framework method framework method comparator junit compare line number model ignore annotation
src.java.org.apache.cassandra.io.sstable.format.big.BigFormat
legacy bigtable versions denoted minor versions fields metadata fields size minor versions introduced version prior incremented major ma swap bf store rows mb commit log lower bound mc commit log intervals na uncompressed pending repair adding add messaging service writer factory open reason table format stats metadata lifecycle transaction big version writer factory factory row index entry sstable metadata version compatible io compatible streaming reader factory currentversion latest version open writer factory table flush observer messaging version big table reader table metadata ref table metadata descriptor metadata collector component collection instance version override metadata collector reader factory net index serializer commit log intervals schema max data age table writer commit log lower bound latest version big format format big header db max compressed length util descriptor latest version big table writer pending repair open reason version lifecycle serializer serialization header observers table reader uuid reader factory repaired earliestsupportedversion index serializer sstable pending repair version components compare metadata txn key count
src.java.org.apache.cassandra.dht.ByteOrderedPartitioner
convert array significant representing magnitude convert big integer array representing remainder additional high order bit added end remaining bit significant bitmask single apply bitmask tokens count shorthand initializes counts calcs ranges looping splits size add sum count divide fractional unsupported operation compare unsigned random increase slightly buffer arraycopy hex shift lt remaining storage service sizes format size array big db token util token sorted ranges tokens token prime array array random commons token schema rtoken empty size token token validator system measure lang ltoken splits rt token factory code current buffer minimum math fb utilities math configuration decorated key midpoint mask range key remainder ipartitioner big integer obj table metadata row put key length sorted tokens midpair marshal serial version uid hex minimum token heap size hex describe ownership maskpos entry wrap total size ratio left service big buffer decorated key add entry pair schema token factory thread local random sigbytes shift left simple preserves order ordered partitioner partitioner keyspaces empty array array decorate key token factory utils token array utils override array buffer util instance split number format dht node nio partition ordering arrays max concurrent random token big tables views validate cfmd token compare left
src.java.org.apache.cassandra.repair.messages.ValidationComplete
validation complete message validation compaction completed merkle tree null validation size repair read version data output utils serialize message repair job desc write io override validation complete message serialized size code sizes sizeof data input db trees util io desc message serializer repair message deserialize success validation complete serializer messages validation complete merkle trees serializer
src.java.org.apache.cassandra.cql3.UntypedResultSet
utility internal queries note key work null unsupported operation page size result results buffer partition key columns row compose iterator instance exhausted protocol version timestamp current page columns column specification partition iterator frozen db util key components cql illegal state partitions iterator array iter read execution controller inet address uuid iterable components clustering transport nio frozen column metadata cql rows cell net fb utilities metadata complex column data decorated key simple text key put result metadata service column end data internal row def marshal row uuid statements cell select size clustering rows table metadata pager pager date ut schema inet address cell uuid untyped result collection compute result clustering columns put complex data process utils query pager result regular columns raw blob fetch page internal override iterator select statement key instance empty complex column data frozen text timestamp request frozen inet address execution controller data sec add columns serialize protocol position
src.java.org.apache.cassandra.cql3.selection.ElementsSelector
selector handling element slice selections element selection result selection creates selection element representing selection factory factory collection key element represented created fetched wait execution column filter add fetched columns selected key fetched columns feched columns factory frozen subselection factory simple column selection subselection element selected creates selection slice representing selection factory factory collection starting bound selected slice ending bound selected slice created note unset represent null fetched wait execution column filter add fetched columns selected bound fetched columns feched columns factory frozen subselection factory simple column selection subselection bound selected slice note represent selection comparator bb unset buffer slice factory add column column metadata bottom aggregate selector factory protocol version element selector column specification buffer util db result builder comparator element factory cql serializer add input bind elements selector protocol version transport slice unset selected factory selector column extract selection terminal term multi cell bb builder unset buffer query options key simple selector factory column filter options invalid request column format simple selector column filter key select selection column rows cell path unset simple selector factory schema instance slice serialized reset collection fetched columns utils factory terminal output factory override bb key serialized add fetched columns nio collection slice selector builder marshal results column top
test.long.org.apache.cassandra.cql3.GcCompactionBench
method commit log applied cql tester method effectively overriding overrides start row count cql tester compaction parameters json atomic unfiltered cell end size tiered cell predicate executors end table count cfs add atomic live end row deletions junit copy compaction size tiered predicate format tombstone option start table count db execute current column family store util framework live tables compaction cql cell size tiered alter table partitions start row deletions table reader range tombstone marker array random gc compaction iter collect table common throwable end time copy compaction row end size tiered end tomb count google count rows gc compaction bench system compact flush iterables nano time append leveled strategy end time push data ifunc reader size cell end row count count tombstone markers row cell start size cid key tfunc del sections commit log sync size tiered strategy column scanner current time millis sstable commit log sync period executor service row rand tasks flush freq instances compaction parse function config fb utilities clustering start tomb count row end rows text processors submit enable auto compaction perform garbage collection query unfiltered row iterator compaction time nanos cend schema function sec end row count compaction params ti rows column family store atom clustering range function untyped result count range frequency inv aggregate delete data compaction manager gen extra disable auto compaction table scanner utils ii io row size tiered background tombstone option id key range row end size keyspace runtime cstart instance periodic deletion builder config total count row deletions arrays start time fixed thread pool concurrent future start time database descriptor runtime error task extra size iters tombstone option builder increment live data commit log sync
src.java.org.apache.cassandra.exceptions.RequestTimeoutException
received code block request timeout request execution format db code consistency consistency level
src.java.org.apache.cassandra.io.util.RandomAccessReader
buffer size client offset file created rebufferer rebufferer read data file starting current current offset populate closed true data close performance reasons reference close hold mark position reads line text form current position line represented characters end file include line terminating blocks line terminating sequence end file reached contents line characters read end file io file closed error typical line peek ahead wrapper random access reader closes channel performance reasons rar increase reference count channel assumes owner open close thin shared open random access reader read file file open random access reader channel opened simple chunk reader channel proxy file remaining pointer big endian saturated cast format read crc check chance util io illegal state chunk reader rebuffering input stream common release throwable read line google eof file data input marked pointer close empty buffer holder current file pointer suppress warnings offset file length heap unread position found terminator rebufferer rebuffer random access reader channel mark supported open path mark builder channel simple line buffer position reset illegal argument past mark close reader random access reader limit checked cast position buffer rebufferer instantiate rebufferer buffer holder reader primitives io override file path seek buffered random access file mark length append channel buffer offset nio buffer compress data position order buffer file position buffer size order
src.java.org.apache.cassandra.dht.tokenallocator.TokenAllocator
token allocator add unit collection unit util tokenallocator token num tokens dht unit
src.java.org.apache.cassandra.service.StorageService
identifier token gossiped maintain histograms load nodes delay assume ring maintains metadata information starting node bootstrap bootstrap join ring told true node rebuilding receiving data probability tracing disables tracing enables tracking drain progress true strict consistency method updates local token disk dedicated executor sending jmx register verb handlers boot strapper summary bootstrap verbs called called called intend join process called gossip flag false shutdown client services note nodes gossip shutdown time broadcast give task accepted messaging service shutdown submitted stage avoid completed shadow round find node host id receive check previously status endpoint makes unsafe compare host id endpoint learned gossip read generated learned id present match node ignore local node empty completed add normal ensure storage proxy initialized daemon run shutdown hooks cleanup load ring state preparation starting gossip called host id potentially changed order gossiper fire adding send tokens vice entry mistakenly delete event forceful termination remove shutdown hook prevent hanging replace persist tokens clobbered auto generated hibernate state replacing address start gossip service info bootstrap load info part storage ring add counter id seed host load persisted ring earlier init perform shadow round preparing join clear endpoint states gossip snitch infos dc gossip forcing check schema updates ensure actual schema uuid preparation sleep delay make proceed check schema matched wait waiting migration requests responses expect hurt bootstrap successfully bootstrapped user manually skip streaming data nodes jump directly seed check skip sleep cluster users attempted replace meaningful schema info gossip defeats gory make false bootstrap streaming bootstrap sleep additionally make server giving time gossip check operator keyspace remove existing info replaced start participating ensure schema keyspace distributed system auth date expected exist updating tables note deal keyspace table bit keyspace exist modify user modify definition change replication factor override tables deal fact version add table definition force version node keyspace keyspace miss table outdated potential schema migrations add keyspace adding check expected tables check ongoing check ensure ranges ranges wait exclusively log full trace simple rebuild bootstrap node fetching data node bootstrapping announces bootstrapping blocks streaming tokens bootstrapping true bootstrap makes part ring locally incorrect existing token dont state node bootstrapping existing handles token mvs created mark called bootstrap finish bootstrap tokens saved system bootstrapped ranges filtered handles token start participating pretend survey mode join ring survey mode ranges listen endpoint ranges tokens rpc address endpoint endpoint endpoint rpc address rpc ranges rpc addresses endpoint ranges tokens people visual representation null people visual representation null converts token range jmx keyspace keyspace fetch information converted token range keyspace keyspace fetch information invalid request ring information considers part ring formed nodes local order preserve tokens ascending linked construct range endpoint based true ranges replicas responsible handle reception application state note application state necessarily received change application state piece change time application state updates received perform kind state machine concerned token operation nodes start bootstrap normal bootstrap mode change mode node bootstrap mode pendingranges node normal mode part token normal progression node stays files ready serve reads ready leave cluster part decommission status normal node moving token node dead removed node dead removed time node state visible bootstrap node decommission rpc draining node status drain called shutdown local endpoint local endpoint state null true rpc false false null true handle node endpoint bootstrapping explicitly check bootstrapping node bootstrapping legacy vnodes token node present token missed intermediate node warning clear obsolete stuff leaving missed leaving leaving missed waiting time leave operation rebootstrapping common time gossip report handle node move normal node entering token ring endpoint order called update node responsible token startup time state back node failed back current owner longer endpoint track host longer remove capture update normal tokens clears moving member quarantine locally longer prior node handle node preparing leave endpoint node previously unknown tokens update tokenmetadata node token pending ranges point endpoint member handle node leaving happen node endpoint reason leaving endpoint leaving pieces handle node moving inside endpoint moving endpoint pieces handle notification node actively removed ring endpoint pieces note endpoint find endpoint coordinating removal notify grab data responsible notify responsible gossiper told nonexistent notify gossiper remove unlike excise endpoint notifications finds living endpoints responsible keyspace keyspace ranges belong ranges ranges find sources multimap addresses ranges address responsible find alive sources sends notification node indicating finished replicating remote node send notification notify remote called endpoint removed function node responsible ranges consequence streams data matter called endpoint node send modified accept keyspace ranges leaving endpoint responsible find nodes store replicas ranges endpoint leaving command present temp ranges range check storing replicas ranges leaving present replica endpoints current replica endpoints restarted node marked reset connection node upgraded changed messaging protocol update mark node live avoid problems gossiper local called init server methods belong mbean snapshot multiple column family snapshot tag null options supported option keyspaces tables form empty snapshot specific snapshot keyspace holds table tag null snapshot snapshot tag tag null keyspace keyspaces empty snapshot multiple column family snapshot tag null tables keyspace form snapshot snapshot tag tag null skip flush skip blocking flush keyspace keyspaces empty check snapshot exists snapshot multiple column family snapshot tag null skip blocking flush tables keyspace form multiple column family keyspace check snapshot exist columnfamily add keyspace columnfamily order support atomicity snapshot snapshot happen conditions fail keyspace remove snapshot tag remove add assuming params indexes index cf passed auto add indexes automatically add secondary indexes cf keyspace cf cf flush memtables keyspace column ranges repairing primary data centers hosts data centers local dc collection ranges match ring layout begin token beginning token end token end token collection ranges match ring layout range match ring layout tokens tokens including end mbean methods keyspace ranges node responsible storing replica node stores replica primarily defined node keyspace keyspace check primary ep endpoint interested primary ranges local dc keyspace keyspace keyspace check primary reference endpoint endpoint interested primary ranges local dc ranges endpoint responsible ep endpoint interested ranges ranges span ring ranges sorted order ranges sorted method endpoints responsible storing key keyspace keyspace cf column family key key find endpoint responsible method endpoints responsible storing key keyspace keyspace pos position find endpoint responsible endpoints responsible storing token pending method attempts endpoints responsible storing key keyspace keyspace key key find endpoint responsible qualifer raw level reload qualifer blank level runtime logging levels configured token ranges estimated key data node responsible pieces roughly split count smaller number key avoid huge sampling estimate broadcast leaving status update local token metadata decommissioning point checking op responsible killing start batch log hints writes longer valid wait batch log complete streaming wait transfer runnables signal find target stream hints closest peer stream closest peer chosen move node token find token boot token token boot find balanced token boot io operation address current make sense vnodes checking data moving token clone avoid concurrent modification replication strategy current collection ranges collection ranges node serve move ring ranges endpoints determine nodes ping range calculated parts ranges nodes loop ranges nodes ring responsible data interested higher rf careful strict endpoints relocation storing range preferred endpoint calculating endpoints stream current ranges situations node handle current ranges part stream stream status token force remove operation remove blocks forever due resort attempt made restore remove node attempting restore replica node decommission remove node fail restore replica force remove completeion called forcibly remove node regard replica host id host id leaving endpoint dead find endpoints responsible replication factor data lost wait ranges change ownership node responsibility gossiper handle spoofing state add token nodes kick streaming wait replication finished verb handler signal gossiper token replicating nodes empty node removal restarted messages ahead acknowledge shuts node empties memtables commit writes originating generate hints shut mutation hints saved shutting disable autocompaction start compactions count cfs force flush block flush writer queue slot wait todo godawful track flush make wait stop shutting commitlog thread interrupt ongoing compactions shutdown cm prevent flush system tables tables flushing modifies system bother progress tracking system data flush system tables stopping compactions system tables compactions obsolete sstables tidiers table reader system interrupt ongoing compactions shutdown cm prevent whilst flushed recycled completed segments force recycling remaining wait miscellaneous tasks sstable commitlog segment add runnable called shut applications running jvm shut attempting calls longer code true false shutting remove preshutdown add runnable called shutdown running jvm work shut code true false shutting runnable remove services shutdown draining attempt start service service illegal state nodetool convert message display draining shutdown check accurate rely operation mode changed decomissioned describe ownership tokens unspecified calculates multiple replication strategy dc aware ownership calculated dc total ring ownership divided total ownership multiple number dc number replicas dc unaware replication ownership illegal state node configured sorted dcs calculate ownership calculate ownership replication add endpoint ownership apply dynamic snitch snitch registers mbean unregister mbean dynamic snitch instantiated implicitly mbean point snitch references seed data endpoints responsible ranges stream keyspace keyspaces data ranges endpoints included async future stream build ranges stream vinculate stream state store current stream plan update transferred ranges todo call transfer ranges potentially lot calculate pair ranges range ranges keyspace ranges move current collection ranges current updated collection ranges token pair ranges current updated range adding difference ranges fetch seed adding difference ranges fetch fetch rename getter cluster cluster partitioner reason future settled tmd decommission node correct location put files wrong minimize amount data move rebalancedisks disk result differ depending vnodes enabled upper bounds entry partitioner maximum tokens upper key split split evenly ensure utilisation dynamic sleep add shutdown hook buffer begin token add post shutdown hook collections announce keyspace replace tokens message dynamic update interval saved tokens updated force compaction token range log msg level current datacenter endpoints decommissioned notify moved future task snapshot array cmd commons jmx configurator mbean indices logging level batch size fail threshold kb execute pre join tasks force normal compaction throughput mb sec unknown host state key calculate natural endpoints bootstrap state tree repair option snapshot net metadata construct range endpoint update net version load host ids current ranges endpoint state endpoint sorted changed ranges leaving output handler live nodes release version total logback fb utilities finish joining ring iterator appenders update normal tokens local host id storage service mbean load ring state mutation num tokens annotations jmx bootstrap mode warn seed handle state bootreplacing live natural endpoints update snitch join preferred hints stream target setup change current replica endpoints read handler delaying shutdown hook canonical path endpoint host id reading release version start leaving log level add expire time found logger end verify empty live eps config streaming socket timeout replacing remove daemon setup completed range bulk load internal delimiter str ready bootstrap bootstrap remote dc atomic maximum token endpoint bootstrapper load finish view build status clone settled joining range rpc timeout windows timer interval optional storage service immutable runnable drained concurrent validations seed blank unregister update host id timeout debug key current state confirm replication concurrent validators ifailure detector replication finished verb handler node windows timer stream throughput outbound megabits sec local tokens array rf add moving endpoint register listener current owner local data center batchlog manager messages filter updated ranges lifecycle transaction exists min index interval force remove completion paxos commit hook progress event hint verb handler range endpoint range slice ep token copy effective ownership keyspace metadata split output service changed ranges snapshot details column families notify joined tok listen alive tokens system keyspace repair async keyspaces size estimates recorder time unit concurrent compactors directory move endpoints pending endpoints start token rack add source filter host id metrics mbean server handle state removing tokens update metadata snapshot detail force flush view mutation stage counter mutation verb handler data file locations shutdown post flush executor index level batch size failure threshold db dc preferred endpoint token reading dead state clone token column family store member batchlog timeout survey mode throttle kb filtered tokens prepare join progress support valid keyspace add pre shutdown hook client state token factory disk boundaries source dc bulk load async leave ring describe local ring natural pending endpoints message key keyspace rpc timeout ranges stream keyspace bootstrap finished terminated token expected token factory local dc primary ranges shadow round dc keyspace snapshot details tabular data snitch cql supported version concurrent validations success endpoints post shutdown hook throwable newdelay io execution host storage proxy perform split primary ranges dc dht force keyspace flush result future clear nio cas contention timeout local host id current endpoints keys tokens ownership tombstone warn threshold client local dc remove post shutdown hook left table metadata ref partitioner user keyspaces paxos prepare protocol version safe startup min samples split progress event restore replica count unreachable nodes leaving ranges endpoints compaction daemon gossip active keyspaces process status left filtered table system inter dc stream throughput mb sec counter write rpc timeout jmx keyspace columnfamily compare endpoint startup moving endpoints rpcaddrs convict configuration core token ownership truncate rpc timeout leaving endpoints directories throwables gossip digest ack schema push verb handler column family stores split read command verb handler prepare verb handler mbs include local dc token scanner ep state cur ranges starting visible batchlog replay throttle kb tokens loaded host ids migration request preferred ip local strategy bulk load endpoint host id advertise token removed auto add indexes multimap local dc local range deliver hints tokens local dc boot replacing replacing address batch store verb handler snapshot factory node gossip digest syn verb handler truncate log output level flushes concurrent mbean proxy replacing node expected table gossip digest ac truncate rpc timeout slfj range relocator tombstone failure threshold iterator plan id pending ranges trace probability notify endpoint update topology status moving clone left key entries failure level reference endpoint iter logger gossip snitch info keyspace round dir load tokens start gossiping sorted proximity draining tombstone option lifecycle subscribers advertise removing host id initialized lang multimap propose verb handler force newer generation post shutdown hooks current move splitter datacenter empty runtime interval millis address status normal range addresses app states inter dc stream throughput outbound megabits sec log back logger handle state bootstrap leaving nodes valid column families range streamer read repair runnable version regex keyspace application state enable auto compaction max key bound bootstrap state msg restore replica count drain progress column family store range address live ring members parse hinted handoff throttle kb repair command put snitch stream normal bootstrapping token endpoint range addresses ranges range bootstrap tokens stringify file size max boot strapper expire time mode check endpoint collision runtime shutdown annotation system shutdown blocking start transport bootstrap unsupported operation repair system keyspace paged range group sort sampled keys authenticator stream throughput mb sec views join cluster endpoint state work keyspace dir restart execute locator directories finish leaving counter write rpc timeout host id endpoint ep logback hook resume bootstrap status factory arrays end token endpoint host id hibernate removing token force shutdown ipartitioner openmbean schema version verb handler tokens update system keyspace network version pending address ranges endpoint snitch ranges fetch preferred endpoints empty version copy write array message verify hints progress open init server size handle state leaving stop gossiping transfer ranges endpoint snitch replace node params iar trace enabled table view nullable client state add add replace tokens add ranges future rebuilding snapshot exists locations pending range endpoint unavailable host id local host id range address local dc token meta clone settled range rpcaddress trace normal successful data input stream pair error send rr replacement quarantine snapshot verb handler mutation stage sstables rewrite qos present table sorted dcs endpoints idx threshold natural endpoints ranges commit log location register mbean release version inet address response verb handler jmx property illegal state range address keyspace instance stream state store throwable end timer period update tokens compare token metadata unsafe data directory batch size warn threshold kb boundaries stream ranges stop transport jobs garbage collect echo dont split ranges remove endpoint schema pull verb handler write rpc timeout collectors orig broadcast rpc address executor service ranges keyspace pos local tokens bootstrap state parse splitted stream support rebuild classic atomic integer subscriber sleep uninterruptibly pair handle state left stop client range pattern index column family cache service whitelisted sources filter notification daemon internal response keyspace metadata compile join token ring wait ready bootstrap describe ring jmx failure detector utils parse override leaving replication strategy remove shutdown hook stream hints iendpoint snitch status operation mode wait schema hints service source ranges validate drain remove bootstrap tokens found listening estimated keys range start batchlog replay partition position block finished token range token size moving endpoints uuid inet address notify pre shutdown hook throwable auth setup called relocator network topology strategy debug enabled start dispatch failure detector source filter stream operation storage metrics net version token pending ranges mm immutable data directories stream plan data centers decorated key update check data pending range calculator service datacenter ranges mm current time millis upgrade tables disk boundaries keys split endpoints remove stream manager join force cleanup log num nodes collection start node integer repair range reset ranges split ranges compaction params add leaving endpoint copy minutes unbootstrap compaction manager status code token endpoint failure detector uninterruptibles completed str tokens dead replicating nodes tokens add saved endpoint view status snitch entry concat remote tombstone option partitioner predecessor dynamic update interval directory unsafe initialize streams remove pre shutdown hook init tf directories stream throughput mb sec util endpoint snitch io difference host address topology splitter read repair joined stage manager batch size failure threshold iendpoint state change subscriber intersect wrapped runnable ranges repair message stream result future tabular data support context table status array expected size compute expire time dynamic reset interval options database descriptor status linked dynamic badness threshold inter dc stream throughput mb sec current generation number primary ranges optional tasks platform mbean server sampled keys reset local schema replication factor tokens endpoint work simultaneous moves local host uuid repair status endpoint states rpc ready replacement node endpoints local dc removal coordinator address batch store lifecycle token metadata subsnitch register file local ranges system distributed keyspace token serializer jvm stability inspector force announce table predicate ranges update version announce skip flush jmx configurator mbean rebuild secondary index auth schema change listener register verb handlers total cfs start broadcasting moving nodes gossiper ranges stream truncate auth setup complete token ranges thread factory transferred ranges force recycle segments joining rpcaddress stream state shutdown base put auth setup complete versioned factory replace address send replication notification batchlog replay throttle kb schedule schema pull application state invalid request singleton probability max split count host id active repair service primary range endpoint dc table snapshot local strategy async response schema option dynamic reset interval repair spec replication strategy illegal argument batch remove verb handler table loader rpc timeout alive find line add range endpoint ep states ranges endpoint key samples raw level increment generation array multimap build logging levels rack strict consistency cql version blank disable snapshot qualifier trace probability milliseconds stream compaction throughput mb sec address ranges extended verify notify rpc change management factory schema check joining nodes writeable locations definitions update streaming socket timeout index manager unmodifiable remove remove common source ranges drained close nano delay dynamic reset interval nano time splits stringify saved caches location deactivate relocate tables gossip shutdown verb handler commit verb handler nullable run match result load fetch cfses spliterator shutdown end point entry read rpc timeout linked force keyspace compaction table metadata keyspace strategy local strategy keyspaces tokens replica endpoints stop daemon auth setup ep snitch schema user keyspaces execute pre join tasks blocking replaced endpoint removal status incremental backups enabled disable auto compaction tombstone warn threshold ready gossip digest ack verb handler batch size warn threshold keys migration manager array input stream load tables moving clone partitioner cf thread counter task increment host id endpoint ranges entry sample key range valid tokens total row count estimate atomic join ring tables tombstone failure threshold hint thread source table metadata ranges fetch ranges entry format tokens versioned pause dispatch partition key sessions stream keyspace scanner deserialize ignore collect parent repair status removing node parsed end token google status bootstrapping replace load pattern hosts streaming linked dynamic endpoint snitch wait futures endpoints live members run step hosts error auth keyspace subtract snapshot tracing host id endpoint local ranges describe ring replication finished removed token inter dc stream throughput outbound megabits sec truncate blocking dynamic update interval describe ownership refresh size estimates submit local address check service start add local application state handle state normal listenable future write rpc timeout info node concurrent validators setup completed defined coordinator draining shutdown bootstrap stream register daemon column family store unmodifiable status replacing scrub parent repair status progress meta data cas contention timeout lang specific sources ilogging event existing multiple table snapshot executors supported versions wait future versioned dynamic badness threshold gossip tokens net version primary ranges endpoint rpc address range endpoint rack inspect throwable notify iterables counter mutation joined stream state cfs primary range table op status index truncate verb handler core view status starting trace probability resumed bootstrap shutdown hook stage endpoints grouped dc array ownership update timestamp range leaving sstable force blocking flush ranges single datacenter filter rpc ready decorate key entry authorizer moving apply rpcaddress remove node replication strategy gossip shutdown tabular data sort shutdown prev token version hints spi ranges endpoint leave cluster periodic tasks rate repairing range gossip active scheduled executors found parent range await termination pieces tag streamer schema interrupted delay stop endpoints token metadata skip corrupted status bootstrapping schema constants initialized bootstrap complete counter mutation stage move streaming connections host timeout lc replace address relocation lr change ring delay tombstone option view mutation bootstrap reload configuration iterator remove moving transferred ranges decommission iterable remaining cfs apply config transfer hints request response ret verb loaded tokens exclude dead states stage repair message verb handler primary ranges force keyspace compaction token range hints success split count pre shutdown hooks length add progress listener target host add callback messaging service system keyspaces counter cache status leaving role manager management future callback data system load info moving bootstrap tokens view metadata parsed begin token deprecated stream success ownership extract expire time listeners address shutdown client servers logger factory result force terminate repair sessions complete size leaving endpoints partitioner transport running min true snapshots size level incremental backups enabled instance cf schema version tokens rpc ready mode windows release version broadcast address commitlog prepare replacement bootstrap progress tabular update peer info finish math add keyspace stream plan force keyspace cleanup enabled entities seeds candidates ksm token drain shutdown request ranges view exists batch size warn threshold kb error decommission state view build statuses progress remove tokens endpoints read rpc timeout key mark views built token force major compaction sorted tokens transferred range keyspace trace keyspace ch decommissioning rebuild ring position cf batchlog table load broadcaster local dc nodes auto bootstrap dynamic badness threshold endpoint ranges add local application states splits versioned token metadata notification broadcaster support partitioner unsafe stream state store partitioner replacing node indexes rpc ready notify left gossip digest syn runtime commit log terminate sessions appenders auth ioe single thread executor bootstrapping paxos builder ring delay unreachable members source ip utils secondary index manager excise sources collections defined table stream throughput outbound megabits sec echo verb handler stop transports add gms io error logger sort proximity match thread add bootstrap tokens replacement node operation mode calculate streams gossip running load saved async range rpc timeout add update keyspace hints destination host appender transport table metadata ref bootstrap tmd table concurrent compactors batch size warn threshold index futures logger host token meta clone clear snapshot broadcast interval batch remove host id endpoint batchlog replay decommissioned parse paxos propose repair task data dir cf store token range logger context exclude current version local dc mutation verb handler read repair verb handler data batch size fail threshold kb iendpoint lifecycle subscriber keyspaces gossip digest ack verb handler cluster add expire time endpoint jmx progress support temp intersects ilogger factory populate token metadata handle state moving keyspace instance number format fetch async future file utils count reschedule failed deletions partitioner calculate stream fetch ranges
src.java.org.apache.cassandra.io.sstable.SSTableRewriter
wraps writers output rewriting summary collecting latest writer penultimate key flushed index check key fully present flushed data move starts reader forwards replace attach references drops page cache prior key created partially written sstable readers opened work rename temporary deleted readers reason writer rolled immediately rename fully expose completed file abort restore original lower bounds existing readers delete temporary files leave place readers opened cleanup finished readers expose readers rewriting position target file true obsolete remove byteman appending ensure safely append attempts append fails resets writer abort abort lifecycle replace readers rewriting reclaiming page cache transferring key cache entries expiring restoring starts readers rewriting note replace existing sstable sstable reference count start compaction reader rewritten reader replaces lowerbound marks exclusive lowerbound start call support multiple rewriters operating source readers writer written skip sstables leave tmp open add repaired repair time supplied table writer called actual time override repair finishes creates adds files tracker add tracker rid caller compacted sstables gymnastics call early open repaired open early instrumenting cache cache add weak reference open early prepared commit skip cache table writer runnable format max reader db finish util ge collection accumulate cache keys invalidate keys table reader preemptive open interval reopen early array key cache early operator throwable replacement table preempive open interval mb google prepare transactional visible obsolete state cache key remove cached keys untrack offline cfs append index max data age runtime current state late file pointer size ref common filename run writer opened early decorated key commit key abort open early put key sstable reset truncate commit invalidate current writer open result lifecycle transaction entry max age row index entry construct originals prepare commit table rewriter rows construct mark checkpoint calculate open interval library unfiltered row iterator annotations cache key invalidate keys deprecated cached position committed prepare finished partition key column family store append setup online position originals key cache key cache ref reader interval run close utils abort io obsolete move starts originals start transactional writer writers empty config writer lowerbound construct early opening obsolete originals key update concurrent supports early open early entry database descriptor clone start lifecycle lang disable early opening transaction repaired clear partition ready commit compare position latest
test.unit.org.apache.cassandra.cql3.BatchTests
add counter counter logged batch counter counter batch counter oversized batch cluster session batch io batch statement noncounter bind service send batch port mixed counter batch logged size failure start add transport port build expected datastax config junit configuration mixed logged batch core prepared statement mixed logged batch unlogged driver counter counter batch empty batch database descriptor cql add contact point execute prepare counter logged batch setup counter add counter counter logged batch cluster session embedded service counter logged batch io invalid query builder connect
test.unit.org.apache.cassandra.io.util.ChecksummedRandomAccessReaderTest
bit crc chunk bit crc chunk simulate corruption exists read fully eof daemon initialization io open current crc seek writer copy range length data reader expected checksummed random access reader fill config junit true data file finish thread local random arrays util concurrent temp file setup dd database descriptor data checksummed random access reader sequential writer corruption detection random access reader random access file checksummed sequential writer write seek position file sequential writer option io array corrupt file
src.java.org.apache.cassandra.index.sasi.disk.TokenTree
offsets token tree lower portion mmap supports format day skip info skip finds leaf loop seeks forward seek back seek beginning child offsets locate seek end child offsets locate skip end block interior block file pointer beginning entry token tokens remaining tokens remaining leaf leaf block seek end leaf skip entry header position pointing directly seek token requested highly predictable branch saves lot traversing creation time info token offset offset extra unsigned bits bits base actual offset index offset count iterator iteration read token disk token find nearest current reduced search leaf leaf illegal state simple add token index entry mask leaf max token open end db token info util token io block start loaded keys leaf token count offset index array commons collect token common block key fetcher reduced max token google visible trivial reduce trivial offset data close lang append hppc index shared header merge combined offsets leaf shift code iterators keys version packed search token size code builder decorated key iterator descriptor base setup block tree min token size iteration current token index idx offset pos disk token length leaf size token tree iterator carrotsearch leaf start tree seek base perform skip offset apply overflow key iterator token tree block header seek leaf start duplicate token position search block annotations leaf min token reduce token tree builder current leaf start info comparator compute illegal argument tree max token descriptor compare token end data min token builder token tree compare io token utils token middle file start pos function entry position seek leaf iterator range iterator format empty build merge iterator buffer reducer buffer ab magic factored fetch offsets count current add validate magic entry version ab version aa offset extra position sasi offsets
src.java.org.apache.cassandra.db.rows.UnfilteredRowIterators
methods work atom listener interested result merging multiple versions implementors information easily reconstruct merged result individual reconciling results replias instance figure send called merged merged deletion partition level deletion merged implementors merged partition partition level deletion calling versions partition level deletion sources elements array called row participating note called clustering source merged called row merged output source shadowed source range tombstone partition level merged result placeholder source row shadowed merged versions row source sources source called range tombstone marker participating note called source merged tombstone merged marker merged source marker merged basically merged output open deletion shadows marker versions marker source source iterator rows live cql layer care infos unfiltered row iterator shadow shadowed iterator result merging iterator result merging specific note method assumes iterators empty unfiltered iterator digests partition represented provided iterator iterator digest version messaging protocol producing serializing skip columns iterator superset iterator correspond queried columns avoid satic column account row digest mismatch depending computed iterator serialized practice completely skip digesting columns informative iterator digesting actual content columns information represented iterator removing stricly speaking change mismatches protocol version filter provided iterator exclude cells fetched queried column filter iterator iterator filter deciding columns queried filter querying filtered iterator concatenate atom method assumes iterator partition atom concatenating make iterator concatenate atom validate data provided iterator valid generally infos stored scrubber detect problems iterator partition filename file data iterator data checks data invalid wraps provided iterator logs atoms debugging note meant debugging log large amount logging wrapper merge iterator unfiltered row iterator creating resource creating resource close input signal single live queried data regulars merge stats rest unfiltered close digest imerge iterator key change reduced iterator extend merger range tombstone marker fetched columns queried logger merged reducer db unfiltered row iterator collect columns util iter deletion contents row compute iter merge merge match close quietly security merged partition level deletion merged markers merge iterator filtered rows merger reduce trivial reduce trivial empty iterators close btree row transformation serializers queried data logger del time regular columns filename current version validation fb utilities supersedes metadata suppress warnings kind extend runtime apply decorated key logging iterator validator complex wrapping unfiltered row iterator partition level deletion full details stats merged rows idx row end data merged clustering key filter sstable update row partition deletion kind marked delete marshal empty row column filter marker apply kind columns size rows stream table metadata suppressed transform duplicate validate data iter unfiltered row iterator marker merger iter schema unfiltered row merge iterator reversed merged range tombstone markers partition key error merged deletion message digest add suppressed comparator versions corrupt table unfiltered row iterators check invalid input info columns cols logger factory rows merge reducer merge listener utils io override logger id encoding stats row merger keyspace merge listener unfiltered row row iterator add empty unfiltered partition key rows merge iterator reverse order merged rows deletion time active deletion update collect partition level deletion iterators merge rows file utils stats validate concat merge sec listener clear apply row slfj row apply marker empty row rows iterator
src.java.org.apache.cassandra.serializers.LongSerializer
utils serialize marshal buffer serializer serializers instance remaining serializer nio buffer util format empty buffer validate deserialize
src.java.org.apache.cassandra.net.MessageIn
reply expired skip reconstruct message construction time remote host lower assuming higher change sender make nodes clock perfectly construction time current time received definitively proper synchronziation ignore ignore construction time told message message crossed node originated partial collections parameters immutable verb verb stages unknown input construction time slow query timeout read db elapsed util verb io deserialize collect common callback info key data input buffer google read utf message append message runtime read version verb serializers net approximate time stage empty registered callback data input builder key inet address put parameter count current time millis read construction time failure reason messaging service failure reason read fully skip fully sbuf payload cross node timeout callback failure failure response request failure reason iversioned serializer builder compact endpoint serialization helper timeout current time callback determined serializer time read unsigned io id monitoring instance build config cross node failure reason param construction time metrics concurrent lifetime failure callback param id database descriptor code add time builder failure response param payload size callback broadcast address serializer
src.java.org.apache.cassandra.db.rows.BufferCell
clone column updated column utils ttl cell buffer measure allocator remaining size heap excluding data rows sizes cell path column metadata instance live cell memory deletion time schema expiring ttl nio buffer util timestamp primary key column db unshared heap size excluding data empty buffer allocator buffer cell copy local deletion time sec complex updated column tombstone regular column path empty size marshal
tools.stress.src.org.apache.cassandra.stress.WorkManager
signal consumers permits fixed work manager compare override math cur min atomic continuous work manager stop util concurrent count stress permits work manager atomic
src.java.org.apache.cassandra.streaming.management.StreamEventJMXNotifier
interval millisec progress seq notification file progress plan id stream event jmx notifier streaming stream event event atomic progress event throwable stream prepared event progress notification interval management send notification current progress progress composite data stream state stream event handler session complete event completed stream manager mbean handle stream event stream state composite data notif system util concurrent fill stack trace session complete event composite data increment user data progress info composite data progress info session prepared event failure stream complete success current time millis session info composite data session canonical atomic notification broadcaster support result
test.unit.org.apache.cassandra.concurrent.WaitQueueTest
utils random atomic ready alive wait queue stack trace thread interrupted atomic integer util start current junit override runnable run thread local random thread signal await system util concurrent await uninterruptibly condition wait serial err condition thread factory signal register queue increment length false fail atomic join thread wait queue
src.java.org.apache.cassandra.auth.CassandraAuthorizer
authorizer iauthorizer user permissions internally permission resource granted user indirectly roles granted called deleting role drop role internal permission checks executes logged batch removing granted role entries reverse called resource removed drop execute logged batch removing permissions index table add permission resource granted adds removes permissions table op removes op removes entry inverted index table resource role defined adds entry inverted index table resource role defined null permissions single user requesting superuser username match superuser view regular users worry character make properly revoke vars batch query options local query state resources row remove lookup entry add lookup entry entityname add message empty logger immutable buffer util format db resource role index auth roles util unauthorized attributes cql permissions execute resource conditions array commons role logger common statement google role manager system modify role permissions result escape iterables batch statement lang client state nano time transport permission array authorizer statement variables cql statement query options role permissions auth keyspace query processor request validation array revokee prepare request execution internal calls revoke messages filter collect permission marshal add permissions role authorize statements revoke auth keyspace rows perm table consistency level rows service authorize role statement statement ut schema iresource warn validate configuration add build query untyped result op join roles authenticated user setup batch permissions table applicable permissions logger factory performer process utils configuration result message role resource data resource logger resource grant select statement grantee logged instance role details iauthorizer config process batch query resources replace schema constants user permission details database descriptor system dropped resource execute logged batch options slfj permissions role role modification statement row utils permissions
src.java.org.apache.cassandra.db.transform.FilteredPartitions
wrap basic iterator wrap basic unfiltered iterator applying filter copy applying filter convert filter range tombstone marker transforming secs filter base partitions unfiltered partition iterator base partition iterator partition iterator filtered partitions copy db transform filter row iterator add rows unfiltered partitions input iterator partitions
src.java.org.apache.cassandra.tools.nodetool.FailureDetectorInfo
size node tool probe airlift system node probe io printf override tools management datum composite data failure detector phil tabular data nodetool description suppress warnings node tool cmd failure detector info util key openmbean command data array execute airline
src.java.org.apache.cassandra.utils.concurrent.Accumulator
simple collection supporting unbounded number concurrent bounded number adds item note guaranteed visible exiting add happening visible concurrent adds size change occurs execution specific item add increase present count consecutive visible current extend past behaviour lagging write fix state piggyback present count updater write semantics update ensure item made visible fail cas older write fixed due write size portion read present count guarantee read present count updater iterator utils unsupported operation updater atomic size present count cur add empty insert pos write index updater util accumulator index illegal state capacity iterator concurrent atomic integer field updater remove item length index bounds iterable compare
test.unit.org.apache.cassandra.io.sstable.LargePartitionsTest
intended manually measure gc pressure write read partitions run iterator entries random text compact title measured junit util large partitions cql execute key cache metrics iterator cache service iter table throwable system metrics measure hit rate capacity current functional ignore prepare current time millis sstable row ck ch testk size service pk selects row kbytes thread local random written kbytes total kbytes kbytes key cache untyped result binary scan runner minute hit rate flush total mbytes io ordered junit runner cache metrics cql tester instance partition size partition kbytes testk metrics concurrent run measured clear
src.java.org.apache.cassandra.tools.nodetool.SetMaxHintWindow
nodetool probe airlift node probe arguments io override tools title usage integer node tool max hint window description node tool cmd command max hint window execute required airline max hint window
src.java.org.apache.cassandra.dht.StreamStateStore
store update ranges system check data keyspace keyspace token token true token keyspace streamed ready stream session make session event stream ranges update ranges event peer success streaming stream state stream event system keyspace keyspaces override throwable event key range dht stream state failure stream event handler session complete event transferred ranges keyspace data handle stream event ranges update transferred ranges db ipartitioner stream complete token util success stream request partitioner stream state store request range partitioner keyspace token ranges throwable requests stream operation se
src.java.org.apache.cassandra.index.sasi.analyzer.StandardTokenizerOptions
options controlling tokenization disabling min token token max token token lower terms min token length tokenization normalize uppercase english ignore stop terms stem terms options builder upper terms entry key tokenization enable stemming locale tokenization locale options min token length min token length locale sensitive ignore stop terms locale stem terms terms upper max token length max token length stem terms build max token length index entry terms lower sensitive analyzer util entry max token length terms upper parse standard tokenizer options tokenization skip stop words sensitive locale illegal argument locale terms lower ignore stop terms options tokenization normalize lowercase upper terms options builder lower terms min token length sasi options build
src.java.org.apache.cassandra.io.util.BufferedDataOutputStreamPlus
data output stream buffer stage flushing underlying completely thread derived writing happen intercept flush compression hack flushing flushes aligned buffer size compression checksum block buffer alignment avoid buffer defensive makes defensive copy incoming buffer modify position temporarily wrt incoming writes fit count number remaining write ignoring remaining writes underlying channel data unsupported operation raw bits nicoulaj buffer math duplicate direct buffer remaining write unsigned vint orig count raw bits util io strict flushing apply channel writable channel wbc write put google write write utf flush close write slow vint remaining index capacity fos hollow direct buffer write compilecommand preconditions write excess slow net common write copy len base offset put null pointer write encode vint write check argument length write vint array original limit check null channels apply array config size dont inline memory integer copied annotations allocate direct buffered data output stream channel data output stream write big endian count hollow buffer compute unsigned vint size flip random access file put limit utils ras io memory override put buffer size flush array offset function write min unbuffered data output stream direct vint coding write write file output stream encode zig zag buffers config channel write nio buffer memory util file utils write remaining order write integer clear order clean position buffer size property prefix index bounds
src.java.org.apache.cassandra.concurrent.LocalAwareExecutorService
inject trace state directly executor context global tracing permits executing context submitting execute runnable execute immediately local aware executor service util concurrent command executor service executor locals locals
src.java.org.apache.cassandra.locator.GoogleCloudSnitch
snitch assumes gce region dc gce information config split populate region zone fail read datacenter suffix system keyspace disconnect application state request property gms logger region index url endpoint state db util io utf response code zone query url logger gossiper filter input stream inet address configuration close google cloud snitch gce api call state content net dc datacenter standard charsets endpoint state endpoint key length application state cl read fully request method locator fb utilities rack content length info endpoint load dc rack info splits gce region logger factory http url connection saved endpoints utils dc substring io logger az conn charset instance split gce zone network topology snitch rack open connection index nio data input stream file utils rack response concat url slfj broadcast address snitch properties
src.java.org.apache.cassandra.db.rows.RangeTombstoneMarker
marker range tombstone bounds boundaries thing empty utility merging range tombstone markers multiple inputs assumption individual input validate preserve output open marker close marker exact deletion tombstone marker open close marker rows remenber open marker full picture deleted range tombstones point iterating note merge forward reverse deal reverse deal open close markers forward reverse open marker deletion time null open marker index open markers biggest deletion iff marker merging range tombstones works remember open marker merged update internal states range opened input streams based markers compute state merge stream marker issued merged stream based difference state open merged iterator shadowed partition level note boundaries open care open deletion favor opening part recompute biggest open open marker merged stream shadowed partition deletion live open deletion merged size partition deletion live clustering bound boundary close bound biggest deletion time merger exclusive open utils inclusive open clustering bound compared clustering open deletion time close close deletion time raw unfiltered override buffer open markers allocator nio clustering range tombstone boundary marker rows inclusive close exclusive open deletion time merged add markers marker range tombstone marker previous deletion time merged empty memory live exclusive close inclusive open clustering merged active deletion update open markers deletion time open range tombstone bound marker arrays inclusive close reversed db bound util open inclusive close inclusive allocator opening deletion time exclusive close copy boundary kind current open deletion time merged open marker clear supersedes biggest open marker merge length deletion time fill open bound merged markers
src.java.org.apache.cassandra.metrics.ReadRepairMetrics
metrics related read metrics registry metrics read repair metrics metric factory attempted factory meter metrics metric factory codahale meter repaired blocking repaired background
src.java.org.apache.cassandra.io.util.BufferManagingRebufferer
buffer manager reading chunk reader cache instances reader instances reuse buffer holder avoid rebuffer reader closed buffer holder delete buffers buffer utils channel proxy put aligned position io override close bit count unaligned buffer holder source memory wrapped integer aligned simple channel buffer pool nio buffer crc check chance util buffer managing rebufferer offset big endian file length order capacity chunk size preferred buffer close reader rebuffer chunk reader limit rebufferer release position read chunk order
src.java.org.apache.cassandra.index.sasi.analyzer.filter.BasicResultFilters
token locale upper index lower locale process input analyzer util filter pipeline task lower locale upper filter basic result filters sasi operation
test.unit.org.apache.cassandra.hints.HintsServiceTest
spy hint metrics updated number wait hints spy hint send hints spy hint responses dispatcher send hints current wait acks tick trigger retry page replied marking destination node dead stop sending spy hint stop replying point dispatcher constantly retry page stopped receive hints page multiple times total written consume pause verify dispatch offset page stuck add cleanup spy hint responses responses write hints register failure detection event listener unsupported operation hint success callback timeout dispatch offset row hint respond simple builder add gms catalog junit storage service dk thread db collections util verb report position partitions uuid pause resume define schema mock failure detector remove common throwable shut message respond dispatch offset google core ifailure detector system timestamp start dispatch responses message request response cnt storage metrics empty dkey init server ifailure detection event listener verb net metadata dispatch hints messages paused nullable simple builder futures decorated key input position futures hints inet address interpret table metadata hints service keyspace current time millis intercept msg keyspace add callback messaging service offer simple partition update standard cfmd resume dispatch failure detector currentversion poll fb utilities service page retry hint response hints store table datastax checksummed data input total hints schema reinstanciate service alive delete hints listenable future prepare server sleep hints success hints descriptor descriptor store table metadata time unit spy local host uuid mock messaging service clear message sinks hint utils execution unregister failure detection event listener intercept message write interrupted ep util instance cleanup pause dispatch broadcast address schema send hints responses true host id schema loader force conviction hints service driver metrics concurrent build mutation keyspace params count annotation page seek listener builder source position shutdown blocking mock messaging spy milliseconds
src.java.org.apache.cassandra.locator.NetworkTopologyStrategy
replication strategy property file replication factor sum total replication factor keyspace keyspace replication factor datacenter replication factors replicas totalling caches endpoints invalidates cache change number endpoint adder applying replication rules accepted endpoints pushed racks encountered replicas put separate racks efficiency shared location pair make clashing number replicas left fill nodes dc fill number nodes effective racks dc fill node difference filled encountered attempts add endpoint replicas adding endpoints true endpoint datacenter require rf left distinct racks add rack repeat added node met rack match rf calculate endpoints pass tokens tracking progress preserve insertion order added endpoint endpoints check exhausted members racks dc check exhausted racks datacenter endpoints method generate valid data center validate replication parameters alter keyspace peers current node fetched build fetching dc valid dc add data center fetch add dcs valid options valid dc accept query data centers validate data center linked datacenter racks ring iterator collections endpoint math validate replication factor add location validate options logger storage service dc util datacenter endpoints token unmodifiable node count build valid data centers net topology iterator ignore array logger common inet address keyspace endpoint snitch google racks peer network topology strategy token metadata config options multimap valid data centers collect rf search token acceptable rack repeats size configuration location rep factor calculate natural endpoints dc endpoints dcs topology logger factory recognized options put key sorted tokens rack count datacenter entry locator en total fb utilities endpoints service endpoints replication strategy collection pair integer topology replication factor token iter datacenter endpoints rf left endpoints utils dcs fill datacenters override logger min ep instance empty iendpoint snitch dht config added trace replicas token metadata collection size snitch entry database descriptor racks add endpoint check datacenters entry token metadata key slfj validate expected options broadcast address datacenters left
src.java.org.apache.cassandra.cql3.statements.CQL3CasRequest
processed cas conditions update potentially multiple rows exist exist conditions separate things related row special index row condition clustering row applied things sorted build read command detect contradictory conditions exists conditions batch statements row instance full begin insert insert apply trivially rewritten user single insert problem simply condition previous condition exists prevented hurt conditions columns conditions columns exists exists query columns row condition columns make bit insert existence condition applies columns include regular columns fetch query selected make distinction partition exists live query live row checks conditions represented applies provided current state partition conditions current partition current data result executing command empty conditions represented applies due operation generate update modification statement read initial read row update store relevant statement generate multiple row update updated columns selection add row update regulars add conditions requires read regular columns singleton collections buffer filtered partition previous open store column condition row filter add columns conditions timestamp db add exist time live util updates conditions row cq cas request cql index manager condition partitions clustering slices array row update column filter collect common upd updates regular rows clustering google service make updates updates row multimap condition columns tree current data limits row conditions metadata cql limits conds add update key builder partition decorated key stmt update columns query options key put conditions exist condition column filter single partition read command options row invalid request statements partition update column filter read command columns size clustering rows table metadata multimap collection column identifier params batch pair conditions row collection element schema cas request keyspace comparator applies columns apply updates columns read utils regular columns row condition row exist condition empty build navigable key nio clustering index filter clustering index slice filter validate sec exist add bind builder update parameters bound exists add exist modification statement add exists condition
src.java.org.apache.cassandra.serializers.CollectionSerializer
protocol variant thing collections internally protocol collections internal protocol version variant thing thing extract element serialized note supported ends check presence provide key present collection serialized key key extract comparator compare slice collection directly serialized collection serialized left bound slice slice starts comparator compare valid serialized collection slice creates serialized composed data assuming data holds put deserialize protocol body len utils serialize marshal read collection size size len result buffer array copy start pos serialized serializer buffers serializers element count read serialize collection duplicate version size transport write protocol version input size remaining allocate elements copy collection nio buffer util size collection size buffer db collection read util slice serialized key position validate count collection serializer comparator deserialize flip skip bb write collection size end pos put output pack marshal validate protocol
test.unit.org.apache.cassandra.tools.StandaloneSplitterTest
legacy tables partitioner initialize goal check threads initialized standalone splitter modifies runner system keyspace loaded schema loaded run tools standalone splitter unexpected threads started server loaded junit tools tester system loaded property standalone splitter clsm loaded ordered junit runner run tool
src.java.org.apache.cassandra.exceptions.RequestExecutionException
code request execution code msg throwable
src.java.org.apache.cassandra.db.compaction.LeveledCompactionTask
txn lifecycle transaction leveled compaction task io major compaction override cfs compaction aware writer gc level partial compactions acceptable writers max table format directories db util compaction task column family store compaction lifecycle max table size writer table reader level directories expired tables sstable major leveled compaction writer compaction aware writer
test.unit.org.apache.cassandra.repair.RepairSessionTest
perform repair session executor io repair google utils daemon initialization random uuid streaming session io execution active repair service repair session token service inet address session id instance uuid gen time uuid max gms initialize node unsafe net dht config junit repair session buffer util arrays repair parallelism parent session id preview kind util concurrent range database descriptor repair range murmur partitioner ipartitioner remote uuid convict token conviction init dd collect gossiper sequential common io fail endpoints
src.java.org.apache.cassandra.repair.SnapshotTask
snapshot task task sends snapshot callback snapshot run received response msg response latency snitch repair google messaging service repair job desc snapshot task message runtime message hours instance snapshot callback request failure reason msg net failure reason snapshot message future run millis util concurrent task inet address response desc send rr endpoint failure iasync callback failure messages runnable future common time unit
src.java.org.apache.cassandra.utils.AbstractIterator
unsupported operation google utils element state result collect state peeking iterator peek fetch iterator illegal state util iterator compute end data remove failed common
src.java.org.apache.cassandra.db.rows.CellPath
path cell belonging complex column collection complex paths collections depth unsupported operation buffer data output utils empty cell path measure result io path override data size digest size heap excluding data rows sizes bottom code cell path duplicate allocator memory single item cell path size top serialize nio buffer util data input clone db update unshared heap size excluding data util serialized size allocator skip copy serializer message digest deserialize remaining empty buffer io security empty size
src.java.org.apache.cassandra.auth.jmx.AuthenticationProxy
alternative jaas based jmx authenticator jdk authentication performed delegation jaas config passing identifier custom system location jaas configuration file config standard system authentication successful subject principals subject jmx authorization identifier jaas configuration subject creates instance initializes login config specifig jaas login configuration authenticating jmx security authentication mechanism perform authentication client opening credentials optionally credentials supplied jmx supplying element username credentials made authenticated subject added security server authenticate provided credentials expected array holding username made accessible login modules callback handler supplies username password optionally supplied jmx jaas login module require interactive prompting credentials enclosing credentials store relevant variables make accessible callback handler authentication proxy privileged action callback subject trace logger unsupported callback jmx callback handler management logger read length password callback array password logger subject configuration login context callback handler jmx handle jmx authenticator read auth callback authenticate access controller remote password security login context login credentials callbacks login config username callback slfj security login logger factory privileged subject
src.java.org.apache.cassandra.utils.SigarLibrary
number files number address determine memlock limits determine file system remote determine disk latency acceptable true false indicating sigar successfully check invalid resource limit utils sigar expected min nofile sigar library swap initialized logger expected expected nproc acceptable address space swap acceptable proc number swap size fb utilities instance message windows processes max logger unsatisfied link error swap file system total infinity acceptable file limits good address space warn running degraded mode file system virtual memory max swap enabled hyperic sigar open files max info warn sigar link error swap enabled sigar logger slfj good file limits file max mounts good proc number logger factory pid
src.java.org.apache.cassandra.hints.HintsDispatcher
dispatches single hints file node batched dispatching hints node messaging version hints conversion dispatch completed offset retry stop host delivery hints file messaging version matches version target optimised path skipping redundant cycle encoded perform conversion newer decoding unavoidable intermediate sending hints compatibility sending hints raw hints reader buffers iterator messaging version buffer version hint creation time failures current page position add timeout logger failure hints failed encoded hint message supplier db dispatch position util callbacks condition uuid iterator array hints timed logger abort common timeout inet address response page google rate limiter simple condition system close message failure reason hints iterator rate limiter failure send hints verb reader net approximate time interrupted nanos input position send hint address logger factory hint current time millis update delay metrics abort requested action hint message send rr failure messaging service cb dispatch apply send function open start collection mark hints service metrics request failure reason msg hints succeeded function auto closeable success hint warn callback action hints dispatcher outcome message hints send encoded hint timeout creation time descriptor time unit send hints await outcome latency snitch timed file hint utils supports back pressure io override logger seek function monitoring interrupted nano time instance message host id nio signal await metrics concurrent page hint creation time iasync callback failure nanoseconds update metrics callback slfj file position milliseconds
src.java.org.apache.cassandra.dht.Splitter
partition range tiny split range part range part stopping adding range smallest difference avoid calculating wrap actual max include tokens make include size minimum token maximum token divide abs collections range width token range sum boundaries ranges count add parts empty dht split ranges math singleton splitter diff current util range range boundary dont split ranges subtract ipartitioner big integer current range width token total tokens part array token partitioner token split ranges partial ranges compare local ranges diff left
src.java.org.apache.cassandra.cql3.functions.UuidFcts
uuid protocol version singleton random uuid collections buffer transport function functions uuid serializer serializers parameters uuid fcts collection instance protocol version scalar function serialize nio db util uuid fct cql execute uuid marshal
test.unit.org.apache.cassandra.io.sstable.SSTableLoaderTest
windows file forgot clean buffers force gc force buffer deleting directory rethrown wait sstables disk stream stream future signalled work complete releasing wait cleanup write completed sstable closed wait sstables disk stream open loader load complete write loader load sstable stream future signalled work complete releasing wait cleanup local ranges table metadata ref collections query write error dht files util system output writer init empty cell junit temp dir buffer util format db util token buffer size mb table loader partitions client force blocking flush failure define schema cmd common gc clustering google delete recursive table system streaming count latch close cfs tmpdir table metadata ref filtered partition files loading incomplete table nb partitions directory size stream state stream event handler metadata count range throwable ascii cqlss table writer table loading table service absolute path keyspace key keyspace range separator marshal column output handler simple standard cfmd loader data dir keyspac open init server fb utilities table metadata length schema handle stream event keyspace client column family store prepare server completion stream listener setup success add row table loader storage service table metadata latch add range endpoint stream utils stream event io sstable make column family store row event instance cleanup build cf standar cf standar schema true schema loader await mkdirs concurrent keyspace params file utils builder partition key broadcast address file
src.java.org.apache.cassandra.io.util.DataOutputStreamPlus
base data output streams accept writes buffer memory access underlying writable channel output channel provided derived wrapper channel wrapper channel derived factored separate method flexibility increase powers avoid wasted repeat derived override real provide buffer data output utils channels write time initial io total written override close array config array offset math write open min buf temp buffer limit min size integer config remaining channel output stream retrieve temporary buffer nio buffer util util concurrent data output stream io offset src highest bit netty fast thread local write integer channel length writable channel max buffer size position array copy property prefix array
src.java.org.apache.cassandra.dht.BootStrapper
endpoint bootstrapped token node initialtoken allocation keyspace token allocation algorithm generate suitable choose tokens user endpoint event streaming connections host initial tokens token allocation session atomic allocation keyspace serialized size loopback address prepare progress stream prepared add message iversioned serializer gms logger storage service progress event serialize db file util token io tokens current progress initial tokens failure random tokens stream state store metadata state store logger gossiper schema common inet address session complete event keyspace array endpoint snitch google data output peer success write utf streaming current total read utf throwable failure detector source filter stream operation event token exclude local node filter allocate tokens version tmd allocate tokens keyspace progress net size stream state stream event handler configuration bootstrap stream result sizes data input file progress stream result future schema wait delay address received stream complete total files receive pending address ranges range streamer total files receive complete event error locator collection progress event message open fb utilities listenable future service serializer replication strategy atomic integer strategy num tokens local strategy keyspaces schema token factory success handle stream event random token tokens tokenallocator fire progress event info progress event notifier support token replication strategy received files token metadata warn add ranges logger factory add utils bootstrap num tokens stream event streamer io throwable override logger sizeof failure detector stream state deserialize bootstrap tokens instance empty add event listener wait settle dht config add source filter completed trace wait schema boot strapper token metadata fetch async prepared concurrent database descriptor failed session session prepared event keyspace complete progress bootstrap progress partitioner increment slfj broadcast address strict consistency
src.java.org.apache.cassandra.service.SnapshotVerbHandler
snapshot command messaging service payload clear snapshot send reply snapshotname message open message columnfamily service keyspace column family store id instance verb snapshot logger logger clearsnapshot db keyspace iverb handler net message verb internal response logger slfj command snapshot verb handler debug logger factory
src.java.org.apache.cassandra.utils.BiMultiValMap
variant bi enforce uniqueness view keys size google multimap utils entry put val remove entry multimap bi multi val collection empty multimaps keys unmodifiable multimap util key inverse key reverse forward clear key remove collect common remove entry key put
src.java.org.apache.cassandra.db.SerializationHeader
serialization header computed start compaction compacting multiple perfectly accurate compaction purge generally merge rows unknown kind stats optimizing underlying storage format strive good stick naive merge global stats simple good situation improve marging inaccuracy stats note avoid accuracy degrade successive stats merging compacted files stats stored stats metadata fully table metadata properly deserialize serialization header clunky pass table temporary delay actual imply read data column imply racy column user write data schema place problem improve find data dropped fail deserialization grab column metadata ensure column ignore terser serializaion big deal selection regulars ttl serialized size imetadata component serializer write vint length buffer ttl regular columns sstables timestamp serialized size clustering serialized size component parser skip deletion time add read columns marked serialized size messaging columns write unsigned vint serialize buffer util timestamp db util key io min timestamp dt local deletion time serialization header table reader metadata deserialize array key collector table serialized subset size read vint length read ttl data output read read unsigned vint columns version serialized size vint length deletion time serialize subset dropped column subtypes linked stats read deletion time column metadata regular columns code version size write local deletion time metadata sizes runtime data input builder local deletion time serialized size compose key header column sizeof columns put key filter sstable length decompose deserialize messaging update timestamp marshal column marked delete min local deletion time entry column filter header fetched columns entry write ttl columns min timestamp deserialize subset rows table metadata skip timestamp clustering skip ttl min ttl collection write deletion time ut min ttl schema sizeof unsigned vint write serializer write timestamp update ttl comparator regular columns min local deletion time put skip local deletion time utils regular columns parse raw columns io override encoding stats encoding stats key format component deletion time serialized size instance empty build partition key header sizeof nio metadata component read timestamp stats read local deletion time write columns add builder serialize messaging update local deletion time make stats entry make serializer
src.java.org.apache.cassandra.tools.nodetool.DisableBackup
incremental backups enabled execute probe node tool cmd nodetool description airlift override node probe command airline io disable backup tools node tool
tools.stress.src.org.apache.cassandra.stress.generate.values.TinyInts
stress tiny generator identity distribution db marshal instance seed generator config config generate
src.java.org.apache.cassandra.locator.AbstractNetworkTopologySnitch
endpoint snitch information network topology requests rack endpoint resides endpoint data center endpoint resides endpoint data rack datacenter address rack locator network topology snitch address datacenter datacenter net compare endpoints datacenter endpoint snitch address rack rack endpoint inet address
src.java.org.apache.cassandra.db.MutableDeletionInfo
mutable represents deletion entire represent slightly optimizes common full partition range tombstones left null range save allocation common creates deletion info marked delete time entire row considered local deletion time time deletion write applied locally purposes purging tombstone node deletion info tombstone range deletion info deletes potentially replaces tombstone whichever higher info deletion time add deletion combines deletion info whichever higher marked delete timestamp range tombstones mutable deletion info impelementation mutating access range tombstone efficient deletion info modify provided added updates timestamp deletion deletion info builds deletion info range tombstone start close iterator collections math cc live range covering live update timestamp clustering comparator sizes format max db info util allocator local deletion time iterator modify iter common empty size collector clustering range tombstone google close bound min deleted slice empty iterator measure close sizeof data size collector append slice code ranges supersedes sizes range tombstone builder ranges max marked base search collect stats open marker ranges copy unshared heap size partition deletion range iterator marked delete clustering bound open deletion time close deletion time marker open size rows add live memory integer deletion info mutable copy builder reversed partition level deletion copy max timestamp comparator ranges slice utils close override ranges allocator del info encoding stats make mutable deletion info empty build deletion timestamp partition deletion deletion time open max update range tombstone marker open bound deletion time add range count builder tombstone compare sb open deletion
tools.stress.src.org.apache.cassandra.stress.generate.values.BigDecimals
generator override decimal big decimal instance big decimals generator config identity distribution math db generate stress config marshal
src.java.org.apache.cassandra.serializers.TimeUUIDSerializer
validates time version bits override uuid serializer serializers nio marshal instance slice buffer position validate time uuid serializer remaining
src.java.org.apache.cassandra.tools.nodetool.GetBatchlogReplayTrottle
nodetool probe airlift system node probe io override tools batchlog replay trottle node tool description node tool cmd batchlog replay throttle command execute airline
test.unit.org.apache.cassandra.cql3.validation.miscellaneous.SSTableMetadataTrackingTest
iterator stats metadata track metadatarow tombstone system track metadatarange tombstone min timestamp io open cfs keyspace cql tester column family store max local deletion time force major compaction table metadata tracking max integer size junit metadata min maxtimestamp row track metadatarow marker delete db miscellaneous keyspace column family store current table track metadatarow marker cql max timestamp live tables execute table metadata base check min maxtimestamp range current time millis sstable table force blocking flush metadata throwable validation
src.java.org.apache.cassandra.metrics.CassandraMetricsRegistry
makes integrating metrics api api poor jmx strips single encapsulating creates klass creates group group creates klass scope scope creates group group scope scope creates group group scope scope bean represented registering group group simple scope scope mbean identified metric mbean group group group klass group simple klass method method getth percentile meter existing min max code group existing comparable group register mbean management factory histogram jmx timer rate unit jmx meter snapshot jmx meter mbean bean lower jmx gauge mbean choose remove duration factor ignore calculate rate unit scope metrics jmx counter jmx gauge metric metric mbean choose group fifteen minute rate ret method runtime jmx counter mbean mname counter unregister mbean nanos dollar timer getth percentile reflect jmx timer mbean concurrent decaying estimated histogram reservoir timer jmx histogram mbean length std dev duration unit remove alias rate factor choose metric registry method unit getth percentile management rate jmx histogram mbean getth percentile scope platform mbean server metrics registry builder histogram simple getth percentile removed scope builder clearable histogram illegal argument rate unit bean server minute rate microseconds time unit metric counter median metric bean getth percentile substring codahale alias override minute rate metrics duration unit empty append quote metered metrics mbean server metric mbean count lang util register alias locale register malformed meter alias gauge klass compare mbean
src.java.org.apache.cassandra.db.RegularAndStaticColumns
columns subset partition groups regular columns total number regular note sorted column definitions basically check column check including google btree regulars utils build regular columns override btree columns iterator column metadata regular columns code iterators add empty append size columns schema comparator builder builder db select order iterator includes util regular columns concat add natural order iterator column builder merge collect common sb iterable
src.java.org.apache.cassandra.tools.nodetool.Version
nodetool probe airlift system version io override tools release version node tool description node tool cmd command execute node probe airline
src.java.org.apache.cassandra.index.sasi.conf.view.View
required interval tree support custom relied items comparable keys view iterator interval count min key collections buffer indexes table comparable add match mode format db util illegal state table reader iterator array collect mode release key iterable view google sstable index iterables tables index key common empty builder indexes descriptor key term tree builder search put key intervals marshal ascii validator key interval tree collection max key range term tree interval tree ut term tree interval table index expression term tree comparator indexes descriptor compare io utils column index marked compacted conf sstable key validator prefix term tree build nio plan concat view current view expression validator compare sasi
test.unit.org.apache.cassandra.cql3.selection.SelectionColumnMappingTest
overrides organised single avoid overhead table creation demonstrate behaviour composite partition verify query produce simple column identifiers aliases represented underlying wildcard select represents column table result simple column identifiers aliases represented column specification based underlying user fields represented column specification denoting user fields aliases represented column specification alias actual writetime ttl represented function argument writetime ttl aliases represented column specification alias numeric function represented column specification function function represented underlying select count necessarily include singleton order constructed generate specific columns generate column spec ud basically represented system function alias represented column specification alias duplicate functions column specification entry deduplicated single pair number duplicate functions present distinct represented distinct columns column specification separate multiple result columns derived underlying column represented simple column identifiers aliases represented underlying aggregate nested udfs fn spec litteral selection time uuid aliased spec duplicate functions aliases verify column function fn spec writetime ttl query state spec simple nested functions arguments column specification instance sq func spec spec add null def selection columns spec junit argument function column specification unquoted buffer util selection column db empty litteral util function call duplicate functions aliases cql execute internal execute dht array table nested functions throwable cql statement spec iterable expected result columns user table freeze ttl spec result query column definitions fn spec client state spec column specifications func simple aliases column metadata user aliases user spec selection user defined function multiple aliases column spec empty litteral litteral query options token spec query processor request validation request execution alias internal calls alias keyspace defs select distinct column definition fn spec marshal multiple unaliased selection column column statements parse function add wt spec ascii select selection column service user defined aggregate count column identifier statement expected ut schema multiple argument function spec udt litteral spec writetime ttl aliases function tuple untyped result prepare server count ordered partitioner function function aggregate keyspace metadata table metadata statement mixed column tuple litteral partitioner unsafe utils user fn overloaded function selection column spec schema count alias select statement verify format cql tester instance select config true wildcard func litteral arrays empty litteral column check execution function alias database descriptor count columns field identifier function overload
tools.stress.src.org.apache.cassandra.stress.operations.userdefined.SchemaInsert
special constructor offline max number stmts manually batch operations schema insert iterator schema statement statement insert statement math row generator batch size writer add batch partition iterator variables db util io report data spec write partitions execute make range aware array collect run offline ratio time retry batch statement cfs raw add row stmts consistency level offline table schema core run driver partition generator timer stmt distribution generate seed manager table collectors timer sstable bound statement seed manager bind row cl consistency level size statement datastax substmts range aware column family store row population cfs partition count batch driver run row column stream offline run ratio distribution ready distribution fixed io override buffer size writer session unlogged build buffer size mb driver client stress cqlss table writer prepared statement userdefined row count stress work manager stress add runner builder min client work manager row
src.java.org.apache.cassandra.utils.TestRateLimiter
helper apply rate limiting fault injection acquires single unit rate rate limiter google helper utils visible rate atomic limiter atomic reference rate limiter rate jboss ref annotations acquire rule util concurrent byteman helper rate limiter rule common compare
test.unit.org.apache.cassandra.db.RowIndexEntryTest
partition partition multiple partition multiple serializer write fake data file force writing index info pre index column family based size write columns beginning index remember start notify observers hit column index size index ahead index add top level column fallen index boundary index computed index write write rows ensure column index sanity serialization output stream support columns summary determining insufficient columns worth indexing seek beginning row read tombstone true index entry tombstone column caller fetch row length row header partition deletion provided indexed entries method calculate write offsets index info fine generate data output buffer branch calculate serialized sizes simply reads data index entry note left reading entry row index row columns offset file index entry number add index block iterator columns index skip serializer previous shallow length collections buffer messaging version token buffer cell entry size cache column index cache size range tombstone marker previous row start empty clustering prefix clustering input sequential writer junit clustering comparator column index count serializer info unfiltered sizes format big db unfiltered row iterator pos util framework token io entries cql build row index partitions serialization header execute index info deserialize iterator row index entry array compute current position token table common write data output buffer empty size open marker deletion info offset clustering index state initial position google unfiltered index samples index file table rie output read unsigned vint version index measure write unsigned vint close btree row btree open deletion time cfs empty deletion time index primary key liveness info serializers suppress warnings liveness info offsets clustering iter indexed columns index count buffer written version allocate data input size unfiltered serializer serializer metadata kind immutable btree partition build row key big format rie serializer temp file comp builder header length decorated key observers position add key output index info serialized size deletion time sizes start position sequential writer option promoted size write build index data writer sstable size reference array unshared heap size idx serializer imeasurable memory checked cast marshal row previous array write length writer statements cn simple index serialize skip fully cluster override header table statement column index indexed entry deletion open index marker open kind data input buffer fb utilities clustering rows table metadata builder write end partition live buffer decorated key live collection row index entry duplicate serialized size empty data output sizeof unsigned vint unfiltered row iterator start serialization check schema option read position clustering regular columns keyspace partition key column family store index partition level deletion dummyk serializer murmur partitioner index state end open marker idx comparator partition header length partition unfiltered runtime skip promoted index remaining table iterator range tombstone marker make row iter clustering iter end data index serializer rie serialized columniterator timestamp micros clusterings rie utils base size auto closeable parse column index unsupported operation cmd io throwable primitives latest version buffer size sizeof table flush observer encoding stats column index size end buffer util index info retriever keyspace index info serialized size serializer cql tester column family store indexes util instance previous empty build deletion data writer write partition header dht config data writer true nio open index info serializer arrays indexed size unfiltered iterator singleton delete exit position stats database descriptor btree rie rie serialized output pre row index entry builder partition read temp file unfiltered cluster bb serialize row write column data file row rie file handle index serializer width serializer
src.java.org.apache.cassandra.cql3.functions.FromJsonFct
buffer format protocol version marshal instances json collections io parameters transport functions read serializers instance instance protocol version scalar function json mapper size ut protocol version concurrent nio function db json argument util concurrent query options io func cql serializer function exc execute deserialize put singleton json json fct function execution marshal bind
src.java.org.apache.cassandra.hints.EncryptedChecksummedDataInput
entire block compressed data read hint report eof decompressed data read size google buffer close reset crc channel proxy visible pos buffer start buffer offset decrypted eof io position override encryption utils source position seek seek position buffer current position uncompress path buffer read buffer cipher allocate icompressor checksummed data input upgrade input annotations channel initial nio suppress warnings buffer decrypt compress compressor position util concurrent cipher io read channel file position encrypted checksummed data input subtract buffer position position hints netty capacity fast thread local input compressor channel proxy read channel input position crypto remaining source position cipher limit common read error reusable buffers ioe position security
src.java.org.apache.cassandra.db.rows.WrappingUnfilteredRowIterator
make writing unfiltered iterators wrap wrapping iterator simply delegate call wrapped iterator concrete note simpler google unmodifiable iterator unfiltered close encoding stats rows partition level deletion table metadata regular columns wrapped unfiltered row iterator reverse order columns metadata deletion time db decorated key stats partition key wrapping unfiltered row iterator collect common row schema row
src.java.org.apache.cassandra.db.CounterMutation
applies counter result mutation replication grabs striped locks proper current counter reads rest current writes updated counter updates counter releases applied resulting wrapper call depends make cf id partition part remain cache newly updated count cache reads missing current mark consume current make mutation message iterator column family store select keyspace counter mark lock math row cell cached counter serialized size row iterator deserialize add capacity iversioned serializer marks timestamp micros format blank db util io collect counter marks partitions cell write clustering iterator cached array timeout iter update current cfs collect common timeout update current mark iter clock count concurrent counter writers upd iterable clustering google version btree data output local clock count system write utf shallow unlock sizes read utf result iterables counter mutation btree nano time counter write rpc timeout cmp clustering index filter clock counter id code iterators verb mutation data input net fb utilities comparator metadata peek sizeof tracing builder decorated key bulk base key nanos apply counter mutation counter context execution controller column tracing key filter keyspace context single partition read command row messaging service counter cache cm partition update serialize column filter table id mutation path apply total open consistency level size clustering rows service update row transform collection mark striped peeking iterator schema imutation override local id peeking iterator cell keyspace controller partition updates column family store global count comparator cache service read execution controller unfiltered row iterators locks query memtable disk update current cache counter mutation message time unit builder table ids compare write timeout lock utils counter remove locks cmd io trace mutation counter mutation serializer id function block put cached counter interrupted cfs instance empty build counter lock keys config process modifications lazy weak lock grab counter locks max row update concurrent start time database descriptor data concat sec lock nanoseconds partition column data milliseconds consistency selection builder serializer
src.java.org.apache.cassandra.schema.KeyspaceParams
immutable representing keyspace parameters determines durable writes reason commitlog unit changed google simple visible durable writes override local durable writes helper replication factor option code replication add lower local annotations schema nts util replication base durable writes keyspace params validate simple common durable writes replication params
tools.stress.src.org.apache.cassandra.stress.settings.SettingsColumn
parsing column option cli utility custom serializaiton invoked make legacy thrift based table creation work code attribute attribute array back buffer read found time uuid count collections count options buffer parser add message buffer runnable buffer util format timestamp read db util column io array array remove write result logger system min max columns key size distribution slice columns buffer exit option distribution serializable run runtime user ascii distribution options length options output stream printf wrap select size config generate params ut sort option simple read printer oos count err illegal argument column options input stream utils parse write distribution fixed io override parsed variable column count charset instance split grouped options namestrs count distribution nio arrays max ois option stress marshal character coding options comparator cl distribution factory
test.unit.org.apache.cassandra.db.lifecycle.HelpersTest
check works correct cfs daemon initialization log transaction identity readers setup deletion notification immutable mock schema null junit helpers db util framework compaction replaced accumulate replace table reader array filter collect common throwable null iterable google cfs abc array reader mark obsolete concat uniq replace replaced txn logs identity sstable helpers concat uniq unknown size filter expected integer identity schema operation mark obsolete failure column family store copy immutable marked compacted io check contents format obsoletions cleanup config true finish prepare obsoletion filter obsoletion database descriptor lifecycle identity error filter
src.java.org.apache.cassandra.gms.VersionedValue
represents state node application make rest nodes piece state disseminated rest cluster state instance add disseminate load information node application state load state representation present blindly interning suboptimal lots versioned unique interning saves significant information versioned token serializer removed nonlocal privateip comparable serialized size release version make token iversioned serializer data output stream gms serialize rack id removal coordinator db util val version token clone higher version host address uuid deserialize commons collect token common write inet address rack status left google status bootstrapping replace data output write utf intern sizes read utf iterables lang rpcaddress removal coordinator version net version removing token runtime read data input ipartitioner status normal datacenter versioned factory bos leaving network version version generator removed token load messaging service rpc ready status leaving shutdown currentversion fb utilities collection removing nonlocal hibernate node version schema token factory status moving endpoint join versioned internal ip array standard charsets io utils release version shutdown override sizeof boot replacing severity versioned serializer charset iso dht host id nio normal dc id expire time status bootstrapping version moving array output stream tokens delimiter str hibernate bootstrapping delimiter partitioner compare io utils serializer left
test.unit.org.apache.cassandra.dht.OrderPreservingPartitionerTest
read clear data dir clear garbage previous running stop recursion order preserving partitioner io compare tok instance dht junit schema loader cleanup leave dirs token clean states previous partitioner partitioner init partitioner order preserving partitioner compare io left
src.java.org.apache.cassandra.streaming.DefaultConnectionFactory
connect peer start exchanging connect attempt retries maximum peer peer connect created io connection waitms pow timeout peer streaming attempts rpc timeout sleep io close logger outbound tcp connection pool math stream connection factory socket interrupted message logger connection streaming socket timeout socket thread warn io wtf database descriptor net alive logger factory socket config logger slfj max connect attempts inet address connection factory
test.unit.org.apache.cassandra.db.commitlog.SegmentReaderTest
add plain text size block write compressed segmenter includes sync header length divide output buffer seek beginning encrypted segmenter includes sync header length compressed segmenter compressed segmenter lz initial compressed buffer length random daemon initialization ensure capacity preferred buffer collections buffer compressed segmenter write snappy compressor cipher read plain text length input junit encrypt write buffer util file pointer db util temp file io sync segment file buffer random crypto security put comp buffer plain text buffer file data input apply close transparent data encryption options lz compressor compressed segmenter snappy fos runtime allocate reader icompressor deflate compressor empty len encrypted segmenter seek put raw size file length underlying encrypted segmenter encryptor length context encrypted file read fully channels sync marker size wrap encryption utils array open end position compressor uncompressed header size file data input integer function bi function channel compressor compressed segmenter deflate encryption context generator setup dd buf commit log segment compressed file flip random access reader random access file segment sync segment segment reader context utils read fun compressed buffer cipher factory io commit log segment reader seek encrypted segmenter read iv file output stream config channel input start nio compress encryption context cipher delete exit database descriptor read seek keyalias segmenter offsets file channel cipher factory file position commitlog encrypted segmenter
test.unit.org.apache.cassandra.utils.memory.NativeAllocatorTest
allocate check accounted confirm adjustment confirm allocate allocate check allocate check block google op order utils scheduled executor service clean group allocator ref allocator atomic execution group count latch atomic reference allocator await barrier executors uninterruptibles clean interrupted submit barrier start heap adjust allocate memory null issue junit true mark blocking runnable run barrier exec book schedule util framework time unit released error count allocator success concurrent sleep uninterruptibly count scheduled thread pool common pool order milliseconds
src.java.org.apache.cassandra.cql3.selection.CollectionFactory
base collections collection tuple collection tuple element add null collection collate columns child factories add writetime selector factory selection tmp factory factory column filter aggregation add override selector factories function functions factories column metadata add functions aggregate selector factory selector empty schema selection column column specification add fetched columns builder db ttl selector factory util add column cql collection factory builder filter results column fetched columns ttl selector factory writetime selector factory marshal
src.java.org.apache.cassandra.cql3.functions.FunctionCall
check method lied declared complain function check provided validate matches null function function arguments function true proper error message false receiver handle potentially ambiguous function calls force user typecast method selection function call method future patch make properly receiver provide work bound unsupported operation user collections buffer joining json fct parameters add protocol version udt assignment testable column specification function buffer util format weakly assignable db collection util cql execute internal result execute array raw make terminal bind operation fcts result protocol version function transport collection serializers collect function user version add functions cq constants variable specifications term terms runtime query options collectors singleton keyspace function call scalar fun receiver options hex invalid request statements exact match marshal text collect marker specification operator function operator size aggregate prepare serialized params make spec check bind assignable compatible negation terminal kind function resolver fun operator stream utils terminal raw function functions terms add functions buffers request validations cf assignment exact nio arrays scalar function validate protocol version bind bind marker operation marshal invalid request operation negation function assignable left
src.java.org.apache.cassandra.dht.Token
serialize necessarily measure token space covered token token allocation algorithm token slightly greater avoid nodes separate datacentres token token allocation token corresponds range keys token comparable directly keys introduce keys token key representing lower bound lower bound key smallest key token key representing upper bound upper bound key largest key token note keys selection keys token min key bound token corresponds range token corresponds valid simpler associate min key bound max key bound minimun token serializer buffer serialized size partition position remaining min key bound serialize buffer util format increase slightly db util token io token deserialize token cmp minimum data output min sizeof token factory data input code version max bound serializable configuration kind sizes suppress warnings key bound read ipartitioner write length obj ipartitioner dependent serializer serial version uid read fully heap size ring position pos wrap size upper bound max key bound token factory kind array minimum token min bound utils token partitioner io override array dht nio validate minimum bound klass compare serializer
src.java.org.apache.cassandra.cql3.CQLStatement
number bound terms perform access verification state current client perform additional validation required overriden subclasses state current client execute statement resulting result null state current query options options query query start nano time timestamp statement variant execute internal query system query local state current query iterable functions functions functions found invalid request check access result message unauthorized query state client state transport function functions service state functions cql statement bound terms query options validate cql execute internal request validation execute request execution messages query start nano time options iterable
src.java.org.apache.cassandra.io.sstable.metadata.MetadataCollector
eh track max eh track max cound number row partition number cardinality estimation method parameter give reasonable lowering required hold ratio compression handle clustering size component min max tracker max clustering intervals collections compaction buffer ttl sstables dt partition size cardinality add clustering prefix add key compression ratio remaining streamhist metadata cell partition count histogram commit log intervals buffer util format max db info util max total columns ttl tracker partition size histogram local deletion time partitions serialization header table reader metadata ttl uuid level array subtype timestamp validation iterable estimated partition size min analytics deletion time tombstone histogram ttl round streaming tombstone histogram builder sstable level add partition size liveness info compaction metadata cell add cell partition count metadata ttl timestamp tracker empty builder update local deletion time tracker rows compressed key legacy counter shards estimated cell partition count put sstable length compression ratio partition statistics collector murmur table metadata marshal estimated histogram stats metadata deletion time cell header tombstone drop time histogram tombstone histogram active repair service size clustering min clustering service column row timestamp icardinality min max tracker integer empty stats stats metadata live pending repair commit log position tombstone histogram spool size hyper log log unrepaired sstable update ttl comparator minimize bloom filter fp chance local expiration time clustering comparator make interval compare update legacy counter shards tombstone histogram bin size stream validation metadata utils total rows table offer io marked delete min cell count uncompressed update clustering empty build metadata collector nio metadata component buffer max header clearspring minimal buffer update timestamp local deletion time add estimated tombstone drop time update column row repaired min partitioner add compression ratio update local deletion time components position commitlog
src.java.org.apache.cassandra.tools.SSTableLevelResetter
reset level sstables metadata todo daemon threads run explicitly call load keyspace validate mutate level inspect throwable columnfamily stats metadata init database descriptor utils entry system descriptor txn err io entry jvm stability inspector key tools cfs found table schema stack trace filename keyspace sstable level component column family store util instance exit table level resetter metadata metadata serializer stats stream open tables directories db util descriptor metadata column family store data sstable lister deserialize err keyspace keyspace directories sstable length table metadata ref throwable schema load disk
src.java.org.apache.cassandra.auth.AllowAllAuthenticator
authentication legacy authenticate collections evaluate response authenticator instance require authentication complete empty net configuration authenticated user iresource resources authenticator anonymous user auth util validate configuration client address credentials data iauthenticator authenticated user setup sasl negotiator negotiator inet address sasl negotiator client response
src.java.org.apache.cassandra.tools.nodetool.ViewBuildStatus
size google nodetool probe airlift system node probe arguments io entry key tools format failed add preconditions split entry node tool cmd usage input formatter node tool airline status exit description success view build status util base command view build statuses builder execute array table builder check argument keyspace length common build status view
src.java.org.apache.cassandra.cql3.QueryOptions
options cache bind parsed json column term column json bind index functionally equivalent caches result parsing called multiple columns underlying json bit involved cql specifics generally cache bind easiest place bind index index bind interpreted json column column expected receivers columns expected json index parsing json initially check call method query options validated correspong column bind index null json column specifications bound column specifications present prepared column specifications column specifications bound variables column specifications present prepared method invoking method order ensure column option unsupported operation page size relevant paging state null serial consistency conditional keyspace query bound null protocol version sake decorator access column called prepare options present order note bother server fact encode decode unsupported operation write page size options column specifications copies collections buffer query state read flag read add codec protocol version timestamp size write consistency level column specification ordered timestamp read unsigned db util column serial cql serializer column specifications netty column specs deserialize array cb codec remove tstamp collect common write ordinal google greater min query options wrapper specific options json page size keyspace protocol version read unsigned specs transport column specifications column metadata specific options immutable state version protocol version body page size term read empty read paging state buf query options serialized size encode bind index parse json internal calls write json column read keyspace length query options options invalid request serialize consistency level size paging state service size collection expected receivers decode column identifier protocol version write pair paging state ut schema add column specifications wrapped flag copy dest write read timestamp options write utils skip metadata codec io json cache override cb util read consistency level keyspace format paging state instance empty serial consistency max serial consistency json nio buffer size consistency level serial consistency pager consistency current gather flags encoded size size marshal skip metadata prepare flags protocol consistency opts left
test.unit.org.apache.cassandra.db.SecondaryIndexTest
basic verify index searchers finds data verify gt idx filter lt hit fail extra check duplicate results confirm addition delete column verify indexed resurrect newer verify row delete older timestamp column delete older timestamp delete entire row newer timestamp todo checking index searchers command thing make obsolete mutations generate index todo checking index searchers command thing row update birthdate index query fetches confirm version fetch confirm update birthdate older index ignores row update birthdate expiring requires sleep calculate local expiry time overwrite local expiry time check modifying indexed timestamp behaves confirm confirm row update force index read apply force index update searching index indexed fact purged index check reset back original skipping index make expunged index discovered row update author index query fetches force flush retry index read apply force index update searching index indexed fact purged index check reset back original skipping index make expunged index discovered figure insert indexed delete data gc grace wait gc read index check index entry deleted read data read insert indexed delete data gc grace wait gc read index check index entry deleted read data read basic limit row update birthdate index query fetches fait index bug index created flushed check find index cfs bit convoluted validate drop clears rebuild works rebuild secondary index flush iterator add index interrupted composite index added column sleep buffer filtered partition delete inconsistent keys index row searcher add keys index cfmd null junit columns timestamp micros searcher gt partition iterator buffer util index indexed db index cfs empty util io cql index manager partitions neq define schema index scan limit cmd metadata iter operator index def null index cell backing table run delete inconsistent composite index close cfs index unfiltered partition iterator column metadata composite index update partition range read command cell delete row read command rc rm composites fb utilities delete inconsistent composite index configuration kind index decorated key index eq apply unsafe search cdef val concurrent nb bb composite index keyspace col count truncate cfs filter keyspace force blocking flush row marshal index column family stores row truncate blocking statements simple keyspac mutation index targets apply open size clustering rows table metadata key incl limit pi schema delete keys index keys searcher simple index target index metadata keyspace controller partition key column family store announce table update prepare server row update builder large scan read execution controller remove index built indexes indexed count row count future time unit delete composite index decompose delete execution controller def key excl empty cell utils updated row marker current io execution index update overwriting expiring columns delete inconsistent composite index column index keys index gc grace thread execute locally index queryable unfiltered partition iterators column family store indexes util empty build composite index cfmd index cfs composite index deletions cf true indexed schema loader nio empty filter keys migration manager unbuild key incl singleton future keyspace params secondary index searcher builder partition bb index scan col command collections false live tables milliseconds
src.java.org.apache.cassandra.db.filter.TombstoneOverwhelmingException
make lot partition ct buffer query append clustering table metadata format length clustering prefix builder num tombstones size metadata composite nio runtime db partition key decorated key partition key tombstone overwhelming clustering pk comparator split key filter subtype make pk partition key sb schema marshal
src.java.org.apache.cassandra.cql3.ErrorCollector
collect enhance errors send cql lexer offset token offset token cql error creates instance collect syntax errors query cql query syntax error found lexer parser syntax syntax appends query snippet message user understand parser parser parse builder build error appends query snippet message user understand token include token include offending token responsible checks tokens tokens tokens tokens valid checks token token token considered index offending offending token character index avoid problem make index offending token valid index token index token index size valid index offending puts token square line line token token put square index character relative beginning line token index character relative beginning line token token token inserts character position character index position character character modified index line number token token index line number token index token part index index token causing size total number index token part index token part index index token causing index token part highlight token line snippet token index max linked antlr length parser text substring offending override query line token stream line append insert index syntax error syntax min length snippet token index empty token offset token valid add token offset base recognizer msg size token stream math builder token append query snippet tokens valid error collector recognition error header util recognizer token line index error message line cql error msg token stream tokens position line hdr offending token index include query end split syntax error parser lines position line append snippet error listener token include query start error msgs runtime end builder
test.unit.org.apache.cassandra.metrics.HintedHandOffMetricsTest
uuid google incr past window iterator daemon initialization system keyspace rows log iterators instance peer events integer net hints config junit hints directory hints service db hints metrics mkdirs hinted hand metrics util database descriptor cql untyped result execute internal query processor metrics uuid local host init dd collect common inet address marshal
src.java.org.apache.cassandra.cql3.functions.ScalarFunction
determines single output based single input applies function protocol version protocol version parameters parameters input result applying function invalid request function applied invalid request function functions nio parameters protocol version execute util scalar function called null input buffer protocol version cql transport
src.java.org.apache.cassandra.io.sstable.format.RangeAwareSSTableWriter
table id finished writer writer add partition position location disk storage service writeable locations directories db util io accumulate desc serialization header table reader uuid array current index throwable directories range aware table writer close sstable level cfs append data directory total size boundaries table multi writer file pointer filename pretty memory decorated key descriptor key writer table directories keyspace length commit table descriptor disk boundaries txn current writer open result lifecycle transaction header estimated keys table id prepare commit fb utilities rows service abort die collection open result unfiltered row iterator finished writers schema finished pending repair column family store join writeable location io table format utils override abort local dir table multi writer sstable format max data age finish lifecycle add repaired partition partition key compare finished readers
tools.stress.src.org.apache.cassandra.stress.settings.OptionAnyProbabilities
entry accept put collections entry override linked multi line display param collect ratios empty split builder happy display description empty option arrays append util option probabilities ratios entry present option display option multi stress illegal argument key length user sb options
src.java.org.apache.cassandra.db.transform.MoreRows
providing row contents contents produced normal arbitrary row iterator unfiltered row iterator matching partition key transforming iterator invokes method current source inserts contents source product transforming iterators control flow occurs outermost contents rows rows extend db regular columns transform row iterator add base row iterator wrap iterator mutable iterator unfiltered row iterator transformation columns
src.java.org.apache.cassandra.schema.Schema
uuid mutable metadata ref update place time table index mutable metadata ref update place time index keyspace instance exist initialize empty schema load hardcoded system validates provided keyspace system keyspace keyspace invalid request system load keyspace initialize keyspace schema version updated load schema definitions update version true schema version load keyspace defs keyspace update keyspace ksm metadata clean removed load refresh refs updated keyspace instance keyspace keyspace null keyspace store keyspace instance keyspace keyspace instance illegal argument keyspace remove keyspace keyspace keyspace removed keyspace instance null remove keyspace definition ksm keyspace definition metadata keyspace keyspace keyspace metadata null collection keyspaces count system replicated keyspace replicated collection keyspaces local strategy collection user defined metadata keyspace keyspace metadata column families belong collection keyspace registered system methods keyspace table keyspace method table metadata ref null table metadata id table view metadata table keyspace table meta keyspace table function keyspace keyspace table table table metadata null unknown table table found function helpers function overloads fully qualified function empty keyspace function collection find function fully qualified function function argument empty keyspace function optional version control current schema read schema system keyspace calculate digest resulting converted uuid act version announces clear metadata reset merge remote schema form mutations local mutate metadata involves operations mutations schema configuration metadata attributes invalid compare keyspaces affected schema fetch current state schema affected keyspaces apply schema apply schema mutations fetch versions altered dropped updated calculate drop tables add tables update tables deal altered notify notify notify remove keyspace make indexes load udas table metadata ref ksname udas diff notify view keyspace defined merge announce version notify alter keyspace init cf system keyspace buffer merge notify drop keyspace metadata find previous tables difference immutable alter keyspace notify function drop system keyspaces index manager keyspaces add tm ksm alter function notify alter optional keyspace metadata notify alter view updated apply drop table function remove keyspace instance format highscalelib drop cf db tool initialized util key drop keyspace user keyspaces compaction drop view load keyspace cql change listeners tables views alter table notify drop table functions uuid notify drop function view cliffc remove sum collect table tables diff common timestamped snapshot prefix collections index table configuration keyspace iterable view empty google replication alter table update schema version udfs diff table view table iterables alter aggregate force recycle segments cfs index table metadata ref reload keyspaces diff open difference current user version alter unregister listener metadata suppress warnings change affected prepared statements table metadata register listener descriptor snapshot drop prefix schema keyspace alter view daemon initialized ud aggregate index table metadata ref key collectors unknown table keyspace put views diff filter sstable diff alter view mark indexes removed marshal load disk invalid request singleton system keyspaces lang notify keyspace replicated system keyspace keyspace instances notify alter aggregate entry mutations copy write array locator table id mutation await barrier diff message cfname size drop function keyspace metadata calculate schema digest table metadata entries left index tables column family store collection write order notify drop aggregate params drop aggregate number tables system keyspace pair ud function empty schema view metadata schema change listener notify alter table index find function passive announce table view nullable local strategy keyspaces metadata refs difference keyspace system keyspace column family store copy version notify drop view change affects prepared statements keyspaces ut illegal argument unload affected keyspaces descriptor alter keyspace validate table local strategy existing table metadata view manager compaction manager view stream entries utils drop table fetch system keyspaces fetch keyspaces keyspace auto snapshot view io id function functions left store keyspace instance keyspace views index metadata refs column family store keyspace instance notify table instance udfs empty notify aggregate nullable snapshot commit log schema config indexes diff interrupt compaction nio notify drop column family store instance migration manager update version announce concurrent schema constants update version notify alter function tables views database descriptor notify function validate keyspace system listener entries differing keyspace defs keyspaces clear aggregate added updated drop view blocking klass drop keyspace udf commitlog table
src.java.org.apache.cassandra.cql3.statements.CreateRoleStatement
validate login check access avoid leaking role existence anonymous rejected grant applicable permissions newly created role user performing overridden subclasses keyspace statement creator role automatically permissions user configured iauthorizer supports granting permissions authorizer custom external grant optional method invalid request unsupported operation statements check access present existing role result message role resource unauthorized user exists role role manager role client state validate transport system user service permission format authentication statement authorizer state role ensure anonymous empty config grant permissions creator auth database descriptor cql request validation role statement role options execute request execution superuser anonymous grant messages role applicable permissions authenticated user check permission root options opts
test.unit.org.apache.cassandra.service.GCInspectorTest
runner gc log threshold daemon initialization gc inspector ensure fields hydrate config gc inspector run service gc warn threshold expected gc warn threshold config junit true gc log threshold ensure warn greater log status threshold setup database descriptor ensure log warn database descriptor gc inspector gc warn threshold ensure status calculated illegal argument ensure ordered junit runner gc log threshold
src.java.org.apache.cassandra.index.IndexNotAvailableException
thrown secondary index creates index index runtime index format index index metadata
test.unit.org.apache.cassandra.db.DeletePartitionTest
validate delete validate column iterator simple utils standard cfmd keyspac cmd full partition delete partition update open fb utilities clustering rows mutation filtered partition flush remove column metadata column family store apply unsafe util partition unfiltered add partition build cell live force blocking flush cf standar junit store schema true immutable btree partition schema loader dk buffer util decorated key delete partition db framework keyspace params key partition level deletion prepare server partitions row update builder partition keyspace define schema delete partition keyspace key column row count flush remove false column family store metadata partition unfiltered row
src.java.org.apache.cassandra.cql3.selection.SelectorFactories
factory creates writetime factory creates ttl number factories creating creates instance collect column selectables factories expected expected called selectable nested function argument selectable expected expected table table defs collector parameter column bound collector specification bound markers invalid request problem occurs creating factory factory factory index column index index index column adds column order def column index index column definition selector built factory aggregation directly selector built factor checks factory writetime factory checks factory ttl factory creates options query options query columns output selector instances created column selector instances created number number bound selection iterator selectables selector factories ttl factory ttl selector factory aggregate selector factory add selectable db util cql iterator array common iterable add selector ordering writetime selector factory google apply index expected collect column metadata factory selector column writetime selector factory variable specifications builder query options base selectable filter instances ttl selector factory options invalid request factories collect column definitions simple selector column filter table size number aggregate factories table metadata transform schema instance aggregation factories column index fetched columns def column expected factory simple selector factory function functions add functions index simple selector factory defs writetime factory add fetched columns factory marshal builder selectors selector factory
tools.stress.src.org.apache.cassandra.stress.settings.SettingsNode
option cli utility whitelist random hosts math files host random node address white add nodes input stream reader runnable util io array remove mode user resolve permitted inet address read line node system unknown host port index exit net serializable core runtime driver resolve result logger host address options array length simple options metadata api select size host driver client params datastax option simple datacenter printer tmp nodes input stream inet socket address paths io file override cluster split grouped options node nio arrays stress ioe option stress driver resolve options buffered reader cl
src.java.org.apache.cassandra.io.util.SafeMemory
null null tidy utils tidy size peer nicoulaj ref counted io memory close ref math size memory tidy end min safe memory identities debug info start add ensure released memory net ref annotations add shared closeable identity collection compilecommand free util concurrent copy memory util inline copy illegal state shared copy accumulate put check bounds release throwable
tools.stress.src.org.apache.cassandra.stress.settings.SettingsCommandPreDefined
unique mixed command option cli utility operations generator collections add exit columns runnable util report desc predefined operation lower array merge iterable empty system max columns key key size operation size distribution predefined factory option distribution command uncertainty run parent partition generator timer warmup truncate tables command sink arbitrary options option timer keyspace seeds keysize options op distribution singleton result logger printf parse select hex generate params op distribution factory integer generator config schema count option simple printer partition key command pre defined stress action measurement sink options fixed op distribution override build timer grouped options namestrs arrays singleton stress order option stress generator duration seed manager distribution factory
test.unit.org.apache.cassandra.batchlog.BatchlogManagerTest
generate mutations batches mutations put half batches ready half flush batchlog disk force batchlog replay wait ensure ensure stray mutations generate mutations batchlog put batchlog entry mutation middle make ready adjust adjust timestamp make flush batchlog disk force batchlog replay wait half mutations written replay mutations add batch add batch store remove add batch flush batchlog disk force batchlog replay wait replay cancelled peers time uuid iterator daemon initialization results interrupted batchlog manager system keyspace remove row util replay uuid add batch start batchlog replay replay peers system keyspace uuid gen truncated replay empty null junit storage service timestamp micros row update builder initial replayed batches dk buffer util update normal token timestamp db batch util io cql execute internal partitions dht uuid iterator define schema array cmd update host id collect token common inet address metadata initial batches google system batches iter batchlog manager close remove batch cfs array cfm mutation net localhost configuration immutable btree partition suppress warnings decorated key batchlog timeout cf apply unsafe partitioner service keyspace current time millis force blocking flush marshal local row truncate blocking simple partition update standard cfmd mutations locator keyspac mutation batchlog save truncation record open fb utilities clustering rows table metadata add query processor store schema mutation mutation keyspace remove endpoint column family store count batches partitioner switcher write rpc timeout commit log position untyped result prepare server murmur partitioner partition unfiltered token metadata table metadata result decorate key utils io execution full partition delete format column family store delete instance cf cleanup query build cf standar cf standar cf standar schema config cf standar cf standar true total batches replayed schema loader empty concurrent schema constants keyspace params database descriptor token metadata sw false commitlog
test.unit.org.apache.cassandra.tools.SSTableOfflineRelevelTest
table offline relevel exits code sstables relevel runner schema loaded keyspace loaded schema loaded expected threads schema run tools run tool unexpected threads started table offline relevel junit tools tester optional threads schema system loaded server loaded table offline relevel clsm loaded table offline relevel ordered junit runner
src.java.org.apache.cassandra.hints.HintsDispatchTrigger
simple dispatch trigger run hint stores schedules dispatch hints hosts scheduled hint active hint matching schema triggering hints store dispatch existing hint submitting active closing run pick stores live utils write executor scheduled dispatch executor dispatch atomic fb utilities instance schedule hints store application state gms writing hints write executor store schema runnable run files close writer util concurrent catalog address hints hints dispatch executor filter gossiper broadcast address paused hints dispatch trigger hints catalog atomic
test.unit.org.apache.cassandra.net.MockMessagingService
starting point mocking outgoing messages intercepted creating calling alternatively created helper methods nested called free listeners creates matcher response based unsubscribes handlers added calling called creates matcher target address outgoing message provided creates matcher target address outgoing message provided creates matcher verb outgoing message provided creates matcher based result provided predicate called outgoing creates matcher based result provided predicate called outgoing inverts result wrapped true provided matchers true single provided matcher messaging service clear message sinks matcher response unknown host message payload predicate matcher instance cleanup msg net function runtime matches matcher util verb verb address fn matchers message mock messaging service inet address
test.unit.org.apache.cassandra.repair.ValidatorTest
confirm tree add confirm tree run validation expect merkle tree size disable compaction wait force single iterator messaging service outgoing message sink message mid collections imessage sink submit validation math validator complete validator uuid gen simple validation tear null junit buffer util format db trees ceil util token verb live tables compaction token desc table reader dht uuid iterator define schema validation complete completable future inet address null merkle trees merkle tree streaming repair job desc empty iterators fail message payload verb outgoing message net size metadata incoming message midpoint ipartitioner repair message range validator throwable table ranges prepare row count message keyspace messages success keyspace range force blocking flush add merkle trees repair simple pow standard cfmd random uuid message open active repair service fb utilities log service buffer decorated key add clear unsafe compactions time uuid register outgoing message sink schema complete random token time unit keyspace column family store prepare server sleep unrepaired sstable tree simple validation future column family table metadata preview kind compaction manager minimum token disable auto compaction clear message sinks utils io validation complete id sstable timeout unfiltered row register parent repair session column family store cfs instance validator failed schema add message sink true repair session id schema loader populate arrays concurrent singleton keyspace params entry simple validation repair message remote min partitioner validator broadcast address false left
src.java.org.apache.cassandra.locator.PendingRangeMaps
navigable search ranges token ascending sort ranges ascending order sorting end ends sorting begin token selected ascending sort ranges descending order left sorting begin begins sorting end token selected left tokens sort descending warp wrap range begin sorting end ends sorting begin token selected wrap begin sorting end token selected find intersection search add intersections search add pending ranges ascending comparator iterator ascending comparator wrap add logger ascending tail util key token descending wrap navigable pending range iterator descending array logger token common inet address iterable google wrap system append collect descending comparator tree iterators net range ascending wrap address add logger factory put key range add intersections addresses descending comparator wrap entry locator size collection tail endpoints add search range builder smaller property endpoints compare ascending override logger add pending range pending endpoints bigger dht comparator descending tail entry concat entry add slfj compare sb left
src.java.org.apache.cassandra.utils.concurrent.Blocker
block unblocked locks blocker utils reentrant lock signal util concurrent unlock await uninterruptibly condition lock condition
src.java.org.apache.cassandra.service.TruncateResponseHandler
node range bootstrap added write bootstrap finishes point longer write todo truncate longer latency snitch simple condition system timeout atomic logger message service increment message interrupted atomic integer nano time start condition net config utils response count responses await signal nanos util concurrent database descriptor logger truncate response handler error truncate rpc timeout success nanoseconds logger slfj iasync callback timeout time unit response logger factory milliseconds
test.unit.org.apache.cassandra.io.sstable.SSTableReaderTest
insert data compact single wrapping range key empty range confirm positions increase index entry generate lots insert bunch data compact single check keys found check false make insert data compact single range start exclusive start capture stop start secondary index flush check opening querying insert data compact single clear sstable sstable opened pre insert data compact single number keys inserted greater ensure multiple segments index construct range present keys found segment sstable bulk index interval key index entry generate lots index interval key make sstables including indexes load query index sstable secondary index loading summary correct partitioner iterator capacity index summary replacement num partitions results interrupted load tables buffer sstables desc previous token index bulk loaded clone summary sampling level lifecycle transaction add standard cfmd release null junit make ranges count min index interval dk buffer util format composite index cfmd partition key db finish util token io compaction read rate tracking cql index manager partitions table reader array ref define schema array cmd key cache hit collect timestamp estimated keys read execution controller operator metadata iterable current time millis index google scheduled thread pool executor system local token file data input submit max index interval read length index execution controller row run bloom filter true positive count concat indexes section indexed cfs key future opening table rc size primary index common found scanner run key clear load decorated key ipartitioner descriptor range key eq mmapped regions tracker futures ranges search key incl perform maximal keyspace scanner intersecting ranges key ordered junit runner filter sstable index summary sampling level force blocking flush read meter index query works replacement index column family stores row txn save summary simple unknown thread pool executor cf reopen keyspac clear unsafe index summary key index summary upsample reload open scanner clustering rows service searcher include row buffer decorated key key incl path cache caching params spanned index positions reopened pair params local partitioner metric store schema original max segment size keyspace positions ranges key cache column family store operation compression info key cache key disk prepare server position row update builder cf standard cache service sections cells cf standardlowindexinterval positions ranges descriptor table scanner columns positions ranges executor key samples array compaction manager minimum token decorate key compare disable auto compaction file index summary upsample reload searcher runner scanner utils positions ranges table opened bulk loading open batch partitioner cf indexed io execution index summary size persistent statistics secondary index max partition size keyspace data file data input unfiltered partition iterators component column family store cfs util instance build cf standar index cfs dht target true apply unsafe index schema loader nio filter arrays max segment size update table reader empty buffer concurrent future keyspace params position lifecycle sec searcher persistent statistics collection positions key cache stats partitioner runnable read command components modify caching live tables row unfiltered left
tools.stress.src.org.apache.cassandra.stress.settings.Option
display text option accept io option param code multi line display serializable happy util display present option stress display user
src.java.org.apache.cassandra.cql3.Maps
helper methods entries assigned receiver receiving entries exact match exact assignable representation entries representation representation items items items mapper mapper items representation representation exact entries entries mapper mapper retrieve key exact entries collections small hack validate called serialized compose validation fact iteration comparator false support support serialization format encode length unsigned delete frozen overwriting bound iterator unset validate assignable left bind instance cell path add message protocol version assignment testable putter column specification buffer util format entry weakly assignable db util iter entries cql serializer mapper execute result iterator key spec operation array bind buffer assignment protocol version assignment transport serializers raw column metadata tree iter entry version add functions cq constants variable specifications term multi cell key exact put decorated key key spec unset buffer marker query options key discarder key bind index collectors column items put key keyspace collect setter marshal terminal invalid request exact match marshal text literal deserialize protocol collect marker specification path apply keys size rows buffers prepare marker serialized column identifier params add tombstone pair setter key schema function assignable add cell partition key complex deletion time overwrite terminal collection serializer comparator mt spec decompose pack compare stream utils terminal entry override function functions terms update parameters key add functions linked cf exact elements nio comparator receiver spec entry protocol version current key delayed bind marker options entry assignable joining
src.java.org.apache.cassandra.index.sasi.conf.IndexMode
validate valid analyzer provided happen validated instantiate instance index literal option present found disk add logger optional mode format illegal access max flush mem mb db util index options op logger mode key cell index max flush memory option index max flush multiplier index mode operator tokenizing analyzer index standard analyzer column metadata analyzer op analyzer supports configuration analyzer ascii column analyzer disk index builder options plan tokenizable parse instantiation analyzed max mem mb index mode option analyzer literal option ut schema instance index metadata expression parse validate analyzer index analyzed option illegal argument max compaction flush memory mb literal error logger factory indexed prefix conf logger instance validator empty config mode index analyzer option marshal slfj sasi
src.java.org.apache.cassandra.io.util.DataIntegrityMetadata
checksum chunk attempting file digest validator digest file validate entire open checksum chunk chunk start utils offset data filename io close filename checksum validator validate checksum zip descriptor digest reader throwables component current start reader parse data reader checked input stream file digest validator read checksum end stored digest util descriptor io calculated digest checked input stream data closeable digest desc instance perform actual chunk size crc read seek file digest validator start chunk random access reader sstable file checksum cr read line data integrity metadata checksum validator checksum
src.java.org.apache.cassandra.cql3.statements.CFProperties
insertion ordering statements compact storage ordering put compact storage instance column identifier reversable linked target identifier cf properties db reversed defined ordering util validate cql properties reversed table attributes alias key marshal
src.java.org.apache.cassandra.transport.SimpleClient
track connection connection configure configure pipeline wait connection attempt succeeds wait messages flushed closing close make close operation ends operations asynchronous shut thread pools stateless synchronous queue collections add buffer ssl context query filter cipher suites protocol encoder ssl engine group compressor snappy compressor encoder message encoder add tracker protocol version logger event handler channel handler event handler format encryption options db execute enabled cipher suites util ssl io credentials cql netty ssl factory ssl engine shutdown gracefully tcp nodelay internal logger factory logger fire caught ctx throwable security event simple client empty execute message event factory suites nio event loop group tracker compression connect event message add connection port transport caught query message version compressor attribute key net ssl context responses nio socket channel runtime response handler channel read secure initializer prepare message host request beta closeable establish connection pipeline frame compressor logging socket concurrent internal calls error message messages query options queue simple channel inbound handler connection statement id put sharable login options simple event handler ch ssl engine frame linked blocking queue md digest put add credentials message wrap consistency level supported cipher suites prepare write future ciphersuites response handler prepared attach handler msg response decompressor connection factory option cql version decoder factory connection await uninterruptibly attr channel pipeline init channel illegal argument enabled initializer future error registered logger factory connection tracker inet socket address compression frame decompressor utils result message slf jlogger factory frame encoder protocol decoder io close override logger client mode event handler frame compressor encryption options interrupted event success instance internal channel message decoder channel option config channel blocking queue execute prepared nio ssl context channel handler context bootstrap channel initializer startup message write flush message current client encryption options ssl handler channel future bootstrap request slfj consistency beta connection consistency level
tools.stress.src.org.apache.cassandra.stress.settings.OptionDistribution
selecting mathematical factory max probability roughly accuracy ensure entire results overly skewed max probability roughly accuracy ensure entire results overly skewed max probability roughly accuracy ensure entire results overly skewed random stdevs edge prefix extreme factory find math inverse absolute accuracy inverse display distribution inverted param add exponential distribution spec split full matches matcher util lower inverse factory quantas array distribution quantized commons ignore common user google pattern group math starts scale factory option find bounds uniform factory factory code shape uniform real distribution option distribution spec distribution sequence fixed impl gaussian factory inverse cumulative probability format multi line base key multiplier distribution generate quantized extreme impl option exponential impl normal distribution length exp factory sequence factory builder stdev put parse apply size regex matcher parse config start params integer quantized extreme factory happy fixed factory wrapped sequence impl present extreme impl illegal argument bounds display compile lookup distribution jdk random generator impl trim accept distribution bound substring distribution fixed override distribution offset function end min parse format sqrt lookup multi line display grouped options weibull distribution description arrays max insensitive uniform impl impl stress gaussian impl required distribution factory
src.java.org.apache.cassandra.db.compaction.writers.MaxSSTableSizeWriter
estimated total amount data write txn expired tables lifecycle transaction directories min repaired index manager table descriptor row index entry estimated keys io data directory override rie cfs math originals rows suppress warnings total size compaction writer partition writers append estimated compaction ratio deprecated current writer offline unfiltered row iterator max metadata make location disk table writer writer estimated total keys format metadata collector directories db sstable writer util expected compacted file size op column family store compaction operation indexes lifecycle max table size writer estimated keys compaction serialization header table reader originals compaction location level directories sstable directory location real append comparator sstable estimated disk written pending repair max table size total write size estimated tables tables round iterable compaction aware writer
src.java.org.apache.cassandra.db.view.ViewBuilder
rebuilding read pretend track generation number anymore rebuild stopped max generation filter yield sstables due care max generation approximation method calculate percentage range covered approximation count total number ranges node order tokens determine total number ranges reset number ranges left total ranges end ksname view built local ranges system distributed keyspace finish view build status collections atomic sstables uuid gen atomic logger storage service remaining format max db util token compaction token partitions table reader generate view updates uuid iterator keyspace iter collect token common debug system keyspace reducing key iterator iterable select query google system iterables start view build internal read view nano time submit view builder logger base cfs schedule read query ranges left holder metadata run view nullable successful view build mutation view decorated key ranges selects key base compaction id key view manager execution controller select reference range key sstable range order group force blocking flush single partition read command token build status repair singleton select statement mutations ranges total collection fb utilities rows service view build update distributed live atomic integer annotation stopped time uuid pair integer unfiltered row iterator refs empty function mutate mv prev token warn table column family store operation minutes base read execution controller build key unfiltered row iterators periodic tasks compaction info time unit logger factory compaction manager canonical rows scheduled executors utils io logger view status replicated id function storage proxy element execute locally unfiltered partition iterators select function instance local host id begin view build dht table read query deletion time trace view builder view built replicated stop local host id concurrent update view build status data lifecycle view sec refs compaction info slfj command keys built compare empty row rows iterator view build status
src.java.org.apache.cassandra.auth.IRoleManager
responsible managing roles includes including alteration granting revoking roles supported options role aliases backwards options supported role alter role null empty subset supported options users alter performing alter role null empty called execution role options guaranteed subset performer user issuing role role rolei options options role created called execution drop role removing record role implies revoke role roles granted performer user issuing drop role role role called execution alter role options guaranteed subset actor performing superuser altering options guaranteed subset body method blank support modification performer user issuing alter role role role options options called execution grant role grant role existing grantee role granted inherit permissions granted performer user issuing grant role role granted grantee role acting called execution revoke role revoke granted role existing revokee lose permissions inherited role performer user issuing revoke role role revokee role granted role called execution roles roles granted grantee grant grantee role granted roles include inherited true inherited roles directly granted granted roles called execution unqualified roles total distinct roles roles true exists role superuser superuser status inherited granted method true role transitively granted role role superuser status true role exists superuser directly true exists role privileges inherited granted directly granted role login role alter role role login privileges true role exists permitted supports options alter method representing options supplied options supplied empty role role custom options pairs representing custom options true role exists role role existence true identifies extant role resources made inaccessible users accessible keyspaces column families unmodifiable hook perform validation configuration hook perform specific called system method required performer existing role custom options roles role resource drop role alterable options login option resources grantee alter role irole manager options revoke role role supported options configuration iresource superuser auth roles util validate configuration include inherited password request validation role options revokee request execution authenticated user setup role grant role login options
src.java.org.apache.cassandra.db.lifecycle.LogAwareFileLister
files folder filter determines files client file behavior fail unfiltered file systems consistent disk permit simplicity behaviour careful txn log files file files deleted files apply user filter read txn log fail user log error apply txn log record filter disk files transaction filter files expect txn file missing disk state resolve previous races directory txn file temporary remove read file completed txn completed filter files missing txn wrong comment top log transaction requiring txn completed obsoleting aborting files present present ext log record committed files path logger flat directory stream format directories db util key io classify files navigable temporary files collect log transaction log aware file lister google exists visible close log file logger tree common runtime files throwable corrupt transaction log collectors remove key filter log file txn entry spliterator put collection apply size stream support stream txn file txn log annotations files bi function completed add files present folder join error txn err logger factory num files function file directory stream find directory io logger read txn log temporary verify make file empty navigable key temporary nio file files txn err entry lifecycle slfj file
src.java.org.apache.cassandra.tools.nodetool.RepairAdmin
supports failing incremental repair max col local session info probe airlift node probe math row title coordinator add preconditions updated util execute array fail session collect session common sessions google force consistent system session id parse option array formatted size runtime node tool cmd repair service proxy base command widths update check argument length airline repair header active repair service mbean cancel tools fb utilities rows service integer node tool sessions state repair service proxy join session nodetool sessions io repair admin utils format participants empty description max joiner fmts cancel session
tools.stress.src.org.apache.cassandra.stress.settings.SettingsCommandPreDefinedMixed
unique mixed command ratios selecting commands index na command option cli utility operations key command read printer system option options exit collections printf override stress category operation select predefined sampled op distribution factory probability options probabilities mixed options add factory params build op distribution factory option distribution opt grouped options size count clustering uncertainty run parent arrays partition generator predefined operation timer util singleton command command pre defined ratios command pre defined mixed report write generate option warmup stress illegal argument generator timer merge runnable seeds command array result logger duration operation distribution factory options option probabilities seed manager
src.java.org.apache.cassandra.cql3.functions.CastFcts
casting creates cast function cast output output cast function cast creates cast function cast output output cast function cast adds function converting input output functions add input input output output converter function convert input output base cast input output casting wrapping input output function convert input output counter columns handled special binary representation converted bigint functions output casting wrapping existing input output scalar function perform cast ascii text input instantiated time uuid text output buffer compose big decimal parameters cql literal function prefix add protocol version format db inet address util column cql serializer execute lower array commons time delegate cast fcts lower protocol version lang decimal time fcts function wrapper scalar function cq math suppress warnings add function simple date big integer timestamp marshal uuid ascii apply size collection counter function wrapper counter column ut function cast function integer converter number cast text function function wrapper decompose function wrap function cq override input function date functions word utils column instance transport numeric nio timestamp capitalize bb
src.java.org.apache.cassandra.tools.BulkLoadException
bulk load throwable tools serial version uid
src.java.org.apache.cassandra.schema.Triggers
trigger trigger empty trigger optional triggers instance provided trigger creates triggers instance trigger provided google iterator present format override iterables code trigger metadata immutable add trigger empty build size optional schema triggers builder nullable util illegal state iterator triggers builder put filter collect common iterable
test.unit.org.apache.cassandra.db.compaction.CompactionsCQLTest
timestamp window minor compaction altering local compaction altering compaction disable auto compaction stream verify strategies local compaction strategy enable compaction parameters illegal argument fail manager trigger minor compaction stcs alter table sleep flush compaction strategy manager strategy trigger minor compaction stcs keyspace size tiered compaction strategy local options enabled cql tester enable auto compaction find trigger minor compaction stcs nodetool enabled system expected trigger minor compaction lcs compaction strategy junit date tiered compaction strategy true bad local compaction strategy options local compaction strategy thread found db wait minor strategies local compaction strategy disable current column family store util compaction strategy manager compaction cf current table trigger minor compaction stcs nodetool disabled cql untyped result sleep time trigger minor compaction stcs alter table trigger minor compaction stcs disabled execute compactions cql clear put start time trigger minor compaction twcs strategies keyspace table match max wait time false throwable row trigger minor compaction dtcs current time millis
src.java.org.apache.cassandra.utils.memory.AbstractAllocator
allocate slice clustering cloning btree row builder utils cell put buffer override btree row allocator clustering rows mark cell duplicate allocate memory size remaining row nio buffer util buffer clone db cloned add cell allocator copy reset empty buffer cloning btree row builder builder row
test.unit.org.apache.cassandra.cql3.TombstonesWithIndexedSSTableTest
reproduces bug range tombstone boundary column index partition big underlying sstable number place range deletions indexed location tombstone boundary insert tombstone index position repeat procedure boundary hits tombstone line failed key caching line failed key caching deletion loop index info retriever columns index text utils flush tombstone boundaries index make random file data input max io min deleted indexed row kind math compact cache keys length min info retriever cql tester indexed util instance tombstone boundaries index cached clustering prefix reader junit suppress warnings random dk buffer util format decorated key index entry row count db execute open index current column family store util rows live tables index file max deleted cql eq position boundary compose table reader tombstones indexed table tombstone boundaries index cached row index entry open index reader random sstable length table operator throwable marshal
src.java.org.apache.cassandra.io.compress.BufferType
direct nio heap heap compress buffer buffer allocate direct allocate io buffer size
src.java.org.apache.cassandra.utils.UUIDGen
goods grand millis oct min max lsb note compares lsb parts signed array times max times note ignore uuid variant variant variant practical consequence robust uuid broken placement singleton instantiated make whack clock seq node changing order creates uuid uuid creates uuid timestamp uuid version uuid provided timestamp local clock note method generally safe guarantee parameter unique calls uuid unique accross micros unix time uuid multiple calls method similar randomize clock guarantee argument unique jvm prefer guarantee method ensure uuid unique micros unix time uuid uuid calls unique creates uuid raw decomposes uuid raw representation uuid based current system uuid represented smaller uuid provided method querying guarantee uniqueness resulting biggest uuid provided method querying guarantee uniqueness resulting unix timestamp milliseconds uuid timestamp nanoseconds biggest uuid timestamp extend precision milliseconds unix unix microseconds unix timestamp milliseconds unix converts precision timestamp uuid precision provide milliseconds timestamp number number nanoseconds method guaranteed unique invocations identical timestamps result identical uuid represented uuid number milliseconds unix illegal argument uuid version variant clock sequence generate uui candidate path millisecond path atomic falling move time forward past clock version access mac address generate node identify host uniquely spec option source node gathering ip note identify node triggers instanciation uuid generator stress require mac expose mac spec bit significant bit octet node identify identify process pid loader generated calendar clock seq node make clock seq node lsb millis nanos unix timestamp atomic buffer math micros uuid instance address uuid gen atomic timestamp make node util significant bits time uuid update random common inet address uuid loader google original nanos visible system compare digest secure random addr significant bits version allocate local addresses net time safe runtime nanos update uuid security buffer length max clock seq node identity code secure random max time uuid loader uuid tstamp adjusted timestamp fb utilities nanos time uuid algorithm collection time uuid library time millis msb message digest time unsafe unix timestamp sec unix timestamp message digest illegal argument flip annotations put time uuid checked cast time unit time uuid micros decompose update utils pid raw primitives local addresses current time millis nanos min instance empty node random time uuid micros nio min clock seq node buffer loader start epoch concurrent min time uuid loader id data process id clock increment micros timestamp position milliseconds nsae
src.java.org.apache.cassandra.cql3.statements.RevokePermissionsStatement
statements result message authorizer user role permissions management statement client state transport service permission grantee state permissions config revoke iresource revoke permissions statement auth util database descriptor cql request validation execute resource request execution messages
src.java.org.apache.cassandra.net.IncomingStreamingConnection
thread consume stream init closing constructed stream remain streaming connections fixed stream drop follower initiator makes incoming receiving side distinguish connections socket incoming outgoing streams parallelize streams socket close timeout plan id group stream message streaming io preview kind override current version logger data input stream suppress warnings init receiving side remote socket address outgoing init version session index input net config streaming socket timeout logger run socket thread format data input util stream init message table level stream result future throwable database descriptor closeable input stream closed socket deserialize messages remove incoming streaming connection logger slfj pending repair error debug io logger factory stream operation serializer
test.unit.org.apache.cassandra.db.compaction.CompactionControllerTest
latest oldest add check max purgeable timestamp memtables sstable check max purgeable timestamp compacting sstable sstable check max purgeable timestamp sstables insertion orders latest oldest sstable tombstone expired older sstable tombstone sstable recent sstable sstable expired overlapping sstable newer gc period add older mutation memtable sstable gc iterator fully expired tables buffer util predicate add null junit timestamp micros dk buffer util format max db util live tables compaction add partition key column difference partitions table reader apply mutation define schema collect timestamp common add clustering column configuration google system max purgeable timestamp cfs compound cfm boundary size metadata decorated key key ascii apply unsafe val apply delete mutation keyspace current time millis keyspace force blocking flush timestamp timestamp timestamp add regular column truncate blocking simple partition update compaction controller mutation open fb utilities clustering table metadata dense schema function overlapping keyspace controller column family store compaction controller prepare server row update builder compacting utils fully expired tables io full partition delete purge evaluator cf purge boundary sstable column family store instance build cf true schema loader nio keyspace params evaluator expired builder keyspace marshal false
src.java.org.apache.cassandra.index.sasi.analyzer.filter.FilterPipelineTask
single task work process single maintains link task executed process index input analyzer filter pipeline task illegal argument filter sasi
test.unit.org.apache.cassandra.cql3.validation.miscellaneous.CrcCheckChanceTest
stack tables change accessing directly schema previous persist call jmx check open readers updated compressed files perform crc dfile reader relevant tables disable auto compaction execute iterator utils crc check chance wait futures compaction interrupted base table idx data reader io execution open data reader open cfs changing crc check chance format crc check chance submit maximal drop compaction keyspace rows cql tester column family store instance force major compaction params alter table gc changing crc check chance base data reader crc check chance index cfs fb utilities config junit metadata concurrent compaction throughput mb sec changing crc check chance format format crc check chance db miscellaneous util framework future column family store compaction format current table database descriptor cql index manager live tables table reader keyspace row futures idx table random access reader sstable table force blocking flush throwable validation compaction manager index column family stores
src.java.org.apache.cassandra.io.util.RewindableDataInput
reset data input rewindable data input past mark mark util io data position io
src.java.org.apache.cassandra.hadoop.ConfigHelper
keyspace column family input conf job configuration keyspace column family input conf job configuration keyspace output conf job configuration column family output conf job configuration column family output conf job configuration number rows request range slices big timeouts fetch small eaten overhead conf job configuration batchsize number rows request number rows request range slices big timeouts fetch small eaten overhead conf job configuration number rows request size input affects number number overhead bulk job conf job configuration splitsize number partitions input size input input split size affects number number overhead bulk job conf job configuration split size mb input split size undefined conf job configuration split size mb key range limit conf job configuration start end token input key range null range batch size unsupported operation input widerows config output keyspace user output keyspace username config splitsize input initial address input split size config input keyspace input initial address write consistency level output keyspace config input partitioner logger input keyrange config output local dc config helper output column family password output columnfamily config input keyspace user read consistency level output column family logger output keyspace passwd config input split size mb input keyspace password input key range output keyspace user password range batch size config read consistency level chunk length split size mb output partitioner input partitioner config output compression chunk length output compression output keyspace output keyspace password input range output local dc input split size configuration end token input initial address input column family column family input split size input keyspace user password address range batch size ipartitioner batchsize partitioner keyspace length classname write consistency level write consistency level input split size mb config fb utilities output local dc input columnfamily config output partitioner config pair input split size mb schema username output initial address start token range batch size split size output compression input keyspace password parse compression params output keyspace user str input keyspace username config output compression chunk length output compression chunk length logger factory input predicate config input wide output initial address output initial address utils conf logger output compression output partitioner hadoop input keyspace config parts input partitioner split dht input keyspace user input keyspace passwd config output keyspace password widerows slfj consistency level local dc read consistency level input column family output keyspace
src.java.org.apache.cassandra.io.util.ChannelProxy
proxy file channel reference exports thread safe file channel wraps io runtime wrapping io read utils channel proxy tidy channels cleanup file descriptor ref counted file path override close buffer open file channel mode runtime path buffer library size channel transfer count nio file path read buffer getfd util concurrent io standard open option copy read error shared copy target path open channel tidy shared closeable impl writable channel mode file position
src.java.org.apache.cassandra.dht.RangeFetchMapCalculator
model graph range stream vertex node provide range vertex add edge range node provide solve maximum flow problem add source edges range sink incoming edges node capacity edges source capacity edges node vertices capacity edges sink machines ranges stream capacity machine stream sum capacity edges source capacities sink maximum flow machines provide total supersource capacity total supersink capacity worst capacity solve problem find solution total flow number bump capacity source vertices act source destination graph edges ranges source source destination vertex working find path previous bump capacity endpoint vertices destination making progress total number range vertices convert max flow graph iterate range vertices find edge flow connecting endpoint graph graph result flow algorithm multi machine increase capacity endpoint vertices destination graph graph work incremental capacity amount increment add source destination add edges capacity source range add edges endpoint vertices destination vertex capacity graph graph work destination capacity capacity edges endpoint vertices find initial capacity machine vertices destination things graph graph work initial total nodes endpoints generate graph ranges endpoints edges range filtered source sources local dc generated ranges source add source endpoints edges infinite capacity range vertex source endpoints clear capacity graph capacity graph range vertex range add source local dc check add source endpoints local dc add atleast source range applying filters pass filter localhost count add localhost graph avoid streaming endpoint endpoint local dc check endpoints local true filters pass vertex vertex denotes source destination vertex flow endpoint math vertices instance graph calc flow function vertex illegal state ford fulkerson algorithm incremental capacity edges endpoint vertex flow function info graph max source filters ceil util key token outer vertex local dc common endpoint vertices source vertex math inet address endpoint snitch local dc check google psjava result destination vertex add edge multimap logger code range fetch net endpoint source found range fetch graph result datacenter maximum flow algorithm result ranges sources range local data center range vertex put destination vertex mutable capacity graph range filter keyspace range algo collect range fetch calculator range streamer calc total flow range add endpoints fb utilities source collection range vertex integer increment capacity calc integer number system numbersystrem maximum flow algorithm ford fulkerson logger count flownetwork destination link capacity endpoint capacity graph range vertices insert vertex range vertex total range vertices logger factory multimap flow utils destination override endpoint vertex logger function range fetch pathfinder destination capacity dht config add source destination vertex source vertex vertex pass filters dfs path finder database descriptor include source flow slfj vertex broadcast address isource filter capacity edge endpoint vertex
src.java.org.apache.cassandra.cql3.statements.AuthorizationStatement
execute internal local query altering permission make sense invalid request unsupported operation statements authorization statement result message override keyspace query state data resource parsed statement client state transport service prepared table state correct resource cql statement iresource bound terms table level auth data resource query options cql table execute internal request validation execute instance resource prepare request execution messages client state query start nano time options
tools.stress.src.org.apache.cassandra.stress.settings.Command
printer google command pre defined extra read command pre defined mixed command counter write mixed legacy user basic table category printer immutable add legacy lookup runnable run description counter read printer command user write version command updates copy misc lower error util stress command category array cmd put collect replace lookup common
test.unit.org.apache.cassandra.service.StartupChecksTest
ignore invalid sstables snapshots backups fail startup invalid tables found files data file locations system keyspace message path junit directories db util io resolve setup server tear system verify failure fail cfs legacy table root filename files check max count absolute path length compatibility check ignores db files column family stores data dir invalid legacy sstable root prop message open service copy legacy table files clear unsafe child directories schema check tables format keyspace column family store copy prepare server property setup target dir startup checks directories paths file io startup checks verify delete recursive max count check startup config startup checks true schema loader nio snapshot dir schema constants file utils database descriptor path sstable dir file backup dir file false copy invalid legacy tables
src.java.org.apache.cassandra.db.lifecycle.LogFile
transaction log store transaction records log copied multiple identical replicas supports transactional logic log transaction unfinished leftovers transaction clean cc sstable versions defined physical files file identical transaction order unique id file format version sstable version defined version sync parent directories content deletion previously deleted files incorrectly picked sync parent directories contents log ensure edge record corrupt records matching files simply exited whilst serializing record carry paranoid sanity record files disk make information files mistake user copied backup forgot remove txn file obsoleted check latest update time make delete files oldest latest update time found corruption number files matches previous sort files ascending update time order update stays partially delete comment extract files passed scan records select located record extract files passed belong linking record files passed linked present failed ext log record committed group delete files records log transaction add path logger optional file file regex format matches matcher db file util records sync directory compaction aborted accumulate illegal state matched uuid modified commons remove logger abort collections add replicas google verify record corrupted record exists pattern visible system delete record files navigable iterables close lang log file append add record starts merge log replica ret fail operation folder make abort common big format make commit latest version files throwable throwables make record verify record collectors read records directories record files remove current time millis filter sstable separator collect commit log file log replicas log replica put table disk record regex line separator invalid file paths sep matcher record remove unfinished leftovers commit annotations files auto closeable existing files show contents builder completed add operation error folder file error replicas join record valid compile record str error logger factory num files delete sort update time file stream utils find descriptor table abort contents errors io override logger checksum id verify make big status nio replicas valid group count compare singleton files replica existing files lifecycle warn compute checksum invalid clear record slfj invalid partial file directory utils
src.java.org.apache.cassandra.batchlog.BatchlogManager
concurrency protection written replay executor service scheduling serializing log replay progress request executed invokes initial rate limit disabled max rate scaled number nodes cluster hhom live content processed batch tombstoned content present avoid walking part rate current rate rate throttle kb throughput kb read rows page sending batches replay waiting stuck batch affect write mutations expired cfs involved reached end avoid page mutations finish processing page requesting preserve batch ensure hints made deleting generated hints delete schedule hints timed time actual write bm removal acquire mess ttl writing hints rest starting remove cfs truncated written abort replay considered success delivered deliver mutations replicas alive resort writing replica write request times direct delivery handler wait live nodes delivering directly writing wrapper write response handler stores addresses endpoints receive successful candidates batchlog nodes special data strip dead endpoints endpoints randomize racks pick grab random member concurrent replay write response handler page size messaging service entries results column family store endpoint throttle kb unix timestamp system keyspace buffer scheduled executor service mbean math row rack members batches thread local random register mbean start batchlog replay simple builder management factory rate write rpc timeout system keyspace send single replay mutation uuid gen message tk gms empty logger remaining storage service timestamp micros format max db batch finish bound util send replays token endpoint io force batchlog replay replay handlers broadcast address cql execute internal partitions decoded mutations write uuid deserialize array replayed uuid schedule fixed delay remove logger keyspace common debug data output buffer uuid write timeout data input buffer throttle kb calculate page size gcgs google rate limiter random replay failed batches scheduled thread pool executor visible system token replay hinted nodes remove currentversion iterables endpoints count message send rr replayed batches rate limiter collect array size partition size ret current shuffle version mutation max limit net mbs empty start multimap batches flush fsync blockingly key runtime size endpoints simple builder finish clear batches add live endpoints inet address write endpoints debuggable scheduled thread pool executor query processor endpoints serialized mutations natural pending endpoints concurrent message write hints undelivered endpoints written current time millis filter rack future throughput position page encoded mutations marshal max time uuid shutdown uuid valid batches write response handler key partition update serialize mutations put table id mutation batchlog unlogged batch apply message open fb utilities unfinished batches management batchlog manager service batchlog replay throttle kb transform submit key start handler execute internal paging integer batchlog manager mbean annotations store schema error undelivered mutation alive total block average row size acquire replay interval token metadata warn keyspace column family store count batches input add removed untyped result racks local rack hints multimap batchlog tasks handlers creation time batch host id endpoint rate rack executor time unit logger factory clear decompose table ids append natural endpoints serialized mutation hint truncated utils await termination replayed write failure io execution override full partition delete logger validated id result failure detector element min array multimap message interrupted process batchlog entries nano time write instance smallest gcgs query timestamp execute existing delayed tasks shutdown policy dht config query start nano time total batches replayed total batches replayed nio trace buffer hints service add mutations mbean server build mutation schema constants durable writes min time uuid entry entry database descriptor replaying batch page size response lang undelivered collection batchlog timeout add mutation builder endpoint filter ring delay platform mbean server slfj table id serializer collections perform initial replay limit uuid row milliseconds
test.unit.org.apache.cassandra.gms.GossiperTest
initialized generation generation updated generation years future generation updated google actual remote heart beat proposed remote heart beat daemon initialization system gossiper locator heart beat state unknown host bad proposed remote heart beat random partitioner max generation difference service apply state locally immutable initial remote state interrupted clear unsafe util instance tmd heart beat state gms proposed remote state net dht config junit storage service remote host address bad proposed remote state large generation jump endpoint state key tokens util token initial ring database descriptor endpoint state endpoint ipartitioner generation token metadata uuid array endpoint tokens token metadata current time millis partitioner collect gossiper hosts common initial remote heart beat inet address host ids setup
src.java.org.apache.cassandra.cql3.conditions.Conditions
conditions applied mutation empty exists exists adds functions conditions functions add column definitions apply column definitions apply checks checks exist exist checks exist exist checks conditions apply conditions apply checks conditions apply regular conditions apply regular adds conditions cas request clustering clustering options query clustering statements request conditions applies regular columns function functions add conditions empty condition column metadata add functions builder empty build exists condition applies columns exists conditions schema exists condition exists condition db util query options cq cas request cql exists condition columns column conditions exists options iterable clustering
src.java.org.apache.cassandra.metrics.HintedHandoffMetrics
metrics total number hints total number hints google incr past window time uuid utils entry caffeine factory factory codahale system keyspace update hints dropped logger key loading cache created hint counts difference log stored metric factory cache caffeine mark metrics builder uuid gen build net direct executor benmanes metrics registry count counter db util concurrent reported meter current address entry differencing counter host address logger incr created hints metrics count github hinted handoff metrics metric entry counter replace warn logger slfj common executor inet address logger factory executors
src.java.org.apache.cassandra.service.paxos.ProposeVerbHandler
messaging service utils send reply serializer id message payload propose verb handler service message instance verb reply net request response propose paxos state commit iverb handler response message verb paxos serializer
test.unit.org.apache.cassandra.cql3.OutOfSpaceTest
tombstone overwhelming thrown killed quietly startup flush insert amount tombstones trigger correct make commit log active segments disk failure policy current table metadata flush unwriteable die space utils flush column family store fail dirty table ids table id io execution current column family store config id segment manager util jvm stability inspector open write error killed quietly killer cql tester interrupted keyspace killer instance original killer gms commit log ignore config junit schema true replace killer killed stop db execute force flush killer util concurrent make table flush unwriteable ignore current table database descriptor cql segment closeable mark directories unwriteable commit log segment framework policy flush unwriteable stop disk failure policy keyspace gossiper table table id disk failure policy die false throwable commitlog flush expect error enabled
src.java.org.apache.cassandra.cql3.functions.BytesConversionFcts
text varchar ends automatic make blob function special skip blob obvious xas blob blob functions basically invalid request utils marshal cq conversion fcts make blob function buffer protocol version varchar transport function format functions serializers parameters collection instance add protocol version scalar function ut nio buffer util make blob function db varchar blob fct util validate cql execute blob varchar fct array cq val blob hex marshal
test.unit.org.apache.cassandra.db.commitlog.CommitLogSegmentManagerCDCTest
confirm logic check allocate cdc segments spin hit cdc capacity make trigger compression ratio compressed confirm table write cdc confirm files show simulate cdc consumer reading files deleting update size tracker reflect deleted flip flag current allocating fit segments cdc flushed permitted total waiting permitted spin hit cdc capacity make confirm cdc update process flag active clear archived cdc space confirm newly allocated segments reset unsafe cdc write timeout random buffer segment manager cdc state commit log segment manager cdc add junit db util io cdc mgr cql commit log segment size execute random commit log segment manager cdc table segment flagging creation throwable write timeout cfm wrap wrap fail force recycle segments forbidden expect current cdc state state files original cdc size size allocating metadata cdc space mb keyspace length force blocking flush current table delete confirm orig size cdc space mb cdc state randomize buffer apply open ct table metadata cdc log location integer schema cdc raw count assume keyspace row update builder clsmcdc discard logic commit log segment delete ccfm current table metadata assume true io await management tasks completion cdc enabled cql tester column family store instance build update cdc total size commit log config true nio file utils database descriptor check config file commitlog permitted
test.unit.org.apache.cassandra.net.MockMessagingServiceTest
echo message mock incoming reply outgoing echo intercepted outgoing message mocked echo message messaging service payload init cluster utils request response collections execution currentversion messages intercepted init server fb utilities response latency snitch service instance interrupted message cleanup gms mock messaging spy net junit storage service configuration true schema loader empty echo util concurrent respond echo message verb mock messaging service prepare server msg capture message send rr mocked message responses message mock messaging service spy verb broadcast address iasync callback echo message serializer
src.java.org.apache.cassandra.net.RateBasedBackPressure
algorithm based rate limiting ratio incoming outgoing sliding time window size write rpc updating collect compute min incoming acquiring interval proceed updating thi state rate outgoing requests time ahead rate safe concurrent state updates compute ratio high growing outgoing rate rate rate limiter incoming decreased rate actual reset rate pruning windows resetting check find rate limiter replica group represented rate updated acquire interval lock rate limiter update rate limiter based configured assigning single rate limiter replica group window size limiting stable group apply rate limit max pause time provided timeout minus response time computed incoming reduce number client timeouts account process responses actual ratio max rate limit caffeine release interval lock rate limiter timeout nanos math response time nanos immutable cache rate message factor logger rate limit util interval lock logger back pressure factor timeout inet address rate based back pressure state present google rate limiter visible current max rate limiter time source collect flow caffeine net host rate based back pressure common min incoming rate high ratio parse host state key positive infinity convert back pressure strategy ten secs spam logger upper updated interval lock factor executors time source cache outgoing rate parse apply unit size slow sleep uninterruptibly fast builder integer annotations direct executor interval rate limiter flow parameterized rate limiters write rpc timeout minutes info prune illegal argument negative infinity rate incoming rate canonical time unit logger factory nanoseconds system time source trim utils acquire states expire access current min override logger spam logger hours empty build config executor trace back pressure high ratio min spam logger high ratio window size concurrent min rate limit database descriptor params max github back pressure flow rate limiter replica group flow back pressure slfj benmanes
src.java.org.apache.cassandra.db.filter.ClusteringIndexSliceFilter
filter single partition guaranteed cover filter includes filter start finish partition head lower bound rows match note filter markers bit trickier advance range harmless leave iterator max clustering fully covered buffer row serialized size unfiltered row iterator clustering comparator slice format serialized size internal db util io selects partition partitions table reader append order cql filter indexed deserialize slices internal deserializer column filter serialize internal slices clustering clustering index filter data output transformation append clustering index slice filter partition version metadata head filter kind data input partition apply rows tester filter sstable filter indexed deserializer table metadata row slices order tester lower bound column filter upper bound apply size clustering min clustering table metadata order tester transform fetched columns slices unfiltered row iterator selects schema cached partition builder reversed paging serialize kind comparator unfiltered iterator compare rows intersects requested slices inclusive io override cql row slice deserializer end empty nio includes sb include apply row empty row clustering index filter serializer
test.unit.org.apache.cassandra.io.util.SequentialWriterTest
write greather mark thi write buffer reset current position flushed size write flush file size output stream exposed sequential writer behaves transactional daemon initialization prefix files output stream thread local random writer add cleanup data output stream sequential writer junit temp dir reset truncate util framework temp file io array commons common google exists write utf fail finish close current prepared full contents temp file heap sequential writer option progress length reset truncate read file array pos buffer size flush offset mark builder write size sequential writer option committed copy setup dd delete io utils file buffer size testable sw writers build config true finish buffer file open arrays compress testable transaction concurrent data position file utils database descriptor partial contents buffer write clear sw write false position aborted
src.java.org.apache.cassandra.net.MessageOut
support messages consist larger supported sstables calculate size payload message protocol memoize result protocol memoization covers version safe call payload size concurrently multiple threads single thread relationship invocation threads concurrently invoking instance safe invoke payload size make decision thread created hand threads version protocol version calculating payload size payload message payload size version collections serialized size parameters immutable version iversioned serializer max db util verb io collect common write data output buffer google data output visible write utf sizeof append verb net fb utilities stage sizes empty tracing builder stage inet address put tracing key length messaging service key serialize entry tracing payload size sbuf verb stages size builder integer compact endpoint serialization helper scratch buffer timeout annotations message put utils io length id write instance build data concurrent trace headers entry parameter dob builder payload size broadcast address entry serializer
src.java.org.apache.cassandra.tools.nodetool.Repair
avoid repairing full repair probe airlift node probe primary range title distributed keyspace usage unrepaired data center util parallel execute array commons collect common incremental key trace key google force pull repair key system streaming lang empty option array repair option sequential end token explicitly repaired runtime node tool cmd repair parallelism command preview parse optional keyspace messages keyspace sequential airline specific data centers repaired options repair num job threads put primary range key columnfamilies key tools hosts key parse optional tables integer preview node tool schema start token keyspaces datacenter aware repair async ranges key repair join parallelism degree force repair key specific hosts preview kind local dc nodetool preview kind arguments io override dc parallel datacenters key empty keyspace cfnames description trace parallelism key schema constants validate job threads key local strategy pull repair utils
test.unit.org.apache.cassandra.cql3.validation.entities.UFIdentificationTest
checks collection function matches intended verify subcomponents statement selector factories properly report constituent purely terminal functions resolved included reported verify calling client uf auth includes verify conditions collection attributes timestamp ttl terms resolve function calls call functions disallowed cql alternative query builder appends table supplied stmts form logged function outer modification statement nested functions entities add junit batch statement conditions format nested function call util function call attributes cql cql execute array collect table common throwable nested function token restriction google udt func table iterables batch statement client state echo function func select statement simple selections terminal udt literals batch statement function template cql statement func join stmt ignore base func array actual select statement simple restrictions keyspace length current table select statement nested selections statements apply joiner service cql transform params query processor statement expected simple modification statement function func copy functions func func func func func setup batch internal calls statement func terminal tuple select restrictions terminal collection literals user func function functions keyspace cql tester empty functions symmetric difference true func arrays modification statement modification statement attributes function modification statement conditions validation udt uf identification select statement restrictions nested functions modification statement func
src.java.org.apache.cassandra.index.sasi.memory.KeyRangeIterator
consume smaller size compare google key iterator perform skip utils token io close disk index dk token iterator merge range iterator combined add add memory hppc key range iterator peeking iterator peek offsets keys db concurrent skip decorated key util concurrent token io open token dk iterator token comparator iterator compute sorted collect token common end data carrotsearch sasi offsets tree
src.java.org.apache.cassandra.cql3.functions.UDFunction
base user defined access controlled whitelist requested compilation whitelisted patterns array searched requested matches runtime whitelisted pattern array searched match rejects blacklist indirectly covers server side timestamp generator resource explicityl setup udf loader parent loader full control udf happen function declared loaded instance classpath function broken function dropped easily people meaningful error message function executed function async udf execution expensive overhead invocation parameter remaining parameters paramters prevent superfluous state scalar functions aggregates called async udf execution expensive overhead invocation codec stuff driver loaded restricted security context call links ud fail due access loading deferred executed called limited parameter remaining parameters paramters prevent superfluous state scalar functions aggregates called log emit warning udf execution retry difference retry time difference consumed cpu time execution hit badly timed thread id cpu time time udf code generated script executor convert serialized representation protocol version protocol version index index udf input udf code generated script executor convert representation serialized protocol version protocol version insecure loader blacklisted patterns keyspace metadata match codec user function timeout policy resource found codec collections buffer jvm stability inspector completable future udf loader udf context impl compose current thread parameters executors management factory param callable add message black protocol version logger keyspace metadata codecs param serialize function thread format url db util interrupt cql deserialize execute resource thread mx bean insecure loader user defined function warn timeout array udf context ignore logger codec codecs common debug timeout setup ud helper functions google virtual machine error system enumeration data result enable scripted user defined functions protocol version enable user defined functions nano time transport starts execute async make empty parameters null runtime code math find execute aggregate user defined thread mx bean net body core user defined function fail timeout tracing aggregate broken reason base called null input inet address throwable execute aggregate code cpu time millis language find resource tracing loopback address cpu time keyspace broken function function execution executor service marshal invalid request thread id cpu time driver callable wrt nullable replace ignore start execute user defined config size script based ud function keyspace metadata management service codecs submit execute aggregate async index column identifier initialize thread datastax ud function inet schema enable user defined functions threads complete context loader async user function timeout thread mx bean null empty resources data white loader thread cpu time warn future udfs enabled executor time unit logger factory decompose based ud function utils thread id client warn substring execution override logger ascii called null input driver functions load interrupted id user function timeout policy instance schema config codec nio trace max driver udf context callable concurrent scalar function future fe database descriptor lang thread id cpu time single thread executor data whitelisted patterns secure resource current thread cpu time empty enumeration slfj udf loader milliseconds function
src.java.org.apache.cassandra.tools.nodetool.Scrub
nodetool probe airlift system node probe arguments io override scrub tools scrub option title parse optional tables table usage validation node tool jobs description runtime node tool cmd skip corrupted util keyspaces command parse optional keyspace execute disable snapshot array keyspace airline illegal argument
test.unit.org.apache.cassandra.cql3.validation.entities.udfverify.ClassWithInitializer2
unsupported operation codec data buffer protocol version transport functions initializer field entities params math protocol version datastax sin param execute aggregate impl core nio driver udf context util cql data execute impl udf context udf udfverify validation
test.unit.org.apache.cassandra.cql3.validation.entities.udfverify.ClassWithInitializer3
unsupported operation codec data buffer protocol version transport functions entities params math protocol version datastax sin param execute aggregate impl core nio driver udf context util initializer cql data execute impl udf context udf udfverify validation
tools.stress.src.org.apache.cassandra.stress.operations.predefined.CqlInserter
operations build run op query parameters cql run op wrap query id cql run op succeed buffer table override query append predefined generator max columns key add column timestamp integer client wrapper columns namestrs partition generator nio build query builder cql operation timer util wrap quotes command stress key report write generate seed manager write stress add array cql inserter timer client params query params seed manager
test.unit.org.apache.cassandra.db.RemoveCellTest
table open cfs cql tester column family store row junit rows db remove cell delete cell keyspace column family store cql execute keyspace table force blocking flush throwable
test.long.org.apache.cassandra.cql3.ManyRowsTest
migrated page counting bit migrated fetch existing row insert approximately random rows todo parallel size clustering large clustering row rows cql tester row count add integer junit rnd util cql execute array random table large count throwable rows
test.unit.org.apache.cassandra.AbstractSerializationsTester
messaging service exists serializations tester serialize system put output io cur ver input file input stream data input stream serialized size length version path serialized size iversioned serializer file output stream version integer net parent file suppress warnings data input buffered data output stream mkdirs channel util data output stream io version version property execute writes version obj file data output buffer serializer
test.unit.org.apache.cassandra.schema.ValidationTest
cql parser source put primitive compatibility compatible junit schema true valid negative source arrays db clustering column compatibility util compatibility schema constants parse valid positive destination valid validation compatible destination false throwable marshal
src.java.org.apache.cassandra.cache.NopCacheProvider
cache provider empty iterator icache capacity replace put absent collections remove nop cache cache size util key put capacity iterator weighted size clear irow cache entry nop cache provider key iterator hot key iterator key row cache key
src.java.org.apache.cassandra.db.marshal.AbstractType
specifies comparator specific note empty buffer represent arguments handle represent valid buffer compared sequence unsigned compared calling support removed major release upgrade facilities provided representation identifier log representation parsed json representation parsed result parsing json converts json buffer position stay buffer protocol version protocol version json representing validate array valid sequence supposed comparing iff comparison compares buffer representation instances simple comparison unsigned standard compare validate cell unlike cell passed validate validate cell buffer representing cell internal override compare ignore comparing decide cql condition reversed simply storage engine change queries convenience method true comparator compatible previous previous safely replaced comparator cn compatible previous cp forall columns note compatible behavior compatible true read interpreted note weaker version require compare restriction interpreted integer compatible valid integer necessarily make sense interpret uuid note compatible handle reversed subclasses alternative comparison function collections conjunction comparator called compare components previous component argument null component similar override alternative validation function collections conjunction similar compare function instance equivalent nested ud explicitly schema removed empty handled ignore freezing wrapped number subcomponents singleton length fixed assumes empty cql assigned provided keyspace keyspace receiver receiver receiver compatibility assignement cql literals protocol make difference frozen reversed overriden subclasses note backwards compatibility includes full cql purposes checks ignoring ignoring differences depending ignore freezing ignore freezing differences frozen unsupported operation compare unsigned write vint length collections buffer previous syntax references user parameters base method fast operations custom source add protocol version udt assignment testable logger remaining column specification buffer util read max weakly assignable db tuple marshal util io cql serializer compare cql deserialize array logger components count empty order comparable assignment data output receiver counter freeze read unsigned vint protocol version transport collection reverse comparator serializers compare collection members empty meaningless comparison cq term sizes multi cell data input ignore freezing compose user skip vint length instance singleton collection length validate cell receiver compatible internal jamm marshal references duration serialize skip fully comparison validate collection member sizeof vint length collection exact match parser method size serializer read method custom freeze nested multicell write compatible length fixed reversed builder reversed illegal state freezable simple integer unmetered custom illegal argument components cql json logger factory skip decompose compare declaring utils parser cq io override logger parsed keyspace format write key parameters frozen collection append check comparable remaining parse parameters nio comparator order buffer json reflect max size validate reversed result lang github written length builder slfj cell compatible comparable compare custom assignable serializer left
test.unit.org.apache.cassandra.cql3.CDCStatementTest
current table metadata cdc assume true cdc statement cdc enabled cql tester params config junit true disable alter assume enable alter database descriptor cql execute check config enable table false throwable
test.unit.org.apache.cassandra.utils.FBUtilitiesTest
handle handle check incorrect length null turns empty empty turns empty check correct partitioner instance start tools fail read existing check instantiate local partitioner correctly pass correct constructor start tools fail read existing local address defined compare arrays broadcastrpcaddress buffer fb utilities arraycopy instance optional junit reset buffer util format db util io utf common inet address instance google system fail tree allocate net ipartitioner partitioner local partitioner partitioner broadcast rpc address order preserving partitioner marshal length partitioner uuid local address put wrap apply address config array config fb utilities broadcast rpc address decode load config expected local partitioner partitioner constructors partitioner config murmur partitioner ordered partitioner array rpcaddress standard charsets ae utils io primitives charset instance dht config true nio partition ordering compare arrays database descriptor error random partitioner character coding partitioner
tools.stress.src.org.apache.cassandra.stress.settings.SettingsErrors
option cli utility printer system override exit remove io printf parse math option params select integer grouped options serializable runnable run option simple arrays max result logger util options retries stress errors options ignore user cl options
test.unit.org.apache.cassandra.gms.ShadowRoundTest
ack finish shadow gossiper reply remaining ac gossip digest ack verb handler send ack received shadow migration request messages emitted shadow expect syn seed shadow round additional sy gossiper expect emit daemon initialization property singleton collections atomic enabled message gms logger junit storage service endpoint state db util verb messages intercepted gossip digest ack logger gossiper debug delayed response system compare message init server state verb spy migration req net configuration empty heart beat state gossip digest msg generation mock messaging service seeds gossip digest ack messaging service endpoint snitch locator respond currentversion payload dont reply size service heart beat version spy syn keyspace hb gossip digest ac ack send spy ack migration request logger factory initialized seeds logger gossip digest syn property file snitch instance cleanup iendpoint snitch config true shadow round concurrent singleton snitch database descriptor build seeds slfj mock messaging spy atomic
src.java.org.apache.cassandra.exceptions.WriteTimeoutException
received write request timeout write write timeout db code consistency block write timeout consistency level
src.java.org.apache.cassandra.tools.nodetool.EnableBinary
execute probe node tool cmd nodetool description airlift override enable binary node probe command airline io tools node tool start transport
src.java.org.apache.cassandra.utils.memory.NativeAllocator
allocator global slab allocation slab size scales exponentially serve allocation slab allocation reduces heap fragmentation bigger globally stash regions allocate beaten allocating satisfy large allocations directly jvm fill regions decide big region prior min small fit round repurpose previously allocated allocate swap region fail swap stash repurposing stash free satisfy large allocations directly jvm fill regions ensure loads race allocated regions total bound wasted memory region memory allocations serves provide step initialization racing cas region encapsulates allocation actual underlying offset sentinel implies region total number allocations satisfied uninitialized note memory allocated peer allocate successful null capacity atomically claim raced lost atomic semaphore group math min size add offset alloc count region db util token cloning btree row builder clustering cell free offset release pool clustering cell system min region size compare btree row race allocated max cloned size capacity heap current heap allocate builder row builder decorated key free key peer region key identity code row op order ensure heap cell put current region poll size clustering rows atomic integer memory integer error add cell highest bit allocator permits ensure heap clone heap allocator utils acquire race allocated override allocate oversize atomic reference allocator concurrent linked queue min write op memtable allocator regions clone heap max region size clone concurrent decorated key discarded memory util pool row stash swap region increment clustering race allocated op group
src.java.org.apache.cassandra.db.ConsistencyLevel
binary quorum make endpoints provide quorum data fall grab quorum replication endpoints expected restricted live sorted snitch move replicas front read repair replica data block check blockfor quickly drop read repair live local hint local node fallthough purpose local hint local node fallthough purpose validate write include slightly error message unsupported operation code dc local local db collections wait math dc live cl add logger local max code format live endpoints local serial dc code util quorum serial illegal state require network topology strategy array dcs endpoints logger common inet address local quorum keyspace iterable endpoint snitch google network topology strategy validate read service read repair iterables code idx quorum transport serial consistency collect dc block net metadata datacenter datacenter local dc endpoints local data center validate counter write count local endpoints local local quorum put key keyspace length invalid request read repair decision global entry locator open consistency level size table metadata replication strategy strategy live validate cas commit dc endpoint local comparator integer validate write schema sort builder local live keyspace replication factor quorum count endpoint replication strategy validate cas count dc endpoints logger factory trace enabled filter quorum logger sufficient live nodes block unavailable min append config filter query trace max entry database descriptor error datacenters add assure sufficient live nodes builder dc local slfj protocol entry
src.java.org.apache.cassandra.service.NativeTransportService
handles transport server lifecycle lazily creates netty thread pools event prepare netty user dedicated ssl port supporting ssl ssl mode configured register starts transport stops running transport ultimately stops servers closes shutdown executors netty transport shutdown gracefully intend epoll bassed event true transport server worker group epoll event loop group collections enable epoll servers event executor epoll addr epoll port init transport port logger event loop group stop util worker group running event executor netty shutdown gracefully event loop group unmodifiable server logger common inet address google visible system connected clients initialized transport empty ret client encryption options net event executor host builder server initialize auth metrics port singleton servers shutdown request thread pool executor service collection start annotations epoll nio event loop group ssl await uninterruptibly info parse property transport service event executor group enabled add counter time unit logger factory port ssl io logger instance build destroy config channel nio arrays metrics concurrent database descriptor transport port ssl builder slfj rpc address client metrics
src.java.org.apache.cassandra.utils.MurmurHash
suitable general murmur murmur supposed sign bug result change version murmur found site ported andrzej bialecki getopt avoid calculating process advance offset unprocessed tail lenm utils seed result buffer len nblocks index rotl rem hashx nio key offset len data fmix block offset length murmur getblock left
src.java.org.apache.cassandra.cql3.BatchQueryOptions
statement bound statement variables vars batch query options utils query options wrapper md digest serial consistency collections buffer timestamp override query state consistency level query id service statement variables prepare statement add state statement options wrapped size variables column specification nio empty statement variables db util query id query options cql add column specifications consistency keyspace prepare array statement variables prepared statement options
test.unit.org.apache.cassandra.hints.HintsTestUtil
google iterator hint partition update gcgs keyspace table ids iterators elements mutation expected hints junit columns metadata true hints hints util db framework partition key key partitions partition updates actual deletion info creation time collect partition update partitions common btree partition partition update
test.microbench.org.apache.cassandra.test.microbench.OutputStreamBench
tiny bdosp buffer foo foo output stream bench foo foo foo mtiny legacy write utf benchmark write small legacy write utf remaining tiny setup util io benchmark mode mlarge bdosp msmall bdosp large writable channel measurement small bdosp write utf state average time close rlarge bos foo append fork small bos warmup rlarge legacy write utf write threads foo mlarge legacy write utf stream stream microbench bh infra write large jvm append bos mixed src write mlarge bos length small consume channels tiny legacy write utf blackhole iterations msmall legacy write utf mtiny bos mtiny bdosp buffered data output stream write tiny bdosp mixed annotations output stream wrapped data output stream builder buffered data output stream jmh hole tiny bos scope openjdk bos msmall bos limit time unit ii bos io override bos bdosp rlarge bdosp write bdosp buffered output stream write utf legacy write nio open concurrent mode position time unit nanoseconds small bdosp time output time unit sb
src.java.org.apache.cassandra.db.rows.WithOnlyQueriedData
function skip cells part queried provided queried data transform column filter base row iterator override transformation row rows queried data regular columns columns db apply queried columns apply row filter apply partition columns row
src.java.org.apache.cassandra.cql3.statements.DropFunctionStatement
drop statement parsed cql udt supported frozen frozen keyword moment freeze build nicer error iterator query state add aggregates function exists ksm keyspace metadata change function format db auth util unauthorized keyspace cql functions raw raw common query state array google keyspace schema change client state transport function permission state dropped function local target keyspace metadata cql base request validation service frozen event keyspace marshal invalid request statements check access present schema altering statement referrers size announce migration drop collection prepared drop function statement ud aggregate ud function schema function find function builder function resource freeze join raw keyspace prepare keyspace announce function drop cq override function functions raw frozen ensure permission instance empty append schema migration manager scalar function validate joiner validate keyspace system missing function error prepare sb
src.java.org.apache.cassandra.notifications.INotificationConsumer
sender inotification notification handle notification inotification consumer notifications
src.java.org.apache.cassandra.index.internal.keys.KeysSearcher
filter stale closes iterator materialize close assigned called caller closing iterator index remove index entry unsupported operation iterator row filter compact table buffer keys searcher row filter add logger hit timestamp db partitions prepare remove column filter logger clustering index hits make index clustering deletion time close empty initial filter index unfiltered partition iterator base cfs data limits index hit read command metadata suppress warnings write op order group builder decorated key indexed column selects key key clustering index filter execution controller index key filter single partition read command expression row stale index key op order column filter query data index fetches clustering rows table metadata fetched columns filter stale data iter unfiltered row iterator schema partition key delete stale entry expression index searcher read execution controller logger factory decorate key rows group data cmd utils extended filter query memtable disk logger write op indexer row iterator internal empty build nio keys primary key liveness info concurrent indexed data sec add builder extended filter slfj command row empty row selection builder index cfs
src.java.org.apache.cassandra.db.commitlog.CompressedSegment
compressed commit log buffer mutation sync compresses section buffer writes destination format compressed commit log standard commit log header written series written time commit log sync section total plain text length block compressed constructs segment length segment thread synchronization put force buffer initial compressed buffer length buffer pool utils compressed segment flip compressed buffer manager path io override commit log write error sync util add size compressor thread local reusable buffer sync marker size write disk size duplicate start marker icompressor commit log preferred reusable buffer remaining commit log segment manager nio input buffer buffer db compress compressed marker size compressor buffer configuration buffer size file direct segment capacity content start marker preferred buffer allocating length limit channel write sync marker position commitlog written pos
test.unit.org.apache.cassandra.service.MoveTest
strategy strategy keyspace rf changing partitioner loading schema loading schema trigger write extending call method ips endpoints upto unique racks endpoint current token back original index moving index moving write endpoints correct node manipulate token metadata index moving node move node moving endpoint back normal ranges write endpoints multiple nodes move ring nodes storing token node boot nodes require update time keyspace added things work run tokens token nodes token nodes token nodes token nodes token nodes token nodes token nodes moving nodes back normal ring node back node leave left jumps normal endpoint iterator load schema daemon initialization pending ranges moving node move pending ranges network strategy rack aware thirty nodes collections clone settled address ranges token keyspace strategy moving index ranges application state add ranges ranges ranges ranges gms tmd null ranges junit storage service count keyspace metadata move pending ranges network strategy ten node finish move db key tokens util replication schema definition make addrs addrs simple snitch size moving endpoints add partition key column network keyspace uuid dht network topology snitch pending range iterator keyspac network keyspace array update host id clone token big integer token collect gossiper hosts common keyspaceranges inet address keyspace remove moving empty tables google tear generate ranges network topology strategy natural endpoints unknown host params range pairs index simple rf keyspace token metadata unsafe config options index multimap position token ranges keyspaceranges keyspaceranges net configuration strategy change datacenter num moved calculate natural endpoints clear token metadata nts boot ipartitioner range simple rf keyspace collection initial ring boot pending range calculator service ranges ranges actual table metadata endpoint tokens put pending ranges announce keyspace host keyspace length expected endpoints sorted tokens host ids marshal pending ranges singleton entry random uuid keyspac locator replication strategy moving collection parse strategy rack size keyspace metadata service start endpoint snitch replication strategy ranges clear unsafe size actual add network topology keyspace moving ksmd simultaneous move local strategy keyspaces expected integer simple rf keyspace schema status tokens initialize node unsafe state jump normal replication factor ip part inject application state tokens endpoint token iter versioned setup token metadata block finished str versioned factory entries endpoints put trim partitioner unsafe multimap keyspace strategy network keyspace substring replica override collection size key runtime random partitioner replication factor ip part end token move pending ranges simple strategy ten node ring size keyspace found bootstrap tokens position token util instance build normal ranges update normal token schema config factory true actual entry schema loader write endpoints move replicas migration manager system keyspace generate pending ranges ring iterator write endpoints moving keyspace params move entry database descriptor move host move pending ranges simple strategy node tokens generate pending entry token metadata bootstrapping builder token options partitioner generate range klass partitioner entry left
src.java.org.apache.cassandra.tools.nodetool.stats.StatsKeyspace
nodetool probe table stats keyspace node probe table tools read count tables stats jmx timer mbean na add write count column family store mbean table write count metrics registry read latency db metrics total write time table read count total read time table column family metric util pending flushes write latency array count keyspace stats table
src.java.org.apache.cassandra.schema.MigrationTask
chance time passed potentially endpoint node restart issue restart higher save latches bootstrap latency snitch messaging service schema cb utils completion latch system keyspace mutation count latch override logger count configuration send rr inflight tasks failure detector migrations serializer merge announce version collection message instance verb bootstrap state gms net wrapped runnable schema alive payload bootstrap state offer migration manager inflight tasks db bootstrap util concurrent endpoint run progress concurrent linked queue logger info warn monitoring bootstrap states message message logger slfj migration request iasync callback error migration task inet address response logger factory pull schema
src.java.org.apache.cassandra.io.FSErrorHandler
handling file system error handler handle corrupt table corrupt table sstable handle error io error
test.unit.org.apache.cassandra.cql3.ViewSchemaTest
view added desired alter alter receiver ascii valid places bigint blob date decimal accept numbers represented inet text time timestamp timeuuid uuidval varint accept numbers represented duplicates tuples ud order fields missing text system keyspace query row big decimal add message protocol version null junit columns pending tasks buffer util format db view mutation util framework cql uuid sep executor execute time serializer array remove table time throwable metadata partition key startup protocol version fail transport serializers views column metadata simple date format stage manager net drop table mv math stage core multi cell view rows driver stage inet address tables view big integer require network mvname keyspace cql tester column invalid message table metadata params date datastax schema tuple sensitivity access schema view built function sleep view schema date days table metadata invalid query def current table metadata utils func parse view end thread keyspace execute net instance schema simple date serializer update view begin arrays concurrent active count clear function overload reuse
src.java.org.apache.cassandra.cql3.Attributes
utility parser gather attributes years invalid request bound timestamp utils ttl marshal timestamp receiver collect marker specification buffer max ttl function functions serializers prepare liveness info add functions instance column identifier timestamp timestamp time live cf time live receiver variable specifications term nio buffer util format column specification db time live util query options compose validate cql unset buffer attributes ttl time live options raw time live tval marshal bind
test.unit.org.apache.cassandra.cql3.ReservedKeywordsTest
syntax reserved words columns junit format reserved keywords framework parse statement reserved keywords reserved word cql query processor reserved keywords ignore fail
src.java.org.apache.cassandra.schema.TriggerMetadata
supported option proper trigger parametrization added google override trigger metadata code option add td schema base helper common
tools.stress.src.org.apache.cassandra.stress.settings.SettingsTransport
mandatory option cli utility protocol truststorepassword remove exit io override select keystore option ciphersuites enc options params split alg keystorepassword grouped options config serializable key store runnable run option simple arrays printer encryption options ciphers system util cl trust store encryption options present transport option stress client encryption options key store pw algorithm trust store pw enabled options toptions truststore result logger options
src.java.org.apache.cassandra.tools.nodetool.stats.TableStatsHolder
store metrics store metrics table make keyspace tables metrics metrics table statistics show max threshold level introduced older versions filtering keyspaces tables displayed tablestats filter remove tables time checked detect table requested exist build stores keyspaces tables supplying empty params treated display keyspaces keyspace keyspace tables ignore include column family keyspace specific supplying empty params treated display keyspaces note table include keyspace ignore mode apply table inside keyspace keyspace table stats holder probe mp keyspace human readable node probe local rlatency max math tables mp tables table proxy compacted partition maximum verifier key local write latency add convert heap size split column family store mbean format entry index db add util key local write latency average live cells slice minutes pending flushes iterator heap memory total index summary heap size array level stats holder memtable count memtable heap ignore collect count common index summary heap memory compacted partition minimum key keyspace round google table table count level instance found remove verify tables bloom filter heap sstable compression ratio stats memtable heap size table average tombstones slice minutes keyspace stats read latency bloom filter heap memory runtime heap leveled sstable number tables write count index summary heap table verify keyspaces write latency put maximum live cells slice minutes key filter keyspace length compacted partition pow local read count space total dropped mutations table tools table mbeans management memtable data size collection filter number tables compression metadata heap initialize keyspaces metrics registry compression metadata heap memory estimated partition count histogram number partitions estimate option filter max count stats table column family metric count local wlatency space snapshots total keyspaces jmx histogram mbean illegal argument percent repaired memtable heap memory local write count bloom filter space keyspace included sstables level stats table local read latency nodetool stats keyspace maximum tombstones slice minutes io override sstable count read count leveled sstables stats keyspace array multimap memtable cell count na mp ret mp table empty bloom filter heap size stringify file size bloom filter false positives bloom filter false ratio table included level fanout size metrics file utils entry jmx timer mbean selected table mbeans keyspaces ignore mode compression metadata heap size local read latency column family store mbean proxies entry space live
test.unit.org.apache.cassandra.cql3.ColumnIdentifierTest
encoding true quote utf common length text utils random system wrap interned buffer quote arraycopy thread local random current unquotable capacity compare unsigned column identifier instance column identifier ut length length nio buffer util db interned util framework cql compare result comparison method concurrent interned cache junit limit buffer compare common marshal interning minimal buffer
src.java.org.apache.cassandra.notifications.MemtableDiscardedNotification
memtable inotification db discarded notifications memtable discarded notification memtable
src.java.org.apache.cassandra.db.rows.ComplexColumnData
data complex cells potential deletion cells sorted cell array backed row call complex deletion time complex deletion cells correspond full collection note deletion individual cells complex complex deletion individual cells complex deletion time column data column turned simple cell partner crime exact warning version write complex deletion deletion iterator row liveness buffer find digest current queried data instance cell path live transformed cell live update timestamp sizes size array dropped column nio db util local deletion time dir cell updated iterator replace situ common security empty size iterable column google cell comparator measure data size deletion time liveness info column metadata dropped time code cell math cell tester supersedes cells count complex builder complex column data unshared heap size excluding data base skippable deletes idx column filter length mark counter local cleared marshal cell index dropped marked delete column filter fetches path size rows timestamp add timestamp function tester max timestamp message digest purge cells purge find index regular column schema dropped transform filter utils heap size override asymmetric cell path comparator function btree fetched cell queried tester instance empty build cells reverse iterator add complex deletion complex deletion max active deletion validate btree desc sec deletion purger builder purger add cell column data shadowed cells
src.java.org.apache.cassandra.db.partitions.AtomicBTreePartition
atomic partition operations atomic isolated sense typically add guaranteed thread state parts rows reserved waste tracker consecutive granularity track wasted round number waste excess acceptable realtime rate waste note dividing time picking low bits give correct rollover granularity combined give acceptable allocation rate defined passage real time waste tracker maintain current waste increment current min window involved potential partition columns subset alter columns adds update array difference size merging time detla update wasted allocation tracker state based newly wasted allocation wasted number wasted true caller proceed pessimistic locking waste limit early check huge allocation exceeds round ensure work granularity accounted note time arbitrary constant rate bit counter reached waste limit state caller proceed pessimistic function provide btree utilities perform column replace walk aborted point saving selection iterator existing regular builder tracker atomic buffer group math stats search iterator add live columns build monitor exit unsafe remaining col update time delta sizes max search iterator allocation granularity util atomic btree partition updater ensure heap partitions insert clustering iterator slices update wasted allocation tracker ref array modify merge merge atomic reference field updater adjust waste tracker empty size deletion info clustering excess waste avoid reserved clock shift tree row updater shadowed data update transaction compare measure monitor enter unsafe btree nano time empty index table metadata ref stats merge regular columns heap current allocate waste tracker updater holder metadata row builder row apply builder apply partition key decorated key unshared heap size excluding data row count atomic integer field updater filter unshared heap size commit row abort early op order slices range iterator partition update updater column filter apply deletion info rows lock apply allocated fb utilities clustering rows table metadata data apply partition start memory integer unfiltered row iterator deletion info schema sec mutable copy reversed range tombstone system partition key delta monitor copy holder updating reset comparator unfiltered iterator input deletion info copy inserted locks ref updater ranges btree partition clear decorate key tracker pessimistic locking utils partitioner heap size override add size delta row allocator encoding stats data size min write op memtable allocator indexer instance excess waste offset empty pessimistic locking partition deletion heap allocator config partition deletion finish tracker wasted nio transactions wasted db reconciled time update concurrent database descriptor btree inserted wasted allocation updated update function builder apply row row
src.java.org.apache.cassandra.repair.SystemDistributedKeyspace
system distributed keyspace results column family store collections buffer force flush query start parent repair ranges row parentid add message distributed keyspace logger wait future buffer util format fmt query db successful parent repair util token endpoint dc local read repair chance process silent cql host address execute internal execute uuid repair history parent repair history array ignore logger common repair state inet address uuid keyspace iterable view tables google columnfamilies key ignore host id start view build append description collect started array view build status repair option participants net metadata view empty system table error successful view build ranges range base throwable query processor endpoints messages key keyspace range force blocking flush fail repairs options comment repair writer statements start repairs simple unknown entry put table statement table id collection parent repair history table message cfname consistency level fb utilities keyspace metadata pw table metadata cql schema successful ranges success builder repair history writer build req keyspace untyped result ranges key join coordinator cql logger factory process utils view build status parse stack trace successful repair job io logger fmt qry id view removed failed open failed repair job build build status cfnames dht config status fail parent repair nio view status schema constants keyspace params entry database descriptor joiner lang unsafe system sw slfj broadcast address entry row left
src.java.org.apache.cassandra.db.marshal.LexicalUUIDType
empty buffer empty utils marshal cast buffer override parsed remaining lexical uuid uuid serializer serializers empty meaningless comparison custom instance uuid gen empty constants term nio buffer util format db serializer json util simple cql serializer source empty buffer uuid illegal argument length fixed compare compare custom uuid exc marshal decompose
src.java.org.apache.cassandra.utils.ByteBufferUtil
added introduce dependencies clientutil run ensure utility methods make buffers illustrate buffers buffer bb buffer begin buffers current match position underlying array represents unset bound variables decode method assumes encoding charset buffer buffer holding decoded decode method assumes encoding charset buffer buffer holding position starting position start decoding length number decoded decode buffer buffer holding position starting position start decoding length number charset encoding decoded decode buffer buffer holding charset encoding decoded methods avoid fastest buffer adaptation buffer array traverse find start index start index bb travers backwards index bb encode buffer encoded encode buffer provided charset encoding charset encoded copy data creates mutate position affecting copying underlying transfer buffer function acts src source src pos starting position source dst destination dst pos starting position destination length number unsigned data unsigned io error data io error convert buffer change buffer buffer convert representation convert buffer change buffer buffer convert representation convert buffer change buffer buffer convert representation modify position limit buffer safe compare buffer offsets compares buffer position start comparison buffer position start comparison length compare prefix trims size bytebuffer number hold memory change bb bb bb bb bb ensure large cleaned buffer buffer buf buffer size buffer output length minimum target size buffer resize true resizing buffer large newly allocated ensure large cleaned buffer buffer buf buffer size buffer output length minimum target size buffer resize true resizing buffer buffer heap large newly allocated check buffer buffer buffer search sequence buffer buffer true buffer false adapted form found rest put compare unsigned skip ensure capacity prefix write vint length buffer arraycopy math hex uuid read vint length fast operations uuid gen read remaining write unsigned vint buffer util read db util utf io boff hex inline illegal state array uuid read length trg nicoulaj write inet address pos array copy put offset offset write data output system data output read unsigned vint serialized size vint length buffer sizeof input stream remaining starts capacity dst pos data input read length serialized size length arrays allocate net size dst pos sizes bb read data input length len buffer unset buffer read length write length offset read length buffer resize src skip length array write length put suffix read fully format address skip fully input stream put start index prefix address wrap diff array fb utilities decoder copy range decode duplicate serialized size length annotations sizeof unsigned vint copy buf illegal argument flip put limit str standard charsets skip vint length write length decompose read unsigned compare utils charset src pos io override array offset end min charset length write wrap array buff find index nio compilecommand max clone compare arrays compress empty buffer buffer bint file utils minimal buffer read length heap buffer character coding max unsigned put ends output length clean position hex
src.java.org.apache.cassandra.schema.SchemaKeyspace
tables methods manipulating order flushing schema flush mitigates effects abrupt shutdown tables load schema disk replaying avoid problems reading table columns columns flushed flushed order immutable efficient operation iterates reverse tables added cdc make skip column cdc disabled columns upgrades add entries hardcoded system delete possibly obsolete entries schema timestamp make shadowed tombstones read schema system keyspace calculate digest resulting converted uuid act version due exclude schema digest remove major release schema table table responsible part cfs responsible hold serialized schema table table responsible part schema creates partition update partition schema table calling fact deals problem method schema migration cdc force excluding column schema table problematic received older nodes simply content partition skip simple solution based fact ignore columns marked schema entities include serialized keyspace target node missed keyspace migration include serialized keyspace target node missed keyspace migration include serialized keyspace target node missed keyspace migration add flag schema enabled work node sends table schema versioned node unknown columns longer newly added columns updated dropped newly dropped columns added dropped dropped newly created dropped newly created updated indexes include serialized keyspace target node missed keyspace migration directly backward compatibility make include serialized keyspace target node missed keyspace migration include serialized keyspace target node missed keyspace migration columns longer newly added columns updated dropped newly dropped columns added dropped include serialized keyspace target node missed keyspace migration include serialized keyspace target node missed keyspace migration include serialized keyspace target node missed keyspace migration frozen state unfrozen collections include serialized keyspace target node missed keyspace migration fetching store actual udt dropped column safely drop refers storing dropped columns schema expand ud expand user safely pass find rid evaluate opimisation makes remove check prevents duplicate compilation effectively duplicate compilation attempts occur coordinator node handling function statement execute schema handle merging computes keyspaces affected provided schema compare keyspaces affected schema keyspace run select filter keyspaces dropped applied mutation parsing recursively replaces instances user equivalent safely dropping unused user retaining safe calculate schema digest apply drop schema mutation existing buffer query trigger metadata row fetch keyspace params compose add function schema mutation cql literal clustering order keyspaces wait future partition iterator util key dc local read repair chance cql partitions array cmd iter logger millis keyspace dropped columns tables functions schema table make drop view mutation variables fetch fetch keyspace cfs index unfiltered partition iterator view make drop function mutation difference dropped time read repair chance cq metadata body suppress warnings runtime error indexes parse statement mutation include columns make table mutation field options aggregates convert schema mutations column filter make drop keyspace mutation apply fb utilities row iterator table metadata add index schema mutation schema keyspace bb uuid ut fetch system keyspaces partition key column family store add trigger schema mutation columns column diff parse read command table schema compression params affected keyspaces mt add view schema mutation fetch triggers include elements decorate key stream entries dropped column diff base table id fetch dropped columns called null input schema terms select statement charset speculative retry param empty config indexes diff composite description frozen schema constants durable writes keyspace params reversed view current entries differing replication arguments order add table params row builder functions function column drop index schema mutation digest difference views simple builder system keyspace keyspace metadata immutable views timestamp table params row frozen text column filter regular uuid schema metadata frozen column metadata option user flag read command raw statement make keyspace mutation fetch functions add aggregate schema mutation multi cell simple builder memtable flush period reason put schema keyspace query processor ud aggregate tables language fetch ud days filter schema cfs broken function view invalid request state func bloom filter fp chance min index interval table id table message open keyspace metadata system params system keyspace date state function schema view metadata index metadata row find function triggers system keyspace uda udf freeze kind read execution controller raw statement time unit logger factory decompose make update view mutation excluded keyspace dropped columns initcond func expand user regular columns builder data read micros indexes instance build partition key fetch tables trace fetch indexes clustering order uuid collection exc interned raw builder partition fetch columns execute internal caching triggers diff milliseconds view cdc make drop table mutation singleton force flush base table columns triggers aggregates drop column schema mutation local columns timestamp micros builder dropped column db execute internal lower common view tables cdc added uuid cql parser indexes make function mutation ignore corrupted schema tables trigger diff make drop aggregate mutation broken replication raw builder kind row builder build select statement called null input key make update schema reverse collectors triggers fetch view add schema mutation key keyspace comment memtable flush period fetch mutations fetch views mutation diff keys columns aggregate table metadata entries left trigger column row unfiltered row iterator iterator index metadata keyspace add column schema mutation tuple untyped result message digest microseconds udas partition update cq parse drop trigger schema mutation logger id time live state execute locally make mutation add table schema mutation hours dropped columns udfs crc check chance fetch table trigger row nio position table row iterators flush schema tables aggregate database descriptor desc character coding builder flags position durable writes make aggregate mutation collections system keyspace schema partition tables instance base field add protocol version logger buffer util format frozen fetch ud compute absent clause raw select compaction partition range read command add columns uuid views collect system keyspace security udf row uda row google table system table max index interval transport option immutable mutation view function function bb system table decorated key add updated index schema mutation update concurrent column cql upper make update table mutation extensions marshal row truncate blocking statements initial condition function include columns table statement components table params rows compression algorithm fetched columns column identifier caching params schema table save system keyspaces schema ud function column rows function compaction params drop dropped column schema mutation keyspaces make view mutation dropped column row add dropped column schema mutation property keyspaces decorate speculative retry delete flush difference fetch keyspaces utils functions gc grace triggers cdc enabled column family store fetch keyspaces truncate aggregates execution controller lang unsafe system field identifier partitioner slfj missing columns original
src.java.org.apache.cassandra.tools.nodetool.GetStreamThroughput
nodetool probe airlift system node probe io override stream throughput tools stream throughput node tool description node tool cmd command execute airline
src.java.org.apache.cassandra.gms.VersionGenerator
unique version number generator state generated local version concurrent increment atomic integer util gms version atomic version generator
src.java.org.apache.cassandra.concurrent.ExecutorLocal
called scheduling calling running executor copy executor null task called thread scheduled task previously retrieved thread executor local service instance tracing executor local client warn concurrent tracing
src.java.org.apache.cassandra.cql3.restrictions.TokenRestriction
token definition columns apply token creates apply column defs definition columns apply token column comma separated column comma separated merges restriction restriction merge converts restriction restriction restriction invalid request problem occurs converting restriction secondary index manager term slice unsupported operation collections buffer row filter partition key single restriction db util cql identifiers index manager term inclusive merge common token bind google column column defs merge index secondary index manager slice column metadata metadata term end query options base supporting index column defs column filter slice token restriction options invalid request singleton statements bound table restriction size table metadata restrictions schema column def restriction restrictions restrictions slice restriction partition key restrictions join bounds filtering token filter inclusive override function functions slice format add functions instance empty request validations partition key clustering comparator partition key restrictions unrestricted partition key components nio eq restriction start singleton bound joiner merge add row filter bound invalid request column
test.unit.org.apache.cassandra.cache.AutoSavingCacheTest
preheat key serialize load live tables auto saving cache cache truncate blocking column index cache size simple utils clear system load saved async keyspac operator io add partition key column apply current time millis open cfs table metadata descriptor eq column metadata serialize load key cachek column family store util instance add auto saving cache build submit write serialize load key cache cf standar size config junit schema schema loader dk buffer util format row builder db row index entry keyspace keyspace params col def ascii database descriptor serialize load key cache prepare server position row update builder table reader null service cache service define schema builder keyspace metadata add regular column sstable force blocking flush key cache key regular column column family store configuration marshal key cache
src.java.org.apache.cassandra.tools.nodetool.GarbageCollect
nodetool probe airlift system node probe arguments io override tools option title parse optional tables table tombstone option usage node tool garbage collect jobs description runtime node tool cmd util keyspaces command parse optional keyspace execute array garbage collect keyspace airline
src.java.org.apache.cassandra.db.compaction.CompactionInterruptedException
info runtime db compaction interrupted compaction info compaction serial version uid
src.java.org.apache.cassandra.db.compaction.LeveledCompactionStrategy
difference background maximal lcs maximal explicit user compaction transaction closed sstable compact standard compacting based droppable tombstone transaction closed transaction closed sstables leveled compaction strategy guarantees data level make groups tables members end creating invalid sstables groups sstables sstable recently added add level exclusive scanners level sstables added tracker level sstable belong simply makes guarantees direct scanner leveled scanner opens sstable sorted scanner charge closing close properly lazily creates table bounded scanner sstable assumed level add sstables intersect estimate data caller check intersecting reset null current position wrong sort sstables droppable ratio descending validate compaction candidates tables group compaction iterator node leveled manifest leveled scanner singleton backing files fanout size collections compaction sstables length group size level fanout size option removed candidate curr group add filtered compressed length logger pending compaction logger group tables anti compaction max scanners db estimated droppable tombstone ratio util key token total scanned compaction split output token length sstables level configured level fanout size table reader level size iterator level compaction strategy array leveled compaction strategy metadata remove manifest collect tombstone threshold common current scanner throwable key iterable level google level size worth dropping tombstones size tiered compaction strategy options visible compaction strategy manager iterables close level fanout size cfs codehaus multimap jackson logger compacting local options code grouped tables add table total length configuration filename configured max table size suppress warnings ranges range base level fanout size table position offset json node sstables level snapshot scanner table metadata node end data scanner sorted sstable length size tolerate sstable size strategy logger tables level sorted options level count op est keys range ratio txn close propagate lifecycle transaction level tables sstables level replace put startup estimated keys parse sstable range scanner config size rows calculate compacted keys collection user defined task remove table estimated tasks filter suspect tables task integer disk length unfiltered row iterator annotations schema sort max table background task validate options marked suspect estimated remaining tasks warn transaction column family store operation sstable comparator comparator sstables level compaction candidate join originals compute current table estimated keys ranges intersects logger factory scanners json node factory compaction task compare compacting compaction task io tracker scanned max table size mb strategy override uncompressed length table scanner level fanout size primitives logger intersecting leveled compaction task iterator replace tables gc current position array multimap format range filtered tables instance empty unchecked options sstable iterator number format sstable size option dht config node added trace max table arrays maximal task tables joiner lifecycle compaction logger tombstone compaction array table level find droppable table slfj modify property prefix compressed length
src.java.org.apache.cassandra.db.commitlog.AbstractCommitLogService
allocations written time counts total log signal writers wait notified completed commit log service fsync service fulfilling batch periodic subclasses notified sync finishes sync complete separated individual method ensure relevant constructed total time spent syncing time syncs exceeded poll interval run shutdown sync target byteman sleep time left lagged update lag reset lag tracking logged sleep full spam log block alloc handle request additional sync cycle request sync wait current state sync progress time call initiated immediately sync complete sync time interrupted park nanos atomic thread logged allocation atomic logger pending pending tasks runnable thread level signal util completed tasks request time signal logger wait sync sync started system thread factory nano time wake written signal run finish write commit log service timer unpark throwable handle commit error sync exceeded interval warn convert thread current time millis context context shutdown cancel commit log log start shutdown requested await sync sync await uninterruptibly minutes join commit log segment illegal argument sync count time unit logger factory utils await termination sync blocking locks codahale poll interval nanos logger spam logger synced format lock support wait queue lag count commit log lag db total sync duration metrics concurrent request extra sync alloc runnable poll interval millis nanoseconds register increment slfj commitlog milliseconds
src.java.org.apache.cassandra.index.sasi.utils.CombinedTermIterator
assumes sas compare utils minimum buffer sas disk index data term min range iterator partial disk index parts term pair comparator combined term term iterator nio suppress warnings max db token tree builder token tree builder descriptor part min term union current term max term comparator compute combined term iterator maximum disk index iterator descriptor length end data sa sasi marshal indexed term
src.java.org.apache.cassandra.cql3.CFName
override internal cf cf column family column family keyspace element cql cf
src.java.org.apache.cassandra.index.sasi.utils.trie.KeyAnalyzer
slightly correspond code patricia trie supports pluggable key comparators patricia trie supports deployed maven central downloadable access bits bits keys indices length bit index bit argument prefix bounds bit key trie utils key analyzer prefix prefix index null bit key key bit key bit comparator util key bit index length bits sasi
src.java.org.apache.cassandra.hints.HintsDescriptor
describes host timestamp arbitrary parameters hints written beginning hints required encryption components decrpyt encrypt note encyption writing hints iv header add entry params base parameters null initialized possibly updated size total lsb significant bits messaging version file hints version helper serialized size enc params parameters immutable encryption data encryption context add cipher path logger read file matches timestamp db file util io decryptor encryption iv illegal state utf uuid deserialize compressed crypto compression config logger header parameters common read error write security key ioe google encryption pattern current version sizeof compression config collect pattern data input code version icompressor net size sizes suppress warnings read standard charsets base checksum file parameterized actual write decode json encryptor length encryption context hex messaging service simple read fully format serialize hex put path fb utilities regex compressor config compressor zip encryption update checksum validate crc json encrypted params data output expected msb schema warn compressor hint file copy compressor encryption config params length hd hints file compression params hints descriptor compile random access file version cr json logger factory put raf compression utils parse read io override logger iv parameters charset write build matcher config json update checksum host id params nio compress update encryption context cipher database descriptor error crc encryption builder significant bits cipher slfj file
src.java.org.apache.cassandra.cql3.selection.TupleSelector
literal tuples tuple tuple invalid request selection tuple selector factory column filter build output tuples buffer protocol version override selector factories transport cql selector column protocol version factories size factory elements add fetched columns nio instance builder db util query options buffers tuple collection factory reset result builder builder options filter add input instances tuple marshal
src.java.org.apache.cassandra.cql3.FieldIdentifier
identifies field creates unquoted identifier creates quoted identifier creates internal store field text text unquoted marshal serializers buffer override syntax code instance message quoted internal ut nio format db util compose cql convert lower locale field identifier marshal decompose
src.java.org.apache.cassandra.cql3.statements.UseStatement
internal queries exclusively system keyspace unit keyspace drop invalid request statements check access validate login result message query state parsed statement client state nano time transport service prepared state cql statement bound terms system query options statement unauthorized validate cql execute internal execute prepare messages keyspace keyspace keyspace client state query start nano time options
src.java.org.apache.cassandra.schema.CachingParams
cache rows google cache keys visible ignore override lang copy keys cache keys immutable empty rows partition cache code keys numeric caching params lower annotations parse configuration rows partition cache format keys max cache keys util key base integer cache keys cache option lang rows rows partition cache rows rows partition commons remove rows partition collect common schema utils
test.unit.org.apache.cassandra.hints.HintsEncryptionTest
context google put altered hints iv compressor cipher immutable writer encryption context cipher encrypted hints build encrypted data input params encrypted hints writer config junit encrypted hints writer hints writer legit encrypted checksummed data input arrays compression params hints encryption util encryption context cipher encryption context encryption context generator database descriptor hints encryption setup assignable crypto hints descriptor collect header parameters multi flush deserialize common checksummed data input security checksummed data input builder put
src.java.org.apache.cassandra.cache.CounterCacheKey
reads counter represented cfs store table key counter represented make cell theoretically happen column dropped cache saved load point failing skip table metadata ref table metadata buffer make cell row iterator counter cache key cache cell path add cell buffer util read db util io add partition key column array read length cmd iter empty size clustering data output measure deep code cfs buffers clustering index filter column metadata code allocate fb utilities metadata clustering index filter complex data input builder decorated key write length key array execution controller column filter unshared heap size single partition read command marshal hex singleton column column filter path wrap select size clustering rows table metadata clustering size ut schema index size array controller partition key column family store cell cache key comparator read execution controller unfiltered row iterators decorate key utils query memtable disk io override id sizes make format write instance build schema composite nio arrays table ref table metadata ref empty buffer sec read counter builder table id cck row split selection builder
test.unit.org.apache.cassandra.db.compaction.CompactionsPurgeTest
resurrect major compact columns resurrected completely major compact tombstones resurrect major compact tombstones resurrect major compact tombstones resurrect remember current sstable resurrect submit minor compaction remembered verify minor compaction gc key provably present verify minor compaction gc key sstable timestamp ensures miss verify drop tombstones minor compaction delete delete delete diffrent compact sstables data tombstones min timestamp sstable older invalid inserts deletes memtable deletes compact row completely deletes adds unrelated partition sstable considered fully invalidate row cache move key row cache empty partition deletion flush major force purging passing row invalidated deletion info deletes partition timestamp columns flush major compact tombstone timestamp lower check insert write row write row tombstone basic check row considered compact sstables gc row tombstone data tombstone write row write row tombstone compact sstables gc row tombstone data tombstone major compaction purge range tombstone max timestamp interrupted minor compaction purge compaction strategy manager row util add live junit standard cfmd dk buffer util format max db execute util live tables compaction cql execute internal partitions table reader define schema cmd keyspac metadata keyspace cache compaction purge file system result cfs submit maximal keyspace cql wait futures delete row add range tombstone rm sstables incomplete configuration immutable btree partition compaction purge cached row cf cached decorated key invalidate cached partition key apply unsafe query processor row count keyspace current time millis keyspace force blocking flush compact row size tasks statements simple partition update keyspac table statement mutation table open fb utilities clustering rows keyspace cached collection caching params integer key schema cf cql user defined tasks keyspace column family store false partition level deletion min timestamp purge untyped result prepare server row update builder partition unfiltered compactions purge compaction manager disable auto compaction compaction task compaction purge tombstoned row key key utils major compaction purge top level tombstone max timestamp parse io execution full partition delete sstable row tombstone observed purging major compaction purge column family store instance empty build cf standar cf standar cf true schema loader empty empty buffer concurrent keyspace params major compaction purge tombstones max timestamp builder partition live data caching
src.java.org.apache.cassandra.tools.nodetool.Status
tokens nodes host text probe airlift node probe resolve ip endpoint dns math title endpoint snitch info mbean message find max address length usage host stat joining nodes format ip dns dc unreachable nodes util key host address illegal state execute host tokens moving nodes collect token common ownerships inet address leaving nodes rack google max address length load system unknown host moving nodes append errors option token node effective state exit address placeholder net decimal format effective ownership runtime node tool cmd load command format dcs key sorted put key keyspace length airline leaving nodes fmt load entry live nodes locator printf tools size status unreachable nodes collection node tool builder ownership dc tokens buf endpoint illegal argument dc header tokens endpoints ep snitch info nodetool joining nodes endpoint snitch info proxy token endpoint nodes header arguments io override live nodes array multimap host id host id status stat description max host stat node str entry rack host id ownership
test.unit.org.apache.cassandra.triggers.TriggersSchemaTest
size tables statements simple system triggers schema remove trigger cf trigger table statement unbuild cf trigger trigger metadata nano time schema keyspace metadata table metadata format instance announce table tm empty build ksm td cf junit schema true schema loader triggers migration manager false parse keyspace params trigger load schema announce table update cql add trigger cf tm tm triggers metadata announce keyspace table metadata add cf trigger configuration tm
src.java.org.apache.cassandra.index.sasi.conf.view.PrefixTermTree
extension range term tree required interval tree handle matching search prefix fields build prefix trie terms union prefix tree search results interval tree bit mask bit bit mask bit add index prefix intervals buffer disk null bit key add remaining db util bit term null buffer key analyzer collect mode view google index xor math common term bit builder ranges key put size search max term disk index builder length bits length marshal mode key analyzer prefix size union key prefix range term tree interval tree interval table index min term expression term tree bit index comparator patricia trie compare trie utils add term conf msb min indexes prefix term tree bit key build nio max plan lower add trie mask sasi
src.java.org.apache.cassandra.auth.AuthenticatedUser
represents authenticated user holds user roles granted roles permissions primary role logged checks superuser superuser perform user drop user im superuser iauthorizer iauthenticator require method internal operations performed behalf system user identity overrides roles granted user roles granted google anonymous username authorizer permissions cache override resource system user permission code permissions cache role config common iresource roles format anonymous user auth roles util base permissions database descriptor system role resource superuser status authenticated user primary role system username anonymous
src.java.org.apache.cassandra.concurrent.JMXConfigurableThreadPoolExecutor
thread factory runnable thread factory jmx configurable thread pool executor mbean work queue jmx enabled thread pool executor alive time util concurrent jmx path jmx configurable thread pool executor time unit core pool size blocking queue unit
src.java.org.apache.cassandra.io.sstable.SimpleSSTableMultiWriter
simple table multi writer closes index singleton table id txn lifecycle transaction commit row index entry abort collections io close id append index table metadata ref rows descriptor metadata collector writer prepare commit collection indexes open result table multi writer file pointer key count unfiltered row iterator untrack metadata filename max data age table writer finish suppress warnings format metadata collector index entry db util descriptor finished pending repair open result throwable lifecycle serialization header table reader uuid header accumulate repaired partition sstable table id simple table multi writer schema
src.java.org.apache.cassandra.io.util.SimpleChunkReader
simple chunk reader reader file proxy buffer instantiate rebufferer channel proxy preferred buffer io override buffer size unaligned file path read simple channel buffer nio format buffer compress util buffer managing rebufferer file length buffer chunk size clear flip chunk reader rebufferer position read chunk
src.java.org.apache.cassandra.service.ClientWarn
size warnings text utils client warn substring state warning remove io reset warnings fb utilities service warnings add instance state empty length util concurrent warn local netty fast thread local truncated max unsigned array executor local truncate warn capture warnings
src.java.org.apache.cassandra.db.compaction.SSTableSplitter
txn ci expired tables lifecycle transaction compaction controller sstable size mb io override purge evaluator cfs compaction aware writer compaction info predicate splitting compaction task finish compaction compaction executor stats collector partial compactions acceptable writers split holder function compaction controller gc directories format decorated key directories time db execute util compaction task transaction column family store compaction key begin compaction table splitter stats collector lifecycle max table size writer info table reader task illegal argument split controller sstable compact compaction manager compaction aware writer
test.unit.org.apache.cassandra.utils.FastByteOperationsTest
rand pure operations dbuf dbuf comparisons utils canon direct unsafe operations result buffer index slice start ops fast operations hbuf fast comparisons duplicate allocate comparison result length junit empty count allocate direct nio src arrays put operations compare util twiddle comparisons copy fast operations copy buf wrap pjo wrap firstdiff fast copy comparison random trg remaining hbuf uo limit exp act position copy
src.java.org.apache.cassandra.metrics.ViewWriteMetrics
time mutation applied local memtable achieved register codahale remove count factory metrics client request metrics scope metrics registry counter view replicas attempted timer metrics metric view replicas success view write latency counter timer gauge release view write metrics
src.java.org.apache.cassandra.net.IVerbHandler
iverb handler method verb handlers concrete provide method delivers message registered call note caller holding locks calling message incoming message verb message id message io io net iverb handler
src.java.org.apache.cassandra.repair.consistent.LocalSessions
manages consistent repair sessions node participating sessions handle sessions local sessions local session treated simple contrast amount time session activity start checking status participants missed amount time session activity automatically amount time completed session completion compaction plenty time move sstables successful sessions repaired hook operators cancel cancelling force messages wait loads sessions repairs table state auto fails auto deletes timed compaction clean sstables deleted save session state loads session directly prepare consistent request effectively promotes parent repair session incremental begins anti moves sstable repaired preventing mixing response repair coordinator pending anti compaction pending anti compaction failure message cancelling flushing repairs table responding coordinator prevents scenario promise failure commit log mutation status synced state session revert earlier status prevent failure recovery mechanism session creating inconsistencies repaired data repair completing state promote siloed sstables part compaction avoids worry progress compactions interfering change local state response state statuses missed message completing determines local session repaired time sessions calling session progress repairing local session deserialize range uuid time table acquisition session completed node initialized session system keyspace buffer query date row response handle prepare message executors session progress minutes immutable current sessions delete row started system keyspace cfs add table metadata table id uuid gms logger failure storage service immutable unrepaired sstable session repaired serialize submit background format message db inet address util token fail session io compaction session id session cql execute internal sync table uuid deserialize cancel session build session check status trace remove collect schema common debug data output buffer uuid key data input buffer iterable ordinal google force check status timeout prepare consistent request uuid consistent visible update success handle fail session message state result timestamp iterables load unsafe update buffers instance update ranges logger array auto fail timeout state save active repair service participants cfm preconditions session unsafe status request send message net size serialize ranges repaired instant bb nullable builder futures pending anti compaction ipartitioner repair message range base inet address illegal state null pointer query processor throwable src table ids send service message messages days compaction manager filter keyspace force blocking flush parent repair session prs promised commit prepared executor service marshal row load repair ranges consistent session address column family stores epoch handle status request put loaded sessions table id shutdown table message pending anti compaction fb utilities save rows future callback failed destination transform error start participants uuid date integer put session annotations schema inet address state alive sessions handle status response send status request execute internal paging peers handle propose message listenable future state column family store handle commit message copy parent session delete untyped result coordinator deserialize ranges info started temp partitioner uuid table id milliseconds illegal argument pac session id transition warn checked cast time unit logger factory prepare consistent response put table ids state repairs ranges auto delete timeout utils fail session serialize range repairing coordinator executor io primitives logger put session unsafe local session info id runtime session failure detector participant repaired remove session serialized size run range table ids propose hours started completed cleanup empty build state propose tid dht config preparing completed commit nio promise column family store instance buffer cleanup interval delete session local sessions concurrent session id schema constants verb initialized status response database descriptor annotation msg repair message started session info fail integer check argument builder parent repair session request partitioner slfj broadcast address num sessions time submit pending anti compaction epoch milli fixed thread pool add callback messaging service serializer left
test.unit.org.apache.cassandra.hints.HintsBufferPoolTest
check hints buffer pool drain limited number google runner target location random uuid ii hints buffer pool contrib alive poll blocked backpressure util hints buffer run byteman target method write thread hints buffer pool start bmunit jboss immutable empty recycle blocked concurrent linked queue junit true concurrent hint offer buffer util framework buffers hints buffer bm unit runner target bm rule pool hints queue uuid define schema spin collect common action backpressure
src.java.org.apache.cassandra.db.commitlog.BatchCommitLogService
wait record safely persisted waiting commit commit log commit log sync batch window allocation await disk sync commit log config pending commit log service db metrics request extra sync database descriptor batch commit log service alloc decrement commit log segment increment wait sync commitlog
src.java.org.apache.cassandra.hints.HintsDispatchExecutor
executor dispatching dispatch triggered running safe terminate dispatch process deschedule safe perform dispatch host id concurrently win dispatch task host id ensures violate rate share ratelimiter simplifies reasoning dispatch supplies target hosts stream generally dynamic snitch supplier host current dies rate limit disabled max rate scaled number nodes cluster goal bound maximum hints traffic node rest total outgoing hints traffic node rate limiter shared dispatch tasks dispatch task host id true dispatch false hit failure node address null target longer find home hint hint hints file node part ring write rf hints hints reader stores sleep atomic supplier hints directory math uuid dispatch hints task write replicas message logger storage service remaining supplier thread max reader compute absent file util interrupt dispatch uuid remove endpoint host id logger common read error inet address hints catalog page throttle kb dispatch offset google rate limiter scheduled dispatches thread factory hints iterator min priority rate limiter net complete dispatch blockingly run files runtime size endpoints error deliver input position address dispatcher convert key executor service offer offset linked blocking queue dispatch clean cancel apply poll open delete service transfer submit hints store store function alive shutdown warn token metadata hints dispatcher minutes hints info hints descriptor descriptor future paused executor time unit logger factory host id supplier max threads file scheduled await termination runnable io execution override logger seek function abort interrupted instance hinted handoff throttle kb jmx enabled thread pool executor config concurrent host id mark dispatch offset trace max hints service concurrent catalog future database descriptor dispatch position error blacklist hints dispatch executor clear nodes count slfj shutdown blocking file transfer hints task atomic
src.java.org.apache.cassandra.cache.CacheKey
cache key table metadata index cache metadata table id util table id table metadata schema table id imeasurable memory
tools.stress.src.org.apache.cassandra.stress.settings.OptionReplication
replication strategy google option replication locator override apply clazz options function replication strategy strategy strategy adapter factor happy strategy option simple arrays util base extra options option option multi stress illegal argument assignable put ignore common user fullname key options
src.java.org.apache.cassandra.schema.Views
materialized view materialized view empty materialized view optional view view null view found materialized views instance provided materialized view creates materialized views instance materialized view provided size google iterator present format base table id materialized view swapped table id iterables diff code views table metadata views immutable views transform id illegal state add empty build uuid nullable table id metadatas optional schema view metadata override nullable builder util nullable difference annotation table uuid iterator builder views put filter collect common metadata difference iterable view
src.java.org.apache.cassandra.repair.messages.FinalizeCommit
repair data output utils serialize io uuid serializer code version msg commit data input session id serialized size io commit message serializer repair message uuid deserialize util messages serializer
tools.stress.src.org.apache.cassandra.stress.operations.OpDistribution
operations stress op distribution operation
test.unit.org.apache.cassandra.service.pager.PagingStateTest
serialized paging state protocol backward nodes compares serialized format state generated hardcoded generated buffer pk cell cn paging state state note exact nodes include present nodes remaining properly deserialized paging serialized state utils serialize daemon initialization setup dd serialize deserialize buffer paging state transport util serialized size service state protocol version config junit true serialization backward compatibility serialize deserialize nio buffer util starts paging state database descriptor pager deserialize make paging state serialized remaining hex
src.java.org.apache.cassandra.utils.NativeLibraryDarwin
jna methods attmpted linked method defined target operating system availble initial linking initialization jna calls supported target operating system unavailable simply defined method runtime operating call open fcntl call getpid utils call mlockall call munlockall jna path close logger open call fsync call strerror call posix fadvise sun def found error getpid error command logger unsatisfied link error runtime errnum call fcntl len warn flag fd offset call close fsync library wrapper library darwin register strerror method error logger slfj flags munlockall error mlockall logger factory pointer
src.java.org.apache.cassandra.db.marshal.CounterColumnType
unsupported operation divide counter serializer utils counter marshal cq multiply buffer protocol version override total parsed transport serializer serializers empty meaningless comparison instance add counter column protocol version input hex cq term validate context nio buffer util buffer db json negate counter substract compose left cql serializer mod source number counter context left deserialize validate cell cell context comparable json marshal decompose hex
src.java.org.apache.cassandra.cql3.RoleName
lower locale util override role cql
src.java.org.apache.cassandra.utils.TopKSampler
start record number sample items lower accurate results results close understand memory trade call stop collecting gather count number frequent items adds sample statistics method thread pool record results sampler sampling sampler executor single threaded synchronization jmx calls represents cardinality top ranked items collected sample sampler executor google stream lock utils visible results analytics offer hll collections io run logger summary item finish sampling code empty jmx enabled thread pool executor logger annotations runnable trace offer linked blocking queue add sample counter sampler result util concurrent clearspring cardinality thread pool executor count execute capacity hyper log log thread factory top ksampler enabled serializable stream summary logger slfj top common time unit logger factory begin sampling
src.java.org.apache.cassandra.exceptions.IsBootstrappingException
request execution bootstrapping code bootstrapping
src.java.org.apache.cassandra.repair.consistent.CoordinatorSessions
consistent repair sessions node repair google consistent fail session consistent session coordinator state session coordinator session table ids prs fail ranges active repair service session repaired service parent repair session session id table ids instance participants handle fail session message preconditions state msg parent session net preparing participants promise sessions put builder util session id base ranges coordinator handle promise message uuid success build session repaired builder messages handle promise session id handle prepare response check argument coordinator sessions participant common register session inet address key prepare consistent response parent repair session promised
src.java.org.apache.cassandra.cql3.selection.TermSelector
selector representing simple term bound note term include function calls instance enforced dealt invalid request selection protocol version term column filter term selector output buffer add transport selection column add column column metadata result column selector column protocol version builder schema column specification add fetched columns nio instance factory db factory query options cql result builder reset term builder options filter add input fetched columns marshal bind
src.java.org.apache.cassandra.metrics.SEPMetrics
number active number tasks blocked accepted number tasks waiting accepted executor threads busy backing queue number completed number tasks waiting maximum number threads start queuing tasks maximum number tasks queued task blocked metrics executor thread path thread pool thread pool identify counter pool codahale path max pool size max tasks queued total blocked metric factory max workers factory active tasks metrics sep metrics integer metrics registry pending tasks counter current blocked metrics concurrent completed tasks sep executor active count pending tasks metric register remove gauge completed tasks executor thread pool metric factory release
src.java.org.apache.cassandra.index.sasi.sa.IntegralSA
tokens compare integral suffix iterator iterator utils term tokens collections buffer term terms disk index term term iterator pair size sort term finish term iterator nio comparator count db token tree builder max term mode sa util term comparator iterator compute end data disk index builder mode integral sa compare sa sasi marshal indexed term min term
test.unit.org.apache.cassandra.io.util.FileSegmentInputStreamTest
read read unsupported operation google buffer check interval utils mark supported system read seed path io path primitives remaining array mark seek nano time close seek offset reset supported seek past length file pointer ret file segment input stream buffer duplicate allocate file segment input stream expected size junit eof true eof nio buffer util arrays mark supported reader util io past mark offset reset capacity seek negative illegal argument random remaining allocate buffer common checked cast false position
src.java.org.apache.cassandra.cql3.selection.UserTypeSelector
literal user add null collection collate columns child factories add selection user buffer factories aggregate selector factory protocol version column specification db util field cql fields add input protocol version transport column metadata factory selector user column writetime selector factory builder query options add column put key filter ttl selector factory options invalid request tmp entry column filter build add user size selection column schema instance selector tuple reset result builder user selector fetched columns field identifier factory user output override function functions add functions field empty buffers add fetched columns nio factory entry builder marshal results column
src.java.org.apache.cassandra.auth.AuthConfig
purpose initialize separate implicitly initializes schema stuff referenced authorization role management iauthorizer configuration options credentials caching guaranteed work log message role validate rely role manager utils role manager construct conf internodeauthenticator initialized logger config fb utilities authorizer iauthorizer require authentication authenticator irole manager credentialsvalidityinms credentialsupdateintervalinms credentialscachemaxentries logger config validate configuration configuration info require authorization internode authenticator database authenticator authorizer auth authenticator raw config auth config authorizer rolemanager database descriptor authorizer apply auth iauthenticator password authenticator internode authenticator authenticator role manager role manager logger slfj hsqldb logger factory
test.unit.org.apache.cassandra.index.sasi.utils.LongIterator
tokens empty iterator iterator perform skip utils results db collections io override close disk hppc index range iterator combined size token add open nums token compare decorated key util token io iterator convert iterator compute sasi array current idx merge length end data carrotsearch token offsets
src.java.org.apache.cassandra.gms.IFailureDetector
application query liveness information node exposes methods application register notifications liveness information failure knowledge node ep endpoint true false method invoked entity interrogate status failure detector calculate phi deem endpoint suspicious alive explained hayashibara param ep endpoint interpret inter arrival method invoked receiver gossiper inform failure detector receipt failure detector sample arrival time explained param ep endpoint remove endpoint failure force conviction endpoint failure register interest failure detector listener application provided interest failure detector listener application provided register failure detection event listener alive listener force conviction ifailure detector remove ifailure detection event listener gms report inet address net unregister failure detection event listener ep interpret
test.unit.org.apache.cassandra.db.rows.RowsTest
deletion shadow deletion shadow check complex merged row column merged data check complex input row column merged data check complex deletion time deletes liveness row liveness info creates dummy cell column provided creates dummy cell column provided path cell cell path path cells generated iterating iterable cell cells make dummy row provided assumed creates table simple complex row simple row complex row mixed simple complex rv expected cells row deletion daemon initialization update builder collections buffer merge complex deletion primary key liveness info row sorted builder builder buffer cell instance immutable cell path add deletion expected complex deletion time unsorted builder td junit merged rm expected liveness update clustering buffer util db util add partition key column cql stats collector expected cells partitions expected vcell metadata collect expected cells common add clustering column key rm rm clustering complex deletion google legacy cell iterator original builder result kcvm btree row collector empty nio liveness info array dst column metadata code cell live cell row deletion size math rows deletions ttl expected deletion empty builder legacy counter shards val big integer actual idx collect stats column merge row deletion supercedes liveness add row deletion keyspace length iterable row diff listener partition statistics collector builder add regular column row column deletion time merged pair cell put rows make dummy row deletion path cells legacy order diff cp add primary key liveness info val fb utilities clustering rows table metadata column row live live column identifier diff empty input pair bb bb bb bb schema cell order liveness update column row add cell integer copy complex deletion cell existing builder info comparator cells liveness complex deletion expected deletions column count diff listener update legacy counter shards add expected cells linked liveness info utils row builder make format kcvm table instance iterable rm rm build deletion complex column data expected cmplx deletions config complex deletions key inputs add complex deletion deletion time update allocate diff empty merged expected mcell rv database descriptor merge complex deletion superseded row deletion deletion time row listener builder marshal liveness time false builder original updates
src.java.org.apache.cassandra.utils.progress.ProgressEventNotifier
register progress listener listener listener remove progress listener listener listener listener remove progress listener utils add progress listener progress event notifier progress listener progress
tools.stress.src.org.apache.cassandra.stress.settings.SettingsLog
stdout graphing option cli utility interval file stream normal system substring override output exit upper io printf parse summary minimal add stream level length log params select integer grouped options hdr file file found serializable output file run option simple stream multi result logger arrays printer interval millis util hdr output file user options option stress verbose summmary illegal argument level remove options ends runnable file result logger cl options
test.unit.org.apache.cassandra.cql3.validation.entities.udfverify.CallClone
unsupported operation codec data buffer protocol version transport functions entities clone supported params protocol version datastax param execute aggregate impl core nio runtime clone driver udf context util call clone cql data execute impl udf context udf udfverify validation
src.java.org.apache.cassandra.cql3.statements.RoleManagementStatement
invalid request statements check access existing role role resource role manager role client state validate ensure anonymous service permission grantee authentication statement state role config format auth unauthorized database descriptor cql request validation authorize role role management statement check permission
src.java.org.apache.cassandra.streaming.messages.FileMessageHeader
streaming file header appended sending actual data describe table version table format compression info table null table field null avoid holding large number compression metadata cached size total file size transfer calculate total length transferring construct compression info avoid holding large number chunks calculate size serialized size parameters add count format db util io compression metadata uuid serialization header deserialize array compressed write chunk data output chunk file message header serializer write utf streaming version read utf result compression info sizeof append sstable version section code current version sizes read data input file message header write write messages sstable length sequence number serialize header estimated keys table id chunks transfer size size uuid serializer read pair sections schema builder chunks sections version info compression metadata table format utils read io override sstable level component compression info total size sections compress validate repaired pending repair table id sb serializer left
src.java.org.apache.cassandra.streaming.StreamEventHandler
callback streaming event stream google future callback concurrent stream state handle stream event util streaming stream event common event stream event handler
test.unit.org.apache.cassandra.db.RecoveryManagerFlushedTest
commit logs replay flushed data flush commit log start add row cf skipping mutations replay commit log replayed row reset unsafe collections replayed snappy compressor system keyspace encryption context add runners logger junit db util io compaction commit log define schema insert row logger keyspace debug security metadata parameters flush schema loader cfs lz compressor disabled context run cfname wait futures configuration deflate compressor empty parameterized key parameterized keyspace keyspace force blocking flush simple standard cfmd keyspac apply open fb utilities clustering schema keyspace collection schema keyspace column family store encryption context generator recovery manager flushed prepare server row update builder generate data logger factory compaction manager context disable auto compaction runner utils io logger column family store instance build cf standar cf standar flush config commit log compression arrays compress encryption context schema constants encryption context keyspace params database descriptor commit log compression slfj commitlog
src.java.org.apache.cassandra.metrics.CASClientRequestMetrics
codahale cas client request metrics factory histogram metrics client request metrics scope unfinished commit metrics registry contention counter histogram metrics metric counter remove release
src.java.org.apache.cassandra.hadoop.ColumnFamilySplit
length locations satisfy input split methods serializing keyspace splits writable deserializing end token hadoop write utf read utf read io override start token length data input data nodes write read max start token end token column family split num endpoints arrays mapred mapreduce util read fields io input split endpoint locations write data output deprecated writable length eof write read
test.unit.org.apache.cassandra.service.QueryPagerTest
creates bug insert rows tombstone live cell time row bug paging reverse queries schema includes columns problem guards insert rows single query table reverse page size check rows correct single regular processing rows rows rowfilter iterator recreate buffer query filtered partition row util range slice query deserialize row filter state add protocol version read command null junit clustering comparator timestamp micros count serialize buffer util db util row iter range slice query clustering index slice filter cql execute internal partitions column filter key end simple query slices define schema array cmd keyspac query verify cells configuration cmp reversed slice query columns protocol version cfs transport slice keyspace cql column cell column metadata paging state data limits multi query read query comparator metadata clustering index filter bb runtime read command builder paging state range query key apply unsafe query processor slice query tombstone table metadata expected size column keyspace add data ordered junit runner filter keyspace length key incl single partition read command include row row cell column statements paging reversed queries columns simple format standard cfmd paging limit cell table statement range query table open partition iterator fb utilities clustering rows service exhausted clear unsafe start column identifier expected bbs dk schema cf cql cf cql key start builder reversed append keyspace nb keys partition key column family store nb cols partition prepare server row update builder slice query row cf standard read execution controller row count query slice key excl group incl runner utils fetch page internal parse cell index query pager cql key query query pager end make charset column family store row iterator empty build true schema loader nio execution controller keyspace params run pager pager sec current character coding builder partition slice query controller incl command row false sb cell
src.java.org.apache.cassandra.metrics.CacheMissMetrics
metrics cache capacity total number cache hits total number cache requests latency misses time cache hit rate hit rate hit rate hit rate total size total number cache entries metrics cache identify cache cache measure req ratio weighted size minute hit rate fifteen minute rate factory codahale timer count override hit rate capacity metric factory cache factory minute rate mark metrics misses miss latency integer mis size ratio gauge cache miss metrics metrics registry timer metrics metric fifteen minute hit rate meter entries cache size reset minute hit rate register meter minute rate gauge requests ratio
src.java.org.apache.cassandra.cql3.functions.UDFContext
context information user defined ud access scripted ud creates instance argument declared illegal argument argument illegal state argument creates instance num index argument declared array index bounds argument index illegal state argument creates instance illegal state creates instance udt user defined keyspace illegal argument udt creates instance argument declared illegal argument argument illegal state argument creates instance num index argument declared array index bounds argument index illegal state argument creates instance illegal state creates instance cql cql definition cql tuple definition illegal state cql definition tuple invalid cql definition udt functions udt tuple datastax core num udt udt udt driver udf context cql tuple tuple tuple
src.java.org.apache.cassandra.cql3.selection.SetSelector
literal invalid request elements selection factory column filter output buffer protocol version override selector factories serializers add selector column transport protocol version factories size factory elements add fetched columns nio instance builder db util query options buffers cql collection factory reset result builder collection serializer builder selector options filter add input instances pack marshal tree
src.java.org.apache.cassandra.utils.concurrent.WrappedSharedCloseable
shared closeable wraps normal ensuring close method called instances shared closeable utils tidy ref counted fail close throwables fail wrapped auto closeable arrays wrapped shared closeable util concurrent copy tidy shared closeable impl merge throwable closeable
src.java.org.apache.cassandra.gms.EchoMessage
data output serialize io serialized size instance version iversioned serializer gms data input util echo message io deserialize echo message serializer serializer
test.unit.org.apache.cassandra.io.sstable.format.SSTableFlushObserverTest
big table writer column metadata iterator daemon initialization collections compaction buffer write error row content buffer cell sstable format row iterator writer data file locations complete live junit empty sstable level buffer util format metadata collector db unfiltered row iterator close quietly util framework latest version io compaction add partition key column serialization header table reader iterator collect common read error reader clustering google unfiltered observer system start partition file data input btree row append nio index table metadata ref multimap path separator current flush observer reader offline metadata build row row builder row builder decorated key descriptor key read length absolute path current time millis init dd sstable decompose index position add regular column current key row index key column lifecycle transaction empty row cell put cfm flush observer size ifile rows exists table metadata duplicate collection live pair ut schema complete expected add cell operation info comparator compute cells sstable directory end data index filename table flush observer put cf decorate key compare table format utils regular columns partitioner io override key table flush observer encoding stats array multimap instance build big config true begin finish deletion time arrays clustering mkdirs sorted builder singleton offline tools delete exit file utils stats database descriptor lifecycle row transaction key builder unfiltered cluster marshal file directory left
src.java.org.apache.cassandra.utils.memory.BufferPool
pool buffers size page aligned global pool chunks aligned thread local pool chunks global pool unlike null pool exhausted thread safe unit queue page aligned sliced bigger page allocated exceeded memory maximum shared multiple thread local pools size bigger multiple power power todo preferable cl stack improve cache preferable caller owership parent give allocated method called multiple threads fine add chunk time exceed allocate large thread safe unit thread local grabs chunks global pool thread thread allocations multiple threads release microqueue chunks added null null indexes smallest swapped results queue typically visited ascending order small allocations preferentially slice chunks smallest space furnish change size update chunks serve global free method exclusive ownership act recycling remove chunk local recycle ownership owner racing check completely freeing owner elements easier faster hard code remove shifting back remove shifting back element myst shift memory buffer slices smaller buffers divides slab units indicating unit bit free slots bit unit free whilst unit receive request size round size multiple allocation units search consecutive free number units align page reiceve release request work position comparing address base address simply release pool chunk recycled allocate unset local pool finished number bits shift obtain number trailing capacity free whilst acquire chunk future owner free slots owner null chunk global pool chunk fully method called local pool local pool allocate buffers stash chunk attachment method retrives chunk sliced total free size slice exceeded capacity multiples units add divide unit effectively round require possibly accommodate convert slot count bits bottom order allocate page aligned require allocation single unit allocation unit allocation begin unit unit allocation fully achieve construct search mask constrains bits find permit match find remove mask odd property concurrent safely skip backwards slot freed make forward progress check bits running time search mask search mask search mask search mask truncate removing bits slots proceeding loop unroll achieve high clear compiler exploit worth manually worth noting find index lowest bit occurs mask permitted finding lowest obtain shifting bit serve due truncating search mask immediately terminates search run accommodate equivalent checking remove bit bits occur starting remove bitmask manage cas successfully changing candidate thread allocating concurrency operations clear candidate bits make thread cleared candidate round size unit release buffer recycled free recycle owner ensure page size atomic field updater align memory usage threshold atomic buffer base address cur candidate executors add chunk address add allocate chunks atomic recycle logger unit attachment info local pool ref queue initial util smallest chunk idx debug local pool spam logger netty execute fast thread local add chunk global pool chunk recycle round remove logger global pool debug round google macro chunks buffer pool heap exhausted chunk visible system thread factory file cache size mb recycled release ref buffer pool metrics shifted slot bits index slice capacity local pool ref ret heap misses allocate local pool fb utilities ref macro chunk size common empty buffer pretty memory run parent num chunks free queue release allocate heap exhausted address debug pool disabled heap val shift put free slots length pool executor service array free slots format offset pos updater attachment fixed thread pool debug enabled chunks poll reference queue size size bit count chunks mark free chunk size integer annotations trace enabled allocate direct oom memory attachment direct obj minutes reset release attachment parse property recycled illegal argument slot bits limit binary error slot count time unit logger factory compare local pool references utils memory usage free slots updater allocate heap exahusted runnable global pool io override logger round normal slab spam logger phantom reference remove local queue concurrent linked queue exec interrupted owner check empty chunk count config buffer pool acquire buffer nio trace buffer compress metrics concurrent memory util file utils database descriptor recycle parent chunk allocate direct aligned lang buffer register mask number trailing memory error slfj clean position current chunk original search mask
src.java.org.apache.cassandra.db.lifecycle.LogRecord
decoded line transaction log file log replica record files retained files retained commit abort status record parsing store end record partially matched files status record disk required existing stored sstable absolute path table sstable update time files sstable total number files accurate raw written read checksum written end record status status positive file filter positive files exists changed disk files null directory exist tracking comment exclude purpose error full file records match log file replicas partial present positive modified times prefix log record error math group lm message path folder optional matches matcher db file util invalid partial folder modified collect abort partial collections dir status pattern reduce starts error absolute table path code valid fb utilities make abort status empty make commit absolute file path prefix obj collectors upper filter sstable unknown parse file paths crc path parse table disk record size regex zip matcher update checksum base filename integer empty files error existing files add commit line file parent raw illegal argument file compile record checksum cr num files canonical path paths update time file stream utils charset descriptor table remove io override min files make format absolute path files max regex nio arrays max insensitive update file utils existing files lifecycle compute checksum invalid file file
src.java.org.apache.cassandra.metrics.MessagingMetrics
metrics measurement ignore negative datacenter factory codahale messaging metrics logger metric factory factory dc metrics add queue wait time net config metrics registry concurrent update time timer queue wait latency util concurrent verb compute absent inet address database descriptor logger metrics dc latency add time metric cross node latency timer logger slfj time unit logger factory milliseconds endpoint snitch
src.java.org.apache.cassandra.tools.nodetool.formatter.TableBuilder
build table builder table row column delimiter expand max column widths row calculate maximum column column delimiter nodetool system maximum column width io tools math tmp rows nonnull arraycopy add empty formatter require null stream format max util annotation row array table builder length col
src.java.org.apache.cassandra.transport.messages.EventMessage
serialize codec stream id io override event message event transport serialized size decode dest version protocol version msg response body buffer encode codec netty deserialize encoded size messages event buf message event
src.java.org.apache.cassandra.index.sasi.analyzer.filter.StopWordFactory
stop words comments starting trim google locale add caffeine input stream substring io resource resource ext logger completion index logger stop words cache charset caffeine builder build utf root lang loading cache logger input stream reader direct executor benmanes loader nio arrays stop words language error analyzer util concurrent stop words github slfj line replace resource stream language locale resource prefix stop words resource supported languages filter cache buffered reader separator common file executor standard charsets language read line logger factory sasi stop word factory executors
test.unit.org.apache.cassandra.cql3.QueryWithIndexedSSTableTest
reproduces bug fact column relevant reproduction forces slightly code path partition big underlying sstable number sanity check reading note single indexed sstable compact strategy yield indexed check fails specific tweak rows skip creates random text utils random make random row index entry query indexed table io flush indexed compact length cql tester indexed util row count junit dk buffer util format db index entry decorated key execute current column family store util tombstones indexed table live tables cql eq position query indexed table table reader rows random sstable length table operator throwable make random st
src.java.org.apache.cassandra.tools.nodetool.GetCompactionThreshold
google nodetool probe airlift cf node probe arguments io override compaction threshold tools cfs proxy cfs proxy preconditions column family store mbean node tool cmd usage size node tool airline description db system util base command execute maximum compaction threshold array check argument common minimum compaction threshold
test.microbench.org.apache.cassandra.test.microbench.ReadWriteTest
keyspace iterations tear benchmark execution system teardown state disable auto compaction io time unit scope open cfs fork write cql tester column family store num rows write statement cleanup threads interrupted annotations read write trial warmup level read db setup measurement microbench util concurrent jmh throughput mode time unit cql table throwable io execute err keyspace openjdk read statement keyspace table time output time unit column family store setup milliseconds benchmark mode
src.java.org.apache.cassandra.tools.nodetool.GetSSTables
google tables nodetool probe airlift cf node probe arguments io override sstables tools option title preconditions usage size node tool airline description node tool cmd system util base command key hex format execute array check argument sstable common tables
src.java.org.apache.cassandra.transport.messages.ErrorMessage
message error number failures present protocol size failure number failures present protocol size failure request failure reason figure error codes unexpected handler callback handling unexpected error logged error level netty wrap decoding internal extract driver attempted connect protocol version supported reply appropiate unexpected authentication failure reason endpoint server error code unavailable keyspace function request timeout read failure write failure predicate syntax read timeout message read protocol version smaller logger te write consistency level read inet addr function dest db invalid code util forced protocol version unauthorized write cql read netty write bootstrapping logger aee common rfe write inet address write timeout truncate google write greater visible alive read read transport failure reason unexpected handler unauthorized server error version unprepared net configuration body runtime read backwards compatible ue base error encode received pqnfe exists overloaded error message messages key keyspace buf function execution wfe message write inet addr invalid request cl exists entry md digest put wrap apply message function failure consistency level size transport request failure prepared query found decode handler request failure reason msg data present write timeout response bootstrapping write failure code write endpoint err forced protocol version annotations error logger factory read unsigned size write utils codec stream id write failure io cb util override bad credentials logger id read consistency level functions block unavailable rte protocol error overloaded size inet addr write codec empty read timeout wrapped read failure cf concurrent throwable error codec buffer size consistency level truncate error stream id concurrent entry write config error syntax error size fee encoded size required slfj protocol consistency stream id entry size
src.java.org.apache.cassandra.service.StartupCheck
determine system valid state start halt information advice tuning environmental issues checking warning suboptimal jvm checks system correct state include inability load jna missing unaccessible data unreadable sstables misconfiguration startup checks manages collection beginning server settup run determine system safe determines safe log message reason failure ideally steps required remedy environement system safe state execute service startup check startup
src.java.org.apache.cassandra.tools.nodetool.StatusBackup
nodetool probe airlift system node probe io override tools incremental backups enabled node tool description node tool cmd command execute status backup airline
tools.stress.src.org.apache.cassandra.stress.generate.Row
stress copy row clone column partition key empty row data generate row
src.java.org.apache.cassandra.locator.SeedProvider
seed provider util locator seeds inet address net
test.unit.org.apache.cassandra.batchlog.BatchTest
iterator batch batch buffer serialized size uuid uuid gen junit timestamp micros serialize buffer util db batch util io decoded mutations uuid deserialize define schema array data output buffer configuration data input buffer dis cfm batch version net fb utilities metadata data input keyspace serialization encoded mutations marshal local messaging service simple standard cfmd mutations mutation batchlog currentversion array open size clustering table metadata add time uuid schema keyspace prepare server row update builder cf standard creation time utils io id keyspace length column family store instance build data schema loader nio iterator keyspace params serializer
src.java.org.apache.cassandra.utils.concurrent.OpOrder
providing synchronization producers consumers communicate directly consumers process work contiguous commit log producers modifying structure batch work typical usage op order order shared state barrier shared state state called wait producer work started prior barrier change shared state current state longer op group shared state null constant ordered linked starting recent ordered start operations links incomplete ordered links potential future ordered operations started ordered instance ancestors finished unlink start operation operation completed called ordered instance manages creates barrier placeholder called operations start group operations started prior represents group identically ordered operations started interval barrier call called treated general calls call barrier calls operations started ordered call operations operations earlier ordered tidying fails remove operations started finished parallel states blocking barrier waiting future blocking state entered calling running operations signal registered blocking signal notified blocking forward action avoid monotonically increasing id number operations count tasks running running operations blocking future signal wait blocking signal wait constructs instance prevents operations starting ordered running calls op close call block ops finished running unlink attempts start operation ordered true called call indicating unlink called operations started ordered operations ancestors descendants completed ahead attempt chain oldest linked reach oldest unbroken chain completed leave ancestor tidy walk back time find start finished ordered abort clean walk forwards finished walk unlinking prev pointer waking blocking true barrier blocking general aggressively register signalled barrier waiting blocking general aggressively wrap provided signal signalled operation marked deliberately opposed care smaller permits wrapping event exhaust represents synchronisation point providing ordering guarantees operations enclosing called happen barrier atomically partitions operations running expiring current activates operation started offers methods block prior operations blocking forward idiomatic barrier issued group operations started true group started prior issuing issue rely behavior subtract permit wrapping round full range total group existence timem care issues operations issued expires called properly mark prior operations potentially signalling aggressively make register signalled true operations started prior wait operations started prior issuing barrier group waiting group complete group utils mark blocking updater cancel finished atomic close id op order barrier wait queue comparable blocking signal barrier sync point prior ops finished current start waiting prev issue order auto closeable barrier blocking current signal await signal util concurrent running expire await uninterruptibly end unlink illegal state group await barrier atomic integer field updater signal register running updater compare compare
src.java.org.apache.cassandra.index.sasi.analyzer.filter.FilterPipelineBuilder
creates pipeline applying pieces provided methods builder guaranteed index parent filter pipeline task current filter pipeline builder analyzer filter task add build sasi
test.unit.org.apache.cassandra.auth.jmx.AuthorizationProxyTest
null subject action performed connector authorize verify superuser status request due null hardcode permissions provider empty doubly null subject authz access denied subject verify superuser status request rejected due grant permit invoke query permissions granted beans target invocation subject permissions custom beans hints service attempting query operation rejected permissions cover beans matching due batch log manager grant permit invoke query grant permissions root unknown method authz foolproof hardcode superuser status check method arguments array methods mbean server methods characterised authorization proxy concerned mbean server opposed specific managed considered invoked remote require describe permission root iauthorizer irole manager considered ready auth setup theoretically grant auth proxy deny verify access granted setup denied methods rejected simple matching function substituted utility delegates function iterates supplied filters target grantee daemon initialization role permissions authz required authz required collections atomic jmx resource instance immutable add message empty runtime bean permissions junit immutable permissions util query role permissions resource perms mbean methods role custom beans collect common throwable security principal authorization proxy beans google custom bean supplier role required permission fail custom wildcard select subject role permissions superuser permission authorize wildcard grant covers exact target bean permission method proxy builder proxy role role required permission authorize auth setup complete collectors filter su status checked subject authorize singleton auth setup complete authorization proxy role permission root resource authorize wildcard grant covers wildcard target reject auth setup complete apply methods management perm reject subject authenticated function iresource superuser reject invocation blacklisted methods malformed authorize subject null role resource target setup hints beans superuser reject wildcard grant cover exact target role required permission root resource reject wildcard grant intersects wildcard target root beans hints bean stream describe jmx batchlog bean principals injectable auth proxy function permission details reject methods mbean argument permissions granted permission threading bean role build query matcher config true reject wildcard grant disjoint wildcard target concurrent auth mbean database descriptor authorize target wildcard permission root reject invocation unknown method builder authorize methods mbean argument permissions granted authz required permissions lang wildcard false role atomic
src.java.org.apache.cassandra.index.sasi.utils.TypeUtil
util utils marshal buffer index compose serializers parse instance upcast token remaining nio valid db validate term upcast ut validator position sasi marshal decompose
test.unit.org.apache.cassandra.cql3.validation.operations.DeleteTest
simple deletion check migrated deletion migrated nodes make row mutation correctly deletion migrated deletion migrated check semantic cql row existence migrated migrated migrated migrated deleted row selected migrated deleted rows partition sstables resurface invalid token multiple time primary key element unknown invalid operator primary key invalid missing primary key token multiple time primary key element unknown invalid operator primary key invalid missing primary key token multiple time primary key element unknown invalid operator primary key query overlap tombstone range caused rows delete slices clustering invalid unspecified clustering delete slices clustering slices clustering mix single column invalid regression regression ultimately creates table insert row remove row null column insert rows sstable range tombstone covering rows validates correctly rows reverse inserted broken delete show bug combination trigger range tombstone showing wrong checks memtable empty memtable operations range deletion delete secondary indices memtables live data size collections delete astatic column force flush delete multiple clustering columns empty restriction row compact add deleted rows resurface random deletions junit buffer util db delete reverse queries col util delete intermediate range clustering column cql execute array commons compact option table deletions min rows deleted row selected flush delete pk lang remove range slice cfs deletion delete range clustering columns ret row existence querying range tombstone bound reverse rows reverse query range tombstone multiple blocks empty range delete clustering columns throwable delete empty restriction idx keyspace length current table options delete nonoverlapping range shuffle text querying range tombstone bound forward invalid message delete clustering columns open rows ignoring order rows cross mem table multi column range ghost num rows integer metric sort delete range delete empty restriction builder keyspace partition key column family store sleep delete range clustering column sort rows flush tombstone invalid delete column clustering ordered utils delete clustering columns flush data delete composite prefix thread keyspace format cql tester column family store memtable empty row count empty append nbkeys true clustering empty clustering arrays col deletes empty restriction mutations empty buffer nbdeletes delete composite prefix compaction index delete row deletion sb cpr validation utils
test.unit.org.apache.cassandra.repair.consistent.CoordinatorSessionTest
coordinator state participants participant coordinator coordinator send failures messages complete coordinator side consistent repair coordinator sends prepare requests local session perform participants respond repair begins participants responded repairing callback verify correct state propose messages repair sessions completed commit messages participants respond promize commit callback verify state coordinator sends prepare requests local session perform participants respond repair begins participants responded repairing callback verify correct state participants notified session coordinator sends prepare requests local session perform participants respond repair begins participants responded participant fails prepare consistent additional success messages participants notified session coordinator sends prepare requests local session perform participants respond repair begins participants responded repairing callback verify correct state propose messages repair sessions completed commit messages participants respond promize additional success messages failure messages participant state results session coordinator session atomic repair future coordinator session failed prepare promised coordinator uuid gen repair session runnable repairing util execute array fail rang rang rang send message common inet address session result key instrumented coordinator session google prepare consistent request consistent system repairing supplier state settable future fail commit collect array net run builder ranges commit called peer state failed propose failed repairs messages participan current time millis preparing repair submitted repairing repair consistent session message prepared put message size failed failed instrumented session destination add messages time uuid participants expected commit function state uuid table ids listenable future ranges coordinator session id junit result clear utils fail session fail called coordinator handle promise handle prepare response failures session supplier participant repaired repairing called propose participants empty build state repair session result state true commit participan concurrent session id participan multiple failures repair message builder builder false atomic success
src.java.org.apache.cassandra.db.TruncateVerbHandler
messaging service truncate blocking payload truncate response io message open message truncate verb handler keyspace message column family store id cfs instance logger logger truncation trace tracing db keyspace column family store response iverb handler send reply net send respond error tracing verb logger slfj truncate request message column family error find nested logger factory error
test.unit.org.apache.cassandra.concurrent.DebuggableThreadPoolExecutorTest
size utils delta daemon initialization system sleep debuggable thread pool executor nano time interrupted start max integer wrapped runnable config junit runnable thread millis linked blocking queue util concurrent run setup dd debuggable thread pool executor database descriptor execute runnable completed task count thread factory nanoseconds serialization executor time unit milliseconds
src.java.org.apache.cassandra.cql3.conditions.ColumnCondition
condition column collection adds functions bind variables functions functions collects column specification bind variables bound column specification collect bind variables term checks output bind operations valid input buffer check simple condition condition collection element condition udt field regular simple collection simple udt simple operator compare validates condition applies true operator satisfied operator false condition neq row row complex row cells called comparison condition single condition condition element collection collection conditions condition entire collection copy iterator contents properly reuse comparison cell cell compare compare condition udt udt conditions condition entire conditions protocol syntax syntax condition col condition col condition column single col condition collection condition collection condition collection element single condition udt condition collection condition collection element single bound iterator udt field condition marker unset user collection condition check false collections buffer marker element access bound bind terms row adv cell raw column condition row cell path add udt field protocol version udt applies column specification gt buffer util db kind util simple column condition cql serializer condition collection element condition iterator field receiver array cell index iter collect applies common marker operator key spec bind multi cell udt bound google element spec row row collection condition applies empty iterator protocol version terms transport collection index raw field column metadata udt field access bound tuple iterators user simple bound validate operation durations unset neq conditions constants variable specifications term multi cell applies filter unset complex column data unset buffer comparison operator query options eq comparison element idx column cells cell path field key keyspace receiver options op condition iter statements references duration entry index spec cell cfm collect marker specification path operator raw keys size rows table metadata counter column udt field condition slice collection element schema sort raws gte advance cell lte collection udt field condition field position applies simple condition sorted elements spec simple condition elements compare applies complex data serialize protocol utils prepare terms terminal user override field spec function functions terms bind terms serialized add functions condition entry field lt split request validations filtered complex column data index collection element compare operator elements evaluate comparison operator nio spec satisfied entry protocol version error bind field identifier bound marshal check invalid request prepare row multi cell collection bound cell
src.java.org.apache.cassandra.metrics.DefaultNameFactory
metric factory generates metric metrics registry length metric metric factory mbean group metrics metric factory append scope metric builder builder
src.java.org.apache.cassandra.batchlog.BatchStoreVerbHandler
messaging service send reply batchlog id message payload batchlog manager message batch store verb handler message instance net store write response db batch iverb handler verb
src.java.org.apache.cassandra.notifications.INotification
created intelli change template file file inotification notifications
src.java.org.apache.cassandra.index.sasi.utils.trie.PatriciaTrie
slightly correspond code patricia trie supports pluggable key comparators patricia trie supports deployed maven central downloadable algorithm retrieve information coded patricia compressed data edges empty internal patricia stores data efficient operations performed worst number bits largest item operations average number bits items patricia requires comparisons keys performing comparison perform single bit comparison comparing entire key operations lexicographical order scan items bitwise closeness determined true false bit methods argument method expecting instance roger sam entry strictly higher null entry cleanup functions perform data root empty exited key null follow steps adding encounter situation found hit empty iterable add temporarily add find successor remove added steps ensure entry key entry directly cleanup functions perform exited increment remove modify increment remove modify greatest strictly null follow steps adding encounter situation found previous entry hit root add temporarily add find previous entry remove added steps ensure key null cleanup functions perform exited greatest null cleanup functions perform exited finds subtree similar difference stop lookup make entry valid entry root length root length prevents subtree root lookup things found bit differs entry encounter valid uplink traverses path finds trie encounter node lexicographically node null simple uplink left valid uplink follow path uplink left loop back parents encounter node node uplink root root root root uplink follow path child start start null entry lexicographically entry traverse undefined range view creates view true provided key greater form high endpoint legit true provided key true provided key creates view current deals key start null key end null till creates key included key excluded creates view creates creates submap prefix views creates method determinates range elements method called time trie changed found key true key provided true provided key true provided key prefix view creates holds single iterating prefix reset subtree remove subtree search starts iteration entry search current entry removing find subtree subtree changed bit index removed bit index length prefix iterator range prefix collections add entry range entry bit key find increment size empty range entry predecessor prefix range hit key inclusive ceil util entry impl entry iterator bit idx illegal state excluded key fixup trie iterator iterator remove delegate range entry found key entry subtree start scan key inclusive null bit key index range suppress warnings ret key current size serializable bit follow parent key key null pointer prefix start inclusive sorted put follow left key prior entry lower entry entry serial version uid head valid bit index entry key analyzer mod count key prefix path remove entry trie entry entry prefix start tail empty entry replace lower singleton iterator bit index comparator patricia trie illegal argument previous entry ceiling entry key analyzer cast root compare keys floor entry compare valid uplink trie utils element inclusive io override higher entry nearest entry key range length bits key empty patricia trie expected mod count range node added comparator range entry fixing parent subtree subtree prefix range entry replace ceil entry force inclusive sasi left
src.java.org.apache.cassandra.db.EmptyIterators
method cleanest partition deletion rows unfiltered unfiltered partition deletion time element regular columns live base row iterator empty iterators close columns encoding stats unfiltered partition iterator table metadata instance unfiltered row empty unfiltered partition iterator row iterator empty base row iterator empty live empty base partition iterator unfiltered row iterator reverse order empty unfiltered row iterator columns schema partition iterator decorated key empty row iterator db stats util partition level deletion rows empty partition iterator partitions stats base partition iterator row partition partition key row empty row metadata row
src.java.org.apache.cassandra.db.partitions.PartitionIterators
created resources query empty row iterator empty note wrap result close method close bothers provided called previously iterator fully created resources wraps provided iterator logs rows debugging note meant debugging log large amount logging created resources size partition consume iterator utils empty iterators id close logger partition iterators rows extend extend partition close apply partition transform transformation row iterator singleton iterator contents row apply metadata reversed partition iterator suppress warnings iterators db logging iterator util row iterators partition key iterator concat partitions partitions clustering index filter compute singleton partition iterator end data element iter command close single partition read command
test.long.org.apache.cassandra.utils.LongBitSetTest
start make jit times approx keys compare bit buffer utils random system loop gc logger nano time append index timeit bit operations runtime start loop heap bit max integer logger junit clear buffer util open bit nanoseconds millis populate random sizeandexcess info concurrent sizetotest random logger slfj offbs time unit logger factory obs
test.unit.org.apache.cassandra.db.RangeTombstoneListTest
stack overflow add insert insertion make meaningful generate check resulting range tombstone check ranges order prev end inclusive iterator add range empty start end prev start buffer make random sorted addition tombstone empty end bottom max distance overlapping previous end start add junit clustering comparator buffer util format matches add range empty end witch overlap existing range db initial capacity util rt rt rt max markedat start inclusive group close inclusive iterator random iter max size common throwable cmp clustering true range tombstone google pattern overlapping addition system deleted slice deletion time tstamp nano time rt open inclusive rtei del time prev end sorted addition exclusive start search deletion time regex end range tombstone add sequential ranges sorted addition max marked base simple overlap add included range tombstone actual valid add random initial add bug marshal add rand length marked delete clustering bound add included range range empty end size clustering timestamp matcher search range empty end rt count start add range empty end range empty start end expected integer prev iter large addition range prev start inclusive add included range empty end range empty end greater copy inclusive end join start compile str max size trim inclusive start compare slice curr iter utils rtie exclusive end substring seed add range empty end witch include existing range empty end end add overlapping range range empty end make range instance empty split matcher add range empty end witch include existing range search nio sorted addition range empty end joiner deletion time max distance add end inclusive max size bb search empty start false top
tools.stress.src.org.apache.cassandra.stress.generate.values.Integers
integers stress generator instance identity distribution db marshal override integer generator config config generate
src.java.org.apache.cassandra.db.filter.ColumnSubselection
handles selection subpart make sense complex select slice path selected selected subselection path selected dealing collection thing dealing collection thing find data dropped fail deserialization grab column metadata ensure column ignore buffer comparable serialized size bottom elt slice buffer util read unsigned db collection util cell path comparator io comparator deserialize cmp data output dropped column read length slice column metadata version sel metadata kind sizes compare inclusion complex runtime data input path column filter marshal column subselection write length column serialize elt selection size rows table metadata cell path ut schema element write serializer comparison path kind cell path serializer compare slice utils io override format instance ordinal nio comparator element sizeof length error element serializer compare top
src.java.org.apache.cassandra.utils.concurrent.Transactional
transactional throwable failure work failure failure wrong called exiting auto close method invoke reset completes exiting block auto close method invoke release temporary thrown checked ruled commit commit generally real moved operation executed methods generated commit initial clear correct system simply logging rollback checked ruled commit transactional abort made calls made prior calling semantics method differ significantly auto closeable simple transactional general base transactional wraps internal transactional proxy call internal ensure correct methods performing improper external provided empty safer force explicitly perform cleanup state unique transactional perform cleanup perform run prepare commit perform preparatory work prior method commit effects transaction delegates rollback effects transaction delegates cleanup file handles released prior committed phase delegates valid state transition call propagated child participating convenience method transactional convenience method wrapping transactional convenience method wrapping transactional commit generally preferably generate generate accumulate parameter commit real correctness affecting moved executed commit methods release rollback state utils post cleanup state abort prepare commit close throwables pre cleanup transactional fail state committed transactional auto closeable finish concurrent permit redundant transitions commit accumulate progress illegal state abort prepare ready commit merge aborted commit throwable
src.java.org.apache.cassandra.index.sasi.conf.view.TermTree
compare buffer add index interval count conf disk index min add build nio max builder db search table index util max term plan min term mode expression term tree comparator disk index builder mode sasi marshal view
tools.stress.src.org.apache.cassandra.stress.generate.values.Sets
generator seed override size distribution instance add generator config size config db util generate stress seed marshal
src.java.org.apache.cassandra.exceptions.UnknownIndexException
thrown read index id serialized read command found note internal user node reading read command proceed index id uuid table metadata format unknown index index id metadata util io io schema id
src.java.org.apache.cassandra.streaming.SessionSummary
immutable collection receiving summaries immutable collection sending size data output utils serialize peer streaming result io sizeof serialized size length inet address serializer num collection code instance add version iversioned serializer receiving summaries net read length sending summaries sizes stream summary buffer util num rcvd data input db util write length serialized size io serializers session summary stream summary deserialize coordinator array read summary write inet address serializer
src.java.org.apache.cassandra.tools.nodetool.RefreshSizeEstimates
execute refresh size estimates node tool cmd nodetool description airlift probe override node probe command airline io tools node tool refresh size estimates
test.unit.org.apache.cassandra.db.ReadMessageTest
cfsnocommit daemon initialization checker col filtered partition util predicate cf read key incl iversioned serializer cell read command junit columns serialize dk buffer util db keyspacenocommit util io add partition key column partitions deserialize define schema commit log message found upd cmd make read message common add clustering column data output buffer metadata data input buffer dis clustering rms google apply cfs column metadata mutation rm net configuration rm data input builder read message base found ascii partition updates reverse keyspace cf commit add regular column row messaging service column simple partition update standard cfmd keyspac mutation currentversion commit log open clustering rows table metadata include row add checker replayer schema cf keyspace simple column family store prepare server row update builder cf commit metadata cf commit metadata utils commit io make column family store row instance cf read metadata examine commit log build serialize deserialize read message data config true column schema loader key incl keyspace params commit log message found database descriptor commit log replayer builder partition marshal false commitlog commit serializer
src.java.org.apache.cassandra.db.CounterMutationVerbHandler
wait result write distributed deadlock running verb handler callback send note called request coordinator counter mutation timeout database descriptor messaging service payload cm message utils system send reply nano time logger counter mutation verb handler message fb utilities storage proxy service apply counter mutation leader message local data center id instance logger config query start nano time datacenter runnable run trace write response db iverb handler net verb logger slfj broadcast address counter mutation logger factory endpoint snitch
src.java.org.apache.cassandra.cql3.Json
insert json quotes contents standard json represents literal json insert json insert mytable json represents marker json insert json insert mytable json full json prepared literal json prepared bind marker json terminal single note intrinsically prepared easily raw raw term single intrinsically terminal single intrinsically collected practice method json columns explicitely distinguish explicit null explicit user handles unquoting surrounded remove preserve lowercase bound iterator text unset instance make receiver add message prepare collect markers spec columns column specification weakly assignable db util key io text json encoder cql term result array remove raw parsed json key quote decode json json codehaus starts jackson column metadata bind index handle sensitivity constants metadata variable specifications term prepared literal receivers query options raw delayed column table metadata parse json column json column keyspace receiver marshal invalid request prepared marker marshal unset literal put literal raw term column collect marker specification marker expected receivers size read collection prepared json column identifier length ut schema unset delayed column lowered terminal substring marker key def json column id io column terminal json mapper override mapper function functions format add functions instance null literal empty lower assignment exact json prepared null serializers json exc locale bind bind marker options ends prepare column assignable quote json
src.java.org.apache.cassandra.auth.AuthSchemaChangeListener
schema change listener cleans permissions dropped authorizer drop table data resource table config schema function schema change listener drop function db auth util function resource auth schema change listener database descriptor drop aggregate function aggregate cf revoke keyspace drop keyspace marshal
src.java.org.apache.cassandra.cache.InstrumentingCache
wraps icache requests hits icache capacity replace put absent remove internal instrumenting cache cache mark capacity size metrics key put util hits capacity iterator metrics key iterator clear cache metrics hot key iterator requests key weighted size
src.java.org.apache.cassandra.cql3.statements.AuthenticationStatement
execute internal local query altering users make sense rethrow friendly unsupported operation statements result message role resource user query state override parsed statement client state transport service permission authentication statement prepared ensure permission state cql statement format bound terms auth check permission query options unauthorized cql execute internal request validation execute resource prepare request execution required messages client state query start nano time options
src.java.org.apache.cassandra.repair.messages.SyncComplete
nodes involved sync true sync false size repair read version data output serialize message streaming repair job desc write io override message summaries serialized size num summaries code add data input endpoint net sizes sizeof read db util write io nodes desc message serializer repair message session summary deserialize success array sync complete messages summary node pair inet address endpoint sync complete sync complete serializer serializer
test.unit.org.apache.cassandra.hints.HintsCompressionTest
google compression compressor snappy compressor hints compression put altered hints io lz compressor compressor deflate compressor immutable snappy compressor writer params build compressed checksummed data input compressed hints writer icompressor checksummed data input config hints writer legit deflate compressor compression params compress simple multi flush deserialize compressed checksummed data input compressed hints writer hints parameterized lz compressor builder assignable hints descriptor junit collect common checksummed data input
src.java.org.apache.cassandra.cache.RefCountedMemory
true succeed referencing reference count reaches freeable memory created reference count decrement reference count reaches ref counted memory unreference reference size updater put references compare io memory close math size min cache auto closeable free util concurrent copy error decrement atomic integer field updater updater atomic
src.java.org.apache.cassandra.locator.ILatencySubscriber
latency receive timing address locator inet address net ilatency subscriber
src.java.org.apache.cassandra.io.sstable.format.SSTableWriter
api table writers primary writer format information part due lack multiple proxy transactional feel safer add component components unmodifiable appends partition data iterator partition created index entry write error write data file open resultant table reader fully open resultant table reader fully tables written atomic operation open resultant table reader fully related ready finalised including sstables written involved finalise state including present sstable completely renamed rename confirmation summary load tables table metadata ref iterator repaired collections filename write error writer factory op enabled add empty tmpdesc table writer metadata collector rename confirm disk optimization strategy newdesc util compaction accumulate difference serialization header table reader metadata uuid header array stats metadata index serializer collect estimated disk written common open early transactional proxy rename confirm index google observer transactional visible crc copy close collector sstable level append index serializer index table metadata ref max data age immutable version operation file pointer size flush observer primary index metadata empty component table format descriptor open result throwable format reader open early filter sstable reset truncate commit txn disk file pointer stats metadata lifecycle transaction bloom filter fp chance row index entry prepare commit open row index entry serializer rows compression table metadata collection mark open result params compression info unfiltered row iterator annotations txn proxy schema stats complete writer factory summary observers finished pending repair operation comparator partitioner descriptor canonical rename utils factory table abort io toc data table flush observer metadata component metadata collector format component indexes transactional instance metadata key count schema config max data age begin finish arrays db concurrent file utils database descriptor lifecycle digest repaired components
src.java.org.apache.cassandra.db.columniterator.SSTableIterator
cell iterator index slice start current null passed end current element computed true result indexed reader results based skip data end null note comparison reason rt start marker strict inequality open rt marker open marker send stream clustering avoid problem clustering simply record reached beginning queried open compute element assuming middle element reasoning handle pre slice data strictness inequality exclude deserialized unfiltered miss rows slice bound end bound start start bound fundamentally bound end range slice properly close range tombstone part open code empty row reason expressed open close absolutely accurate index block data current call previous slicing biggest row find index block read find index block read slice end start read block seek index search based index point current idx block idx guaranteed slice previous block end block previous block ends open marker cover previous read made cross index block update read beginning initialize index unfiltered reached end block checking slice empty row reason expressed update open marker clear open marker internal unfiltered handle pre slice data start idx bottom update block read find block index range tombstone marker reader internal columns format index entry db block idx io slice table reader slices compute current index slice open marker block index state table iterator file data input close slice current block idx indexed metadata kind decorated key key skip filter sstable deserializer forward indexed reader slices clustering bound column filter row index entry forward reader reader size ifile rows start internal index state kind comparator slice index table iterator range tombstone marker row columniterator compare slices file top blocks count element io override slice start empty unfiltered reverse order range tombstone bound marker slice end compare util close file file handle
src.java.org.apache.cassandra.exceptions.WriteFailureException
failure reason endpoint write failure write failure consistency level request failure reason net write db util code block received write request failure consistency inet address
src.java.org.apache.cassandra.db.marshal.LongType
empty buffer empty unsupported operation compare unsigned bigint buffer parsed number custom source add protocol version input serializer buffer util format db cql serializer mod deserialize cq cast protocol version date transport remaining serializers compare empty meaningless comparison constants term substract timestamp compatible internal marshal divide parse serialize marshal negate diff serializer number integer simple number json left decompose utils cq override parsed instance empty nio buffer json empty buffer compare custom multiply exc length fixed position left
src.java.org.apache.cassandra.service.pager.AggregationQueryPager
care fetching pages aggregation user page size number group composed rows avoid running pager page internal queries call yield multiple internal queries retrieve automatically fetch data current iterator page size number internal page data track partition iterator closed key partition clustering row initial amount row paging page size loads updates pager limits pager pager previoulsy limits partition key partition key row clustering clustering row pager query page computes size page size page counted number result previous size fetchs page size size number decorated track decorated iterator closed fetch previous page ending partition row iterator continuation queries group maintaining backward compatibility forced due pages fetched clustering delegate unsupported operation fetch page page size partition key fetch page internal element handle paging max remaining fetch page regular columns buffer query pager override group limit client state fetch row iterator nano time consistency level partition iterator clustering rows partition iterator table metadata clustering group internal paging end data exhausted row iterator data limits empty closed updated limit row iterator group row iterator grouping state reverse order schema group partition iterator nio state limit row db aggregation key system util query start nano time aggregation query pager compute page size limits columns partition key pager partitions paging state pager decorated key service limits execution controller row read execution controller close metadata initial max remaining filter update pager limit page size aggregation partition iterator consistency iterator client state counted row
src.java.org.apache.cassandra.cql3.statements.StatementType
checks checks checks checks checks statement clause missing partition key components token statement clause missing partition key token checks statement clause clustering column statement clause clustering column checks statement primary key statement primary key checks statement secondary statement secondary insert update statements partition key ranges insert clustering column slices statement secondary indices update delete override primary key clause select cql delete select
src.java.org.apache.cassandra.metrics.DecayingEstimatedHistogramReservoir
decaying histogram reservoir collected minute significant collected previous measured collected variable sized small buckets lower range larger buckets upper histogram distribution underlying data stream changed recently high resolution lower histogram forward decay make recent forward decay factor minute time forward decay landmark reset minutes landmark updates reads reservoir blocked fashion similar metrics library minute rescale interval based assumption extreme collect metric times single bucket end minute collected roughly add represented bits giving head room signed bit internally reservoirs decay getters expose decay functionality reservoir makes caller maintain precise deltas interval bucket size starts grows time removing give timing resolution microseconds roughly precision numbers series counts bucket represents bucket current number bucket count reduce memory allocation bucket offsets sized bucket array separate bucket offsets sized bucket array separate bucket represents bucket offset created decaying buckets buckets element longer bucket offsets element greater wrapper simplify unit construct decaying histogram number buckets construct decaying histogram number measurements separate collected bucket construct decaying measurements separate collected bucket bucket count number buckets collect measured increments count bucket closest rounding data point add inexact bucket higher exact number buckets recorded method number recorded suggested number snapshot decaying reservoir included true histogram overflowed larger largest bucket bound check make thread complete rescale represents snapshot decaying decaying buckets copied snapshot array give consistent view copy made threads change buckets array causign slight skew quantiles decaying buckets quantile calculations decaying buckets exposed calls estimated quantile quantile quantile estimated illegal state histogram snapshot consistent quantile caller aware offsets created make snapshot number buckets recorded method number recorded suggested number number registered forward decay sum bucket estimated added collected variable sized actual max recored reservoir largest added estimated histogram bucket weighted illegal state greater largest bucket estimated added collected variable sized actual min recored reservoir higher smallest added estimated standard deviation added collected variable sized actual deviation estimate standard atomic array reservoir time atomic min max math forward decay weight illegal state max ceil util snapshot lock regular usage increment estimated histogram reservoir snapshot utf bucket offsets landmark reset interval common output round google dump clock printf visible unlock compare clock add index clock sum rescale lock rescale rescale buckets rescale overflowed metrics reservoir bucket offsets decaying estimated histogram reservoir length std dev estimated histogram writer diff size log reentrant read write lock quantile bucket offsets unlock rescale annotations output stream read lock snapshot decay landmark count half time unlock regular usage rescale factor standard charsets lock utils binary search qcount locks codahale io rescaling bucket count charset sqrt offsets bucket count write lock elements nio lifetime arrays update decaying buckets concurrent bucket count output stream writer clear exp atomic
src.java.org.apache.cassandra.streaming.ConnectionHandler
connection handler manages message exchange connection handler manages thread receive incoming thread send outgoing messages thread handed incoming message handler initiate method called outgoing message handler receiving connection incoming connection version streaming message enqueue messages messages messages true outgoing connection opened ready send socket channel null socket timeout assume huge deal future close close underlying socket remove active messaging service connections outgoing connection registered close socket erroring closing happen big debug ignore incoming streaming message receive null error streaming ignore outgoing file transfer messages queued size grow received streaming queue priority queue prior messages sends messages socket plan id remote socket address stream message session atomic buffer jvm stability inspector stream session initiate receiving side message received future session index logger runnable socket util enqueue stream init message io session failed netty deserialize socket timeout incoming streaming connection channels logger send message common debug throwable stream operation connection handler priority blocking queue google file signal close streaming fast thread local thread compare settable future close pending repair incoming message handler error flush incoming socket timeout version write channel writable channel net interrupted outgoing run suppress warnings runtime incoming socket futures outgoing connected peer logger factory incoming socket read channel messages initiate connection timeout output stream channels message poll fb utilities message queue collection start close future send messages wrapped data output stream closed buffered data output stream channel listenable future data output stream serialize close incoming close outgoing inspect throwable future time unit outgoing socket incoming connection outgoing message handler compare priority utils protocol version preview kind io current version override logger atomic reference message handler message preview outgoing write message buf closed buffered output stream readable channel connection nio comparator put closed concurrent channel input stream error warn initiator table level send init message slfj outgoing handler broadcast address
src.java.org.apache.cassandra.db.compaction.CompactionInfo
serializable structured info copy compaction info updated stop total stop requested task put ret io total id unit completed table metadata keyspace id column family compaction info append uuid holder serializable metadata total complete builder completed table metadata db keyspace util compaction id compaction operation complete stop requested uuid progress compaction info buff tasktype schema serial version uid
tools.stress.test.unit.org.apache.cassandra.stress.settings.SettingsNodeTest
datacenter stress node node accept node overiding data center options options junit
tools.stress.src.org.apache.cassandra.stress.settings.SettingsCommandUser
unique mixed command ratios selecting commands index na command file cli utility operations collections insert subkey group validate generator build query runnable bulk read queries ops matches matcher option distribution uri util report ignore merge extract spec cmd result logger operation key exists command pattern system user linked factory uri yaml paths yaml file exit truncate table spec net regex uncertainty run parent partition generator timer warmup token range queries command key options option timer seeds options seed manager load ratios format put printf select size clustering matcher generate params op distribution factory count cur yaml path printer option probabilities option simple illegal argument options profiles compile generator yaml path profilename io override insert truncate tables defaultprofilename empty split grouped options profile sampled op distribution factory arrays command user singleton stress token range iterators token range iterator option stress stress profile load token ranges file duration token range iterator distribution factory
src.java.org.apache.cassandra.db.WindowsFailedSnapshotTracker
handle null unit skip folders subset temp data people delete virtue adding invalid directory deletion worked previous jvm delete file succeed deleting bad paths writer io exists delete snapshots format visible system file utils google file flush close logger files runtime buffered reader data file locations delete recursive snapshot directory reader logger config annotations valid folder todeletefile reset nio failed snapshot file db getenv util handle failed snapshot io database descriptor delete recursive exit windows failed snapshot tracker file reader directory warn logger slfj separator common file file writer read line logger factory dir delete
src.java.org.apache.cassandra.cache.OHCProvider
unlike cfs support capacity buffer row cache key serialized size cache ohc provider cache builder oome db util io partitions iterator deserialize remove serializer rebuffering input stream data output buffer key caffinitas data input buffer put cache data input write utf write read utf row cache size mb sizeof cache adapter capacity sizes sentinel id suppress warnings runtime sentinel key put write read length weighted size key serializer cache serialize replace table id mem size row cache sentinel read builder data output buffer fixed schema index cached partition cache serializer buf key serializer irow cache entry cache serializer key iterator builder cache provider icache ohc put absent io instance empty build config nio data output add replace database descriptor serializer row cache key clear hot key iterator table id entry
src.java.org.apache.cassandra.streaming.messages.ReceivedMessage
closing constructed channel remain sequence number received message serialize stream message streaming session table id io override stream session message append data input stream input stream version builder readable channel input schema nio suppress warnings received read data input util data output stream io serializer channels deserialize messages channels table id write sb serializer
test.unit.org.apache.cassandra.index.sasi.utils.MappedBufferTest
read numbers numbers fit read numbers numbers fit read numbers represented single length aligned page padding bunch channel proxy page region buffer math write add junit absolute greater capacity page region max file util position greater limit temp file io compare page file array random close quietly absolute negative position absolute negative position num count absolute greater capacity write sync limit close remaining index relative underflow current relative underflow absolute greater capacity write num page bits absolute negative position offset buffer buffer array array absolute path region length limit greater capacity marshal negative position max page bits duplicate duplicate expected integer absolute negative position size thread local random channel padding fd sequential iteration padding size illegal argument random access file limit num limit position write decompose file utils num incorrect page size io file relative underflow min instance relative underflow paddings buffer tmp nio buffer db concurrent open page bits delete exit file utils capacity absolute greater capacity error basic write read misaligned region access sequential iteration compare page position buffer sasi index bounds
src.java.org.apache.cassandra.utils.HistogramBuilder
simple constructing esimtated histogram predetermined calculate max standard deviation items generate estimated histogram upto stdev size ranges side reached range inserted relevant middle middle size outermost stretching min build ranges side combine minormax range exclusive begin estimated histogram generate min start deal stdevs small generate round round nearest half avoid tiny ranges limit stdev ranges range smaller copy ismin utils min system lowhalf delta arraycopy math histogram builder min sum sumsq range sqrt minormax hist maxdevs add max arrays max build range len util build stdev ranges stdev empty array highhalf count ranges illegal argument larger length stdevs round estimated histogram
test.long.org.apache.cassandra.io.compress.CompressorPerformance
warm make optimized make optimized size buffer compressor performance initial compressed buffer length format system uncompress collections io file input stream remaining nano time compressor thread local random lz compressor timed position snappy compressor current instance allocate rewind icompressor supports math deflate compressor allocate direct nio empty read time compress len channel util performances simple io data source input count capacity buffer concurrent performance clear put flip scalb fis checksum output buf len timec
src.java.org.apache.cassandra.hadoop.cql3.LimitedLocalNodeFirstLocalBalancingPolicy
load balancing policy intended cql record reader fetches chooses alive hosts replicas connection load data strictly defined pointless policy tracks replicas query plan local collection remaining hosts shuffled supported load balancing socket iterator collections statement address add add logger local loopback address util cql remote iterator array remove logger hosts common copy write array inet address unmodifiable google transform inet addresses unknown host local host close live replica hosts enumeration collect iterators limited local node local balancing policy host address net core replica addresses local inet addresses query plan host base replica hosts net iface network keyspace shuffle addresses host distance apply size load balancing policy host collection statement datastax empty warn add live replica host driver suspected distance cluster policies logger factory cluster replica override local addresses logger function hadoop trace replicas arrays remove network concurrent local concat remote init slfj
src.java.org.apache.cassandra.tools.nodetool.DescribeRing
nodetool probe airlift system node probe arguments io override describe ring lang tools empty token range node tool schema version description runtime node tool cmd io describe ring execute required commons keyspace airline command utils
test.unit.org.apache.cassandra.io.sstable.DescriptorTest
cf cfid secondary descriptor parent directory points ksname filename legacy directory filename backup desc filename temp data dir null junit cf id dir backups subdir buffer util format directories db util temp file io commons throwable dir generation cf id filename fail lang descriptor code version filename component check filename descriptor absolute path sstable separator absolute file filename backup dir hex cf dir random uuid snapshot subdir cfname idx validate pair idx dir uuid join filename filename snapshot io table format utils parent file file data bad big component snapshot dir secondary index separator pair desc desc utils file directory original left
src.java.org.apache.cassandra.schema.CompressionParams
versions understand compression parameter content store max length avoid rounding errors causing configuration store min input unrecognized checks compression compression table table compressor compression check unknown parse chunk length ch length kb length chunk chunk length configuration chunk size removes chunk length option options chunk length removes min compress ratio option options min compress calculate max chunk size write options compression options options compression removes option compression options compression options option options options option removes option options chunk length power assume computing chunk number uncompressed file offset chunk length earlier uncompressed unsupported operation option count parse chunk length compressor lz stream message singleton collections math serialized size ratio parameters instance immutable method integer max compressed length crc check chance warning classname snappy iversioned serializer sstable compressor logger chunk length kb invoke format crc check chance max db ceil util key method io sequence compressor deserialize sstable compression commons remove method logger common write throwable options google data output chunk length sstable compressor write utf streaming deflate compressor logged chunk length warning lang append lz compressor provided collect runtime code current read version crc check chance supported options icompressor configuration key sizes suppress warnings empty compression data input calc min compress ratio parse enabled deflate key parameterized obj messages key security logged table compression warning logged crc check chance warning parse compressor options check crc compressor crc check chance enabled sstable compression version put snappy compressor parse cp method size compression compression options clazz message entry min compress ratio sstable compressor schema min compress ratio initializer error copy options thread local random deprecated warn compressor simple remove chunk length chunk length kb serialize remove sstable compression copy serializer parse compression params enabled read utf crc check chance logger factory ch length kb chunk length kb target override io options invocation target logger parsed min min compress ratio builder empty illegal access copy code builder config klass chunk length check chance compress remove enabled reflect concurrent number format entry validate calc max compressed length remove min compress ratio lang code builder sstable compression slfj sizeof serializer entry opts
src.java.org.apache.cassandra.auth.AuthKeyspace
comment tables statements roles simple auth keyspace parse dc local read repair chance table statement table id role permissions superuser setup delay id keyspace metadata cql table metadata cql gc grace build resource role index schema description roles format system table role permissions resource role index auth util concurrent schema constants keyspace params auth keyspace lang role members role members days time unit metadata
src.java.org.apache.cassandra.io.sstable.IndexSummary
layout memory index offset entries summary summary consisting position entry simple math find position memory start reading actual index summary keys sequence position offset actual index lower bound average number partitions index summary lower partitions entry index summary full sampling permit memory span range larger accompanying count length split data offsets entries summary entries index file represents index summary entries summary binary search notoriously difficult lifted collections comparing buffer position actual index summary entry memory index index entry key position offset memory attribute actual entry section holds position entry multiply estimate total number keys number entries summary full sampling number entries primary index divided min index amount memory entries portion size number primary index entries index summary entry index summary entry equivalent index index index index summary entry index entry number partitions partition summary representation treats offsets summary data contiguous offsets based start offsets offset memory split regions summary indexed apply correction offsets adding serialization format file serialization order reverse representation treats offsets summary data contiguous offsets based start offsets offset memory split regions summary indexed apply correction offsets subtracting deserializes key stored offline tools skip effective index interval effective index interval buffer offset count math add effective index interval index shared copy partition position serialize order end summary buffer util format db ceil util base sampling level sampling level io entries deserialize logger base offset write data output result ref max index interval index hollow direct buffer read length expected min index interval allocate fb utilities fill temporary key suppress warnings offsets read decorated key free ipartitioner key offset write read key sstable sampling level estimated key count min index interval hollow index summary memory output stream size size full sampling downsampling entries length skip start reverse low memory pair integer add identity collection big endian copy logger position max number entries entries calculate end deserialize key logger factory key size decorate key utils binary search high buffer io memory heap size full sampling summary size logger identities partitioner min index interval mid write dht index summary serializer nio buffer entries length wrapped shared closeable concurrent data input stream memory util offheap size ioe order position summary slfj serializer compare order offsets
src.java.org.apache.cassandra.auth.AllowAllAuthorizer
authorize dropped role unsupported operation performer revoke role resource collections override iresource iauthorizer permission empty authorizer revoke require authorization resources auth util validate configuration user permission details permissions resource dropped resource authenticated user setup grant applicable permissions revoke
test.unit.org.apache.cassandra.io.util.RandomAccessReaderTest
fake file channel simply increments position read simulate large unsupported operation heap skip channel proxy daemon initialization buffered heap seek multiple threads lock buffer read fully math write submit executors minutes writer write file message transfer logger sequential writer junit reset runnable buffer util read max dsts util temp file io utf max segment size random segment logger writable channel mode reader read transfer force parameters num threads eof system remaining fail close random access reader nano time nio file lock mode dst ret large reader shared meta data num iterations run read builder seek single thread buffer position offset file length mmapped regions size src heap big buffer size reset absolute path impl close channel length max segment size executor service info read fully pos channels file utils path shutdown wrap array size exists seek buffered heap multiple segments mark params expected integer complete worker srcs setup dd big endian buf position count target past mark remaining random access reader limit fake file channel executor standard charsets time unit logger factory lock utils charset await termination stack trace seed io logger buffer size seek min charset interrupted readable channel config mmapped regions channel true finish buffer tiny buffer size truncate arrays compress num written fixed thread pool concurrent data position delete exit fh database descriptor num read order mmapped buffer builder file channel slfj file false position file handle order
src.java.org.apache.cassandra.cql3.Duration
represents durations store separately due fact number days month day hours daylight saving regexp parse duration provided regexp parse duration provided iso format regexp parse duration provided iso format regexp parse duration provided iso alternative number number number creates duration months number days number nanoseconds number makes negatives converts accepted formats digits time unit time unit alternative input number checks time adds duration time time millis time duration time substracts duration time time millis time duration time minus adds days nanoseconds time time millis time days nanoseconds months number months days number days nanoseconds number nanoseconds time days duration months ignore daylight time zones simply checks duration day precision bellow day duration day checks duration millisecond precision bellow millisecond duration millisecond checks duration data bellow checking bits number nanoseconds compiler replace call number trailing tzcnt appends result division builder dividend builder builder append dividend divisor unit time unit append result remainder duration negative number number number make units provided adds amount number years number years adds amount number months number months adds amount number weeks number weeks adds amount number days number days adds amount number hours number hours adds amount number minutes number minutes adds amount number number adds amount number millis number milliseconds adds amount number micros number microseconds adds amount number nanos number nanoseconds validates total number months units number units months unit number days validates total number days units number units days unit number days validates total number nanoseconds units number units nanos unit number nanoseconds validates amount units number units limit limit number unit unit validates duration added proper unit index unit index unit unit index unit unit days standard pattern nanoseconds unit validate nanos dividend code find math days unit nanoseconds group instance parse iso alternative format add months parse iso format source add input parse standard format millisecond validate months format matches matcher number util number hours number weeks alternative pattern add nanos cql lower negative commons month common add years google pattern parse iso week format lang months year append starts serializers number millisecond precision duration millis time millis abs check true unit index number micros builder months unit substract base remainder obj divisor add hours months days length calendar nanos micro statements parse marshal day month number minutes time millis unit current unit index regex number days matcher millis day nanos minute nanos unit integer time zone add add minutes unit instance builder add micros day precision nanos hour days week add millis compile week pattern limit number nanos date utils validate days substring override time zone calendar end add weeks pattern invalid request build max request validations units time millis validate order group symbol add days number months months validate nanos milli error add number trailing locale builder number millis ends time duration number years nanos
test.unit.org.apache.cassandra.cql3.ViewTest
view added desired include primary include partition key omit sinlge partition regression initial leaving null verify timestamp tombstones adds back check back pop back insert row timestamp overwrite pk timestamp overwrite delete timestamp delete builder rt verify data removed rt verify data removed rt verify data removed truncate truncates verify update listval compared view verify regression errors result hanging memtables flushed part table empty rows memtable flush result timeout select handled include shortcut select handled include shortcut include materialized view include alter materialized mv base restart mv base complex timestamp update flush cql tester results system keyspace query mv rows row rows net add message compound partition key protocol version alter mv ttl junit columns pending tasks drop table complex timestamp update thread format db view mutation current column family store util framework live tables compaction cql maximum compactor threads sep executor execute complex timestamp update flush array null table common throwable metadata google partition key startup builder wide partition protocol version fail mv ttl null clustering columns cfs transport clustering order frozen collections complicated column metadata wait futures rows stage manager timestamps fb utilities stage core multi cell view range tombstone multiple deletes stage millis collection view multiple primary keys view table require network keyspace force major compaction force blocking flush def mv unrestricted pk parts row reserved keywords mv regular column timestamp updates invalid message table open clustering key tombstone size rows core compactor threads table metadata existing view builder resume update enable auto compaction sleep uninterruptibly params ignore update expected datastax schema ttl delete single column view clustering tuple primary key table keyspace column family store view built partition key table sleep range tombstone delete single column view partition key counters table row deletion time unit invalid query compaction manager invalid current table metadata disable auto compaction utils flush result conflicting timestamp view submit background view end keyspace uninterruptibles views execute net column family store durations table instance primary key null range tombstone update view true begin empty driver partition tombstone concurrent future current table active count clear futures collections exhausted ttl expiration
src.java.org.apache.cassandra.utils.progress.jmx.JMXNotificationProgressListener
jmx notification progress listener jmx notification api convert jmx notification message progress notifies client tools tag tag true tag progress event target called called receiving called jmx connection specifically message called jmx connection specifically message notification utils progress event time stamp tag progress event override message interested management user data notification handle notification event notification listener handback message notifs lost progress jmx suppress warnings handle connection failed timestamp util jmx notification progress listener integer remote handle connection closed failed closed handle notification lost progress listener source jmx connection notification
test.unit.org.apache.cassandra.index.sasi.SASICQLTest
size google stream sasicql simple statement session force flush current table index session net cql tester table datastax fetch size junit core paging clustering driver stmt util framework paging cql execute flush collectors sasi keyspace collect session common throwable index row
src.java.org.apache.cassandra.repair.messages.StatusResponse
repair consistent session data output consistent serialize state result io sizeof uuid serializer code state status response version msg utils ordinal sizes read data input db util session id serialized size io status response message serializer repair message uuid deserialize messages write serializer
src.java.org.apache.cassandra.net.OutboundTcpConnectionPool
pointer real pointer reset state linked connection based message null connection reconnect remote ep current message backlog force nodes region communicate release previous metrics reset closing socket close underlying encrypted rack check null guards simply system keyspace back pressure state back pressure state socket thread socket db dc util io interrupt outbound tcp connection pool host address illegal state ssl factory outbound tcp connection large messages ssl storage port channel release inet address security rack endpoint snitch end point connect count latch small messages close update preferred ip open port version net close socket socket channel stage datacenter suppress warnings count stage address socket message increment timeout socket current thread local address channels locator gossip config rack fb utilities reset newer version mark start internodeencryption msg started encrypted channel reset endpoint minutes target version reset endpoint back pressure state server encryption options preferred ip error time unit inet socket address connection utils soft close socket remote ep io storage port id conn format interrupted remote ep iendpoint snitch config large message threshold nio await wait started connection metrics metrics concurrent snitch count database descriptor timeouts payload size gossip messages broadcast address property prefix timeouts
test.unit.org.apache.cassandra.repair.LocalSyncTaskTest
difference local sync task stats difference reuse endpoint bogus theory fine change range difference reuse endpoint bogus theory fine ensure changed range invalidate tree tree number differences current stat ranges math interesting uuid gen repair junit murmur partitioner difference db util token desc uuid define schema collect token schema common throwable merkle trees initial tree google merkle tree streaming repair job desc cfs parent repair session parent repair session array rang net size run local sync task midpoint ipartitioner range stream plan inet address ranges difference keyspace keyspace range parent repair session register session plan add merkle trees repair simple pow standard cfmd random uuid keyspac table id pending repair open active repair service fb utilities column family store instance service add full repair stream plan time uuid schema invalids random token keyspace column family store stream plan prepare server unrepaired sstable cf standard tree pending repair incremental repair stream plan table metadata preview kind flush transfer minimum token changed ensure initialised utils local sync task partitioner prs id ep column family store ep instance tid dht config true schema loader arrays participan tree response session id participan parent session id keyspace params database descriptor task register parent repair session init partitioner broadcast address tree range false left
src.java.org.apache.cassandra.tools.nodetool.SetCompactionThroughput
nodetool probe airlift node probe arguments io override tools title usage compaction throughput compaction throughput node tool description node tool cmd command integer compaction throughput execute required airline
src.java.org.apache.cassandra.utils.concurrent.Ref
ref counting defines tidy cleanup retain references tracking resources clean construct ref directly pointing encapsulates call proxies calls ref counted users ensure references ref retained method ensure ref collected leaks detected functionality achieved glance complex web boils target ref ref global target impl collected ref ref paired release method called update log completely tidy method called removes global called logical operation ref created failure abide contract result error assuming hard reference resource managed release release convenience method number extant references including shared similar tracks management unique ref created managed ensures released manages actual cleaning reference target detect references lost resource cleanup tidy references retain reference phantom reference track individual number live call cleanup refs finished increment ref count release single cleanup stack state walking field index index current field traversed populated iterator concurrent entry keys key stashed child key entry iterator stored element traverse null visitor traversal member null weak reference strongly weak reference strong references weak reference fields common reference base filter graph exploration references searches indirect strong reference root fetch start iterator field accumulate collections atomic scheduled executor service cur loops executors safe memory progress visit debug info debug enabled ref counted stack trace element add global state candidates weak reference schedule fixed rate visiting iterator runnable thread highscalelib db execute column family stores util reference reaper debug fields illegal state member table reader reference fields array cliffc remove logger scheduled thread pool common copy write array debug throwable deallocate trace iterable locally extant traverse google iterations reference visible system thread factory state ref counted fail close ref globally extant append item allocate thread strong leak detector merge entry leak retain concurrent iterables fail state preconditions reader deallocate ref suppress warnings run empty view collection iterator release modifiers base superclass visited modifier tracker identity visitor fixed thread pool cfs obj concurrent linked deque thread referent atomic integer field updater assignable put key released accessible progress visit identity code exec executor service reference queue concurrent remove expected check null current thread ref sstable entry ref updater copy write array ignore ipv collection progress visit path counts clazz reference queue size deallocate thread deque log expected throwables stack trace atomic integer poll declared fields memory pair annotations add array deque identity collection offer builder tables released column family store child minutes logger count child property stack trace visited count field index allocate trace error time unit level logger factory compare view declaring delay queue utils tidy shared closeable field global state io memory override logger root spam logger phantom reference progress visit pool concurrent linked queue global count format interrupted id field field empty ensure released illegal access blocking queue concurrent trace arrays concurrent skip strong leak detector iterator reflect concurrent concurrent iterable released updater entry lifecycle view lang warn entry add decrement shared closeable impl keyspace primitive clear register tidy error element slfj blocking sb progress retval left
src.java.org.apache.cassandra.tools.nodetool.SetHintedHandoffThrottleInKB
nodetool probe airlift node probe arguments io override tools title usage integer node tool hinted handoff throttle kb description node tool cmd command execute hinted handoff throttle kb required airline throttle kb
test.unit.org.apache.cassandra.cql3.ViewFilteringTest
view added desired null required pk statements accept rows insert rows match insert row match update rows match update row match delete rows match delete row match delete partition matches accept rows insert rows match insert row match update rows match update row match delete rows match delete row match delete partition matches accept rows insert rows match insert row match update rows match update row match delete rows match delete row match delete partition matches accept rows insert rows match insert row match update rows match update row match delete rows match delete row match delete partition matches accept rows include column insert rows match insert row match update rows match update row match delete rows match delete row match delete partition matches accept rows insert rows match insert row match update rows match update row match delete rows match delete row match delete partition matches insert rows match insert row match update rows match update row match delete rows match delete row match delete partition matches accept rows insert rows match insert row match update rows match update row match delete rows match delete row match delete partition matches accept rows insert rows match insert row match update rows match update row match delete rows match delete row match delete partition matches accept rows insert rows match insert row match update rows match update row match delete rows match delete row match delete partition matches insert partition matching row batch accept rows insert rows match insert row match update rows match update row match delete rows match delete row match delete partition matches accept rows insert rows match insert row match update rows match update row match delete rows match delete row match delete partition matches initial matching restriction verify timestamp tombstones adds back check back pop back insert row timestamp overwrite pk timestamp overwrite delete timestamp delete regression cql tester column family store system keyspace query partition key filtering unrestricted part row add protocol version empty logger junit pending tasks drop table thread format compound partition key restrictions include db view mutation util framework drop view cql sep executor execute filter function array good statements remove view partition key clustering key filtering restrictions table wait view sleep complex restricted timestamp update bad statements startup protocol version fail transport views rows wait futures timestamps restrictions primary restrictions stage manager complex restricted timestamp update flush fb utilities filter typecast stage core compound partition key restrictions view filtering runtime clustering key eq restrictions stage throwable restricted regular column timestamp updates require network mvname keyspace force major compaction force blocking flush partition key filtering slice current table view mv primary keys clustering key restrictions mv creation primary restrictions open rows ignoring order size params datastax complex restricted timestamp update flush table sensitivity keyspace view built info clustering key multi column restrictions invalid query disable auto compaction utils flush mv creation select restrictions view bad statement keyspace column execute net interrupted update view begin empty arrays driver concurrent clustering key slice restrictions end clustering key filtering restrictions active count exc clear partition key restrictions
test.unit.org.apache.cassandra.cql3.CQL3TypeLiteralTest
functionality cql literal serialized randomness generate nested structures holding expected cql literal serialized cql literal generated independently code add adds null empty generates date surreal year generates timestamp surreal year supported protocol version make sense iterate protocol versions collections varying supported protocol collection randomly empty collection size rely fact protocol version supported anymore size collection tuples varying supported protocol ud varying supported protocol part unit nested random supported protocol generates randomly nested add generates generate fields generate fields methods helper generate kinds random timeuuid duration serializer time uuid generate text bigint buffer math current inet address serializer big decimal instance user empty collection quote cql literal supported utc random collection add version rand protocol version rand junit tuple rand random nested add buffer util bracket open db collection util replace rand serializer cql host address uuid deserialize level array kind time serializer inet address ascii added el count rand pattern build system unknown host duration transport serializers cql user buffer abs net generate collection cq math rand collection runtime len field put big integer timestamp tuple ut serializer random nested generate user defined timestamp time column identifier generate marshal field uuid random tuple fields probability serialize entry random uuid wrap quote keys kind size regex compare cql literal buffers timestamp serializer user defined uuid gen collection collection duplicate time uuid expected integer user defined ascii serializer inet varint quoted thread local random instance builder decimal append date collection null empty empty integer tuple collection serializer null frozen compile ut generate tuple decompose pack elements cq literal utils counter cq duration tinyint random date current time millis rand smallint varchar ascii na length instance decimal matcher bracket close simple date serializer blob address elements nio field identifier nested arrays quote empty buffer concurrent sb entry tuple msg error max rand random user rand letters rand duration entry
src.java.org.apache.cassandra.db.compaction.TimeWindowCompactionStrategyOptions
google timestamp resolution size tiered compaction strategy options parse compaction window size key illegal argument expired sstable check frequency expired table check frequency sstable window size compaction window unit key option parse logger expired check frequency compaction window size logger time window compaction strategy options hours immutable unchecked options validate options number format sstable window unit logger configuration valid window time units stcs options valid timestamp time units db compaction window unit util concurrent compaction integer expired sstable check frequency key minutes convert format nanoseconds days remove timestamp resolution warn collect slfj common microseconds time unit logger factory options milliseconds timestamp resolution key
test.unit.org.apache.cassandra.utils.EstimatedHistogramTest
percentile empty histogram percentile histogram element histogram estimated histogram utils percentile buckets min add max overflow junit min max max buckets histogram percentile simple overflowed count finding correct buckets length estimated histogram
src.java.org.apache.cassandra.auth.PermissionDetails
instances method permissions fields compare google format result override comparable permission details permission grantee code start pd iresource permission auth base resource collect common compare comparison chain
src.java.org.apache.cassandra.tools.nodetool.StatusGossip
nodetool probe airlift system node probe io override tools status gossip node tool description node tool cmd command execute gossip running airline
test.unit.org.apache.cassandra.cql3.validation.operations.CreateTest
duration column duration duration duration duration duration duration level creation basic operations migrated creation basic operations table compact migrated creation basic operations table compact migrated check empty url full underlying cell creation basic operations composite table compact migrated include clustering columns creation basic operations composite migrated check invalid table migrated check obsolete properties migrated drop migrated thrown keyspace invalid dc option replication configuration mix valid thrown keyspace drop migrated repeated compact storage truncate migrated migrated register endpoint snitch fixed restore previous clean operations present nanoseconds itrigger collections multi ordering validation buffer row syntax nanos milli instance endpoint hyphen datacenters message junit compare endpoints buffer util format max endpoint snitch db table smallint columns util framework drop trigger keyspace multiple instances dc io cql partitions execute table uuid table keyspace table throwable metadata rack endpoint snitch table index compact table clustering columns min table dense composite table dense table duration tinyint columns stmts runtime id id id invalid net tables invalid syntax message configuration datacenter empty rows partition stmt data output buffer schema keyspace configuration table triggers trigger exists months days keyspace write vint index current table nanos micro locator invalid message mutation index compact table clustering columns trigger exists obsolete table properties table metadata endpoint snitch schema keyspace nanos minute trigger exists schema override tuple instance error msg output nanos hour dense composite table table data center keyspace drop trigger exists rac trigger target augment batch typename table metadata invalid invalid table statements sparse composite table trigger utils table compression user io keyspace nts accepts configured data center inet address table duration columns cql tester row count iendpoint snitch schema config true stmt nio empty buffer update empty buffer duration schema constants snitch database descriptor configuration thrown keyspace options lang collection truncate false fail validation
src.java.org.apache.cassandra.io.util.WrappedDataOutputStreamPlus
efficient situations channel provided wrapper output channels io flush override close unbuffered data output stream write channel output stream nio wrapped data output stream buffer util io offset count writable channel
src.java.org.apache.cassandra.io.sstable.format.big.BigTableReader
table readers created existing table references column family store direct table scanner iterator bounds iterator keys scanner seeking rows direct table scanner full scanner reading full direct table scanner defined collection ranges ranges range keys scanner seeking rows caller key key apply rhs key key selection token bounds op op operator defining matching nearest key target matching operator update cache stats true updating stats index entry null key eq make sense key valid row key cache make sense valid row check smallest greatest keys sstable past end narrow behaviour skipping strictly greater ge skipping searching permitting matching past scan starting nearest sampled check index interval exit loop eq key filter false note check key index position searched key greater key index interval checked lesser key interval position find position op current position exact match suitable compare raw keys compare decorated read data position index key index key true row expensive sanity store exact match iterator present decorated key buffer big table scanner partition index lookup cache live table skipped serializer skip logger columns table reversed iterator gt buffer util format big index entry db util token io desc serialization header table identity iterator table reader deserialize iterator row index entry slices logger operator reader path generation dfile eof selected columns effective interval file data input nio table metadata ref skipping reason sampled position version index entry found file pointer key cache hit metadata bf suppress warnings tracing decorated key ranges descriptor range key read length eq slices comparison tracing scanner key filter selection reason binary search result op index key add false positive table reads listener stats metadata tombstone column filter header bounds index summary index binary search result table iterator apply sampled index row index entry serializer big table reader ifile rows collection effective index interval index unfiltered row iterator schema trace enabled path open reason bounds iterator reversed exact match key disk partition position position data range fdi index scan position binary search result min max keys unfiltered row iterators update cache stats descriptor table scanner key cache key table selected logger factory columniterator decorate key rows file utils binary search sstable metadata io override cached position logger rie bloom filter bloom filter tracker data range open reason sstable simple iterator component op satisfied columns index count dht cached position max data age cache key deletion time trace corrupt table index decorated key position mark suspect error listener ge index summary slfj index entry found components compare empty row permit match past rows iterator add true positive
src.java.org.apache.cassandra.dht.RingPosition
representing position token decorated key represent position token precise decorated key token range token minimum ring position comparable min ipartitioner partitioner token dht
src.java.org.apache.cassandra.dht.RangeStreamer
assists streaming ranges bootstrap null replacing current token ring address node streaming description filter applied sources stream constructing fetch source filter excludes endpoints alive failure source filter excludes endpoints specific data source filter excludes current node source source filter includes endpoints provided add ranges streamed keyspace keyspace ranges ranges keyspace keyspace true node strict consistency true nodes cluster ranges respective sources candidates streaming sources sorted proximity relative source data ranges source cleaned bootstrapped node added single consistently migrate data source data source active pending collects source range moved due higher rf careful strict endpoints ranges sources ranges fetch potential sources source filters collection source filters addition filters exclude keyspace keyspace source endpoint collection localhost found add avoid streaming ensure stream node verify source range filter streamed send messages respective folks stream data iterator range sources entries description strict source system keyspace replication factor outer enabled source add gms logger whitelisted sources filter storage service endpoint state db preferred util key token join ranges strict sources illegal state execute metadata clone stream state store commons clone token state store logger gossiper common inet address stream operation strict sources ranges google sorted proximity ifailure detector visible work streaming address failure detector source filter stream operation desired ranges multimap collect runtime add ranges exclude local node filter size endpoints range fetch net stream plan endpoints metadata datacenter source dc address ranges ranges ranges ranges sources range stream result future address calculator range addresses found source ranges source target keyspace put key filter keyspace range pending range addresses update normal tokens range fetch calculator range streamer size singleton single datacenter filter validate range fetch request ranges fetch strat entry connect sequentially locator open active repair service fb utilities service replication strategy collection source filters endpoint state endpoint annotations trace enabled alive tokens keyspace desired range stream plan info endpoint connections host replication strategy token metadata warn listeners ranges preferred ip local strategy preview kind logger factory put optimized range fetch whitelisted sources multimap utils range addresses logger lang endpoints array multimap range fetch instance empty iendpoint snitch dht add source filter description trace range fetch remove source state fetch async fd pre entry snitch entry ranges keyspace include ranges sources token metadata partitioner slfj broadcast address isource filter collections entry strict consistency source ip utils
src.java.org.apache.cassandra.io.sstable.SSTable
built top data disk sorted sorting expects keys handed sorted separate index file maintained table keys offset table key read memory table bloom filter file keys metadata null functional table full schema table loader reference queue manage deleting files table references run file semantics jvm write marker file marker exists file method remove tables marked true file remove data component key occupies part larger allocate buffer large parse sstable filename file filename pair corresponds valid supported sstable note components unknown custom parse sstable filename note method ignores component part file filename corresponds valid supported discovers existing components intended critical sstable exist estimate number keys index collect sizes megabytes reads components toc components found appends component toc registers custom custom compaction adding component time remove method part intended custom compaction components collection components ksname skip keyspace collections buffer tombstone histogram ttl round filename write error math files collections discover components component add require null io error logger component filename buffer util expected size db util column family disk optimization strategy io token cap desc components file array samples cap component logger common copy write array throwable toc file charset google exists system remaining table metadata ref collect ret version file pointer primary index metadata filename filename component component decorated key ipartitioner descriptor base key skip length key filter sstable length optimization strategy singleton writer estimated rows delete confirm file paths row index entry custom cfname size ifile compression table metadata buffer decorated key collection index filename difference memory predicates integer schema file found summary pair simple components compression info add tombstone histogram spool size serializer minimal key property table disk filename random access reader descriptor descriptor filename error file writer estimate rows index logger factory delete decorate key tombstone histogram bin size file utils charset partitioner io toc override read toc logger data min seek charset component instance empty heap allocator dht nio trace keys component clone components add concurrent file utils append toc representation add components data components partitioner read lines slfj components position array
src.java.org.apache.cassandra.streaming.PreviewKind
google table reader repaired streaming io predicate streaming predicate preview true predicates streaming predicate ordinal unrepaired format util base serialization val uuid deserialize repaired sstable session id common preview kind log prefix serialization val
src.java.org.apache.cassandra.db.compaction.CompactionIterator
merge multiple iterators content sstable top actual merging source tombstones purge iterator indexes index index entries deleted deletion base table fix index potentially obsolete index entries time data read compaction fix index cached partitions empty avoids partitions purgable tombstones row tracks compaction counters merged array index represents merged rows index counter merge index counter rows make close merged iterator compaction iterator update reuse single cleanup transaction duration batching row merge single partition results fresh cycle indexer row merged opened arm block wrapping asynchronously evaluates tombstone deletion timestamp timestamp sstable sstables involved computed lazily demand tombstones bit unfiltered row iterator removes deleted data provided result produced iterator merged tomb source produces merge data source construct iterator filters data shadowed provided data source input result filtered version tomb source tombstone iterator identify deleted data input sec current choosing winner cell expiration cell level gc iterator deletion times deleted overwritten cells surviving row preserve partition level deletion shadowing deletion produce consume multiple elements inputs find data source track open deletion issued tomb open deletion time filter decide tombstone surface rest range input suppressing deletion range open issued superseded deletion superseded open deletion begins close range save pair ends superseding decide act tombstone marker input decide issue depending ranges marker reuse marker issue partition transformation applying obtaining tombstone sources partition shadow sources unsupported operation live regulars partition update progress sources compaction unfiltered compaction strategy manager update read length row predicate total source cql rows illegal state cfs source range tombstone marker live compaction transaction remove shadowed cells merged unfiltered partition iterators max db listener compaction index manager partitions unfiltered update progress uuid range tombstone marker array data iter merge merge tomb open deletion time common merged partition level deletion iterable cmp superseded google close bound min tomb row marker remove empty iterators close transformation tomb index unfiltered partition iterator row merge collect finish compaction range tombstone bound marker regular columns partition garbage skipper holder supersedes metadata garbage filter row suppress warnings purge function decorated key invalidate cached partition add compaction id key begin compaction merged marker advance merged row counts data open deletion time filter sstable length empty partition post purge commit current key row partition deletion time wrapping unfiltered row iterator cf total source cql rows column filter open deletion time purge evaluator data row close deletion time scanner apply compacting repaired columns size rows table metadata invert apply partition transform start compaction info wrapped integer unfiltered row iterator schema function process data marker unfiltered partition cell level gc compaction params garbage skipping unfiltered row iterator purger merged range tombstone markers row merge listener controller partition key operation compaction controller merged deletion read comparator versions index transaction unfiltered row iterators compaction info data row update open deletion time columns scanners compare rows io ordering total indexes regular columns close table scanner override purge evaluator active deletion time purge repaired tombstones gc current position merge listener compacted cell empty deletion superseded compaction metrics partition level deletion compaction iterator merged rows deletion time open transactions iters max time update counter metrics compacted unfiltered open bound shadow sources merge counters sec util natural tombstone option tomb source tombstone option compaction transaction row empty row data source
test.unit.org.apache.cassandra.service.NativeTransportServiceTest
plain client encryption disabled transport port ssl client encryption enabled transport port ssl ssl client encryption enabled transport port optional client encryption enabled additional ssl port iterator daemon initialization service transport port transport port ssl junit service stopped stop util worker group server collect common ssl optional google supplier transport sum client encryption options ignores start started event executor servers server concurrent stops initialize optional concurrent destroys socket collectors range reset config ssl transport service terminated ignores stopped stopped size service start pair port function ssl ssl ssl setup dd consumer running transport service enabled concurrently stream utils accept destroy destroy config true arrays terminated concurrent starts database descriptor shutdown parallel plain port transport port ssl false stream
src.java.org.apache.cassandra.concurrent.Stage
google read substring anti entropy iterables apply counter mutation stage request response predicate mutation stage arrays tracing misc view mutation util concurrent base jmx gossip migration error read repair word jmx enabled stages lower split internal response filter collect common jmx iterable
src.java.org.apache.cassandra.tools.nodetool.stats.CompactionHistoryHolder
compaction history output ordered time compaction system nodetool probe signum put node probe collections result override tools comparable management stats tabular data add id chr row merged convert empty tabular data chr compaction history sort instant compacted compare zone id util key openmbean compaction history row compaction local date time tabular index compactions compaction history holder index ldt cf array instant stats holder instant time epoch milli
src.java.org.apache.cassandra.db.marshal.DynamicCompositeType
encoding dynamic composite column comparator full called header bit header comparator part comparator full actual alias header comparator full header length remaining part encoded comparator component preceded size defined interning compare wrapped differ incompatible comparisons fast comparator singleton compare component comparing comparator start simple faster fallback full cmp singleton raw comparator reversed log comparator parse log comparator adding aliases fine removing note modifying alias compatible fine deal correctly mixed aliased cast theorically bogus unicode responsibility hit making comparator sorts argument raw comp unsupported operation parsed comparator append comparator buffer dynamic parsed comparator syntax instance base parser validate comparator read protocol version logger remaining split buffer util db compute absent util cql serializer header alias dynamic composite logger illegal argument cmp serialize comparator concurrent remaining part protocol version append comparator serializers tprev comparison aliases comparator configuration term bb runtime lesser custom read length greater dct compare custom compose alias parameters put bb composite decompose str marshal entry marshal ce instances cp size serializer comparator serialized size builder read write length simple part comp splits comparator tnew str error json logger factory fixed comparator bb utils parser parse comp override logger key parsed charset length parse comparator transport remaining part concurrent nio buffer json concurrent stringify aliases parameters entry previous entry validate reversed character coding slfj compatible compare sb
src.java.org.apache.cassandra.db.commitlog.CommitLogSegmentManagerStandard
reserve space current segment provided mutation space blocking allocation succeeds waits signal mutation mutation allocate space size total size mutation serialized provided allocation failed move segment simply delete untracked segment files flushed sstables file segment file longer decrease managed file delete confirm mutation io close commit log add size allocation disk size allocate commit log size commit log segment manager mutation handle replayed segment trace commit log segment manager standard db segment advance allocating util file utils segment logger alloc storage directory commit log segment allocating file discard commitlog log file delete
src.java.org.apache.cassandra.net.MessagingServiceMBean
mbean exposing messaging service metrics pending tasks large message tcp completed tasks large tcp dropped tasks large message tcp pending tasks small message tcp completed tasks small message tcp dropped tasks small message tcp pending tasks gossip message tcp completed tasks gossip message tcp dropped tasks gossip message tcp dropped message counts server total number timeouts happened number timeouts rate limiting enabled large message dropped tasks gossip message completed tasks small message dropped tasks unknown host gossip message pending tasks gossip message dropped tasks total timeouts small message pending tasks back pressure enabled large message completed tasks back pressure host small message completed tasks integer net large message pending tasks dropped messages address version util messaging service mbean enabled back pressure enabled timeouts host
src.java.org.apache.cassandra.cache.IRowCacheEntry
cache irow cache entry
src.java.org.apache.cassandra.tools.nodetool.RebuildIndex
google nodetool probe airlift override node probe arguments io iterables tools preconditions usage rebuild index size node tool airline description node tool cmd util base command array execute rebuild index array check argument collect common
test.unit.org.apache.cassandra.streaming.StreamingTransferTest
empty success empty complete requesting empty data completed session empty transfer single keys mutator columns write temporary unregister transfer confirm single table transferred index filter properly max timestamp file wrapped add ranges stream session add files stream session finished incoming connections removed messaging service stream session message handlers milliseconds confirm secondary index make range tombstones column index boundary transferred add columns size slightly force insert column add confirm single table transferred keyspace keyspace column family store cfs counter context cc cleaned entries keys creates table merged entries column family cf column family cf cleaned state filter entries ensure end result table reader cleaned table reader streamed retransfer making idempotent table reader restreamed write temporary register content table reader sstable keyspace cfname content table reader transfer ipartitioner ranges acquiring transfer tables refs refs confirm sstables transferred registered keys column family store cfstore rows keys fall ranges keyspace ipartitioner column families table readers keys cf content cf cf cf context collect dks str transfer secondtolast ranges left hand side range transfer acquiring transfer tables refs check keys entry column family store store rows keyspace keyspace column family store cfs mutator mutator column family cf mutation rm row transfer write lot data data spread table reader sstable ipartitioner ranges iterator unfiltered daemon initialization column family store session sleep buffer stream session total files token outer comparator compare unsigned ref discard tables partitioner add logger junit storage service details timestamp micros row buffer util format db execute keyspace cachekey util framework token live tables updates cf counter add partition key column cql execute internal partitions table reader stream plan failure define schema array cmd comparator request ranges logger timestamp column index size common add clustering column debug inet address metadata stream operation google cf index make streaming details peer counter connections streaming table streaming sections sstables result mutator iterables max timestamp session info stream operation cfs system run collect cfname plan id code arrays add range tombstone transfer table ranges cf standardint net size stream state transfer tables immutable btree partition key runtime col futures ipartitioner range transfer key throwable table query processor partitioner ranges transfer files future callback keyspace transfer range tombstones ordered junit runner sstable length force blocking flush compact total files received stream result future marshal add callback messaging service simple standard cfmd keyspac ascii keyspac collection wrap apply open init server fb utilities clustering rows transfer ranges service transfer clear unsafe integer schema streaming transfer sessions future result uuid keyspace partition key column family store false stream plan untyped result prepare server row update builder cf standard mutator transfer table tables success estimated keys ranges table metadata positions ranges time unit logger factory builder minimum token mutate total size total size received runner utils clustering comparator fail transfer table io logger current time millis verify connections closed request empty socket thread thread keyspace interrupted util instance empty build max composite index cfmd cf standar cf standar dht config true compose apply unsafe socket thread schema loader nio keys concurrent keyspace params database descriptor local val empty stream plan refs partition add regular column slfj broadcast address streaming row socket threads milliseconds
src.java.org.apache.cassandra.exceptions.AuthenticationException
authentication code msg bad credentials request validation
src.java.org.apache.cassandra.notifications.SSTableAddedNotification
notification tables added added tables memtable tables added due creates tables optional added added memtable memtable tables added due memtable memtable tables added due memtable empty optional origin memtable io table added notification format optional memtable added nullable db nullable util notifications annotation memtable table reader inotification sstable iterable
src.java.org.apache.cassandra.net.MessageDeliveryTask
ioe messaging service code metrics droppable verbs message write send reply index gossip digest ack failure reason param io construction time logger processed message gossip digest syn message index callback failure verb handler message delivery task enqueue time slfj id instance add queue wait time verb request failure reason gms handle failure net approximate time gossip verbs runnable run trace runtime db time util tombstone overwhelming io lifetime monitoring iverb handler logger throwable parameter data timeout gossip digest ac message message increment dropped messages failure response param internal response current time millis filter logger gossiper verb verb error data output buffer response logger factory read tombstones verb handler
test.unit.org.apache.cassandra.utils.FilterTestHelper
filter subclass size fp max failure rate elements present utils bloom calculations compute bloom spec buffer wrap probs ifilter true filter key buffer decorated key bloom specification keys add otherkeys random keys dht spec token random generator filter helper nio buffer util key generator keys db random keys wrap cached resetable iterator buf murmur partitioner fpratio buckets element cached decorated key false positives generator
tools.stress.test.unit.org.apache.cassandra.stress.util.MultiResultLoggerTest
delegates additional streams io printf starts add stream write stream delegates printf additional streams runtime delegates initial stream multi result logger junit true delegates additional streams output stream stream multi result logger util io array output stream stack trace stress commons noop additional stream output
src.java.org.apache.cassandra.index.sasi.plan.QueryPlan
converts expressions operation tree single operation tree couple group flattening operations expression bounds checks resulting rows early root operations iterator unfiltered request timeout disk row skip add clusters partition position columns partition partition iterator db unfiltered row iterator util token token partitions execute partition range read command iterator array token close quietly operation expressions query plan minimum close cfs index unfiltered partition iterator stats content read command metadata builder decorated key query controller key end data row satisfied rows table metadata collection analyze schema complete data range inclusive left controller partition key column family store operation error execution quota unfiltered row iterator compute read execution controller bounds utils token io override iterator operation tree empty command dht reverse order partition level deletion finish compare execution controller plan file utils current keys result iterator partition key range row sasi left
test.unit.org.apache.cassandra.utils.CoalescingStrategiesTest
stream messages continues arriving sending awake sending stream messages continues arriving sending awake sending things pulled queue blocking queue results order samples high average low average things pulled queue blocking queue results order samples high average low average parker daemon initialization lock support nanos sleep parked semaphore executors micros add input logger junit runnable thread util parker otc coalescing coalesced messages array logger helper drain permits coalescing strategies release output simple coalescable true clock micros prime time horizon average nano time stack trace error current exit run suppress warnings runtime run blocker wait nanos queue unpark null init dd queue parked coalescable park loop executor service current thread clock linked blocking queue poll size strategy start window submit coalesce disabled coalescing strateg integer timestamp nanos array deque offer acquire park system delta ii fut permits microseconds time unit logger factory fixed coalescing strategy moving average coalescing strategy utils fixed coalescing strategy locks override logger park nanos time horizon strategy coalescing strategy interrupted parks mock parker empty max config blocking queue queue release coalescing strategies concurrent future database descriptor otc coalescing coalesced messages single thread executor coalescing strategy clear slfj helper ready milliseconds
test.unit.org.apache.cassandra.cql3.PreparedStatementsTest
server start method server fully binded wait slightly connect fix meantime driver response prepared statement causing rely fact errors executing show statements statement invalidate prepared statements drop prepared select message tear syntax error fail session sleep connect prepared insert table close prepared prepare execute custom expressions schema index prepared batch add contact point service keyspace port size prepared start prepared statements stub index transport port build drop table statement drop statement datastax config junit schema core prepared statement schema loader thread format driver instance prepared table statement select cql database descriptor cql insert cql builder execute prepare cluster bind setup cluster statement preparation reconnect session embedded service throwable clear
test.unit.org.apache.cassandra.utils.concurrent.RefCountedTest
visit lot stored lot iterations walk linear number traversal error terminating traversal encountering bug visit lot queue lot iterations walk linear number linked iterated collection visited lot iterations walk linear number queue iterated collection visited lot iterations walk linear number visit roughly number entries counted iterated visit number entries traverse key visit number entries wrapper iterate number entries traverse key infinite loop traversing file iterate elements array unique iterate array touching roughly number weak ref visitor strong ref visitor array sleep atomic loops ref add weak reference junit thread max dont ref util framework temp file concurrent remove entry count gc file ref system clq bug close ref strong leak detector bug leak concurrent iterables ref run suppress warnings queue release fudge factor obj concurrent visitor linked blocking queue put initial size iterations iterable ref counted memory leak tidied submit tidier pair integer size lang blocking queue release visited count weak ref ref counted linked utils tidy tidier io override atomic reference concurrent linked queue sizes interrupted empty blocking queue true concurrent linked weak ref measure deep error tidy leak file concurrent linked queue impl concurrent linked queue
tools.stress.src.org.apache.cassandra.stress.generate.Distribution
approximation slightly costly invoked count stress sum inverse cum prob max serializable seed average seed io cum prob distribution min generate
tools.stress.src.org.apache.cassandra.stress.settings.OptionMulti
multiple grouped options user pattern entry illegal argument accept group put collections format entry override key find append regex option matcher param collect user start add multi line display option builder empty grouped options linked display opt options collect description empty option matches matcher insensitive end util delegate collect extra options extra options present option multi stress entry split array display compile length delegate pattern sb happy options
src.java.org.apache.cassandra.cql3.WhereClause
google relation expressions empty collect relations immutable add empty build custom expressions empty builder util cql restrictions expression builder clause relation common custom index expression
src.java.org.apache.cassandra.db.marshal.InetAddressType
empty buffer empty utils protocol version marshal cq cast buffer override parsed transport order serializer inet address serializer serializers empty meaningless comparison instance inet empty protocol version net cq constants term nio buffer util format buffer db inet address empty buffer simple address json cql host address serializer exc deserialize source inet address json marshal decompose
src.java.org.apache.cassandra.db.compaction.SizeTieredCompactionStrategyOptions
min sstable size size tiered compaction strategy options parse bucket low bucket high key bucket high min table size unchecked options validate options number format configuration bucket low db parse option util compaction key min sstable size key remove bucket low key bucket high options format
src.java.org.apache.cassandra.index.internal.composites.CollectionEntryIndex
index element cells participating row keys index composite collection indexed clustering stale collection key index base indexed comparator index cell buffer path clustering index functions rows base cfs column metadata cell cell path internal build cell indexed column compare schema column def composite nio db index metadata collection entry index live partition key column family store key data sec collection split indexed components index def composites marshal cell row
test.unit.org.apache.cassandra.db.compaction.NeverPurgeTest
run major compaction calling size disable auto compaction table scanner iterator verify tombstones tracker atom system cell purge sleep io sstables current table open cfs deletion statement row rows keyspace compacting unfiltered cql tester column family store collection enable auto compaction force major compaction empty scanner deletion live unfiltered row iterator tombstone junit true minor purge tombstones tombstone count thread format db execute util keyspace column family store compaction purge cell tombstone cql helper live tables purge partition tombstone table reader scanner purge row tombstone cells expected tombstone count iter property sstable table force blocking flush partition level deletion throwable row
src.java.org.apache.cassandra.utils.IndexedSearchIterator
true iterator elements false recently index index current utils search iterator current indexed search iterator
src.java.org.apache.cassandra.index.sasi.sa.ByteTerm
compare buffer term disk index start duplicate term remaining term nio db tokens token tree builder comparator suffix length compare position sa sasi marshal
src.java.org.apache.cassandra.db.filter.RowFilter
filter rows query include corresponds restrictions rows handled expressions filter handled rest simply filtered result happen query checks expressions apply clustering regular expressions apply clustering regular filters provided iterator row satisfying expression included resulting iter iterator sec time query filtered provided row provided partition satisfies metadata table partition key partition key partition row row sec current time live partition satisfies row purge tombstones expressions satisfied methods expects true expressions filter apply partition key satisfied false true expressions filter apply clustering key satisfied false filter provided filter provided partitions match based partition order unusedx clean major protocol trouble checks operator operator checks operator operator expression query partition key index provided row satisfied expression partition key partition key row row row deleted row satisfied custom expressions include column expressions custom expressions column kind custom expressions include column expressions expression form support null conditions lwt merge code order support operators counter extracted note cql expression form note cql expression form terribly hard support imply expression form supported support null conditions lwt merge code custom index expression support custom syntax necessarily linked single column base operator expression requires hardcode similarly handle columns fake column definition represent target improved filtering custom expressions supported accept user defined filtering added row filter programmatically query handler concrete provided adding custom classpath task operators user care register method system deserializer registered sending receiving messages expressions custom filtering expressions mixed version cluster handled order registered continuity registered obsoleted registered dummy registered preserve consistent identifiers identifier deserializer prepended specific identifier read obtain concrete expression expression unused counter lte iterator write length simple partition key restrictions satisfied filter columns deserializer check false collections atomic buffer deserializer check null expressions row add instance user defined row filter custom expressions add version unuse found partition key row level expressions validate indexing logger remaining expressions write unsigned vint regular column gt buffer util partition key db compute absent util compose io regular comparator comparator custom cql compact table serializer deserializer partitions neq column key iterator increment array iter logger open store satisfied filter common operator cls iterable clustering ordinal google target index data output concurrent index manager ct wrap read write deserializer registry user table close transformation append collection index unfiltered partition iterator capacity column metadata code cell number regular column expressions matches user expression size metadata clustering kind complex column data complex empty runtime read data input decorated key custom expression base key read length eq read custom expression total counter context sizes add user expression column put key filter decompose context deserializers expression expression marshal id op invalid request apply partition statements registered format serialize cell serialized size expressions path operator apply partition key fb utilities clustering rows table metadata cell path write transform atomic integer extract component write pk unfiltered row iterator ut schema error sizeof unsigned vint cql filter check bind purge builder cell collection index metadata counter keyspace partition key write integer register user expression expression serialized serializer read unsigned vint kind expr suffix purge mt max unsigned logger factory def elements compare apply row complex data utils partition level expressions expressions clustering key restrictions satisfied io override logger key id target index index counter deprecated make definition keys serialized deserialize debug key validator instance lt empty split gte request validations simple expression complex column data index expression clustering regular columns concurrent composite nio mexpr serialized size length concurrent add custom index expression satisfied sb build validate read sec deletion purger prefix clustering column register partition purged slfj row position row expression serializer
test.unit.org.apache.cassandra.net.RateBasedBackPressureTest
initial update incoming outgoing rate move time verify rate change initial update incoming outgoing move time ahead window verify timestamp move time ahead verify timestamp change window update incoming outgoing rate ratio move time verify rate decreased update incoming outgoing rate ratio move time verify rate update incoming outgoing rate back high move time verify rate limiter increased update incoming outgoing rate limiter move time verify rate limiter increased higher actual update incoming outgoing move time verify fast replica rate limiting update incoming outgoing move time verify slow replica rate limiting update incoming outgoing move time verify verify update incoming outgoing move time verify slow replica rate limiting make apply call saturate rate limit timeout requests requests make subtract incoming response verify call apply acquire rate limit max timeout response time source sleeps state back pressure groups flow fas tor slow sleep timeout nanos previous loopback address immutable rate time source junit high ratio bigger util back pressure rate limiter increased high ratio collect common timeout inet address rate based back pressure state google rate limiter acquired back pressure slow flow back pressure updated infinity fail back pressure fast flow rate limiter time source message flow current state net rate based back pressure accepts arguments initial rate convert state state current time millis factor response received time source outgoing rate apply size check applied positive infinity strategy start expected incoming rate update testable back pressure applied replica group illegal argument time unit high ratio smaller utils factor bigger checked override rate based back pressure check acquired response timeout interval acquire rate limit back pressure past timeout true high ratio window size back pressure state updates state concurrent back pressure high ratio state back pressure updated window size nanoseconds rate limiter replica group false window size bigger ten milliseconds
test.unit.org.apache.cassandra.cql3.validation.entities.udfverify.UseOfSynchronizedWithWaitLI
unsupported operation codec data buffer protocol version transport functions interrupted entities params protocol version datastax param execute aggregate impl core nio runtime driver udf context util cql data wait execute impl udf context udf udfverify validation wait li
test.unit.org.apache.cassandra.net.Matcher
predicate based outgoing messange destination obj intercepted outgoing destination matches matcher obj inet address net message
test.unit.org.apache.cassandra.index.internal.CustomCassandraIndex
clone keys index behaviour flushing cfs backed custom true index support search predicates form operator linking index index table empty submit building post processing query specific internal called searcher encounters stale entry index key partition key index index clustering clustering index deletion deletion timestamp op group operation perform called adding entry called deleting entries key called deleting entries indexes primary key interrupt stale unsupported operation primary key liveness info index cells delete index key prefix collections select function buffer ttl joining op order expressions metadata target expression target parser row index cfs metadata wait cessation instance supports expression debug row filter liveness info table local deletion time callable searcher add clustering prefix cell live empty logger built optional partition update clustering comparator searcher interrupt compaction cfs partition iterator format timestamp index entry db await barrier util compaction decode entry cql index transaction range tombstone key partitions builder table reader build blocking timestamp index entry single row update expiration time insert row logger regular supports operator upd depends operator index def transaction index key reducing key iterator index primary key clustering clustering index cfm partition key index comparator backing table index clustering row key indexer register index update transaction sstables validate clusterings btree row deletion time index table metadata ref partition iterator range tombstone reload base cfs submit index build column metadata cbuilder regular columns build index clustering complex column data cell future read command primary key column clustering column index metadata row validate indexed metadata clustering complex secondary index builder group complex column data decorated key custom expression indexed column key eq row wait future deletion time collectors column insert index indexed key filter sstable regular force blocking flush truncated collect columns canonical expression marshal row invalid request invalidate singleton statements remove cell cell timestamp partition update spliterator cell expressions read command truncate task deletion path operator apply partition key indexed fb utilities stream support discard tables rows table metadata cell path cfss index functions custom index write order pair tracker empty schema function bi function validate rows update index target build blocking index metadata partition key column family store delete stale entry initialization task expression select reference primary key index kind target comparator cells liveness invalidate task remaining index built read ordering info columns refs index cell logger factory compaction manager build index task delete decorate key compare blocking flush task stream remove cells utils find index parse empty deleted row io logger iterable collated view index builder functions keyspace update row post processor primary key index liveness system keyspace ref view fragment loadsstables internal index registry build deletion indexed column tombstone index cfs functions table validate partition key begin finish nio transactions op time metadata reload task build index clustering prefix concurrent remove row future offline tools registry column family store validate data lifecycle view sec collection cell live row post index query filter max unsigned refs register estimated result rows op group indexer slfj command row partition delete view fragment index cfs cell left
test.unit.org.apache.cassandra.db.CounterCellTest
size size diff deletion diff live change add confirm deletion based context greater left superset nodes left disjoint node context state def standar add buffer digest buffer cell instance counter cell cell clear local simple left context junit count length message digest buffer util cells db util counter cfmd write remote greater local deletion time define schema length global deleted security configuration digest digest update digest clock length disjoint context reconcile cfs relationship counter id column metadata cell state allocate legacy counter cell clone metadata deleted generate counter context keyspace col context col local column cc cleanup saved caches standard cfmd cell keyspac wrap diff total open rows val live id length counter cell context schema keyspace column family store delta prepare server count integer counter cell reconcile diff utils step length counte write local column family store id instance cleanup max timestamp left cell true schema loader nio arrays reconciled keyspace params cleared local id tombstone add ten original left
src.java.org.apache.cassandra.transport.messages.ReadyMessage
message server ready receive codec io override transport ready message decode dest version protocol version msg codec body buffer encode netty encoded size messages response buf ready message
test.unit.org.apache.cassandra.utils.MergeIteratorComparisonTest
version improved closeable merge iterator queue candidates open stack consumed lazily call priority queue stash end consume sending reducer advance items consumed holds comparable head item iterator true iterator reducer time uuid union random random cmpb random uuids lcs buffer imerge iterator current comparable count reduced iterator candidate candidate pq uuid gen random candidates lcs generator junit immutable read generator reducer db util uuid iterator limited overlap overlap iter level overlap collect common benchmark iterator collections cmp google compute reduce system count result close lcs partial overlap length item array basearr iterators iters count closed peek comp counter counting comparator item idx priority queue base idx iterator count counted array obj idx lcs overlap time uuids level count current time millis queue keyed marshal uuid closeable iterator consume pow random uuid transform size collection printf apply poll uuid size natural generator time uuid end data add key change parent time uuid closeable iterators wrapped integer sort item multiplier array deque cli advance poll simple natural count comparator merge iterator math items overlap array decompose compare ordering merge iterator pq utils level idx item lcs total overlap overlap items override simple generator id function combination iterator format combination merge iterator comparison instance build merge iterator random limited overlap nio comparator level items max compare iterators items running total items add benchmark time push left level multiplier items pair
src.java.org.apache.cassandra.io.util.CompressedChunkReader
power read raw compressed uncompressed provided accesses make reader stale match longer accesses make reader stale initial compressed buffer length scratch channel proxy preferred buffer buffer math parameters max compressed length standard file path read region close quietly util thread local io compressed chunk reader chunk chunk chunk reader common google segment offset chunk visible corrupt table data length close capacity content allocate crc check chance metadata compression metadata uncompress compressed offset file length mmapped regions checksum region initial sstable length rebufferer check crc format put size bit count mmap integer aligned annotations thread local random compressor simple buffer corrupt block chunk size flip allocate buffer limit checked cast cr read chunk reader file proxy instantiate rebufferer utils primitives io override checksum min uncompressed regions compressed chunk compressed holder channel chunk length nio buffer compress chunk offset concurrent clear floor buffer managing rebufferer position
src.java.org.apache.cassandra.db.CBuilder
build clustering add element builder built copy dense table leave clustering column add element builder built copy add element builder built copy builder clustering unsupported operation slice copy range top clustering bound buffer buffers built bottom cbuilder remaining count add build bound kind size array backed builder clustering comparator make size nio arrays db start util build bound empty copy illegal state build bound count build clustering comparator inclusive subtype length build slice marshal decompose
src.java.org.apache.cassandra.utils.progress.ProgressListener
listener handle called progress made progress tag identifies progress event current utils tag progress progress event progress listener event
src.java.org.apache.cassandra.repair.messages.RepairOption
repair push nodes construct repair options options key perform repair primary perform incremental repair threads run repair range expressed multiple ranges comma separated column families multiple column families comma separated data centers participate multiple data centers comma separated hosts participate multiple hosts comma separated repair stream data remote host hosts token range repair replicas involved options options partitioner partitioner construct token repair options parallel option data validate traced global preview max job threads subrange repair ranges primary range job threads logger parallelism logger factory job threads key number format token parallel trace key ignore logger hosts common key parsed end token google columnfamilies key pull repair key incremental streaming tokenizer cf str primary range job threads repair option size repair parallelism standard ranges range base local data center hosts preview ipartitioner incremental key hosts str messages length sequential index access mode forced repair options repair tokenizer put primary range key data centers parse force config fb utilities hosts key column families add collection integer token factory parsed begin token warn ranges key preview kind parse join illegal argument force repair key data centers preview kind token trim utils parse incremental override logger datacenters key data centers str force repair tokens empty split option range str dht config trace parallelism key disk access mode pull repair range repair key preview kind database descriptor joiner disk access mode windows util add pull repair ranges str column families partitioner slfj local dc parallelism
test.unit.org.apache.cassandra.io.sstable.metadata.MetadataSerializerTest
serialize tmp write metadata minor reading earlier version yield identical stats change longer daemon initialization metadata serializer collections reads bf fp chance na read mc junit file output stream standard cfmd commit log intervals format db util temp file io stats file la stats file lb desc serialization header construct metadata metadata deserialize la empty cfm original metadata version mb read mc collector current version pending repair compatibility metadata deserialized la deserialized lb big format descriptor metadata serializer deserialized init dd serialization stype mc serialize na stats file open table metadata pending repair schema stats club buffered data output stream cllb data output stream ma read mc version commit log position info comparator random access reader canonical interval table format parent file ma read mb io latest version sstable make component instance build big dht config lb true schema loader metadata component metadata metadata collector database descriptor random partitioner partitioner file big false commitlog serializer
test.unit.org.apache.cassandra.cql3.validation.operations.UseTest
operations validation cql tester invalid syntax message statement bind variable throwable cql junit
src.java.org.apache.cassandra.concurrent.JMXEnabledThreadPoolExecutorMBean
core pool size thread user resize core pool size thread maximum pool size thread user resize maximum size thread jmx enabled thread pool executor mbean maximum threads number core threads concurrent core threads maximum threads
src.java.org.apache.cassandra.cql3.statements.AlterTableStatement
validated dropped counter collection column data adding compatible adding column table include view requires column added dropped column required secondary reject indexes dropped column dropped included drop view includes renamed renamed view table view view updates attrs altered table params query state alter open store dependent indexes alter table statement column column add timestamp change build views dropped column db kind auth util column unauthorized col data record column drop cql index manager announce table update updated renames array raw regular common query state add column event iterable view google delete timestamp counter indexes service multi cell iterables schema change client state transport target collection view permission column column metadata compound current state validate table primary key column cq metadata local clustering columns builder request validation table metadata collectors column key keyspace view collect cf marshal invalid request column statements check access schema altering statement entry include columns column family access reject alter message partition key table params clustering announce migration drop dense added regular column column identifier params table opts schema view metadata override data builder index metadata keyspace add column family store rename primary key column view collection remove regular column dropped columns indexes col store column family regular column def rename stream cq alter table statement dropped column unbuild dropped identifier gc grace time live format indexes instance empty append col data dependent indexes schema cf migration manager includes entry validate view column table attributes builder prepare cql table find validator compatible entry joining
src.java.org.apache.cassandra.locator.CloudstackSnitch
snitch assumes cloudstack zone typical tuple datacenter availability zone system keyspace jvm stability inspector find zone query uri disconnect zone application state gms logger leasefile url matcher endpoint state db uri zoneparts util endpoint io utf response code logger gossiper identifier pattern inet address read line configuration exists metadata endpoint pattern group close buffered input stream state zone rack reader net dc datacenter standard charsets endpoint state endpoint key length application state cl read fully request method locator fb utilities regex matcher rack lease line content length load dc rack info file reader inspect throwable compile logger factory cloudstack snitch http url connection saved endpoints zone dc utils dc lease files io logger conn leaseuri endpoint lease charset buffered reader instance query metadata split network topology snitch rack open connection nio data input stream file utils rack input stream url slfj broadcast address file
src.java.org.apache.cassandra.io.compress.CompressedSequentialWriter
holds offset file current chunk changed method data buffer compressed stored index file writer store compressed holds number written compressed sequential writer digest file file offsets path file write compression digest file file write option write option size compression parameters compression sstable metadata collector metadata buffer compression size buffer index file header quick estimation written part chunk start normal compressing data buffer write offset newly written chunk index write compressed write chunk written current length checksum reset simply drop synchronize current buffer disk data compressed chunk size reserved repopulate buffer compressed mark dirty guarantee newly buffered lost truncate data index seek offset compressed data chunk hold mark position chunk offset compressed uncompressed data offset data digest file unsupported operation present initial compressed buffer length preferred buffer buffer compressed file writer mark write error output stream parameters max compressed length fchannel data output stream optional read metadata collector util io accumulate nullable file sync internal compressed length channels merge estimated disk written read error compression params commit throwable transactional proxy corrupt table flush buffer truncate target chunk count remaining capacity pre cleanup uncompress compressed size finish close current allocate icompressor sstable metadata collector metadata run runtime clean update compressed compressed sequential writer chunk offset abort write full checksum sequential writer option sstable eof reset truncate commit crc metadata append direct metadata writer disk file pointer checksum writer channels put run post flush prepare commit add offset open zip throwables path mark builder length sstable compressor txn proxy schema option compressor real mark corrupt block chunk size sequential writer override length flip limit compression metadata checksum cr valid buffer unc data offset file utils writer abort io override buffer size flush flush data crc check buffer write build rewind channel buffer offset chunk length nio truncate buffer compress chunk offset seek chunk start data position file utils flush offset chunk index write clear add compression ratio offsets path position prepare uncompressed size
src.java.org.apache.cassandra.tools.nodetool.DescribeCluster
display cluster snitch display schema version snitch nodetool probe airlift system endpoint snitch info proxy partitioner node probe io cluster override tools version schema versions describe cluster node tool sp proxy description format node tool cmd util key command schema versions lang execute airline
tools.stress.src.org.apache.cassandra.stress.settings.SettingsMode
check instantiate option cli utility protocol options compression connection style style protocol version runnable prepared util constructor plain text auth provider password illegal state remove serializable mode user system protocol version port option exit core run driver result logger auth provider connection api assignable upper simple cql version options api printf parse cql version select compression clazz params integer datastax username option simple instance printer driver cql options cql simple options connections host illegal argument auth provider accept cql prepared io override compression cql simple empty prepared grouped options arrays auth provider classname user max pending connection stress cql options options mode cl cq newest supported opts
src.java.org.apache.cassandra.utils.LockedDynamicList
simple skiplist permits insertion easily extended insertion sampling items position visiting writes pool pending add end node permits efficient future position remove provided node retrieve item provided null index past end lock utils locks unlock remove append node index reentrant read write lock read write lock size node write lock util concurrent max expected size read lock locked dynamic max size dynamic
src.java.org.apache.cassandra.io.sstable.metadata.StatsMetadata
table metadata stay gc gc time estimated droppable tombstone ratio gc gc gc time amount droppable repaired min column max column imetadata component serializer max clustering max ttl buffer serialized size add remaining streamhist mutate pending repair commit log intervals buffer util format commit log position serializer db util total columns io write min timestamp estimated droppable tombstone ratio metadata uuid deserialize array mutate level commons write estimated partition size data output read version lang sstable level append commit log lower bound sum write code repaired version metadata sizes read data input commit log intervals component min clustering legacy counter shards lower bound estimated column count write level sstable compression ratio estimated histogram write length stats metadata serialize upper bound tombstone histogram column counts size uuid serializer read max local deletion time min ttl stats pending repair write read commit log position max timestamp count commit log upper bound col count min local deletion time interval droppable utils total rows read io override sizeof stats metadata serializer code builder metadata component gc mutate repaired builder build partition sizes nio pending repair pending repair commit log lower bound iserializer estimated tombstone drop time repaired builder read length tombstone histogram droppable tombstones commitlog serializer
src.java.org.apache.cassandra.db.view.ViewManager
manages single views table created manager purposes manager provide single location updates vetted views provide locks prevent updates creating incoherent updates view affect change rid view move worth views related operation performance sensitive find view iterating move keyspace remmenber keyspace level table building views involves updating view build status keyspace requires ring check prevents submitted keyspaces initialized storage service gossip schedule builds views builds triggered gossip disabled jmx nodetool uninitialized provide definition base skip base table exist due schema propagation system distributed keyspace system keyspace lock remove view view manager previous build views add logger storage service views db util key partitions acquire lock update definition definition remove reload common key iterable view google concurrent logger mutation metadata view coordinator batchlog definition table key keyspace table views views repair metadata partition update entry mutations updates affect view put table id remove key cfid views service column family store collection striped schema view metadata imutation updated views concurrent view writers keyspace partition updates replication factor info replication strategy put absent locks add view logger factory lock base table id locks views base table logger view removed id column family store instance enable coordinator batchlog empty build config views concurrent lazy weak lock update concurrent initialized entry database descriptor view warn lock slfj entry
test.long.org.apache.cassandra.dht.tokenallocator.TokenAllocatorTestBase
base replica units start token span replicated trivial replicated span token group acts found token replicates group front multiplier acceptable disbalance strategies harder achieve high tolerance avoid high tolerance avoid summary statistics rand compare token count replicas random standard deviation system override varying token count target cluster size min math replication start stddev unit min comparable unit count max vnode count format tokens token allocator base math max unit id tokenallocator integer dht tc replication strategy unit count stat descriptive spread expectation remove unit max update replication strategy summary util token random token navigable ipartitioner add unit token count random put commons partitioner token seeded rand sorted tokens mms compare unit id fixed token count unit
src.java.org.apache.cassandra.tools.BulkLoader
give sockets time gracefully stop daemonized true recalculate progress sessions hosts add option argument argument opt shortcut option opt complete option argument description description updated options add option opt shortcut option opt complete option description description updated options client encryption options update total files parse event time nano update progress progress info session sleep ssl context jvm stability inspector opt indicator system output cli stream throughput outbound megabits sec stream prepared message external client cmd line options progress opt thread encryption options util ssl io progress tool initialization throttle total size send server encryption options ssl factory failure stream complete commons collect hosts common debug inet address security server encryption options google pretty memory delta time bulk load peer system streaming duration ignores session info nano time append server enc options multimap option progress info total size total progress ciphersuites current table loader client net size stream state stream event handler core runtime enabled pretty memory stream result future throwable options total files sending files build ssl options sstable absolute file options load inter dc stream throughput outbound megabits sec output handler verbose sessions host ssl context storage port override loader put add option progress event tools fb utilities auth provider port summary total files send ssl storage port start handler datastax bulk load connection factory cipher suites current stream connection factory handle stream event builder completed file progress state connections host err progress inspect throwable success delta progress table loader future time average inter dc throttle auth provider stream multimap jdk ssl options utils client enc options ssl context stack trace ssl options stream event io loader options progress indicator ssl context end format event port ssl options session index build option config completed description failed hosts bulk loader driver peak database descriptor connection factory client encryption options session prepared event key builder time directory sb
test.unit.org.apache.cassandra.service.PaxosStateTest
cfs empty commit proposal verify data truncate attempt commit mutation proposal predates ballot created compare unsigned column system keyspace buffer row util uuid gen cell gms junit timestamp micros dk buffer util timestamp stop schema definition load schema commit partitions paxos state cmd collect gossiper common throwable google system iterables cfs stop gossiper proposal metadata data present decorated key truncate key partition updates commit paxos row truncate blocking partition update truncated open fb utilities clustering rows service add time uuid keyspace column family store row update builder truncate utils id element ballot millis column family store nano time instance build schema loader nio empty db update paxos state builder row unfiltered data present committing truncation
src.java.org.apache.cassandra.db.lifecycle.Tracker
tracker tracks live data store memtable initial loadsstables true load tables remove accessed transaction provided sstables mark sstables methods atomically modifying atomically permit view applies function permit yields method subtract total sstable setup notifications backup purging removes sstables busy method throwable complete instructions notify tables changed removes table directory directory unreadable possibly tables memtable ordered write op directed memtables appended fetch operations safely assume find memtable barrier memtable whilst reading accept multiple memtables oldest prevents falling ensures assign operations memtable current atomically appends memtable end active previously leaves previous memtable live memtables methods previously active sstable null flushed batchlog care state cfstore replace back creating snapshot makes eligible notifyadded skip miscellaneous utility operation notification notify truncated handle notification collections atomic table added notification sstables incremental backups enabled previous predicate removed cur mark flushing add tables links log transaction add memtable empty logger immutable memtable updated format directories db notify deleting live memtables util compaction subscribers live disk space accumulate compaction notify difference table reader incrementally backup notify table repaired status changed table array remove remove unreadable tables logger common noncompacting release throwable deleting iterable view notify added google backups directory abort obsoletion visible txn logs memtable tracker compare iterables cfs truncating repair statuses changed merge storage metrics update size tracking current memtable fail operation reader mark obsolete permit compacting empty empty memtable renewed notification notify tables changed inotification base helpers subtract table changed notification drop tables tables dummy accepts memtable discarded notification memtable notification filter sstable canonical path cfstore update live collect replace flushed commit log position load view singleton op order lifecycle transaction unknown copy write array obsoletion notify renewed notify refs apply select notify discarded truncation notification memtable throwables inotification consumer collection daemon initialized subscriber added true predicates candidates toremove annotations empty function notifications column family store copy commit log position setup online reset renewed disk total disk space descriptor table repair status changed table deleting notification logger factory truncated result trace enabled compacting group backups dir utils fail io discarded logger atomic reference metric function keyspace update compacting drop tables invalid obsoletions tables loadsstables empty config uncompacting add initial tables finish trace prepare obsoletion valid table interval tree permit metrics concurrent singleton file utils database descriptor lifecycle view error memtable refs subscribe compacting slfj file modify directory unsubscribe commitlog left consumer op group pair
src.java.org.apache.cassandra.utils.concurrent.SharedCloseable
simple extension represents resource utilised multiple managing closure instance closed instance representing state backed underlying coordinates original underlying resource shared resource shared closeable identity collection close accumulate identities utils auto closeable concurrent throwable add ref shared copy
src.java.org.apache.cassandra.hadoop.HadoopCompat
based utility methods applications deal inconsistencies reduce context api hadoop true runtime hadoop version false creates job context job conf job id correct based hadoop creates task attemp context job conf job id constructor based hadoop instantiates context hadoop context impl hadoop hadoop hadoop invokes method rethrows runtime invoke works hadoop invoke works hadoop works hadoop invoke works hadoop invoke works hadoop increment works hadoop incrementing count called affected cost good candidate handle figure achieve build found hadoop job context status group job context constructor invoke illegal access generic counter constructor progress configuration task io context cls task attempt id mapreduce method context job id context declared constructor increment counter method cnfe task attempt id status reporter task context counter writer field field constructor declared field obj getcounter accessible security context constructor job context cls method instantiation job id progress method output committer task context cls method status method method counter method task context constructor instance record writer context cls context constructor display status reporter job context configuration method illegal argument output committer task attempt id counter hadoop compat increment field conf increment counter invocation target task attempt id counter task attempt context task input output context record reader task attempt id input split status record writer generic counter constructor record reader reflect task attempt context input split lang versionx counter reader field generic counter cls configuration
src.java.org.apache.cassandra.db.compaction.AbstractCompactionTask
transaction modifying managing status sstables enforce contract caller mark sstables confirm attempting compact repair sstables compacted executes task unmarks sstables message user defined google compaction task compaction iterator txn lifecycle transaction utils transaction compacting compaction io close sstables pending repair collector cfs runtime validate tables compacting user defined stack trace compaction executor stats collector writers preconditions tracker empty wrapped runnable filename format directories db execute internal util compaction aware writer base column family store compaction operation lifecycle originals table reader disk full write error uuid iterator execute repaired directories expired tables iter check argument sstable stack trace pending repair common compaction pending repair compaction manager compaction aware writer
test.unit.org.apache.cassandra.cql3.DurationTest
invalid request date utils nanos micro fail substract negative durations time text parser parse date standard pattern iso pattern time zone lang time zone nanos minute expected error message time parse position simple date format message add negative durations invalid duration max date junit time zone add invalid durations truncate instance duration util duration nanos hour cql nanos milli duration substract add commons substract time millis calendar nanos iso alternative pattern
src.java.org.apache.cassandra.db.Memtable
write barrier directing writes memtable precise upper bound commit log position precise lower bound commit log position approximate lower bound commit log lower bound enforced index memtable partition position purpose select key range ensures store smallest timestamp partitions stored record comparator cfs creation user update cf memtable created setup memtable mock decide memtable barrier memtable barrier destined future durable directed check wrt cl boundary finalised simply update max current simply accept permits coordinate safe boundary choice atomically wrt operation sneak true memtable expiration time determined called supplies commit log segment position null secondary add columns avoids wasting works beaten allocate row overhead saves allocating free overshoot declared avoid iterating memtable purge give memtable big size make fail log make write index keys data bloom filter row index clear free memtable queries batchlog partition separate entry insert entry delete bl data strictly preserve tombstones operation memtable ongoing skip entry update calculate row actual stored key true iterator regulars unfiltered partition iterator writeable location file concurrent skip stats comparable atomic clustering comparator commit log intervals sizes metadata collector directories util key atomic btree partition partitions serialization header splitter array iter logger murmur partitioner start min cfs append index live data size current metadata batches data descriptor operation count rows ownership ratio sstable interval include stop txn group extra entry column filter fb utilities throwables overhead memory annotations heapbuffers token partition key column family store descriptor pending repair columns collector def regular columns abort table multi writer flush runnables logger operations memtable pool empty memtable unfiltered partition iterator config include start clone empty buffer schema constants commit log lower bound lifecycle add offheapobjects atomic op group local ranges slab pool memtable allocation system keyspace position flush largest column family system keyspace callable location disk storage service memtable partition current current operations min timestamp stats collector iterator column filter debug pool empty size cleaner minimum memtable cleanup threshold stop min key size pessimistic locking predefined merge column metadata clean regular columns code table multi writer min timestamp heap limit filename clustering index filter barrier builder memtable flush period base put definition live data size write sorted contents filter op order lifecycle transaction partition update active repair service size partition level deletion service params stats collector schema trace enabled flush writer data range abort runnables approximate commit log lower bound integer initial comparator copy memtable offheap space mb unfiltered iterator commit log upper bound time unit logger factory locations partitioner put absent unslabbedheapbuffers purge repaired tombstones min row overhead indexer instance make unflushable creation nano trace transactions concurrent skip singleton propagate discarded entry pair data directory error runnable partition including excluding bounds key range compare commitlog milliseconds write barrier present math commit log position make partition iterator writer heap pool range start columns unrepaired sstable writeable locations max db ceil token illegal state bound common throwable pretty memory compare nano time stats heap boundaries commit log upper bound heap limit flushed nanos key group clustering index filter key keyspace runnables track contention table descriptor head heap size min local deletion time period initial size parse memory pool table metadata flush runnable unfiltered row iterator unfiltered row iterator empty memtable heap space mb partition position present comparator partition count find min local deletion time min local deletion time bounds utils io override add size delta encoding stats flush runnables allocator commit log lower bound commit log dht updated bounds estimated size measure deep stats database descriptor builder avg size left columns collector collections atomic compaction strategy manager previous segment id add live logger remaining build min key bound flush location buffer util format token heavily contended row count expired google visible batch log table update transaction heap allocate file pointer sstable metadata collector schedule flush partition decorated key discarding range add memtable allocator pool row overhead heap size directories accepts local ranges commit log position disk boundaries allocator rows val buffer decorated key start tail clone key offheapbuffers call system commit log position count allocator property data range flush minimum token sort atomic reference metric concurrent navigable barrier floor current position memtable allocator update concurrent file utils entry estimate row overhead slfj
test.unit.org.apache.cassandra.cql3.validation.entities.udfverify.UseOfSynchronizedWithWait
unsupported operation codec data buffer protocol version transport functions interrupted entities params protocol version datastax param execute aggregate impl core nio runtime driver udf context util cql data wait execute impl udf context udf udfverify wait validation
src.java.org.apache.cassandra.cql3.Terms
adds functions terms functions add collects column specifications bind variables terms bound variables specification collect bind variables terms bind terms term options bind markers result binding variables terminals creates marker element creates single term single creates term adds functions terms functions add unsupported operation marker unset bound collections buffer terminal add multi item terminal protocol version column specification db collection util cql term array raw iterable transport collection index version unset add functions constants variable specifications bound term terms suppress warnings terminals query options keyspace bind receiver deserializer elements options parse collect marker specification marker apply size prepare serialized column identifier function raw term cql parser kind marker terminal cql fragment parser override function functions terms add functions buffers nio buffer singleton protocol version error bind marshal
src.java.org.apache.cassandra.io.util.ChecksummedSequentialWriter
digest file present io checksum writer crc writer option sync internal abort file append override buffer buffer size optional flush data write full checksum builder duplicate build option sequential writer txn proxy prepare commit nio buffer util write chunk size throwable crc writer abort nullable capacity prepare crc path sequential writer option commit checksummed sequential writer limit accumulate file commit position crc metadata transactional proxy append direct
tools.stress.src.org.apache.cassandra.stress.settings.ConnectionStyle
connection style stress cql cql prepared
src.java.org.apache.cassandra.tools.nodetool.SetHostStat
host stats iterator nodetool unknown host resolve ip override tools size host stat add net host stat util host endpoint iterator array token ownerships inet address iterable
src.java.org.apache.cassandra.tools.nodetool.Refresh
google nodetool probe airlift node probe arguments io override tools preconditions usage size node tool airline description node tool cmd refresh util base command load tables execute array check argument common
src.java.org.apache.cassandra.tools.nodetool.UpgradeSSTable
nodetool probe airlift system node probe arguments io override tools option title parse optional tables table usage node tool jobs description runtime node tool cmd util keyspaces command parse optional keyspace execute array keyspace upgrade tables upgrade table airline include
src.java.org.apache.cassandra.security.EncryptionUtils
encryption decryption functions specific commit comments details binary invocation pattern compress encrypt data encryption decrypt uncompress data decrypt compress raw manage sizing buffer big deallocate allocate large write header lengths text compressed beginning buffer encapsulated encrypted buffer actaully written larger callers capture buffer calling multiple encrypt input writes input buffer big deallocate allocate large writes cipher text headers channel parameter write header info output buffer assume input buffers buffer writing headers shared buffer corrupt input write headers directly cipher text unfortunate allocate small buffer reuse input overwrite real data header decrypt input manage sizing buffer big deallocate allocate large buffer actaully written larger callers capture buffer calling multiple length compressed path decrypting commit log uncompress input manage sizing buffer big deallocate allocate large buffer actaully written larger callers capture buffer calling multiple simple adapter performing operations calling legit initial compressed buffer length channel proxy dupe buffer channel adapter math writable channel cipher plain text length input output offset remaining allocate encrypt write initial buffer util read db util output length io encrypted length illegal state bad padding fast thread local crypto compressed length current position buf output security put google eof data input flip file data input close netty capacity dst illegal block size preconditions encrypted block header size icompressor common suppress warnings uncompress read base position buffer resize src channel proxy read channel length check null read fully channels put encrypt length encryption utils array cleaned duplicate file data input msg ensure capacity read length read data input read channel count input buffer output buffer limit buffer utils decrypt output size io input length encrypt current position format write metadata buffer readable channel compressed block header size channel nio open buffer max encrypted segment compress concurrent cipher compressor clear channel proxy source position reusable buffers position commitlog input offset
src.java.org.apache.cassandra.cql3.Operation
update delete update counter collections deleting deleting element collection fine grained operation obtained raw counterpart correspond provided receiver column operation applies term involved theory require simplify things operation requires read previous discard discard idx requires collects column specification bind variables bound column specification collect bind variables term execute partition key partition key params parameters parsed raw update element collection prepend method validates operation validate based specification receiver operation receiver column operation applies prepared update operation applied alongside update update statement parsed raw delete deleting deleting element column affected delete method validates operation validate based specification column affected operation operation receiver operation applies prepared delete multiple time stupid result random check operation bind variables subtraction deleting column bound putter setter field requires read user instance udt elt column specification discarder format deleter field db collection deleter util setter index cql element key spec raw operation addition affected column appender collection column metadata user adder element deletion field constants metadata variable specifications term multi cell decorated key substracter execute key discarder key column deletion table metadata idx field deletion column keyspace receiver marshal invalid request term index spec collect marker specification keys val counter column params setter key mval schema raw deletion selector partition key tuple kind field position spec setter element discarder prepend vr substraction raw update field spec function functions update parameters add functions id field cf discarder index prepender lval error field identifier element prepare compatible
src.java.org.apache.cassandra.io.sstable.metadata.MetadataType
defines metadata component metadata table validation metadata compaction metadata memory serialization header serialization header metadata component header metadata stats stats metadata validation metadata compaction metadata db imetadata component serializer sstable compaction io validation serializer metadata
src.java.org.apache.cassandra.io.util.UnbufferedDataOutputStreamPlus
base data output optimized unlike buffered data output stream capable operating unbuffered output sequential writer buffering data output methods copied harmony writes entire contents array random access file starting current file buffer buffer io error occurs write writes array starting random access file starting current file buffer offset offset buffer count number buffer io error occurs attempting write index bounds offset count writes starting current file low order io error occurs attempting write writes output val write io error occurs attempting write writes output val write error occurs attempting write writes low order output str write io error occurs attempting write writes character written higher written represents unicode val character io error occurs attempting write writes characters str lower character written higher written represents character str characters io error occurs attempting write writes output resulting output resulting calling val io error occurs attempting write writes output resulting output resulting calling val io error occurs attempting write writes output resulting output highest order val io error occurs attempting write writes output resulting output highest order val io error occurs attempting write writes lower written higher written val io error occurs attempting write writes utf format provided str written utf data output write utf encoded io error occurs attempting write writes utf str written utf io error occurs attempting write buffer defensive write buffer index duplicate direct buffer bits remaining util io index apply channel writable channel common write google write write utf max size remaining index hollow direct buffer write utf count math buffer length write retrieve temporary buffer base offset write run length write length array ch channels apply array val memory hollow buffer bits buf count data output str utils io memory override array offset function utf index write min unbuffered data output stream direct write write utf buffers channel write nio buffer memory util run length utf data format data output stream position
src.java.org.apache.cassandra.transport.Connection
ch tracker factory tracker io add connection channel compressor version tracker compressor protocol version attribute key channel frame compressor util compressor connection attribute key version netty frame compressor connection connection transport
src.java.org.apache.cassandra.db.IMutation
computes total data size mutations total data size partition update mutations keyspace table id table ids apply data size collection mutation size schema imutation db shallow decorated key update util key partitions partition updates timeout
src.java.org.apache.cassandra.net.ResponseVerbHandler
add latency success messaging service failure reason cb system nano time callback info supports back pressure message message latency callback failure response id update back pressure receive instance msg response verb handler logger logger callback info trace tracing util concurrent registered callback age remove registered callback millis iverb handler net failure iasync callback failure tracing verb logger slfj iasync callback time unit response logger factory nanoseconds add latency
src.java.org.apache.cassandra.index.internal.composites.PartitionKeyIndex
index column suppose composite row rk index entry index row key cell rk rk fully partition key ck clustering keys original cell excluding column refer cell note contrarily repeat indexed index cell partition reason order index cell partitioner skipping row key change clustering stale index comparator clustering columns index build prefix buffer path clustering index primary key liveness info rows timestamp base cfs cbuilder partition key index cell path add internal split clustering prefix partition key indexed column size comparator schema ck count composite nio decorated key index entry db index metadata build index clustering prefix partition key column family store position indexed data sec builder decode entry index entry index indexed key comparator live data components index def composites metadata marshal cell row
src.java.org.apache.cassandra.io.util.TrackedInputStream
track read reset counter skip input stream tracked input stream io read source read tracker count read len util io read reset filter input stream
src.java.org.apache.cassandra.tools.nodetool.Drain
nodetool probe airlift node probe io execution override tools interrupted node tool drain description runtime node tool cmd util concurrent io execute drain airline command
src.java.org.apache.cassandra.cql3.selection.Selection
predicate order sorted column result ultimately ship client overriden simple selection checks selection selection removes ordering columns ordering columns columns order selected columns selected factories factory ordering columns part index column index column resultset index index column columns selection clause resultset columns underlying checks selectors perform selectors perform number fetched number fetched checks selectors collect selectors collect checks selectors collect selectors collect adds current row special selection columns simple selection multiple time filter duplicate duplicate efficient simple selection column filter computed consequence selectors argument impact selection linked column filter factory selectables bound collections buffer selector factories columns select order row ordering column current predicate add column columns row json add empty protocol version selectable spec columns column specification group db json spec util column helper cql serializer lower columns index simple selector factory array add input row collect columns add input common ordering columns add selector ordering writetime selector factory google number fetched columns selected columns json selection columns iterables transport index column specifications col spec column metadata factory selector iterators buffer output row add serialized columns metadata variable specifications index column filter filter ordering columns wildcard query options base selectable pk restricted columns result metadata selection column filter instances column marshal invalid request factories collect column definitions column serialize column filter selectors simple column filter table size selection column aggregate table metadata selectors simple selection selection processing ut schema processes selection instance builder selection columns factory aggregation result metadata factories reset result builder collect timestamps output locale collect tt selector factories json json column id filtered ordering columns json protocol version result result index override selectors function functions collect column add functions instance ttl selector factory empty append cf nio arrays selectors column singleton compact table output row column specification selector protocol version add column filter factory columns options column index wildcard sb columns quote json
src.java.org.apache.cassandra.tools.nodetool.ReloadTriggers
execute probe node tool cmd nodetool description airlift reload triggers override reload triggers node probe command airline io tools node tool
src.java.org.apache.cassandra.io.compress.ICompressor
compression data compressed output starting positions buffers moved reflect read limits decompression data uncompressed output starting positions buffers moved reflect read limits preferred buffer checks buffer supported compressor combination supported direct buffers supported buffer initial compressed buffer length preferred buffer io buffer input length supported options input output offset supports chunk length nio uncompress compress util io icompressor buffer output input offset
src.java.org.apache.cassandra.service.paxos.PaxosState
time time decide expired accross nodes window recent commit shows replica proposal amount fix node commit expired tombstone hides promised ballot accepted coordinator make newer ballot time guarantee commits proposal older current recent committing safe due column current ballot strictly greater proposal erase table truncated proposal perform mutation potentially resurrect truncated blindly keyspace google mutation lock utils truncated save paxos proposal system column family store locks unlock empty commit system keyspace promised commit apply ballot nano time prepare concurrent writers trace table metadata keyspace open state id start uuid gen paxos cas propose propose save paxos promise striped config metric cas commit schema unix timestamp lazy weak lock load paxos state tracing mutation ballot db update paxos state util concurrent partition key unix timestamp sec key database descriptor accepted add nano proposal sec recent commit decorated key service keyspace lock make mutation save paxos commit locks prepare common tracing commit cas prepare metadata prepare response
src.java.org.apache.cassandra.cql3.statements.PermissionsManagementStatement
validate login check access avoid leaking user existence anonymous keyspace omitted table correct called call altering permissions builtin functions keyspace omitted table correct check user authorize permission resource reject check user single permission resource invalid request statements existing role exists authorization statement role resource keyspace role manager role permissions management statement client state validate ensure anonymous service permission grantee system keyspace ensure permission state role correct resource permissions config schema iresource format auth util schema constants function resource unauthorized database descriptor cql request validation authorize resource role check access
test.unit.org.apache.cassandra.cql3.validation.entities.udfverify.CallOrgApache
unsupported operation codec data buffer protocol version transport functions entities params protocol version call datastax config param execute aggregate impl core nio driver udf context util database descriptor cql data execute impl udf context udf udfverify validation cluster
test.unit.org.apache.cassandra.auth.jmx.JMXAuthTest
grant select single specific table grant select table mbeans grant select table grant select grant modify single specific table grant modify table mbeans grant modify table grant modify grant execute single specific table grant execute table mbeans grant execute table grant execute answers false user true auth setup complete saves real irole manager storage service callback handler execute shared state socket factory jmx connector server jmx resource principal resource mbean action jmx connector factory system user instance initialize add rmi socket factory permission resource jmx server stub login module junit immutable db unauthorized auth util authorizer cql read attribute execute jmxc mbean server connection server collect table common throwable security setup principal google table system connect fail rmi select subject jmx logout jmx connector permission uri column family store mbean jmx url runtime mbean proxy field proxy declared field clear permissions accessible tables keyspace keyspace connection security action commit login subject options authorized jmx service url minimum compaction threshold stub authorizer authorization proxy grant permission authorizer put management start table jmx server utils permission execute method user authorization proxy setup authorizer setup modify superuser estimate keys auth setup complete setup jmx server property localized message callback handler login spi authenticated user loader functional table mbean root paths utils mbean server connection jmx role resource field abort file principals grant format cql tester role env illegal access write attribute iauthorizer config nio login module reflect mbean authorizer field database descriptor tables lang remote system resource clear jmx server callback jmx auth permissions validity
src.java.org.apache.cassandra.cql3.selection.AbstractFunctionSelector
pass function arguments recycled avoid cost instantiating function add null functions collate columns child factories add directly sake selection selectors text buffer selector factories ttl selector factory add column aggregate selector factory column specification db util column cql append separators commons collect common writetime selector factory google scalar function selector iterables lang function selector append str builder column metadata factory selector column writetime selector factory builder query options filter instances ttl selector factory options invalid request statements tmp column filter add size selection column aggregate schema check bind instance selector aggregation factories fetched columns fun column factory override function functions add functions empty request validations add fetched columns nio arrays factory builder marshal results column aggregate function selector
tools.stress.src.org.apache.cassandra.stress.settings.SettingsSchema
stress profile passes keyspace keyspace standard column option cli utility local sleep buffer key spaces exit nodes columns runnable thread format db util replication compaction execute remove result logger core option compaction system option replication options append compaction strategy replication strategy options select serializable strategy command run runtime driver options key keyspace schema exists entry consistency level size standard statement cq compression driver client params datastax option simple builder printer validator illegal argument keyspace statement cq utils io override replication strategy buffer util charset empty command grouped options compaction strategy options driver client node nio arrays command user stress entry option stress character coding options options client counter statement cq cl entry
src.java.org.apache.cassandra.net.IncomingTcpConnection
connection stream message entire bypasses input stream begin buffering determined connection reset closing constructed stream remain handshake endpoint version version node connect node outbound side reconnect upgrade record version callback socket unsupported operation lz version data input stream group data output stream input logger fastest instance socket format read checksum db util io lz seed netty deserialize outbound tcp connection remove channels logger approximate time write inet address lz block input stream receive message fast thread local thread flush close message version net lz factory run suppress warnings read data input compressed xx factory closeable decompressor jpountz socket unknown table checksum current time millis read construction time eof incoming tcp connection messaging service output stream channels buffer size message config version zip nio data input stream receive buffer size integer trace enabled lz fast decompressor channel warn compact endpoint serialization helper checksum receive messages receive version xxhash logger factory inet address max version io override logger id monitoring instance readable channel config channel internode recv buffer size nio trace fast decompressor closed concurrent channel database descriptor input stream current time integer validate magic currentversion slfj property prefix se streaming
tools.stress.src.org.apache.cassandra.stress.util.JmxCollector
expand size aggregate probe connect thread factory node probe tpe sqrt io submit tools port math reset gc stats na stats executors runtime processors collection maxms callable add call hosts fill sdvms jmx collector stat runtime results util concurrent host future io stdev runtime probes count fixed thread pool stress array futures gc stats future summs sumsqms executor service
src.java.org.apache.cassandra.db.DecoratedKey
represents decorated handy working lot sorting assume tokens correspond correct random partitioner keys subclass rp stronger tokenization scheme order preserving partitioner key compare faster array backed delegate delegate decorated key minimum position minimum token decorate key compare key minimum compare unsigned utils pos min partitioner buffer override key ifilter buffer util filter code partition position dht filter key min key bound kind hashx nio comparator key bound dest db decorated key row key ipartitioner token key token remaining util kind obj comparator keystring partitioner token compare position murmur hex cmp
src.java.org.apache.cassandra.cql3.ColumnSpecification
column alias column column true column specifications false google reversed iterator override code collection add empty alias cf column specification table db util base helper cql reversed iterator iter alias common column identifier marshal
src.java.org.apache.cassandra.db.context.CounterContext
partitioned counter context primarily tuples shards flagged global local special resolution rules data structure header global local shard indexes shards logical tuples exact layout header body context indices body rest header indices refer local global shard indices encoded body layout rules merging shard counter id global global shard highest logical global local global global remote global local local sum counts logical local remote local remote remote shard highest logical detailed description local rules work specifically attachment cover global special clock ids differentiate regular local local shards emulate handling counter writes reads rolling creates counter context single local shard clock id partition update update point special local shard replaced regular global hit commitlog memtable hit update statement multiple increments counter add regular local shard clock id false read path encode cell era regular local shard counter checks context update creates counter context single shard result creates counter context single local compatibility counters creates counter context single remote compatibility counters determine count relationship nodes count superset nodes count greater subset nodes count node counts greater compare node logical clocks version left counter counter relationship compare id process clock inconsistent shard code disjoint treated relationship relationship advance relationship compare id advance left relationship check context aggregated count counter left counter counter cmp contexts local cmp compares left state overrides state overrides disjoint local happen sstable lost disk failure policy global local id local local remote shards problem deterministic selection shard log occurrence operator context counter aggregated count counter context counter aggregated count represented context state easy avoid negative clean local detects context legacy shards remote found local mark context delete local references marking multiply preserve header count order clear local refs context counter context marked delete local marked shards global remove local context context counter version shards local global shards local shards allocate smaller bb cleared context local header update message digest content note skips header header local digests meant comparison clock count local counter shard count local counter shard clock count counter shard finds position shard id context binary position helper work contexts iterating context abstractly tuple context state encapsulate context position context intrinsically intended methods counter context convenient handcrafted context unit offset offset allocate context big global count local count remote count initial unit unit write tuple absolute context state put compaction manager global buffer merge count math local global count lazy holder write element body length copy clear local add logger remaining elt message digest left clock rel buffer util state max db find position util write remote compaction current local greater common array clock length logger length global header elt security array copy clock compare id context google write global min visible disjoint sizes sizeof pos legacy shards append pos remaining remote serializers compare id relationship clock counter id mark local cleared state abs allocate header size length blank clock count header length total count left offset local clock count counter context remote ctx compaction manager global count current global step length cmp local marshal marked merged state put clock wrap diff message total size update clock id local left state duplicate header elt length dup update annotations counter context local id relationship builder move warn counter id local count count count length update global local remote count update digest put limit global shard indexes logger factory bb bb compare element index utils local shards middle validate context logger id write local orig header length reset instance header offset local count nio buffer write element offset compare arrays update sb count cleared left count clock count body offset slfj clear local position update left
test.unit.org.apache.cassandra.io.sstable.IndexSummaryTest
write read sanity check original index downsample downsample level entry index spot check depend round summary entry index gap retained summary points random daemon initialization original indexes collections buffer previous original index lookup uuid position original num entries add scan junit key number skipped entries index buffer util db downsample patterns util base sampling level sampling level io position table reader uuid deserialize array sampling pattern skip summary close quietly data output buffer dis google entries sampling level binary search write utf effective interval read utf close index collect array num keys keys orig common full add empty key runtime decorated key ipartitioner key key init dd sstable downsampling round sampled count partitioner downsampled serialize random uuid index summary index summary index binary search result wrap loaded size index interval downsampling index summary start effective index interval index skip start points pair integer sort generate random index downsample downsample level position max number entries index scan position binary search result array array decorate key utils add entry binary search io random partitioner serialization downsample format util build start points dht config nio arrays array input stream empty buffer index summary builder data input stream file utils database descriptor index interval sample pattern builder interval partitioner original serializer left
src.java.org.apache.cassandra.index.internal.CassandraIndexFunctions
columns simply depends index collection element frozen add clustering columns specific index table construct index clustering columns index table hold partition key clustering columns base overridden indexed clustering store base clustering index indexed index partition indexed collection capture cell path keys index compact column base partition key held index called providing specializations built index collection size indexed collection entry index functions comparator base metadata comparator index metadata col partition key index functions collection index index position table metadata base cfs clustering column index functions column metadata index functions partition key index internal collection key index indexed column cks regular column index schema collection key index functions column def composite add clustering column keys index functions keys builder db index metadata util column family store clustering column index cf def collection entry index collection builder index collection index functions add index clustering columns instance regular column index functions clustering columns keys index composites index instance marshal def
src.java.org.apache.cassandra.db.SnapshotCommand
snapshot command messaging service version data output serialize write utf snapshotname read utf io override sizeof columnfamily serialized size snapshot read message verb iversioned serializer snapshot net sizes clearsnapshot write data input db util io clear snapshot snapshot command serializer deserialize message snapshotcommand keyspace column family sc serializer
test.unit.org.apache.cassandra.cql3.functions.CastFctsTest
zone utils cast fcts date time date invalid message date time joda functions time casts selection clause serializers big decimal counter casts selection clause rows cql tester column uuid gen time uuid time millis day date row junit math time millis utc format invalid queries simple date serializer casts selection clause numeric casts selection clause pattern util date time zone millis execute current table function cql big integer casts reverse order parse date time invalid syntax message keyspace table time date time format throwable
src.java.org.apache.cassandra.utils.btree.NodeBuilder
represents level stack item progress modifications parent buffer building buffers keys branches buffers children branches null contents track null current node btree index key copy copied build index child node copy copied build upper bound range ascend back key update bsearch insertion point past end current ensure referencing reset copy provided copy changed inserts replaces provided copying keys prior key key node builder retry update child range parent earlier key ascend back null finished update exact key true node optimisation common scenario updating existing row simply avoids performing binary search checked proceeding possibly disable check determine fails handful builder replacing leave state intact copy keys original node prior found applied update function apply update function handled copy ascending copied original leaving build key position build range original building ensure copied pos retry parent branch care belongs range key descend ensure copied keys copied original child utility methods parent initialised parent top level builder holding valid root ascend root splitting proper node sizes work newest child construct parents builds root btree node called root permit building empty trees constructions advance items finish level pass constructed children ensuring parent split current node move midpoint halves copy keys copyf provided index copyf skips key puts provided key builder part differs add key pass replaced replace applies puts resulting key splits parent copies children copyf provided index copyf called key adds unexpected child builder called children adds replacement expected child builder called children prior checks add requested flush number items waste leaf space builds node buffered key length copy modify range simply calculate index offsets key rooted checks initialised initialise parents general overflowing original root ensures child level exists child key end ensure child index offsets arraycopy copy key position add extra child build child position sizes size array util leaf ensure room found copy child position node builder ascend system btree build key position root current max build key position fan factor parent build children update function key position len key positive infinity copy key end length offset build keys apply allocated size add key compare upper bound upper bound child position prev empty branch key length max keys build key position clear reset comparator build range math upper bound node ascend root compare fill utils binary search flush copy keys descend mid ensure parent finish comparator arrays max update finish child btree copy children update function clear replace key extra copy
src.java.org.apache.cassandra.index.sasi.analyzer.StandardTokenizerInterface
internal supporting versioned current length matched text resumes scanning regular expression end input encountered end resets scanner read input close internal variables input reused buffer discarded lexical state reader input index yyreset array yychar reader analyzer standard tokenizer io text io reader token sasi yylength
test.unit.org.apache.cassandra.repair.messages.RepairMessageSerializationsTest
simple check make merkle trees messaging service daemon initialization validation request message buffer summaries snapshot message serialized size validation complete message add iversioned serializer sync request junit storage service cleanup message trees util token sync request message io prepare message desc session summary original partitioner stream summary deserialize array collect validation complete common node pair inet address null data input buffer merkle trees build token ranges google validation request data output token ranges streaming repair job desc protocol version array dst code prepare message allocate net data input ipartitioner range generate src cleanup message messages deserialized repair serialize random uuid table id sync complete message currentversion size service uuid gen add merkle tree time uuid uuid data output buffer fixed job desc schema token uuid msg buf murmur partitioner repair message serializations flip preview kind partitioner unsafe utils serialize round trip io sync complete instance validation complete message merkle tree dht config build repair job desc snapshot message nio database descriptor repair message initiator gc validation complete message merkle tree position serializer
src.java.org.apache.cassandra.repair.RepairResult
repair repair result stats util repair job desc sync stat desc
src.java.org.apache.cassandra.index.sasi.utils.trie.Trie
slightly correspond code patricia trie supports pluggable key comparators patricia trie supports deployed maven central downloadable defines prefix ordered tree data roger sam key closest bitwise metric lexicographic lookup xor distance xor distance key closest bitwise xor provided key closest bitwise xor metric provided lexicographic lookup xor distance xor distance key closest bitwise xor metric provided key closest bitwise xor metric provided lexicographic lookup xor distance xor distance key closest bitwise xor provided iterates starting entry closest xor metric entry call select entry calling select entry order xor cursor cursor remove current stop operation entry cursor continued till traverses lexicographical called traversal stop cursor traversing remove element remove current stop entry cursor continued till view elements fixed size essentially lookup traverse trie utils prefix select index prefix decision suppress warnings select util key entry cursor trie sorted cursor select key sasi
test.unit.org.apache.cassandra.utils.BitSetTest
bitsets bloom make bitsets serialization size max failure rate google utils random random bit compare wrap newbs elements bit clear io bloom filter random bits ifilter bf array filter key data gen add heap bit max integer junit bit filter helper filter key generator array input stream util open bit data input stream io bitset key compare bit serialize populate reserialize heap serialization random generator filter factory capacity deserialize clear random ibit bf collect heap compatibility common data output buffer obs
src.java.org.apache.cassandra.cql3.statements.CreateFunctionStatement
statement parsed cql udt supported frozen frozen keyword moment freeze match present query state alter system user add keyspace metadata change function format db auth util unauthorized keyspace cql resource raw raw raw query state array function functions replace schema change client state transport announce function function permission runtime state replaced cq body local target cql called null input request validation prepare language request execution frozen event keyspace client state marshal invalid request statements check access schema altering statement authorizer user function statement validate size service prepared column identifier ud function schema function iresource find function function resource grant permissions creator freeze updated authenticated user raw keyspace prepare keyspace applicable permissions udfs enabled cq role resource exists called null input schema function functions raw grant created frozen ensure permission instance role config ud function prepare migration manager scalar function announce migration database descriptor validate keyspace system
tools.stress.src.org.apache.cassandra.stress.operations.OpDistributionFactory
operations sink stress stress action measurement sink warmup op distribution op distribution factory desc iterable
test.unit.org.apache.cassandra.cql3.validation.entities.UFScriptTest
script ud check udf stuff udf executed add ire ire cql tester math row rows net big decimal expected result entities uuid gen protocol version junit keyspace function format util cql execute table throwable javascript function enable scripted user defined functions transport tree version math rows put javascript tuple udt udt udt keyspace function execution col tree random uuid invalid message parse function size rows javascript ut collections tuuid javascript disabled time uuid date integer javascript bad javascript tuple big integer uuid javascript simple collections ruuid function untyped result function body variations uf script invalid script param utils protocol versions script casting functions keyspace expected expected execute net javascript user max config sin javascript compile failure arrays variation cql select database descriptor invalid message function overload script invalid language validation
src.java.org.apache.cassandra.index.sasi.Term
utils constant buffer query disk size partial bit index min partial content term remaining buffer term size term nio page region marked partials db len padding read length check fully offset term size compare page comparator math disk index builder length compare data offset position sasi marshal
src.java.org.apache.cassandra.db.filter.ColumnFilter
represents columns optionally column complex distinguish columns columns fetch columns user reason distinguishing due cql semantic internally fetch regular columns queried optimizations columns directly queried user note columns included regular columns table record pointer table concretely store special select query common special columns metadata complex optionally subset cells query select individual cells path slice note cell selected queried considered fetched column enforced builder true includes regular columns metadata store null represent wildcard query regular columns replica filter includes columns provided filter provided note cql queries general columns queried preserve cql semantic internal queries filter fetches columns provided queried columns fetched internally columns fetch columns queried note general columns fetched internally wether columns fetched note method meant optimization negative relied columns fetches manually selected goal cheaply avoid filtering things check columns method columns regular provided column fetched included part null included depends provided assumed filter caller understand difference columns made provided complex cell column assumed understand difference columns made subsection column creates efficiently inclusion cells complex column complex column created tester cells provided iterator cell complex iterator include cells selected column column cells cells cells filtered iterator include cells included builder fetches regular columns queries added column builder fetches added called path path included path check builder note columns added build depends constructor obtained columns builder columns selection builder queried columns note queried columns interpreted querying query adding queried columns column fetched builder subselection complex column subselection method builder called column queried correctness cql querying null fetch queried null column filter deal selected happen backward compatible queries fetch regulars changed queried due columns regular send recreating filter correspond tiny bit efficient include columns manually mark queried columns fine replace filter queries columns current filter concern wary change filter fetch expects columns make queried note make bit work care minor header selection iterator regulars selection tree multimap iterators serialized size cell path add add selection fetched columns queried columns write unsigned vint fully selected complex columns fetched cell queried read unsigned db select order iterator util queried mask io queried cql queried column filter iterator header queried columns cell collect common selections array iterable cmp cf google data output visible read unsigned vint columns filter iterables multi cell append slice column metadata regular columns current version columns primary key column sel net filter complex cells metadata sizes compare inclusion complex data input builder path column version sorted fetched column queried column subselection messaging service fetched fetched serialize sizeof unsigned vint cell put fetches fetch regulars subselection select size rows table metadata fetches columns selections fetched columns column identifier annotations schema tester builder update backward compatility tester write serializer append column def cells fetch version elt queried builder regular columns io override regular columns builder queried tester deserialize empty build sorted multimap defs selections mask comparator fetch mask make header add natural order builder add internal element sb selection builder serializer
src.java.org.apache.cassandra.cql3.statements.UpdatesCollector
utility collect batch statement recreate mutations time inefficient applying multiple batch partition columns updated table table estimated number updated mutations column family update exist metadata column family meta dk partition consistency consistency column family check partition updates valid indexed collection collection statement keyspace pretty keyspace updated columns statements iterator partition update mutations mutations put table id mutation buffer mutation updated rows consistency level open store table metadata regular columns collection id add mutation size dk schema imutation keyspace validate indexed columns nio mut decorated key consistency db update counter util keyspace partition update validate cql index manager partitions partition updates add upd mutations key keyspace columns counter mutation updates collector metadata array
src.java.org.apache.cassandra.streaming.StreamManagerMBean
current state ongoing stream manager mbean notification emitter util streaming openmbean management composite data current streams
test.unit.org.apache.cassandra.utils.BloomFilterTest
approx make bitsets max failure rate present unsupported operation buffer probs ifilter collisions add random keys heap num keys junit murmur partitioner false positives random max util temp file io actual key filter gen dht iterator deserialize cached random bf bf bf serialize close quietly data output buffer bf buckets close huge bf serialization gen max buckets words murmur filter filter helper ipartitioner bitset key ignore actual filter length bloom calculations filter key serialize compare compute bloom spec compare cached key wrap file input stream bloom filter size filter words expected integer filter key generator buffered data output stream bloom limits data output stream buf random generator filter factory bloom filter false positives setup array decorate key elements file utils word generator max bf inv io max count length file output stream destroy data true bit nio keys random keys index random keys array input stream data input stream file utils skip wrap cached clear expected key partitioner false positives file
test.unit.org.apache.cassandra.db.DirectoriesTest
hack temp fake data dir cf secondary secondary index snapshot dir created check snapshot directory check creation check true snapshot check snapshot check backup including backup skip temporary temp affect existing sstable temp deletion affect existing sstable fake directory creation directories free space weighted random check write size iterations directories random weighted writeable directory algorithm fails directories check write size random weighted writeable directory algorithm fails directories copied exclude directory total write size fit data blacklisted directories directories disk failure policy disk failure policy mt snapshots daemon initialization file secondary index directories collections file directory tables statements filename write error snapshot directory delete recursive temp dir index cfs metadata candidate executors writer disk failure policybesteffort callable add temp data dir location include backups files junit table lister file output stream canonical file backups subdir index desc format directories db data directory candidate temporary file file util temp file io add partition key column cql gen hex desc space index cfm array check files commons snapshot creation time error handler add clustering column index def key directories error handler index backup directory cfm arrays backups directory exists system indexes parent snapshot directory disk free space flush fail index snapshot detail lang nano time index invoked data directory parent desc invoke empty total temp file data directories primary index metadata kind index builder pick writeable directory descriptor space identity tables service idx temporary writeable directory file disk failure policy index singleton filter sstable length parent cfm separator dir index snapshot directory marshal backup dir cf dir data directory cf snapshot subdir parent directories put data dir index directories index targets path table config size lister table lister table metadata snapshot details file mkdir path column identifier call pair candidates files write size override data directories ut fake table schema files parent snapshot detail writeable directories index target index metadata unwritable skip temporary fut join standard dirs parent snapshot cf directories add clear delete remove temporary directories snapshot exists handle error table format directory getter backups dir utils parent file substring orig policy io txn err data id reset data directories keyspace big component true snapshots size indexes instance internal build ignore config dd index snapshot true parent backup directory keys file mkdirs fixed thread pool concurrent snapshot dir future secondary index separator file utils database descriptor sort writeable candidates sstable lister besteffort cfm interned builder col write table id file false utils
src.java.org.apache.cassandra.transport.ServerError
thrown client respect transport server error code runtime server error code msg throwable transport
test.unit.org.apache.cassandra.service.RemoveTest
ring id change node bootstrapping node member start removal background send replication make removal waiting unsupported operation joininghost daemon initialization collections atomic thread local host id remove application state gms tmd change junit storage service clear callbacks unsafe thread key tokens util token io uuid success array remove gossiper hosts inet address status tear system thread factory bad host id verb net fb utilities removal id configuration empty ipartitioner host initial ring remove node versioned factory endpoint tokens host ids nonmember id messaging service singleton locator collection shutdown clear message sinks service clear unsafe start expected listen setup remove host id remover random token tokens msg sleep inject application state join err stack trace versioned setup token metadata message partitioner unsafe utils size leaving endpoints tokens partitioner io leaving random partitioner interrupted util instance tear dht config factory true concurrent joining id database descriptor send rr replication finished token metadata bootstrapping partitioner broadcast address removalhost partitioner atomic
src.java.org.apache.cassandra.dht.RandomPartitioner
generates big integer token symbolic minimum token act empty bit discard wrapping convenience method overflow acceptable scale full range adjust signed making divisions place modulo operators place addition entire token token token save advance start range backward saved maximum token iterator random increase slightly ownerships buffer big integer ratio big decimal token add message ti big integer optional remaining sizes db util token token mod splitter array token random big integer token token common rtoken google token validator visible ltoken token factory scalb minimum allocate comparable token size ri math configuration splitter runtime decorated key midpoint ipartitioner key subtract big integer token sorted tokens midpair partitioner defined order serial version uid divide pow heap size describe ownership big integer token put guid generator wrap fb utilities ratio left start pair annotations token factory maximum random token integer signum preserves order cached decorated key math array minimum token decorate key token factory utils token partitioner override random partitioner tim array buffer util instance split guid number format dht nio partition ordering max iterator measure deep heap size multiply validate valid token marshal compare left
src.java.org.apache.cassandra.utils.Clock
wrapper time related functions jvm custom custom note provide exact properties singleton instanciated system system property fqcn clock utils system logger nano time instance message logger instance property sclock current time millis logger slfj error debug logger factory
src.java.org.apache.cassandra.config.YamlConfigurationLoader
inspect classpath find storage configuration bogus storage config url ruled configuration file empty yaml configuration avoid hitting npe utility check extra properties properties null open stream introspection resource null properties yaml add message logger concurrent format url concurrent util load io yaml loader missing property snakeyaml commons logger common property utils debug config google system result close lang starts collect configuration net configuration line separator configuration loader storage config url constructor property parameterized put property property utils missing properties separator constructor actual arguments input stream description config streams custom constructor system utils storage config url load config properties checker init size root info property properties checker seed desc loader config url array error logger factory skip missing properties add description yaml io override introspector logger yaml configuration loader check empty beans config loader array input stream database descriptor error url required copy write array slfj file
src.java.org.apache.cassandra.utils.progress.ProgressEventType
progress event progress starts emitting emitting emits progress completion emitting end event notify message fired progress fire progress time observing process completes observing process aborted observing process completes fire progress fired progress event fired sending message progress event complete success progress notification utils error start abort progress
test.unit.org.apache.cassandra.cql3.validation.operations.SelectOrderByTest
order column order column order column order column order column select order select order select order select order select order select order select order select order check order support select migrated order checks migrated check order row key migrated check works migrated reversed migrated migrated migrated columns selected order migrated check don select column functions select clause don write order matches order order columns skipping clustering operations curr rows results select order reversed comparator invalid message normal selection order single clustering invalid order flush order clause collection element selection order clause null skipping single restricted clustering columns format cql tester order partition key columns field selection order single clustering order tuple function selection order multiple clustering select statement desc order clause desc option row junit true drop table option function selection order single clustering rows arrays error msg normal selection order multiple clustering util rows expected rows order selecting cql execute prev simple order sorted length table multiordering throwable validation invalid
test.unit.org.apache.cassandra.db.compaction.CompactionStrategyManagerPendingRepairTest
handling pending repair pending repair strategy created encounter pending add add remove add change pending change delete pending repair strategies repairs result cleanup compaction reclassify sstables enable compaction fetch background run sstable pending repair repaired failed repairs result cleanup compaction reclassify sstables enable compaction fetch background run sstable pending repair repaired collections compaction compaction strategy manager repaired coordinator sstable changed add remove null junit unrepaired pending repair managers repaired db execute util sstable sstable fail unsafe table reader uuid sstable deleted common prepare unsafe null google pending repair consistent system iterables cfs collect notification compaction task unsafe size strategies empty pending repair repaired strategies table changed notification tracker strategies current time millis sstable register session table metadata repair singleton format active repair service fb utilities expected repaired service collection strategy utils repair finished compaction task enable background task unrepaired notifications operation unrepaired sstable mutate repaired cleanup compaction table repair status changed pending compaction task pending repair repaired local session accessor cleanup compaction failed repair id table deleting notification io sstable repair status changed table added notification csm sstable added handle notification id instance participants empty compaction strategy pending repair manager true tables pending repairs repaired parent repair session compaction strategy manager pending repair false make table compaction
test.unit.org.apache.cassandra.db.MmapFileTest
verifies works files buffers previous direct buffer deallocated size direct buffer ch io attribute mmap file read write channels gc file mmap memory open raf management mmap file mode sun put direct management factory length read cleaner mbs junit channel platform mbean server true path nio buffer db buffer write mbean server temp file mmap count standard open option runtime bpm lang file channel random access file file clean runtime delete
test.unit.org.apache.cassandra.utils.TestTimeSource
utils system sleep atomic override nano time unit time source sleep millis current sleep uninterruptibly time source atomic  time millis updated time elapsed util concurrent convert sleep current time millis time unit milliseconds compare
src.java.org.apache.cassandra.cql3.CustomPayloadMirroringQueryHandler
custom query handler sends custom request payloads back facilitate enabled system property statements prepared batch query options process utils result message prepared result buffer parsed statement query state client state id transport custom payload service batch statement custom payload custom payload mirroring query handler prepared instance state query statement process batch query processor query start nano time nio md digest util query options cql query processor query handler prepare messages cql statement client state options process prepared
src.java.org.apache.cassandra.db.ReadResponse
serializer single partition read assume digest proper bug excluded true called argument produce digest validating proper digest method require sending back digest version digest waste bandwith built node responding serializing memory built coordinator node receiving digest calculated raw serialized current messaging note command parameter shadows field intended null remote data response created serializers easy access command parameter deserializing memory version version content serialization change partition iterators serialization skip data response unsupported operation selection iterator read vint length write vint length buffer digest serialization helper serialized size iversioned serializer digest response buffer util unfiltered partition iterators db util io partitions deserialize iter column filter common data output buffer security data input buffer data serialization version google make digest data output visible serialized size vint length remaining unfiltered partition iterator read response flag version read command net size metadata runtime data input thread local md digest filter remote data response messaging service remote serialize column filter serializer intra node wrap currentversion fb utilities rows data annotations flag serializer message digest data response digest response version utils io make iterator build digest version nio buffer empty buffer local data response digest response digest local response remote data response command serializer
src.java.org.apache.cassandra.io.sstable.format.SSTableFormat
accessors data original sstable format disallow formats numeric validate google table format enable table development mode table writer row index entry version io writer factory table metadata matcher current instance version index serializer schema info latest version big format format big db digit factory reader factory base version serialization header table reader header illegal argument ignore index serializer sstable common matches big metadata valid
src.java.org.apache.cassandra.db.rows.CounterCells
cell rows context manager db cell instance counter context context counter cells legacy shards
src.java.org.apache.cassandra.metrics.CASClientWriteRequestMetrics
metrics tracking information cas write metric tracking mutation sizes codahale condition met cas client request metrics factory histogram metrics mutation size cas client write request metrics metrics registry counter histogram metrics metric scope counter remove release
test.unit.org.apache.cassandra.locator.PropertyFileSnitchTest
unit exists config exists config exist config empty remove add lines empty remove line changing rack host configuration file effective host original configuration file changing dc host configuration file effective host original configuration file adding host configuration file host dc rack original configuration file add line add line removing host configuration file host rack original configuration file host result rack host removes line removes line change result live node changing dc configuration file change host configuration change change file daemon initialization initialize node unsafe singleton collections change host rack change host dc files write replacements snitch properties filename application state add gms path junit storage service lines info thread util token endpoint io host address endpoint expected rack replace config file utf network topology snitch uuid array restore orig config file gossiper hosts common inet address key google exists real mark alive normal read lines replaced net size configuration datacenter check endpoint ipartitioner standard charsets host put remove endpoint endpoint state endpoint resource file versioned factory key mark dead length replacement singleton entry random uuid locator shutdown standard open option fb utilities service node live update normal tokens rack token conf file truncate existing expected datacenter random token tokens add host setup dd line copy standard copy option sleep inject application state property file snitch versioned setup backup file effective file delete paths replace existing file utils change tokens io inet addresses remove host property file snitch charset instance empty split dht config factory status nio node shutdown random partitioner snitch entry database descriptor token metadata lines partitioner
test.unit.org.apache.cassandra.cql3.validation.entities.CollectionsTest
force form serialized format practice cql tester validate passed prepared queries work cql tester full deleting element exist full deleting key empty parsed empty info time special checks work full putting unset delete unset variables update delete unset replace unset add remove element remove occurrences select replace unset add remove occurrences migrated migrated migrated migrated migrated migrated add columns table collections migrated migrated migrated bug migrated make migrated migrated full full full checks element updated update greatest checks deleting element result deletion element checks operation performed added elements greatest checks order operations checks updated element checks update element checks element updated checks element shifted element checks element updated update greatest checks deleting element side checks operation performed added elements greatest checks tombstones win updates removed element checks update account checks operation merged change append greatest checks operation merged tombstone udf slice udf udf multiple nested udf aggregation multiple prepared key intentionally cql parsing relies udf slice udf udf multiple nested udf aggregation multiple prepared collection collection checks work large text iterator text pure function collection operation part key session row operation clust key multiple operation query cql large partition removal update rset entities invalid input num keys junit column specification sel slice format overlapping slices db util bulk removal sstables execute uuid iterator unset collection flush random table invalid input throwable multi collections col defs drop readd dropped collection table system meta result flush compact collections nano time collections multiple operation query unset session net element access size ref metadata core rows len large text column definitions multiple operation query operation collection slice mv keyspace session current table drop readd collection marshal sel slice invalid message operation key flush fb utilities rows unset cql nested access nested column alter collections integer datastax elements bigger ut definition sstables rows table function untyped result frozen collection nested access frozen inserting collections invalid elements elements bigger collection regular columns max unsigned invalid elements bigger multiple overlapping slices utils operation result user seed id update tuple cql tester length instance udt collection nested access max column definitions fill invalid collections mix invalid input empty arrays driver restriction collection collection operation result metadata data col def iter seed sel single validation functions collections unset
src.java.org.apache.cassandra.tools.nodetool.GetCompactionThroughput
nodetool probe airlift system compaction throughput node probe io override tools node tool description node tool cmd command execute compaction throughput airline
src.java.org.apache.cassandra.service.DatacenterWriteResponseHandler
blocks quorum responses local datacenter call log resonse ideal cl delegate calling subclass include pending endpoints local fail consistency level guarantees write response handler override message message consistency level service callback log response ideal cl delegate collection natural endpoints net query start nano time runnable write datacenter write response handler db util keyspace waiting block response count local endpoints write local keyspace datacenter local total block inet address pending endpoints consistency level
src.java.org.apache.cassandra.db.PreHashedDecoratedKey
key nio buffer decorated key filter pre decorated key db token dest override token buffer dht
src.java.org.apache.cassandra.db.lifecycle.LogReplica
column family sstables disks disks duplicate log files replicas directory sstables replica exact content partial records crashed writing replica compliting write file exist appending sync directory io exists utils parent file system log record file override close open line append line separator errors open directory format read lines path sync library close fd builder directory auto closeable str existed db error file util sync directory file utils error line error lifecycle directory descriptor file log replica parent contents errors put record file append sync directory log transaction delete
src.java.org.apache.cassandra.cql3.restrictions.IndexRestrictions
invalid request custom expression supported custom index expressions table regular restrictions table metadata custom expression supported custom index expression custom expressions index found add empty custom index expression restrictions invalid index custom index expression schema multiple expressions restrictions index format util index found cql restrictions index invalid index index restrictions array idx expression
test.unit.org.apache.cassandra.cql3.validation.entities.TimestampTest
timestmp migrated wrap functions migrated conditional treat min rows row timestamp ttl insert timestamp unset cql tester entities integer junit true rows timestamps unset columns wide framework invalid custom timestamp cql execute null timestamps unset columns timestamp length table negative timestamps unset throwable validation invalid
src.java.org.apache.cassandra.schema.ViewMetadata
base table id internal id table view based include columns include columns true view definition include false replace column materialized view included existing convert clause rename ids convert back antlr base table build select statement base table metadata quoted columns db util clause raw select cql commons raw schema add column view lang append collect column metadata code metadata runtime recognition parse statement syntax clause relations rename primary key column collectors column keyspace raw alter column runtime marshal column statements builder include columns table id select table metadata relations column identifier query processor schema view metadata rename identifier altered column raw copy relation table metadata relations clause stream relations base table id cql parser cql fragment parser unbuild override select statement instance build code builder includes added regular column view metadata exc code raw statement builder parse unhandled
src.java.org.apache.cassandra.tools.nodetool.SetTraceProbability
trace probability google nodetool probe airlift node probe arguments io override tools trace probability title preconditions usage node tool airline description node tool cmd base command execute required check argument trace probability common
test.long.org.apache.cassandra.cql3.ViewLongTest
view added desired push view view cql tester host query row thread writer add message protocol version empty junit thread format util cql array ignore table throwable key write timeout failed writes overlapping failed writes startup concurrent thread factory protocol version transport views cyclic barrier core view runtime driver require network start batchlog replay length threads row put batchlog size rows batchlog manager start semaphore integer datastax builder inserts writer join wrapped runnable run view writer offset utils conflict resolution view end keyspace execute net instance writers append begin await concurrent error clear
test.unit.org.apache.cassandra.db.filter.ColumnFilterTest
table regular collection messaging service column fetched version utils serialize regular columns column filter serialisation round trip version column filter serialized size position selection io add partition key column version select round trip column filter rows partitioner table metadata instance column metadata regular columns fetch regulars cell path add add regular column build data input expected column filter net dht junit add column true queried buffer util buffer update backward compatility db deserialized util framework schema column filter construction output serializer input murmur partitioner selection builder deserialize builder metadata data input buffer filter instance version add clustering column false data output buffer null marshal serializer
src.java.org.apache.cassandra.db.SizeEstimatesRecorder
partition exposing estimated partitions count size cql estimates primary calculated dumped system table local primary estimate partition size partitions filter sstables partitions calculate atomically update partition size system keyspace sstables sstables bounds estimated partition size ref estimate partitions count partition position partitions count storage service runnable format db collections util token clear size estimates table reader primary ranges endpoint local range clone token logger schema member debug millis iterable local strategy estimates system drop table estimate partition size nano time estimated keys ranges fb utilities metadata run suppress warnings record size estimates register listener release range tracker update size estimates put keyspace range canonical tables local ranges singleton column family stores locator table select size service collection start passed pair refs schema schema change listener unwrap make row range keyspace column family store logger count tree token metadata size estimates recorder time unit logger factory nanoseconds canonical view utils io override logger sstable instance build dht table trace table interval tree concurrent lifecycle view token metadata unwrapped range refs slfj broadcast address sum left
src.java.org.apache.cassandra.db.commitlog.EncryptedSegment
writes encrypted segments data compressed encrypting reduce size data encryption format encrypted commit log standard commit log header written series written time commit log sync section total plain text length series encrypted data length encrypted block length unencrypted data encrypted length plain text block compressed unencrypted length resulting decrypted buffer encryption adds output ignore padding reusable buffers compression preference avoid copy repeatedly compression buffers avoid copying encryption length segment save space sync marker beginning loop segment data encryption buffer sized reuse buffer input output encryption rewind beginning section write sync heap manager buffer write error thread local reusable buffer block size sync marker size encryption context cipher sync marker position logger commit log segment manager encrypt write file direct segment start marker db util io encryption iv commit log segment size crypto logger header parameters debug security written pos put force add size slice encrypted block header size icompressor block size compress put configuration encrypted section header size write sync marker allocating encryptor length encryption context log file hex hex path encryption utils commit log compressor additional header parameters disk size duplicate compressor buffer chunk length input buffer marker limit logger factory buffer pool utils io logger iv sync util write rewind commit log config channel nio buffer encrypted segment preferred reusable buffer encryption context cipher database descriptor buffer content start slfj position commitlog
src.java.org.apache.cassandra.utils.NativeSSTableLoaderClient
table metadata load slightly simplified duplicated version safer simple wrapper driver reuse original safe methods schema keyspace fields triggers initialization fails client time session buffer fetch metadata tables cql instance port address replicas init timestamp columns query dropped columns query dropped column db util token plain text auth provider password token range execute views hosts inet address uuid dropped columns cfm uuid token ranges table connect definition row query port column table metadata ref token factory column metadata dropped time flag table loader client net table metadata metadata core kind builder ipartitioner range add schema keyspace add column tables token ranges row field upper partitioner keyspace range session view marshal row metadata raw builder table metadata schema keyspace fetch views put table id field table fb utilities add contact points auth provider table metadata token range host collection column identifier reversed datastax end schema username token factory cql parser ssl client dropped column row columns kind endpoint partitioner cluster table loader table metadata endpoints add range endpoint put col row token factory auth provider utils parse cluster ssl options io override sstable dropped column format ssl options build dht auth provider fetch tables nio start quote position dropped columns driver clustering order schema constants offline tools desc interned raw builder builder partitioner flags position order
src.java.org.apache.cassandra.concurrent.DebuggableScheduledThreadPoolExecutor
debuggable scheduled thread pool executor logs tasks called debuggable scheduled thread pool executor task supress subsequent invocations special rejected execution handler tasks rejected shutdown fire forget tasks ref safely ignore callers care task rejected cancel passed notification caller task wrapper benefit override scheduling supress cancel future rejected execution thread pool core pool size utils scheduled thread pool executor period scheduled future cancel norm priority debuggable thread pool executor jvm stability inspector logger rejected execution handler schedule fixed rate delay service thread factory handle log priority instance log execute unit logger rejected execution handler rejected execution handler uncomplaining runnable storage service runnable override runnable run thread thread factory initial delay util concurrent future time unit shutdown debuggable scheduled thread pool executor thread pool executor error rejected execution task thread factory inspect throwable schedule fixed delay execute logger slfj command executor debug throwable logger factory
test.unit.org.apache.cassandra.dht.ByteOrderedPartitionerTest
stop recursion ordered partitioner partitioner ordered partitioner partitioner instance init partitioner token left dht
src.java.org.apache.cassandra.utils.AlwaysPresentFilter
present utils override close identities ifilter present filter serialized size ref add heap size filter key add identity collection concurrent key accumulate shared copy clear throwable
src.java.org.apache.cassandra.db.lifecycle.LifecycleTransaction
involved transactional correct behaviour commit occur legitimately consistent transactional permits action occur beginning commit phase actions rolled represents accumulated modifications modifications made visible call readers brand update previous update original disjoint represents subset originals longer transaction logs track sstable original readers transaction opened transactions operate readers readers marked compacting updated creation identity readers ensure accidentally revisit version potentially dangerous property reference counting caught lifespan made tidier marking readers obsoleted construct transaction offline construct transaction offline simplicity dummy construct empty transaction existing log closed log closed note anticompaction operations prepare commit happen fine logic inserted performed care prepare compaction obsolete readers part original original early readers share desc point commit leave readers marked accumulate null fail immediately transaction log commit failure safe commit point safely ignore restore state obsoleting obsolete releasing references updating notification status obsolete undo made resetting state original mark obsolete readers versions present original safe abort fail failure information replace updated readers version restored original replaced immediately preceding versions replaced made visible files logged obsolete clone fresh versions longer obsoletes dealt original form left extra action call consistent batch ready made atomically exposed tracker transaction rolled check current versions readers replacing replaced ensure readers compacting messing apply atomically updating live log staged newly marked setup mark prior versions releasing references obsoleted restore update reader introduced reader guarded check matches original mark reader obsoletion reader removed live check reader guarded instance worked obsoleted staged obsolete file original staged updates original stage obsoletes visible versions original readers replacing visible version readers previously original logged visible readers managed updates logged original readers obsoleted update current replacement original reader back original readers guarded transaction original call reader latest reader marked current version provided visible version present logged originals remove reader remove readers remove provided readers transaction manage permitted called current transaction check transaction cfs call unreference tables sstables ongoing compactions finish interrupted cfs sstables unreferenced convenience method callers sstable involved files folder provided filter filter file decides files classify files read log fail read log files determine folder folder txn err handle failure read txn log filter function receives file true file files scanned filter retry deletions failed time sstable times gc exposed deletions run periodic tasks failed deletions global tidiers scheduling empty task waiting ensure prior deletion representing current state reader encoding actions reader instances visible checkpoint indicating reader occur operation obsoleted select log transaction invalid predicate compose unique identifier readers visible logged add empty path logger untrack check unused immutable updated format directories db util compaction replaced accumulate mark obsolete wait deletions table reader visible uuid visible array remove remove logger common release collections unmodifiable iterable compaction empty log aware file lister functions google unmark abort obsoletion transactional visible obsolete cancel state tracker table iterables close op id offline cfs collect update size tracking cancels current fail state tracker select operation reader offline metadata update suppress warnings notify tables changed commit base helpers throwable identity abort dummy filter sstable folder update live commit concat uniq singleton torestore files lifecycle transaction clone restored start marked txn err collection prepare commit refs apply restore updated originals size remove unfinished leftovers log table metadata filter throwables track transform reschedule failed deletions checkpoint predicates immutable annotations schema function bi function reader state prepare column family store copy select action setup online txn err updated originals staged obsolete originals cf directories logger factory clear trace enabled directories file instance id utils table abort io obsolete override logger identities id check replaced update compacting drop tables invalid obsoletions unmark compacting transactional empty split obsoleted add initial tables post cleanup nio trace prepare obsoletion file update concurrent permit redundant transitions obsoletion lifecycle concat view error dummy add refs filter op slfj file array fresh original restored
src.java.org.apache.cassandra.io.util.SequentialWriterOption
sequential writer write fsync allocate buffer buffer buffer allocated buffer buffer heap trickle fsync tricle fsync construct throguh buffer heap io buffer size finish close builder build require null allocate buffer nio builder compress util buffer sequential writer option trickle fsync allocate buffer trickle fsync interval
test.unit.org.apache.cassandra.db.marshal.SimpleDateTypeTest
compare comparison serialize buffer math make unsigned serializers limit limit simple date instance integer junit min nio format max simple date serializer db simple date offset input deserialize pow marshal
src.java.org.apache.cassandra.io.sstable.format.big.BigTableScanner
full scan avoid allocating table scanner range overlap sstable sstable prior sstable apparently count bounds extend limit read data position seek index data starting range passed end previous middle position start falls current partition avoid hitting file explicitely make bounds iterator skip unsupported operation unfiltered partition iterator atomic big table scanner length min max left add seek current range start data position index scan position singleton iterator partition position columns buffer util format scanning started big db listener token io noop listener partitions table identity iterator table reader scanned deserialize iterator row index entry positions current range index serializer collect common compressed length slices array full range google minimum start scan lazily initialized unfiltered row iterator token ranges wrap make row range bounds compare disk length close index serializer mark suspect iterators version file pointer size metadata filename clustering index filter add range decorated key table format range boundary clustering index filter end data skip length scanner filter sstable range index position left boundary current key table reads listener range iterator column filter header boundary row index entry serializer ifile rows table metadata empty table scanner collection open data reader initialize iterator pair dfile schema eof data range read position simple partition key current entry key scanning iterator serializer unfiltered row iterator data range compute corrupt table random access reader descriptor positions ranges decorate key bounds io utils scanned remove table scanner override seek normalize iterator current position length empty dht requested read length index decorated key bounds key closed concurrent file utils iterator backing files reversed util entry open index reader key range bounds compare position atomic left
src.java.org.apache.cassandra.exceptions.AlreadyExistsException
exists format exists code msg cf configuration
src.java.org.apache.cassandra.net.IAsyncCallback
implementors iasync callback make threadsafe respect called shared state response msg response true callback read path latency input dynamic latency snitch google supports back pressure apply message predicate failure detector instance gms net alive msg base response endpoint iasync callback common inet address
src.java.org.apache.cassandra.tools.NodeProbe
jmx client operations creates node probe jmx host hostname ip address jmx port tcp port remote jmx io connection creates node probe jmx host host hostname ip address jmx port tcp port remote jmx io connection creates node probe jmx host host hostname ip address jmx io connection connection jmx agent setup io connection result command call daemon todo configured number jmx snapshot optionally specific column snapshot table table snapshot options options keyspaces keyspaces snapshot column family options columnfamily keyspace form remove existing compaction minimum compaction threshold minimum compaction maximum compaction threshold maximum compaction jmx getters api retrieve cache metrics based cache cache metric requests retrieve threadpool paths threadpools multimap path retrieve column family keyspace stats displayed null global cf column family stats displayed null keyspace metric view retrieve proxy scope read retrieve proxy metric compacted retrieve proxy metric total hints cf normal cf split index compare cf indexes compare length sort specific sources qualifier iterator node probe logging level query multiple table snapshot endpoint snitch info mbean rmi socket factory runtime mx bean thread pools compaction metric count batchlog replay throttle stream throughput mb sec util parse io jmx meter mbean hinted hand manager mbean snapshot messaging queue wait metrics hinted handoff enabled reload trigger jmx gauge mbean array timeout count trace probability failed keyspace start gossiping force draining compaction throughput mb sec unknown host jmx thread pools iterables joined port reset gc stats multimap stream hinted handoff enabled composite data column family store mbean net trace probability datacenter runtime gc proxy address storage metric table convert stop daemon cache mbean mbean server conn leaving nodes options jmx service url hex format live nodes hinted handoff disabled dcs check data apply tools getth percentile remove node inter dc stream throughput mb sec open data current generation number enable auto compaction storage service mbean uptime starting scope tabular data sort reset local schema counter cache keys save split output endpoint hinted handoff throttle kb err cf stream throughput sp proxy port partition sample compare batchlog replay throttle key property endpoint snitch info proxy tag inter dc stream throughput verify host id endpoint empty env credentials cfnames config jmx metric sp proxy fmt url read repair attempted stop skip corrupted streaming socket timeout gossip info initialized gc inspector add mem proxy ownership check jobs verb stream status delete hints endpoint start transport cf unsupported operation natural endpoints pool move load interrupted timeout mbean range rpc timeout monitor minimum compaction threshold illegal state compaction history cache capacities memory mxbean cache keys save tombstone option phi rebuild secondary index tool initialization compaction throughput resume hints delivery data center iterator cache metric moving nodes decommission gossiper gc inspector mx bean counter write rpc timeout metric streaming socket timeout truncate hints memory mx bean stream manager mbean row cache keys save connect stop gossiping endpoint states counter cache capacity mb resume bootstrap memory usage reload triggers jmx url stream state end token endpoint host id inter dc stream throughput force keyspace compaction token range repair service proxy openmbean base throwable put timeout assassinate endpoint length rmi client socket factory batchlog replay throttle kb messaging service system keyspaces invalidate key cache force remove completion size effective ownership management batchlog manager service snapshot details exclude current version keyspace cmp key cache keys save truncate hints proxy start token tokens drain bootstrap monitor repair async column family metric jobs thread pool metrics enabled rpc timeout time unit concurrent compactors mbean runner mbean server connection auto closeable table metrics partitioner invalidate row cache transport running stop compaction key cache path host id incremental backups enabled duration unit local host id force batchlog replay cf schema version datafiles comparator metrics logging levels obj rack disable snapshot bm proxy compare disable hints dc milliseconds compaction throughput mb sec table batchlog manager mbean cluster max endpoint cfs proxy jmx connector factory extended verify hh proxy minutes management factory failed compaction manager mbean stream proxy count joining nodes add connection notification listener max db dc dropped messages ssl bean current streams compaction throughput begin local sampling rebuild index mbean server connection remove keyspaces common proxy failure detector mbean throttle kb view jmx counter mbean key cache capacity mb stream state composite data drained result close rmi remove connection notification listener capacity release version cf cmp relocate tables view build statuses stop transport runtime proxy gossiper mbean read rpc timeout source dc garbage collect pause hints delivery uncaught column family store mbean iterator key creds mone write rpc timeout thread pool metric key keyspace runtime mxbean compaction manager proxy min cf stop compaction id rpc timeout active repair service mbean batchlog sampler table force user defined compaction read rpc timeout jmx timer mbean rebuild compaction proxy sleep uninterruptibly local strategy keyspaces ars proxy platform mx bean proxy metrics registry stream throughput getth percentile hinted hand manager maximum compaction threshold stream throughput mb sec path stop daemon getth percentile repair runner cache service token endpoint read repair repaired background disable hinted handoff removal status jmx histogram mbean incremental backups enabled describe ring jmx disable auto compaction metric cfsm beans io execution storage proxy token storage proxy mbean cfs proxy split handoff enabled heap memory usage force keyspace flush simple immutable entry operation mode cas contention timeout load tables counter cache capacity key cache keys save connect database descriptor compaction thresholds stop id row cache capacity mb jmx notification poll interval sample key range proxy metric timeout socket factory true snapshots size enable hinted handoff collections rmi client socket factory join ring partitioner tables write rpc timeout add row cache keys save sampler gms input cf format cache path unreachable nodes max hint window compaction password jmxc row cache capacity gossip running server collect range rpc timeout inet address google load table system streaming timeout inter dc stream throughput mb sec duration counter write rpc timeout jmx jmx connector storage metrics snapshot token exit failure detector phil table concurrent compactors proxy run composite data truncate rpc timeout host compaction id force keyspace compaction clear snapshot null pointer await completion compaction threshold messaging service mbean samplers enable hints dc upgrade tables beans host id endpoint describe ring locator idx remove notification listener cf mbeans getth percentile refresh size estimates read repair repaired blocking transform cache service mbean number tables integer tables key getth percentile batchlog replay throttle kb keyspaces malformed cache service mbean remote null empty level force keyspace cleanup counter cache keys save property cache add notification listener compaction manager username nodetool fd proxy endpoints reset stats metric percentiles array function failure detector invalidate counter cache uninterruptibles query max hint window tokens scrub truncate cache service ssl rmi client socket factory concurrent tables finish local sampling entry mbean proxy key cache capacity cas contention timeout lang truncate rpc timeout replay batchlog mbeans column family store mbean proxies
src.java.org.apache.cassandra.tools.nodetool.CompactionStats
text probe airlift human readable node probe compaction remaining time secs title add compaction manager mbean db util compaction execute table builder table system completed str percent complete task compactions option remaining compaction metric total str formatter decimal format node tool cmd remaining time command num total pending task key keyspace airline compaction throughput cm compaction manager proxy parse entry compaction stats printf table total tools entry unit integer node tool completed operation table entry report compaction table column family compactions nodetool pending task count io override id format empty compaction throughput stringify file size description file utils entry lang pending task number table
src.java.org.apache.cassandra.streaming.management.StreamStateCompositeData
description total size receive open tx percentage plan id util total size send uuid collect common stream operation google stream state composite data composite array streaming iterables session info stream state composite data array composite data stream state composite data openmbean base sess info array total rx simple session info composite data composite cd put apply size management throwables open data transform sessions input current tx total size total size received array composite data support function rx percentage total tx stream operation composite arrays item descs propagate item current rx item
src.java.org.apache.cassandra.metrics.BufferPoolMetrics
total number misses total size buffer utils factory codahale buffer pool metrics size size metric factory factory metrics misses memory metrics registry buffer pool metrics metric meter register meter gauge
src.java.org.apache.cassandra.auth.RolesCache
role resource roles validity require authentication irole manager authenticator role config roles update interval auth cache roles cache max entries roles util auth database descriptor roles cache max entries role manager roles validity roles update interval roles cache roles cache mbean
src.java.org.apache.cassandra.io.sstable.CorruptSSTableException
file runtime corrupt table sstable io path
test.unit.org.apache.cassandra.cql3.validation.entities.udfverify.ClassWithInitializer
execute aggregate impl unsupported operation codec data buffer protocol version transport functions field entities params protocol version datastax param initializer core nio driver udf context util cql data execute impl udf context udf udfverify validation
src.java.org.apache.cassandra.gms.EndpointState
represents heart beat state application state state endpoint retrieved fields serialized getters setters state updated serialize heart beat state serialize application state singleton collections atomic serialized size application state iversioned serializer gms logger endpoint state serializer endpoint state db util add application states io deserialize hb state logger gossiper write ordinal data output system compare sizeof nano time status state version data input orig sizes read heart beat state app state size key hb state update timestamp put key mark dead length update timestamp application state serialize entry application state size ep state mark alive rpc state heart beat state copy states parse versioned logger factory pieces states heart beat state io rpc ready alive logger atomic reference add application state split status initial hb state rpc ready concurrent entry delimiter str slfj status serializer
src.java.org.apache.cassandra.utils.btree.NodeCursor
searching node linear chain built tree form corollaries basic building block operations tree cursor methods movement behaviour dissimilar node builder functions node pass node move splitting forwards key position child position descending formed building stack stack capable visiting path adapt child position key position safe adapt child position key position successful bound child descended parent covers range wider ascending defines upper lower bound subtree rooted node cursor parent bound provided key forwards ceil require key relevant bound parent ascended excluded ensure excluding key binary search prevents descending child visited check bounds search upwards natural cheaply check sequential check key exact key correct node inequality direction travel modify backwards leaf produce floor descend child upper global index forwards seek node utils delta find bound lb key end advance branch child btree leaf key end tree index branch key bound iterator comparator global branch index branch key end child descend child count advance leaf node tree index key tree index offset child node parent child node arrays util key child btree global leaf index leaf child offset descend child comparator node offset reset node node cursor safe advance branch child binary search tree index leaf key position child start ub
tools.stress.src.org.apache.cassandra.stress.settings.ConnectionAPI
stress driver connection api simple
test.unit.org.apache.cassandra.db.RecoveryManagerTest
clear disassociate segments live sanity check row count prior clear col sanity check row count prior clear unsupported operation reset unsafe recover pit time blocker interrupted column collections atomic semaphore blocked replayed serialized size segment id thread snappy compressor encryption context add runners cell logger mutation initiator junit columns unfiltered iterator dk buffer util counter col db util content counter cfmd io mock initiator clr commit log keyspace define schema cmd disabled context logger keyspace mutation initiator timeout release timeout security metadata parameters system thread factory unfiltered commit log compression cfs lz compressor run clear data column metadata initiate mutation permits mutation commit log replayer configuration deflate compressor empty decorated key parameterized recover blocks outstanding throwable counter context encryption context row keyspace context mock initiator row interrupt running local row recovery manager truncate blocking stack trace simple format standard cfmd keyspac date cancelled keyspac clear unsafe cancel apply total open original max outstanding consistency level size clustering rows time include row original initiator collection start date integer unfiltered row iterator entry location schema commit log archiver alive acquire cf counte upd upd wrap keyspace parameterized column family store encryption context generator prepare server sleep row update builder generate data join err stack traces partition unfiltered mutation counter mutation time unit logger factory recover pit unordered context runner utils max outstanding replay acquire parse stack trace unit io execution override logger atomic reference runtime thread micros column family store util instance empty build max cf standar cf standar config true schema loader arrays compress concurrent future encryption context keyspace params recover database descriptor commit log compression slfj milliseconds false commitlog recover counter
src.java.org.apache.cassandra.tools.nodetool.RangeKeySample
nodetool probe airlift system node probe io override tools node tool description token node tool cmd util command range key sample execute token airline sample key range
test.unit.org.apache.cassandra.config.DatabaseDescriptorRefTest
verifies couple lazily initialize unwanted part commit log unexpected unit generated seed provider configuration safe clients implicitly instantiates safe clients implicitly instantiates starts thread ignore found violation resource collections write management factory add declared method violations junit cls thread ids thread read util io replace database descriptor thread mx bean array thread info method delegate throwable valid system thread info fail starts find net stream threads length method current thread cl input stream put thread info method management pair database descriptor ref context loader thread mx bean err stack trace loader thread count array thread count thread id utils thread define io invoke check violations url context loader empty config open connection checked arrays reflect array output stream data input stream lang resource stream url database descriptor ref left
test.unit.org.apache.cassandra.tools.StandaloneUpgraderTest
standalone upgrader runner schema loaded keyspace loaded schema loaded expected threads schema run standalone upgrader tools run tool unexpected threads started junit tools tester optional threads schema system loaded server loaded clsm loaded ordered junit runner standalone upgrader
src.java.org.apache.cassandra.dht.tokenallocator.NoReplicationTokenAllocator
construct token ring circular populate ownership build circular select nodes work extract sorted units calculate unit unit point include target decrease calculate assign tokens change extract biggest vnodes calculate weight work split proportionally spread change adjust weight current remove unit preserving correct state unit info iterator target average prev ring add ti unit token infos token info util units token navigable max takeover ratio replicated ownership iterator array remove remove collect unit tokens tokens token infos key google weight generate random tokens group info replication start slice sum token token info priority queue populate token info adjust unit common peek unit infos key array capacity queue wt groups priority queue ipartitioner add unit put key work weight sorted tokens replicas entry en strategy unit size collection insert prev units change head replication threshold remove unit random token tokenallocator unit info token allocator base tokens units average unit curr sorted units num tokens unit unit infos empty split replication token allocator nr dht ni queues ownership unit info entry min takeover ratio tokens change tokens weighted replication strategy clear partitioner
test.unit.org.apache.cassandra.gms.ArrayBackedBoundedStatsTest
empty falls sort multiple rounds array backed bounded stats size add gms junit array backed bounded stats expected true arrays util bsd arrival intervals arrival intervals
src.java.org.apache.cassandra.io.sstable.IndexSummaryManager
manages memory pool index periodically resizing order give memory hot sstables memory cold scheduled resizing actual space consumed index summaries space pair compacting sstables marked attempts fairly distribute fixed pool memory index summaries tables based recent read redistribution encapsulating transactions sstables redistribute memory pool size total index summary space stay close table reader resize interval minutes tables index summary capacity mb redistribute summaries index intervals mbean compacting compacting math register mbean management factory logger immutable thread format db util io compaction difference table reader table array schedule fixed delay logger intervals common index summary heap size round view google visible resize interval minutes copy result sstables close min priority collect index summary manager compacting compacting tables wrapped runnable metadata filename suppress warnings runtime memory pool time unit debuggable scheduled thread pool executor tracker logger factory concurrent compacting memory pool capacity mb sstable memory pool capacity mb tables size txn index summary resize interval minutes compacting lifecycle transaction unknown index summary manager mbean column family stores put table id cf store cancel total select mbs management compacting memory pool size mb effective index interval pair integer annotations schema run index summary redistribution initial delay index summary redistribution keyspace column family store memory pool capacity mb operation add minutes info delay future executor run platform mbean server compaction manager canonical view average index interval utils io logger id interval instance modifier config uncompacting max mbean server index summary size mb time resize time unit database descriptor lifecycle view lang resize interval minutes redistribution interval slfj modify live tables scheduled future left
src.java.org.apache.cassandra.tools.BulkLoadConnectionFactory
connect secure port peers server encryption options configured server nodes ssl port thin client node connecting ssl port outbound bind local address utils peer storage port channels streaming io tools stream connection factory open encryption options internodeencryption net fb utilities config encryption options server encryption options socket nio io socket ssl factory bulk load connection factory socket bound connection secure storage port socket channel bind inet address security internode encryption inet socket address
src.java.org.apache.cassandra.index.sasi.utils.OnDiskIndexIterator
unsupported operation iterator perform skip utils range union iterator io close disk index data term min range iterator disk index add build max comparator combined term terms max builder db util io union iterator comparator compute end data builder disk index iterator token sasi marshal
src.java.org.apache.cassandra.service.NativeAccessMBean
access mbean service memory lockable
test.unit.org.apache.cassandra.gms.GossipDigestTest
serialization messaging service endpoint generation serialize max version io currentversion output gossip digest gms input net data junit expected data input util generation io data output buffer gossip digest endpoint actual deserialize compare inet address max version data input buffer serializer
src.java.org.apache.cassandra.db.rows.RangeTombstoneBoundMarker
range tombstone marker bound range tombstone deletion time range tombstone bound close bound utils inclusive open clustering bound open deletion time close close deletion time buffer override exclusive close allocator deletion time clustering rows deletion time table metadata code metadata boundary deletion memory marked delete schema bound nio open range tombstone bound marker inclusive close reversed db exclusive open bound util open inclusive close inclusive allocator opening deletion time copy illegal state message digest inclusive range tombstone marker deletion time open bound security digest
src.java.org.apache.cassandra.db.ReadCommandVerbHandler
messaging service payload iterator monitoring time send reply io read command verb handler response message unfiltered partition iterator service read response id instance verb read command iversioned serializer net request response storage service cross node construction time slow query timeout trace runtime bootstrap mode tracing db execution controller complete lifetime iverb handler message partitions timeout message verb increment dropped messages read execution controller execute locally command tracing reply response serializer
test.unit.org.apache.cassandra.cql3.validation.operations.SelectLimitTest
limit partition requires ordered migrated limit column migrated check limit output respect order keys limit queries sparse migrated check migrated combined partition odd amount restricted partition clustering problem row partition filtered select statement consequence counted query row load data row partition range multiple partitions multiple clustering load data row operations partitioner unsafe page size index invalid message limit compact table flush query flush rows ignoring order row service partition range select limit rows cql tester column range instance index regular column partition rows compact storage filtering partition rows dht config junit storage service partition limit compact storage format execute sparse table rows net partition limit database descriptor cql limit deleted rows columns ordered partitioner partition limit limit table filtering clustering columns limit columns row count table execute net paging tld throwable validation
test.unit.org.apache.cassandra.db.commitlog.SnapshotDeletingTest
init output file failed called node confirm snapshot deletion sleep bit make snapshot deleting task time run compact cf confirm hook calls keyspace simple delete snapshots utils standard cfmd daemon initialization system pending deletion count keyspac sleep timestamp io start open clear snapshot clustering cfm table metadata keyspace compaction hook thread column family store clear unsafe util assume true add build force blocking flush cf standar fb utilities config junit store schema snapshot deleting schema loader dk buffer util assume db decorated key key windows failed snapshot tracker keyspace apply unsafe keyspace params key integer database descriptor snapshot deleting task prepare server windows row update builder empty buffer gc inspector service populate row count define schema register yield current time millis sstable force major compaction snapshot column family store commitlog metadata
src.java.org.apache.cassandra.index.sasi.analyzer.NonTokenizingOptions
normalize lowercase sensitive upper output entry lower output index options lower output sensitive build normalize uppercase lower output entry sensitive upper output analyzer sensitive util parse tokenizing options illegal argument key upper output options options builder entry key sasi options build options builder
src.java.org.apache.cassandra.exceptions.TruncateException
truncate request execution truncate error message code msg throwable
src.java.org.apache.cassandra.batchlog.BatchlogManagerMBean
counts batches total batch total count batches replayed node forces batchlog immediately replay total batches replayed batchlog count batches batchlog manager mbean force batchlog replay
src.java.org.apache.cassandra.db.compaction.OperationType
compaction tombstone removal stream unknown file replace cleanup compaction key cache save op scrub verify counter cache save db file write compaction operation view build index summary anticompaction tombstone compaction lower index build illegal argument row cache save flush relocate upgrade sstables validation garbage collect
src.java.org.apache.cassandra.service.DataResolver
responses method happy ignore response beginning grab response count responses honor requested post ensure respecting fully consume results trigger read repairs read repair stems nodes subset results partition due subset timed partition level deletion merge merged open null time current deletion record open range send cell fetched selected cells empty optimization included fine columns requested user present sake semantic distinguish row exist exist column requested unexpected user columns row shadowed post partition level range directly respective methods inefficient send deletion repair send partition level range tombstone covers current deletion dealing update source current merged source opening closing move close open marker merged imply current deletion due early opening merged partition level deletion active deletion open open marker deletion supersedes current marker deletion supersed source date include practice source deletion point point boundary opened deletion current deletion implies boundary closing opening deletion generally due reading code avoiding source deletion point ongoing merged open repair source range open deletion current closing boundary opening deletion time deletion comment repair point source change current deletion merged deletion closing merged recorded repaird close add range repair opening merged range date deletion updated source deleteion range separate verb white glove behavior mutation apply extend protection apply retained extend read node result requested number rows partition stopped results due results made result due node results results results node tombstone hides future results nodes due note results node node requested number imply results skipped query additional results fulfill reads additional querying number results miss node answered rows rows made ratio live rows requested rows miss estimate request rows note retrieve results top level iterator counting number results counted counter number results counted interested number rows group queries number number results counted partition counter number results counted partition interested number rows group queries number groups current call preserve tombstones middle merging node deletion execute immediately iterator regulars max response count row filter results regular columns sources timeout math close open marker queried read timeout source add deletion live column filter logger columns counter partition iterator fetched cell queried db repair merge listener cols util current row sorted builder resolver slice invert read repair partitions cell resolve comparator open deletion time apply reverse order array source deletion retry command iter merge cmd stage manager common debug collections path metadata read retry clustering google close bound visible diff row close btree row unfiltered row iterators transformation send rr complex repairs unfiltered partition iterator open liveness info open column metadata read response primary key liveness info cell arrays data limits verb read command columns data present read callback net fb utilities supersedes stage clustering index filter merge filter responses range tombstone tracing builder counter decorated key row protection stage inet address unfiltered partition iterators clustering index filter extend row counted service limits column tracing repair results filter keyspace length rows row diff listener single partition read command merged partition level deletion row result counter wait futures current rows consume post reconciliation counter group limit partition update clustering bound tracing column filter source deletion time await results close deletion time mutation deletion marker apply add primary key liveness info payload consistency level size clustering rows table metadata add row deletion fetched column queried apply partition transform read protection merged deletion time clustering msg unfiltered row iterator annotations read query start nano time reversed diff listener handler response resolver merged range tombstone markers row merge listener keyspace add cell partition key paging partition level deletion merged deletion write rpc timeout cell retry filter count read row protection unlimited versions element count complex deletion async response merged add partition deletion message schema current deletion counted current partition query rows fill utils marker repair local request close retry limits override make iterator partition iterators read retry block merge listener make merge read protection message message instance partition empty build contents data resolver data config compare responses add complex deletion merged rows deletion time trace storage proxy iters max update concurrent singleton range tombstone marker apply row row counted current partition database descriptor response sec listener partition counter send rr failure counted local read runnable command consistency format open bound count messaging service original selects full partition
src.java.org.apache.cassandra.db.compaction.DateTieredCompactionStrategy
favour check expired sstables minutes due expensive find fully expired included matter sstable compact standard compacting single sstable droppable ratio greater timestamp date tiered compaction strategy considers maximum timestamp convert collection present standard worth removes sstables max timestamp older sstables sstables max table age age milliseconds table stops participating current tables max timestamp sstables oldest sstables target time span bucketing tables based big range timestamps fit inside timestamp hits target iff size compares target timestamp timestamp negative positive integer target lies timestamp hits timestamp timestamp iff timestamp size represents earlier time base number contiguous targets targets times group files similar min timestamp files recent min timestamps grouped buckets designated timespans files older timestamps grouped buckets longer files pairs consisting file min buckets ordered files newest timestamps bucket files ordered newest sort files newest file skip file buckets sorted newest newest bucket min threshold minimum number sstables bucket max threshold maximum number sstables compact bucket trimmed bucket sstables min threshold choose tables limit max threshold checked dtcs group sstables anticompaction mix compaction candidates div position operation iterator node fully expired tables collections compaction date tiered compaction strategy options sstables peeking iterator predicate compare timestamp incoming window group tables anti compaction table length pairs txn add candidates empty reverse order validate options maximal task max window size key logger pending compaction logger immutable unchecked options format timestamp user defined task db outer loop update estimated compactions tasks util option compaction task compaction overlapping live tables difference table reader add table compaction strategy array maximum compaction threshold compaction candidates remove collect tables stcs common debug key window interesting iterable user defined google stcs buckets max threshold worth dropping tombstones size tiered compaction strategy options visible system minimum compaction threshold target compaction strategy manager iterables max timestamp cfs codehaus jackson suppress warnings logger array min table size estimated remaining tasks iterators math compaction logger min timestamp date tiered compaction strategy peek base time target empty array capacity buckets base time key base expired table check frequency groups tracker expired check json node logger factory expired tables current time millis filter sstable uncompacting strategy logger options cutoff singleton tasks lifecycle transaction compaction params put sorted files sstable min timestamp pairs apply timestamp resolution key size candidate tables latest bucket min threshold live disable tombstone compactions sstables tombstones filter suspect tables pair max window size stcs bucket target annotations peeking iterator schema files stcs options background task size tiered compaction strategy pairs estimated remaining tasks remove table column family store copy compaction controller comparator sstables group split output target background tables min threshold node bucket tombstone threshold option bucket high uncompacting tables time unit modifier json node factory sort compare compaction task timestamp resolution utils strategy initial target bucket low io override max table age logger buckets configuration gc filtered tables instance empty table min timestamp pairs max deprecated expiring tables table node trace max table max compare filter tables interesting bucket max threshold concurrent singleton tombstone compaction interval option tables time unit ceil expired lifecycle newest bucket collection add min stcs tables slfj modify size comparator left resolution
src.java.org.apache.cassandra.tools.nodetool.BootstrapResume
nodetool probe airlift system node probe io override tools resume bootstrap io error node tool bootstrap resume description node tool cmd io execute airline command
src.java.org.apache.cassandra.tools.nodetool.TopPartitions
generate weird casting probe airlift results node probe collections math add usage composite data util execute array commons collect common google printf system result duration lang targets option cfname preconditions runtime node tool cmd openmbean base command offset tabular data support top partitions samplers upper key check argument keyspace airline entry sampling sampler tools size management open data integer node tool sort join illegal argument partition sample compare ordering nodetool table metrics arguments io override length split description max metrics topk top count entry array entry utils left
test.long.org.apache.cassandra.dht.tokenallocator.AbstractReplicationAwareTokenAllocatorTest
base separate avoid timeous flaky group investigated unit replicate replicates unit simlicity assuming exhausted finding replicated unit group investigated unit replicate replicates balanced racks disbalanced lose group strategy spreading units fixed number group strategy fixed number units replication strategy matter rf flaky selection tokens rf nodes uncontrolled pathological situation algorithm find ideal distribution tokens number turn inevitably bad distribution adding happen broken token allocation replication strategy matter rf grow half metrics back normal check remain verify lower side range small loads iterator unit random put full count units group group size replication aware token allocator group target cluster size group token allocator base tokenallocator junit higher key descriptive ceiling key util key token bit size navigable token count iterator descending array random commons iter collect token common fail fixed token count google token count simple replication strategy system varying token count num groups verify metrics math replication start ep unit group lose replace key current rf max tree unit count group count midpoint mms ipartitioner ignore add unit id count units found put key replica token sorted tokens rand head unit count replicas entry en ngroup strategy unit size cluster fixed group count replication strategy spread expectation groups found token add tok tail min group size group remove unit random token simple token stat representative integer unit stat group id existing cluster max vnode count update summary replicated token ownership groups group replication strategy endpoints unit summary statistics max expected max group size remove id size iterables balanced group replication strategy target cluster size su override current time millis format tc empty add ownership replication aware token allocator dht unit tokens stat unbalanced group replication strategy replicas evaluate replicated ownership update replication strategy add ownership inverse average entry summary grow concat tokens replication strategy size count st partitioner seeded rand time instance count
test.unit.org.apache.cassandra.db.marshal.TypeParserTest
parse daemon initialization parse fail parser partitioner syntax instance base partition ordering parser instance dht config junit configuration parse partitioner order random partitioner db ordered partitioner database descriptor reversed murmur partitioner ipartitioner partitioner init dd order preserving partitioner parse error marshal
test.unit.org.apache.cassandra.db.RowCacheTest
empty row global row cache size populate row row cache limit hit empty row global row cache size inserting rows column reading rows checking row change current key stored checking cell read correctly insert cache populated latest rows read checking cell read correctly clear rows empty row global row cache size inserting rows column reading rows checking row cache current key stored insert cache populated latest rows read checking cell read correctly clear rows bounds elements cached entries empty row global row cache size populate row row cache limit hit slice hit row cache slice limit hit populate row cache limit rows populate row validate stuff empty row global row cache size inserting rows column flush confidence tables check table read histogram updated count increased requests read empty insert data fill force cache empty cache make row cache disabled selection iterator cached parition buffer end range util countbefore cache cleanup cache add junit storage service cached cf dk buffer util update normal token db ordered partitioner util token snapshot tk compaction tk token partitions cell dht iterator locator define schema array cmd collect common inet address metadata token google unfiltered cache read data system clearable histogram row cache cleanup keys left row cache load start range array cell elements tmd submit write net excl configuration clustering column family rub cf cached decorated key insert data invalidate cached partition sstables read histogram start row cache range countafter key offset ascii raw cached partition apply unsafe row cache min column keyspace current time millis filter keyspace force blocking flush row cache load row cache key marshal tree ci truncate blocking row cache clustering simple cleanup saved caches standard cfmd cf column filter invalidate row cache subranges wrap cp open init server row cache hit size round trip start row cache hits rows service cf cachedint keyspace cached limit tables read histogram row cache ordered keys caching params rck integer unfiltered row iterator metric store schema sort invalidate row cache load saved cached partition total keys meanafter row cache drop save load keyspace column family store integer cf cachednocluster property bounds prepare server row update builder cached store row cache range cache service unfiltered iterator cells token metadata columns median invalidated keys key iterator compaction manager decorate key disable auto compaction ai utils false substring remove keyspace instance store keyspace instance bounds invalidate column family store instance cleanup build unfiltered max schema true schema loader nio arrays slices bounds metrics row count keyspace params row cache hit range count row cache number rows token metadata clear row cache partial load incl column data row cache capacity mb caching keys save row row cache
src.java.org.apache.cassandra.io.util.ReaderFileProxy
base random access reader components checked crc check compressed auto closeable channel proxy util channel io close file length crc check chance reader file proxy
src.java.org.apache.cassandra.io.util.DataPosition
util data position io
test.unit.org.apache.cassandra.locator.CloudstackSnitchTest
datacenter metadata endpoint snitch daemon initialization dc locator racks io cloudstack snitch az init server regions service instance stop client nonlocal application state query metadata cleanup tear override gms net config junit storage service configuration schema loader add saved endpoint db mkdirs util keyspace add application states inet address database descriptor endpoint state endpoint datacenter endpoint cloudstack snitch rack versioned cloudstack snitch setup put local gossiper state rack io factory initialized rack
src.java.org.apache.cassandra.cql3.restrictions.MultiColumnRestriction
columns restriction query columns comma separated restriction columns comma separated check restriction supported index secondary restriction supported restriction terms restriction single marker mixed order additional slices columns reverse direction add current bound side side end slice rebuild bound similar buffer bound buffer represent entire bound options query buffer term slice secondary index manager unsupported operation inclusive check false buffer check null multi column restriction supports expression row filter split add multi item terminal reverse format db util cql identifiers index manager term split array columns commons append bound merge marker operator collections index column column defs commons null merge marker append index slice null merge slice column metadata retain math check true add functions term end column defs empty null restriction multi column restriction query options supporting index column defs add element eq restriction add single column restriction multi column put filter length elements options statements end column metadata bound marker restriction size terminal component marker converted multi column restriction slice schema add elements column def restriction marker restrictions index mananger builder reversed slice restriction multi cbuilder indexes reverse restriction column restriction def eq inclusive add row filter terminal tuples reversed override function component bounds functions terms min add functions instance append buffers request validations supported nio eq restriction single restriction start singleton bound split vals protocol version bind builder bound invalid request position column
src.java.org.apache.cassandra.utils.btree.BTreeSearchIterator
index feature btree maintain bounds absence coexist past reset iterator starting move tree request current forwards utils element global index compare end btree size index cur item btree search iterator upper bound asc idx state rewind indexed search iterator seek tree cursor comparator util middle btree dir target reset lower bound comparator iterator index current current compare check item found move dir
src.java.org.apache.cassandra.cql3.selection.WritetimeOrTTLSelector
selection ttl utils protocol version factory column filter output buffer add override transport selection column add column writetime column metadata add selector current instance column protocol version timestamps schema column specification min add fetched columns nio buffer util format instance factory ttls db query options writetime ttl selector cql result builder reset idx column builder builder options filter results column add input fetched columns ttl selector factory writetime selector factory marshal def
src.java.org.apache.cassandra.db.rows.BTreeRow
immutable row data columns present row column sorted filter tombstones row read remove purgeable reconciliation tombstone rows tombstone speed row single work expiring deletion time thing row time deleted information tombstone expiring forced expiring time expiring cell tombstones expiring note creation method directly small amount wrap note shadowed active deletion shadows row row deletion shadowed include cell dropped column cell skippable column queried user lower row timestamp start end complex columns sort simple start end complex columns sort simple copy row timestamps live data replaced deletion timestamp timestamp exists paxos additional deletion shadowable row forced deletion timestamp row rid note contract caller deletion shadow shadow row row deletion min local deletion time deletion avoided assumption row method method exposed row api method cell copy btree array simple separate iteration simple complex simple marker sort beginning run complex cells store deletion converts run cell column relax outer provider sorted delay remaining bedded galloping makes pretty cheap deal complex deletion complex column deletion cells note fake contract forbid called unsorted happen legacy sstables complex column index store complex ensures properly called builder check required unsorted worth extra safety check required unsorted worth extra safety unsorted builder deal shadowed cost deal unconditionally avoid resolving sorted complex unique simple shadowable lb column metadata shadowed iterator queried data row liveness deletion collections buffer complex deletion find cells legacy order iterators predicate collections simple idx row cell resolver bottom search iterator cell path live wrapped transformed dir reverse order cell live update timestamp marked delete columns build complex deletion counter column sizes wrapped max cells db info cells util resolve column data sorted builder resolver comparator dt local deletion time tombstone partitions cell size structure heap updated iterator replace situ filter columns compute op buffer cell collect timestamp common empty size queried columns iterable clustering reset google arrays transform add min copy result measure iterables build btree row btree empty nio primary key liveness info slice deletion time liveness info array btree search iterator dropped time cell single cell row regular math row deletion cell legacy order iterator supersedes funtion metadata inclusion tester kind complex index builder complex column data stop condition simple unshared heap size excluding data base skippable complex deletes array row deletion idx column end data current filter length add row deletion ub marshal row order inclusion tester singleton dropped partition update cd column filter fetched columns deletion path cell live row apply add primary key liveness info iterable size clustering rows table metadata fetches columns transform filter empty row collection asc column definition comparator updated timestamp asymmetric column data comparator integer sorted complex idx empty schema function row reversed fetched columns queried active deletion row unsorted builder add cell complex idx simple idx increment row make complex iterator consumer deletion cell iterator info min deletion time comparator dropped columns heap size purge cells purge local expiration time timestamp min local deletion time array expiring auto mark counter local cleared sort compare cells reconcile complex data utils empty deleted row queried user tester dropped override fetched column queried complex column deletion function data size iterator buffer util min reverse iterator columns empty cell comparator deletion dropped column complex column data complex cells complex idx increment secs add complex deletion deletion time comparator shadowed active deletion simple idx clustering empty buffer regular resolver previous btree data desc sec deletion purger update function builder purger column data shadowed time complex idx ccd
test.unit.org.apache.cassandra.cql3.validation.entities.udfverify.UsingMapEntry
passed unsupported operation codec entry data buffer protocol version transport functions entry entities params protocol version datastax param execute aggregate impl core nio entry driver udf context util cql data execute impl entry udf context udf udfverify validation
src.java.org.apache.cassandra.db.marshal.PartitionerDefinedOrder
sorting columns representing row keys row ordering determined intended fact error empty validate unsupported operation partitioner iterator utils parser marshal partitioner buffer override key iterator parser parsed transport serializer serializer compose instance source protocol version comparison custom fb utilities key parameters protocol version partition position dht config term nio buffer util partition ordering buffer db json ipartitioner key serializers database descriptor cql illegal state util iterator partitioner defined order partitioner compare format compare custom json marshal decompose hex
test.unit.org.apache.cassandra.streaming.SessionInfoTest
total numbers files received receive completed file singleton total size total size received local address utils total size receive streaming state table id stream session session info summaries fb utilities total files direction total files send collection add update progress net local junit schema session info totals util inet address total size send generate info sending stream summary progress info total files receive array summary table id preparing total files received collections
src.java.org.apache.cassandra.db.UnfilteredDeserializer
helper deserialize unfiltered disk reader work things care atom compare provided bound atom read atom atom skip read skip atom row clears state skips ready unfiltered helper read clustering bound header io btree row skip row body read extended flags serialization helper rows table metadata clear state deserialize marker body clustering prefix clustering deserializer extended flags builder metadata row kind data input read unsigned db skip marker body bound util flags end partition io sorted builder clustering bound boundary deserializer skip compare row unfiltered deserializer serialization header kind prepare comparator deserialize clustering unfiltered serializer builder deserialize row body deserialize bound range tombstone marker prepare schema row serializer row
tools.stress.src.org.apache.cassandra.stress.generate.DistributionSequence
generate inverse cum prob cum prob seed atomic override illegal state start atomic distribution sequence util total count end distribution wrap increment stress concurrent seed
test.unit.org.apache.cassandra.cql3.statements.PropertyDefinitionsTest
statements existant true pd junit key cql property definitions false add property property definitions clear nonexistant
src.java.org.apache.cassandra.cql3.statements.AlterKeyspaceStatement
strategy validated announce keyspace update backward compatibility validate unexpected options proper validation keyspace dropped invalid request swapped statements check access schema altering statement client warn locator announce migration attrs ksm schema change override query state client state alter transport schema keyspace metadata replication factor service permission replication strategy instance state empty change ksm params config keyspace metadata storage service schema keyspace attributes unauthorized local ksm announce keyspace update migration manager validate keyspace access auth replication strategy replication system keyspace schema constants keyspace params warn increasing rf database descriptor cql request validation warn klass strategy token metadata updated replication options strategy replication strategy options keyspace altered keyspace params alter keyspace statement local strategy query state configuration event endpoint snitch
test.unit.org.apache.cassandra.cql3.validation.entities.CountersTest
check table migrated validation bug migrated migrated change counter change counter validation bug bug flush updates sstable select problem including made query counter broke merge special skip invalid request table counter column selection invalid message flush rows ignoring order row prohibit reversed counter part primary key format cql tester entities invalid junit empty rows regular counters compact storage clause counter updates unset counter filtering null table cql execute counter filtering invalid message counters keyspace table counters throwable counters collections validation unset
src.java.org.apache.cassandra.cql3.statements.DeleteStatement
parsed cql query deleting specific columns full partition deletion row deletion range rows clustering size clustering range deletion full error range support specific form delete make sense support coherence primary keys column operations bound check false attrs prepare internal column condition add exists db delete statement util clause attributes cql partitions operations execute clustering statement column definition raw operation delete clustering deletions cfm affected column regular deletions slice deletion time column metadata primary key column check true conditions metadata variable specifications build row add update key stmt make range tombstone restrictions prepare keyspace cf parsed op invalid request statements partition update collect marker specification conditions applies regular columns size clustering table metadata add row deletion params pair schema bound terms pk columns restricted operations raw deletion restrictions partition key conditions comparator regular operations clustering columns add partition deletion def slice utils override deletions update parameters statement restrictions empty deletion request validations update clause row modification statement
src.java.org.apache.cassandra.cql3.selection.AggregateFunctionSelector
aggregation aggregation invalid request selection selectors aggregate function output buffer protocol version aggregate function selector transport function functions selector protocol version aggregate size nio aggregate util fun aggregate cql reset result builder compute add input aggregate function selector
tools.stress.src.org.apache.cassandra.stress.generate.values.HexStrings
generator seed override size distribution instance hex generator config size identity distribution ut db max generate stress config seed marshal
src.java.org.apache.cassandra.cql3.functions.TokenFct
invalid request token fct token validator build token buffer protocol version transport functions key table metadata column metadata cbuilder add protocol version scalar function partition key columns schema token factory nio bb db util size cql execute partition key clustering comparator parameters builder partitioner serialize partition key array metadata marshal def
src.java.org.apache.cassandra.tools.nodetool.Ring
calculate ownership total amount replicas dc token text probe airlift dead nodes node probe collections resolve ip title message dc host stat joining nodes format ip dns dc unreachable nodes util endpoints tokens host address illegal state execute array moving nodes collect token common ownerships inet address ring key rack google max address length load system unknown host moving nodes append hoststats errors show effective ownership state net decimal format node tool cmd load command put leaving nodes key keyspace length airline token load entry live nodes vnodes printf tools size effective ownership collection integer node tool builder ownership dc tokens endpoint illegal argument tokens endpoints compare nodetool joining nodes endpoint snitch info proxy token endpoint arguments io override linked multimap live nodes format placeholder status stat description comparator keys max host stat entry rack option lang add ownership leaving nodes entry
src.java.org.apache.cassandra.utils.SyncUtil
wrapper mechanisms syncing files makes skip unit environments syncs bad run call umapped fd closed field temp google force sync failed utils unsupported operation channels field atomic io file descriptor check null closed channel config sync util runtime directory fd open fos open directory atomic integer fd closed field preconditions file output stream closed library fd count temp meta data config close fd sync path nio field buffer count sync util concurrent base fd sync dir buf valid fd lang reflect declared field mbb fd field temp fd count field skip sync accessible fc file channel random access file common file mbb fd field io property prefix dir ras
src.java.org.apache.cassandra.dht.IPartitionerDependentSerializer
versioned serializer serialization depends serialization partitioner entity deserialize partitioner calling serialize data output stream data output serialization version protocol serialization deserialize data input stream data input deserialization partitioner construct match partitioner serialize version protocol io deserialization calculate serialized size calculate serialized version protocol serialized size ipartitioner serialized size ipartitioner dependent serializer deserialize data output serialize data input util version io io dht
src.java.org.apache.cassandra.transport.messages.QueryMessage
cql jvm stability inspector query state immutable uuid gen protocol version logger write consistency level dest size consistency level util cql trace query uuid netty execute collect common tracing requested google result query client state transport tracing id skip metadata state version metadata body page size write tracing builder error query options put request validation request execution tracing error message messages buf message options stop session query message size service decode time uuid encode integer response query start nano time tracing id msg size client address inspect throwable read query encoded size rows process utils result message skip metadata codec io override cb util tracing session instance codec build custom payload begin buffer request serial consistency response consistency builder cql query handler protocol prepare tracing session
src.java.org.apache.cassandra.repair.RepairRunnable
valid column calculate prepare repair number ranges valid column calculate prepare repair number ranges output local ranges pass neighbors increase performance multiple validate repair job executor repair repaired time repaired times preserved streamed repair sessions run anticompaction send finish notice back filter results successful promote sstables sessions skipped replicas local node included coordinator sessions repair job executor repair run nondeterministic order trace state nulled bothering check nulled note rely message reason inspecting state query events time interval overlaps ignore ignore local wake local trace query notified trace activity timeout neighbors repair nano time local ranges system distributed keyspace results column family stores preview listening decorator session coordinator session atomic buffer query state start parent repair ranges executor math uuid thread immutable max time uuid cfs source uuid gen record failure coordinated logger progress count parallelism events storage service trace keyspace progress event buffer util format listener skipped replicas db consume session results stopped run util tlast token io common ranges tmax cql successful incremental execute uuid failure array cmd commons remove summary logger timestamp coordinator session common timeout debug inet address session result iterable listening executor service status google jmx configurable thread pool executor record repair status consistent system fire error complete thread factory completion message submit repair session cr iterables lang event transport job threads neighbors error collect storage metrics notification total progress trace repair query repair option immutable state sessions async function si progress net wrapped runnable suppress warnings futures consistent preview repair tracing timer update ranges range array success hosts repaired time unit repaired uuid query processor throwable array future callback shutdown start tracing participants messages query options current time millis tmin keyspace range register session add progress listener failure message forced repair executor service options valid column families trace keyspace size repair statements context neighbor range row error linked blocking queue transform progress event notifier session id atomic integer progress event stop session apply message internal calls open active repair service consistency level fb utilities status rows service failed query thread column families add failure start idle message time uuid statement keyspace local ranges pair parent session sync stat summary cfsb trace state schema inet address complete repair complete callback builder duration normal repair tcur append valid column families listenable future keyspace column family store integer add repair complete format duration words untyped result future fire progress event info preview kind trace state repair streaming parse statement illegal argument success executor data centers prepare repair listeners tag duration millis max wait millis duration format utils preview kind logger factory compare repair runnable futures complete ctx utils result message substring submit repair sessions codahale repair result io add range neighbors override neighbors logger enable activity notification metric result query thread trace repair session callback thread repair time min select statement completed remove parent repair session session id id traced instance rows empty storage service max min wait millis repair session result cfnames dht wait activity repair prepare time repair session begin fail parent repair nio remove progress listener pull repair session consistent repair metrics concurrent schema constants min time uuid start time parent repair status preview kind progress successful parent repair successful ranges thread counter collection repaired clear parent repair session progress column families success message increment slfj prepare broadcast address executors time progress listener add callback atomic milliseconds left
src.java.org.apache.cassandra.cql3.UpdateParameters
groups parameters update make building updates operation require null builder alias builder built internally absence timestamp sstable avoid potential compact storage table single clustering column backward compatibility empty fine storage compact exclusion row compact row single deleting row deleting single cell favor backward compatibility matter column creating temporary state run proper clock updated local shard clock matter state replaced processing mutation reason shard due merging user includes multiple updates counter multiple updates merged partition update reach update added local shard counterid special differentiate regular local shards temporary state resetting null quickly bad usage forget call prefetched row performed modification performed method fetched row row modifications row result merge fetched row pending key partition clustering row prefetched row performed apply pending mutations row current updated columns selection prefetched row complex deletion time regular columns compact table buffer ttl buffer cell pending mutations search iterator cell path unsorted builder clustering comparator max db util cql local deletion time partitions current clustering cell clustering merge clustering min btree row nio remaining slice liveness info column metadata compound cell size metadata ttl build row range tombstone builder partition decorated key query options make range tombstone key path counter context column builder filter context options row invalid request regular builder marked delete column filter rows deletion add primary key liveness info fb utilities clustering rows table metadata add row deletion dense live add tombstone update schema expiring sec purge add cell complex deletion time overwrite copy comparator add counter purge prefetched row columns clustering columns slice prefetched rows utils increment built update parameters compact column format instance empty build timestamp add complex deletion deletion time regular deletion time row deletion purger builder partition tombstone make
src.java.org.apache.cassandra.tools.NodeTool
bootstrap bother passed nodetool ignore errors write refresh size estimates console timeout disable handoff verify enable binary probe airlift pause handoff parse command unrecognized node probe collections resolve ip concurrent compactors put node client invalidate row cache console description invalidate counter cache option endpoint snitch info mbean cmd line endpoints message text read password exit compaction throughput jmx role empty bad parse optional keyspace runnable bootstrap resume batchlog replay throttle remove node format delimiter stream throughput disable binary util enable hints dc cache capacity io ownership dc password file concurrent compactors illegal state resume handoff execute inter dc stream throughput array garbage collect commons compaction throughput collect enable gossip move upgrade table common failed inet address ring timeout parse optional tables google read user password file system group unknown host connect iterables describe ring lang port append option host stat scrub array cf stats simple date format endpoint snitch info proxy parse command missing run node tool cmd logging level net size describe cluster tree info datacenter failure detector info join cf histograms runtime batchlog replay trottle disable gossip host base reload triggers throwable status binary parse option conversion array commands disable auto compaction inter dc stream throughput token endpoint sorted gc stats system keyspaces key status handoff reset local schema security airline stop daemon truncate hints scanner clear snapshot proxy histograms compact rebuild index cli parse option missing rebuild global entry table stats locator compaction stats replace description parse token end point compaction threshold tools fb utilities status line line separator disable backup throwables max hint window history key stack trace logging levels local strategy keyspaces date integer line compaction history node tool gossip info username table histograms top partitions root view build status commands ownership dc cmd sdf snapshot io error stop empty disable hints dc system repair join err unmodifiable keyspaces illegal argument tools output directory command replay batchlog tp stats version prompt read password keyspace flush file writer ep snitch info skip nulls scanner max hint window root nodetool parser range key sample snapshots enable auto compaction parse override cleanup parse arguments unexpected io repair admin array utils stream throughput net stats utils cache keys save password command compaction threshold keyspace file found enable handoff length writer add node probe empty build assassinate keyspace trace probability status drain hinted handoff throttle kb file historyfile throwable status gossip enable backup decommission dc refresh parse option missing entry ioe joiner cli builder lang relocate tables invalidate key cache local strategy keyspaces password file path builder add simple status backup empty array trace probability tables parse arguments missing ownerships utils
src.java.org.apache.cassandra.cql3.TypeCast
invalid request result column specification text cq prepare keyspace column identifier compatible assignment testable cq assignment term format exact match weakly assignable db assignable exact cql casted term cast cf raw receiver casted spec assignable marshal
src.java.org.apache.cassandra.metrics.MetricNameFactory
qualified metric metric part qualified metric metrics registry metric metric factory metrics metric metric
src.java.org.apache.cassandra.serializers.DurationSerializer
happen happen happen checks cast information cast information cast days buffer utils serialize marshal months io duration vint coding serializer nanoseconds serializers read vint vint instance months data output buffer fixed size nanoseconds nio buffer util format buffer util days io duration serializer validate cql error empty buffer compute vint size deserialize months days remaining instance write vint duration output data input buffer
tools.stress.src.org.apache.cassandra.stress.settings.CliOption
cmd node command put rate port graph col errors tokenrange pop port log lookup mode graph lookup send daemon printer schema node runnable run description insert log rate printer token range util cli option misc transport stress errors lower column insert mode schema extra sendto population transport
src.java.org.apache.cassandra.db.compaction.AbstractCompactionStrategy
pluggable compaction strategy determines tables perform background compaction constantly typically makes tradeoff merging read perform full compaction requested minimum interval perform tombstone removal compaction disable range overlap check deciding table candidate tombstone compaction guarantees pause tasks put pause run tasks run compactions disabled confident tasks safe proceed checks repeated user supplied strategies call validate options directly temporary suspension background compactions things truncate major temporary suspension background compactions things truncate major performs extra initialization releases resources strategy shutdown cfs reloaded schema gc tombstones older compaction task null responsible marking sstables gc tombstones older compaction task run compact null responsible marking sstables sstables tables marked gc tombstones older compaction task requested user requests invalid responsible marking sstables number background tasks estimated size largest sstables metered flusher trigger memtable flushes affected metered flusher handling flushing override mf space reserve space subtract memtables flushed handle flushed memtable flushed sstables written null empty memtable filters tables blacklisted original candidates collection check blacklisted tables blacklisted filtered key scanners sstables range simply grab table scanner overriding memory efficient solution sstable overlap leveled compaction strategy sstables managed strategy check sstable worth dropping tombstones check skipped time elapse sstable creation sstable table gc time drop true tombstones expected estimations chance compaction drop tombstones end infinite compaction check time elapsed table range overlap check tombstones safely percentage columns expect compact samples estimate correct calculate estimated keys calculate percentage columns expect droppable tombstones rest method grouping similar tables determine tables compaction strategy creates sstables merged due constraint override txn total compressed size sstable comparator fully expired tables tombstone compaction interval compaction enabled collections jvm stability inspector sstables unchecked affected metered flusher group size predicate compaction enabled immutable unchecked tombstone compaction option droppable ratio curr group add message validate options logger columns overlaps memtable submit background metadata collector directories db estimated droppable tombstone ratio util sort token parse compaction split output overlapping live tables token serialization header table reader scanned uuid header compressed length directories deprecated logger compressed size tombstone threshold common provide overlapping tombstones throwable simple table multi writer configuration array iterable index google worth dropping tombstones visible enabled threshold meta unchecked tombstone compaction option iterables close tombstone compaction interval cfs index collect overlap grouped tables length table multi writer add table metadata original candidates unchecked tombstone compaction suppress warnings resume ranges descriptor range base total scanned purge repaired tombstones active directories scanner sstables group scanners filter sstable range tombstone compaction interval option strategy logger options compressed size pause singleton add tables close propagate lifecycle transaction parse ignore startup estimated keys filter suspect tables shutdown apply scanner purge tombstones scanner throwables collection user defined task disable tombstone compactions remove table log compaction logger annotations schema log option enable max table memtable compaction params sorted tables group marked suspect estimated remaining tasks system simple pending repair column family store copy compaction controller tombstone threshold option replace flushed compression ratio count parse memtable reserved size log option tombstone threshold option descriptor estimated keys ranges logger factory compaction manager compaction task interval compaction task io defragment utils scanned remove strategy table multi writer table scanner index summary size logger current time millis data estimated column count threshold remaining columns ratio replace tables gc format component uncompressed indexes instance empty unchecked options background task number format key count dht compaction strategy scanners auto closeable added max table keys tracker creation time maximal task disable supports early open tables lifecycle option warn repaired removed compaction task slfj remaining keys compact group tables anti compaction compression ratio
test.unit.org.apache.cassandra.utils.MergeIteratorTest
duplicate closeable google iterator ordering utils merge iterator reduce reduced override closeable iterator imerge iterator close concatted tmp current iterators idx elements smi merge iterator junit closed cli arrays reducer util iterator natural iterator compute items clear reducer iter cat collect common end data
src.java.org.apache.cassandra.tools.nodetool.EnableGossip
execute probe start gossiping node tool cmd nodetool description airlift override enable gossip node probe command airline io tools node tool
test.burn.org.apache.cassandra.utils.LongBTreeTest
access check advancing key ensure advance replacing leaving replacing leaving replacing removing replacing removing select keys cover full select range smaller total span narrowing iterations possibly restore full provided existing keys perform tree constructions run builder disproportionately leave random selection previous select random subset optional random population keys inbetween search safely construct fake randomizer emit real emit fake range immediately proceeding real exceeding real proceeded suppressed real mutation spam garbage checks split work smaller items levels fully called range btree factory iterator lb inclusive results max modification size executors atomic fake lb junit util key snapshot max tree size array inequality lookups null cmp max run length listenable future task iterables btree canonical index errors sporadic abort tree random selection current average mods iteration threads lb key debug array annotations key ratio thread trees narrow min tree size abort early printf apply select batches small overlapping range random tree call sort search iterator thread local random snapshot chunk size put counting function accept ub key substring end shuffled btree timer interrupted min size empty illegal access true replacing max await tree selections reflect runtime annotation compare add getth percentile update function ub index tree unsupported operation random tree lb metric registry callable runnable fake execute mods iterator key run iterable batches chunk thread factory expect array arrays rc builder wait tree timer ascending base throwable put timer filter length ub processors tail null navigable array size slice wrapped narrow count ceiling property btree index tree time unit random selection transform filter modification batch size stack trace codahale min permit reversal mid build comparator index range buffer declared methods metrics error individual inserts medium sparse range oversized middle insert runnable natural order clear insertions compare selection random arraycopy math ratio tree size invoke max stop btree size navigable parameters fake ub random remove random selection common ub inclusive report interval min modify count latch mix present items slices lb key index total count random abort key outer reverse executor service ctxt array pow lb index iterations formatstr parse btree factory allocated method iterable annotation random range batches empty getth percentile target size comparator large batches large range utils canon binary search key range heap size execution override id report runtime sqrt indexed search iterator higher keys individual inserts small overlapping range fixed thread pool rnd lower keys builder increment slicing small random trees descending random tree update collections atomic cur candidate add transformed reverse order random keys snap annotation found found format transform filter descending iterator integer slicing small trees chance collect head google random selection btree system random tree builder max size canonical linked starts exit canonical run index futures timer count quick index current index current time millis formed range btree factory cur size count wrap methods log ub key index transform upper bound predicates integer function complete listenable future op copy delta consumer key count latch lb ub ordered median iter iter batches medium sparse range invocation target insertions keys function floor count indexes update concurrent chance context fake ratio btree lang accmumulate time original key
test.unit.org.apache.cassandra.index.sasi.analyzer.StandardAnalyzerTest
size skip stop word stemming french tokenization zn tw buffer tokenizer tokenization ru ru wrap english ignore stop terms french input stream stem terms options builder io locale index serializers instance lower terms add tokenization adventures huck finn init build tokenize domain urls tokenization ascii bb tokenize max token length junit duplicate nio bb loader analyzer util words tokenization ja jp tokenization ja jp reset tokens resource stream standard tokenizer options deserialize locale array reuse reset tokenizer instance ut serializer standard analyzer options tokenization lorem ipsum standard analyzer token sasi options
src.java.org.apache.cassandra.io.sstable.ReducingKeyIterator
caller acquire release references sstables size unsupported operation closeable iterator utils reduce reduced trivial reduce trivial remove io close override sstables key iterator read merge iterator descriptor collection current idx add imerge iterator metadata format iters db total reducer decorated key util iterators table reader comparator iterator array init mi iter reduced sstable reducing key iterator
test.unit.org.apache.cassandra.cql3.functions.OperationFctsTest
modulo function outputing operation sum tinyints expected smallint output unknown prefered constants output unknown make modulo timestamp date counters divide na date days timestamp invalid message date functions date serializers big decimal timestamp serializer nan infinity invalid cql tester column big operation fcts date integer overflow row operation execution single operations precedence parentheses division rows max simple date serializer execute util operations duration timestamp positive infinity cql untyped result big integer invalid message date timestamp negative infinity junit table min math throwable single operations literals
src.java.org.apache.cassandra.io.util.MmapRebufferer
rebufferer shared reader simply thin wrapper mmapped regions buffers directly instance shared reader file proxy rebufferer factory instantiate rebufferer channel proxy io override close floor file path buffer holder regions channel format util simple mmap rebufferer file length mmapped regions close reader close quietly rebufferer position rebuffer
src.java.org.apache.cassandra.cql3.functions.AggregateFcts
factory methods aggregate sum avg min standard varchar text function count number rows result function called sum function decimal avg function decimal avg avg sum function varint avg function varint sum function avg function sum function avg function sum function avg function sum function avg function sum function avg function sum function sum aggregate function point arithmetics algorithm improve result correctly compute sum na adding infinite average aggregate point arithmetics calculate sum big decimal sum resulting number converted representation concrete correctly compute sum na adding infinite avg function sum function counter column avg function counter column min function counter column max function counter column creates max function input function input output max function creates min function input function input output min function creates count function input function input count function average aggregate collecting sum falling big integer resulting number converted representation concrete make max function rounded aggregate function buffer aggregate fcts avg function compose big decimal sum aggregate sum function counter add protocol version count make min function db lval util column make count function sum function varint cql array avg function add input avg aggregate sum function sum function protocol version aggregate decimal tmp sum max aggregate math avg function infinite count rows function subtract big sum big integer sum function decimal marshal invalid request divide number avg function collection counter column sum function prev integer sum aggregate overflow avg function varint rounding mode reset compute number number compensation decompose avg function decimal compare counter cq override min function counter sum function avg function functions avg varchar min column input instance transport sum function nio na half compute internal avg aggregate avg function counter max function counter aggregate function avg function sum function simple sum
src.java.org.apache.cassandra.locator.Ec2MultiRegionSnitch
snitch automatically ip querying aws snitch ip gossip application helper iescs reset ip connection region communicate nodes cluster security group communicate ip broadcast address gossiper starting locator internal ip io override ip query url ec snitch factory service instance local address broadcast rpc address internal ip broadcast address application state gms net config storage service configuration ip query url ecregion io ec multi region snitch database descriptor logger info reconnectable snitch helper local address register broadcast rpc address gossiper inet address add local application state aws api call
src.java.org.apache.cassandra.tools.JsonTransformer
composite partition multiple skip data composite assume single column partition clustering information write cell nanos specialized enables mode puts subsequent json manipulated configures subsequent json line delimited err negative unlike happen json factory compact buffer ttl complex deletion partition key columns compact transformer compose compact indenter indent liveness info range tombstone marker clustering prefix protocol version live empty logger remaining deletion buffer util timestamp json generator db bound util indenter io comparator epoch local deletion time tombstone partitions utf live info open deletion time current scanner level inclusive start logger path serialize row serialize bound unfiltered close bound serialize cell date write field write deletion time multi cell key validator codehaus collection range tombstone boundary marker raw time microseconds jackson read length current position update position column metadata partition cell user write number field pretty printer row metadata serialize clustering instant length bm complex column data decorated key simple nanos read length field cell key write end jg json write start serialize deletion keys json indent stream write number json generator serialize partition key space key sstable length json marshal row deletion time marked delete offset clustering bound cd cell header close deletion time components cell col col tools size clustering line separator rows key table metadata floor mod duplicate inline pretty printer json row serialize tombstone unfiltered row iterator schema write raw output stream pretty printer indent levels serialize partition system udt indents partition key partition level deletion write indentation collection field position ut math json transformer column local expiration time clustering columns error standard charsets time unit expiring logger factory impl write table scanner stream complex data utils write raw stack trace exit io override cql logger current time millis array indenter indent arrays write end array current position charset secs indenter transport unfiltered partition key tombstone serialize column data composite nio range tombstone bound marker keys row primary key liveness info concurrent field open bound composite level current output stream writer json factory eol slfj column data time ct position nop indenter write start array 
src.java.org.apache.cassandra.gms.GossipDigestSynVerbHandler
message cluster syn peer performing shadow round node shadow send back minimal node seed sender differentiate seeds partitioned shadow genuine syn opposed node shadow construct key endpoint gossip digest gossip digest build version differences difference version gossip digest version local state sort loop sorted retrieve gossip digest endpoint initially construct endpoint digests max version difference local endpoint state version found report digests descending care local shadow round messaging service payload cluster id examine gossiper ep state gossip digest syn partitioner ep digest collections cluster id endpoint logger iverb handler append digest delta ep state enabled message gossiper endpoint state endpoint message digest ack message instance add verb version array gms logger size config max version trace enabled math partioner sort trace builder digest endpoint state sort util max endpoint state version sb database descriptor gossip digest net diff digests diff version warn gossip digests generation clear message verb ep put abs logger slfj send gossip digest syn verb handler gossip digest ack debug inet address digest message logger factory delta gossip digest gossip digest ack serializer
tools.stress.src.org.apache.cassandra.stress.settings.SettingsTokenRange
google parse system primitives remove io printf wrap select option immutable add params build option distribution exit grouped options serializable token range options override runnable option simple printer split factor user checked cast token range util stress builder options collect common result logger cl options
src.java.org.apache.cassandra.db.RowIndexEntry
binary format defined position bit vint serialized size data bit vint indexed entries serialized size number index info bit vint serialized index info offsets serialized index info version index info offset relative index info description serialized layout index file key prefixed distinguish index entries data single partition data index sample size index entries index store position data legacy sstables index entries sstable formats offsets table index samples sstables created earlier index entries index samples store index bigger index samples huge amount index heap huge gc distinguishes index entries amount index samples partition amount index controlled configuration index entries total serialized size index samples held index entries exceeding accessed results stores offset data index entries index current legacy index entries index exceed sstables offset table index access index samples disk requires functionality encapsulated index samples legacy sstables offsets access sstables offsets support reading sstables sstables created constants serialized true index entry tombstone column caller fetch row data file position position partition index file position position deletion time deletion time header length deletion time column index count number entries indexed part size serialized size serialized index samples index info offsets total serialized size offsets offsets index info idx info serializer building column index index info serialized size index info construct indexed entry column index count decide serialized index info exceeding covered represented shallow index position reads data index entry note left reading entry row index row columns indexed legacy current constructor called header length deletion time columns index count indexed part size entry row index row columns indexed read key constructor index file position header length deletion time columns index count indexed part size seek position read offset seek posision deserialize base access base access disk read index info file position offset serialized index reader file data input access index closed idx info serializer index serializer deserialize unsupported operation columns index index info serialize cache factory buffer index offsets read write serialized size entry size cache indexed tracked cache column index cache size histogram live fetch index skip column index count write unsigned vint sizes format columns index count index info count histogram db util metric io shallow info retriever index heap serialization header deserialize header write data output buffer empty size indexed part size data output min read unsigned vint read file data input idx info serializer measure close sizeof vint deletion time index deletion time factory indexed serialize offsets version sizes skip fully offsets read data input header length offset array idx sstable length unshared heap size jamm index info retriever index reader serialize deserialize position skip row index entry indexed entry index file fields serialized size size skip index samples integer file index info retriever index entry size histogram sizeof unsigned vint version read position histogram cache indexed shallow write unmetered skip cache serializer info cache indexed compute unsigned vint size data file position limit index file position offsets offset imeasurable memory metrics registry utils base size auto closeable skip promoted index codahale index info histogram io override rie seek deserialize cache metric factory index info size reference array vint coding metrics reader index serializer config nio index info serializer update metrics shallow indexed entry open index database descriptor iserializer retrievals error index info pos github index info file position serializer position file handle tracked data input
test.unit.org.apache.cassandra.tools.SSTableMetadataViewerTest
table offline relevel clsm loaded run optional threads schema tools tester runner schema loaded run tool keyspace loaded ordered junit runner system loaded unexpected threads started server loaded table offline relevel tools junit table metadata viewer
src.java.org.apache.cassandra.streaming.StreamReceiveTask
task manages receiving files session number files total size files transaction tracking files true task completed holds references tables manually expose sstables revisited lifecycle transaction manages sstable state process received sstable table file special path views view requires cleaning put write path normal ensures ensure mutations run commit log archived cdc process mv applied unsafe cdc cfs transaction cfs updates written archived schema dropped add sstables build secondary indexes row counter streamed sstables applied manually abort txn streamed abort task received files task task requires write path cdc plan id session jvm stability inspector stream session abort transaction submit remote tables received total files executors add tables add row iterator logger runnable format db util token compaction finish transaction token partitions table reader ref array total number files send write path logger keyspace common debug throwable metadata stream operation view google cdc counter streaming sstables iterables stream receive task collect total size fail preconditions table multi writer reader offline size apply filename run runtime cdc update views base table received readers scanner filter sstable force blocking flush check state executor service find txn transaction table id stream lifecycle transaction partition update column filter table id mutation total size open scanner rows throwables collection requires view build params unfiltered row iterator refs schema iterator invalidate row cache keyspace finished column family store operation cached thread pool thread factory inspect throwable stream task executor invalidated keys logger factory clear io utils completion runnable abort table scanner mutation logger keyspace bounds invalidate preview cfs empty overlapping bounds dht overlapping bounds finish task completed bounds concurrent lifecycle view row cache enabled warn task add refs invalidate counter cache exists error slfj table id
src.java.org.apache.cassandra.utils.memory.SlabPool
max heap memory max heap memory runnable cleanup threshold cleaner utils memtable allocator memtable pool slab allocator heap memory heap allocator slab pool allocate heap
test.unit.org.apache.cassandra.io.sstable.SSTableMetadataTest
row columns verify delete column verify sstable verify resulting sstable max local deletion time time creates columns max columns min column family store cfs cell state column family cells cell global remote state cells cell global local state cells cell global state cells interrupted max clustering sstables compact util ttltimestamp add junit dk buffer util format db util counter cfmd live tables add partition key column table reader define schema array found delete add clustering column system cfs delete row metadata decorated key max min composites track max deletion time key ascii apply unsafe keyspace current time millis keyspace force major compaction force blocking flush table metadata add regular column simple standard cfmd keyspac open size clustering table metadata min clustering table metadata max local deletion time integer store schema cf counte keyspace column family store integer prepare server track max min col row update builder cf standard cf standardcomposit del time deletes utils io execution sstable charset column family store instance build timestamp cf standar cf standar true schema loader nio empty buffer concurrent keyspace params max del time character coding builder marshal
src.java.org.apache.cassandra.io.sstable.SSTableSimpleWriter
table writer assumes rows sorted contrarily writer assumes row added sorted thrown rows added increasing row rarely table simple unsorted writer time current write current update google partition update table simple writer abort table simple writer io close writer append table metadata ref write partition throwables writer regular columns propagate columns schema finish decorated key writer db update base io key throwable table txn writer partitions unfiltered iterator sstable common file directory update metadata current key
src.java.org.apache.cassandra.cql3.statements.CreateIndexStatement
statement parsed cql lift check disallow creation index duplicates existing creating index akin updating simple existing check false collections keys query state alter partition key columns custom present add udt frozen collection logger optional keyspace metadata columns updated full format expected size db tuple auth util unauthorized custom cql composites announce table update updated array logger compact table common query state event google counter indexes validate simple index target column collection service iterables schema change client state targets transport collection index permission column metadata compound current state validate table find primary key column index options kind multi cell target empty validate target column index involves keys accepted base raw properties raw targets request validation prepare column keyspace view collect marshal invalid request column statements check access schema altering statement cd validate full index local column family access index targets table partition key validate frozen collection size table metadata column identifier table schema index index target index metadata null empty existing index kind target validate targets multi column index index prop defs change column family table metadata logger factory existing index exists unbuild index logger index statement options slfj indexes instance empty build request validations schema idx raw target trace keys migration manager compact table announce migration validate references duration index cf invalid request
src.java.org.apache.cassandra.transport.messages.BatchMessage
nb todo access cql bind variables open add point pass bogus number bound terms batch state prefer passing wrong bound batch query options clone keyspace buffer jvm stability inspector query state query id immutable uuid gen read protocol version smaller batch write consistency level dest batch message size consistency level util client address attributes cql trace query netty execute uuid array process batch collect common queries tracing requested response google write read keyspace parsed statement batch statement client state transport nio tracing id size prepare statement state version body write tracing builder query options add query processor tracing error message messages parse statement query ids buf message options invalid request statements variables md digest put stop session wrap size service size prepared query found batch options prepared decode handler time uuid statement encode response query start nano time tracing id bound terms builder prepared append msg write size kind query write inspect throwable batch statement variables read builder read unsigned utils counter codec io override cb util read tracing session write unlogged format logged instance codec query build custom payload begin modification statement buffer request batch prepared serial consistency client state consistency error query handler encoded size cql query handler protocol sb prepare tracing session
src.java.org.apache.cassandra.cql3.functions.TimeFcts
function convert replaced function convert unix replaced creates function convert temporal function convert creates function convert temporal function convert creates function convert unix temporal function convert unix warn google time uuid logger time utils logged deprecation warning override unix timestamp buffer protocol version unix timestamp logger buffer time millis transport function instance functions parameters time fcts millis collection immutable uuid gen protocol version scalar function logger timestamp time millis remaining nio buffer util date db util date fct simple date min time uuid timestamp cql unix timestamp fct min timeuuid fct compose execute time millis max timeuuid fct bb collect slfj time common uuid logger factory marshal temporal max time uuid
src.java.org.apache.cassandra.db.ColumnFamilyStore
directories searched sstables cfs hook add additional directories additional directories added prior column family store instantiation directories table determined compaction sstables written directories adding additional directories sstables extra locations made discoverable sstable pool threads data size pool flushing start flush runnable flush calculates split memtable ranges existing data directories creates flush runnable flush runnables executed diskflush executors flush block flush executor size size diskflush executors make flushes executor single threaded provide guarantee flush future cf prior flushes memtables tables disk column synchronize tracker ensure isolation make memtable acting change syncronizes make submit executors make flush interfere read track accesses memtable storage generate index table locally held copies changed config runtime metadata mutated make members jibe update cf comparator change aliases previous hit scheduled flush flushed swapping reschedule flush rescheduled constructor dont propagate configuration user todo fixme memtable scan sstables cf load creating cfs offline change logic link passed directories picked compaction compaction strategy created cfs compaction data dir reinit column family stores secondary column register percentile call dropping renaming performs mbean housekeeping invalidates cfs operations disable cancel compactions block removes table directory directory unreadable possibly tables unregister directly offline tools max generation prevent generation removes unnecessary files cf directory include temp compacted files recognized clear ephemeral snapshots properly cleared session moving missing data components cleanup incomplete saved clean index keyspace cf column family existence checks open cfs methods table force foreign sstables level increment generation find filename tables loaded generation memtable iff live memtable memtable puts writer write turn writer table reader add tables method block synchronizing future complete memtable prior successfully marked clean position size memtables reclaiming includes flush unflushed data future yielding commit log position guaranteed successfully sstables table future flush unflushed data written commit log future yielding commit log position guaranteed successfully sstables table future loop remaining memtables care commit log vary table future yielding commit log position guaranteed successfully sstables table future grab current preceding memtables commit log lower bound upper bound preceding synchronises custom secondary indexes ordering guarantees futures expect wait flush prior requested wait latch commit log upper bound task rely prior flushes flush errored error make discard commit ownership tracker constructor current barrier outstanding writes run flush writer barrier waited ensure outstanding writes memtables immediately cl immediately marked clean custom secondary post flush clean left update indexes cl wait outstanding ensure correctness blocking wait write started prior creating barrier write operations register assigning barrier barrier direct write operations started memtable started write operations update commit log upper bound cl position dirty marked clean submit flushes memtable indexed dirty reach coordinated decision cleanliness longer ensure atomic decision made upper bound continuous range commit records issue wait operations started prior barrier wiring operations commit log segment position memtables ready mark writes older barrier blocking permitting exceed memory stuck waiting wait mark memtables removing live memtable flush memtable signal flush flush barrier consistent ahead flushed memtables cl good secondary index support custom cl issue read barrier reclaiming offload wait atomically upper bound commit attempt holder current commit log time writes memtables maintaining sneaks ahead simply operations prior position reached finds largest percentage memory queues memtable selected flushed work reference current memtable cf prior snapping ownership ensure ordering guarantee performing swap memtables measuring swapped time swap find total ownership ratio memtable secondary indexes select largest ratios weight column family caller responsible acquiring param lock lock param key key param column family column family resolution paths memtable put result large time variety sentinel timestamps empty minimal limits time delta max bucket filters previous sstables key range overlaps including sstables overlap normal compaction empty sstables compaction controller passes empty normalize intervals covered assume sstables representing key searching interval tree normalize intervals query tree acquires references called binary memtable flushes add information cached reads column family store store disk find recovery mode param filename filename flushed calculate expected file size table operation dealing index calculate expected file size checking token range add worst size compaction files sstables tables calculate expected compacted file operation operation expected file size table cleanup size estimation counts keys local find maximum size file skip snapshot creation jira index cfs discard index scrub true index cfs successfully rebuilt access cached data query partition ensure data filter selects cached guarantee partition fully cached number rows wen careful expiring expired partition decide partition cached partition guarantee filter select data guarantee filter partition live rows queried live rows refers rows live prove filter selects cached partition based live sstables partially check key exists updating cache duplicating buffer safety serializer modify position ephemeral flag snapshot cleaned hard acquire reference active sstable snapshot avoid opening snapshot reference open tracking release ref add snapshot sstable data tracker snapshot sstables fails release references opened snap shot columnfamily snapshot snap shot columnfamily snapshot skip flush skip blocking flush ephemeral flag snapshot cleaned skip flush skip blocking flush clear snapshots column snapshot user supplied snapshot left snapshots snapshots space pair snapshot true size size cached partition key present read cache parition calls counted cache note deserialization serializing cache partition present cached parition true key row counter cache counter cache effort made clear historical current thread wipe sstable leaving data files present easily call load tables truncate deletes entire column data expensive tombstone goals truncate delete written truncate delete part snapshot accomplish flushing recording timestamp sstables timestamp greater marked bonus store commit log segment position sstable truncating sstables replay cl segments beginning restart cl discarded normal reasons prevent store position system nuke memtable data writing disk make sstables future drops current memtable flushing called truncating column family synchronize concurrent invocations compactions partway run major compaction interrupt doublecheck timing run users flipping check things minor wait futures block autocompaction jmx getters setters end jmx true cfs secondary index data cfs rely simplicity latest commit log segment discard tables created caller ensure comapctions truncated timestamp tables timestamp marked column family store id null differently method table column family store ksname cfname null differently method keyspace table ksname iterator truncate runnable ephemeral results existing buffer snapshot table readers filename write error hex compatible wait cessation flushing heap executors counter cache key flushing heap bounds heap rows partition cache latency calculator discard tables invalidate counter cache cf message truncated tables rebuild indexes blocking wait future clustering comparator column family store cql helper predicate listenable future task force compaction token range snapshotted tables metadata collector directories file pointer util snapshot io entries difference mark obsolete partitions serialization header table reader max file issue array memtable count logger count stage manager register bookeeping col update time delta histogram snapshot schema file clock count dir filename global count heap idx instance found tracker ratio iterables dump memtables cfs table op status index heap ratio compacting compaction sum wait flushes current version composite data column family store mbean temporary files wrapped runnable ipartitioner metadata data uncompacting tables empty runtime component invalidate cached partition descriptor pause snapshot drop prefix path tabular data support discard completed segments table table mark compacting array drop tables modifier read ordering ownership ratio top ksampler descriptor post flush sstable sampling results table views auxiliary cfs cardinality options reclaim txn writer tabular decorate key replicated system keyspace links hex format linked blocking queue ref table register bookkeeping disable auto compaction check data apply select fb utilities regex idx compression parameters throwables open data sampler write order call memory ephemeral snapshots annotations keepalive sort replay index finish sampling enable auto compaction include backups file warn pending repair column family store minimum compaction threshold key cache indexes position reclaiming ratio join retry policy json array compression params disk snapshot dirs inspect throwable expected file size descriptor tag compaction strategy manager json dec cache rows initial directories memtables samplers stream scheduled executors ephemeral snapshot await termination interrupt compaction cfs compile sampling result abort commit log upper bound sampler descs table multi writer data spam logger dk compaction space check flush failure metadata collector perform cleanup interrupted select function id empty illegal access initial memtable schema config total add listener composite tmp cache file pattern arrays max await skip corrupted max threshold reflect disable durable writes counter cache txn err data lifecycle view sec memtable add remove unreadable tables futures platform mbean server latest version file verify heap live tables hex retval op group opts json local ranges unsupported operation maximum compaction threshold cached parition compaction parameters json max size file system keyspace fully covered jvm stability inspector scrub data directories err wrong disk state internal refs index cfs metadata predicate cache keys flush largest column family estimated partition size add tables ref illegal state callable lister cleanup cache storage service compaction logger remove temporary directories memtable runnable matches matcher index local compaction strategy sampler result mt skip flush expected compacted file size sampler results rebuild secondary index accumulate custom commit log execute dump memtable iterator compaction strategy directories schedule fixed delay key samples remove unreadable tables timestamped snapshot prefix positions debug key iterable clustering reset sampler generation token ranges interrupt views counter snapshots thread factory ephemeral snapshot marker file min compaction threshold sstable files collector expect mbean array column metadata clean auto snapshot code mark flushing files table multi writer reader offline mbs ref snapshot creation time flush results clustering index filter stream mbean manifest json memtable flush period openmbean base invalidated keys mkdirs open result constructor put eq tracker mbean registration load tables counter descs index filter sstr length counter column family store replace flushed row cache key index column family stores singleton op order delete confirm lifecycle transaction unknown partition update table id collection auto compaction disabled open database descriptor size management split output service modified memtable sstable path perform garbage collection params filter suspect tables system keyspace schema trace enabled path invalidate row cache cached partition deprecated live tables abort runnables released exists current view validate compaction thresholds initial comparator built index kind wait deletions max disk perform table rewrite illegal argument comparator commit log upper bound version positions ranges json run logger factory builder truncated result counter composite snapshot exists counter counter cache enabled indexer replacement array auto closeable compaction disk space check table metrics partitioner directory perform scrub partition key snapshot flush close index cfs barrier reference overlapping live tables min flush memtable put cached counter compression parameters json true snapshots size index metadata indexes instance internal ranges startup parent cfs flush dirty cf add initial tables flushed tables trace transactions successful snapshot details metrics mbean server singleton propagate discarded item position capacity joiner invalidate row cache cf compaction parameters row cache enabled heap total runnable disable snapshot estimate keys operation snapshot failing compare caching commitlog scheduled future milliseconds column family sstables rewrite canonical write barrier key cache enabled reload droppable tombstone ratio add index write snapshot manifest warn force flush threshold sstables snapshot directory math commit log position flush writers cached counter submit ratio extended verify register mbean open aborted enabled cache management factory data file locations live memtable sample latency nanos snapshot directory droppable perform maximal post flush task count submit background index max crc check chance db snapshot manifest file mbean clear ephemeral snapshots overlapping live tables selects partition token index manager live data cached remove interrupt validation reload common release throwable min disk reclaim executor generations view exists commit log upper bound report write analytics fail cleanup compare count latch disk length jobs write snapshot schema nano time saved caches location data directory suppress warnings concat indexes maximum compaction threshold heap current memtable heap ratio estimated keys ranges compression parameters pretty memory mark blocking garbage collect bound read barrier compaction strategy instance counter overlapped unregister mbean nanos registered key time unit heap raw cached partition format largest ratio clock count ranges latch limits select reference absolute path reset file index generator columns key keyspace compression ratio executor service table descriptor method clear unsafe simple rebuild failed scrub period header writer iterator shutdown sampler cancel table read rpc timeout cfname add initial directories compression parameters json tmp file simple memory pool table metadata flush runnable atomic integer schema file snapshot truncate prefix json compaction thresholds pair immutable sorted files wait futures flush cfi stats ephemeral snapshot marker file instance sampler finish local sampling row cache index metadata keyspace finished operation partition position skip temporary diskflush executors comparator cache service live heap min threshold writes irow cache entry ignore tables table lister flush error key samples flush cfs backed indexes blocking key iterator rename immutable bounds replay position utils compaction parameters table writer load tables invalidate caches percentile io execution override storage hook logger speculative retry param relative filename gc compaction params ref view fragment background compaction task submitter flush runnables total disk crc check chance allocator largest commit log lower bound force blocking flush key count dht start data file nio valid add nano post flush begin local sampling file index generator replacement clearspring validate columns local time bounds invalidate task unleveled tables repaired nanoseconds increment top components droppable tombstones entry left secondary index manager stores constructor invalidate shutdown post flush executor component column family store collections atomic compaction strategy manager save truncation record files coordinator read latency memtable estimated keys range composite data support invalidate key cache cf custom cell path add capacity samples group cleaned directories logger metadata run compactions disabled build metadata serializer built indexes live heap buffer util format entry add sample relocate tables files json arr table count level keyspaces token compaction minimum compaction threshold desc pending flushes uuid table mutate level collect estimated keys operator expired google prepare commit row cache sentinel concat pattern visible system max size flush update transaction views cfs flush notify truncated perform verify sstable level gc grace bounds snapshot creation time table metadata ref time delta log open snapshot partition size wait futures fail data limits heap data directories scheduled tasks index column family store add table memtable configuration head filter max compaction threshold run drop indexes schedule schedule flush decorated key discarding count range clear snapshot daemon initialized src table table params heap total column write latency directories current time millis range future log flush resume constructor commit commit log position memtable current op active truncate blocking tables flush executor crc check chance instantiation column family stores open file utils initial directories allocator wrap force cleanup counter clustering remove unfinished leftovers rows modify compression error dump statements ephemeral snapshot marker current descriptors exclude current version key buffer predicates integer view fragment tables key compaction params optional tasks listenable future failure malformed copy cached live rows commit log position remove truncation record compaction params info tombstone option force major compaction compaction disk space check enabled bounds column family table metadata cf directories speculative retry view manager compaction manager filter fully covered delete view begin sampling memtables table format current callable manifest file directories enable schema constants file invocation target estimated column count atomic reference metric function format barrier invalidate counter cache current position memtable allocator compaction parameters json loadsstables valid column family jmx enabled thread pool executor live tables bounds uncompacting key iter max data age operation scrub truncate level update level fanout size concurrent supports early open log column family store compaction strategy manager entry post flush executor runnables sstable lister lang parent cfs tombstone option refs parent file truncate indexes blocking partitioner slfj partition key klass directory counter
src.java.org.apache.cassandra.io.util.Rebufferer
rebufferer reading data rebuffer seek buffer guarantee size data rebuffering end buffer empty requested offset position offset buffer positioned called reader clean useable buffer position limit freely limit size data buffer treated position file start called buffer longer called free empty buffer rebufferer override nio buffer offset buffer holder close reader allocate util release empty io position buffer rebuffer reader file proxy
src.java.org.apache.cassandra.locator.AbstractReplicationStrategy
parent replication track token range signaling invalidate endpoint keyspace replication endpoints store note endpoints conceptually duplicates avoid extra allocation sorting proximity search position position natural endpoints requested copy natural endpoints cache token account calculate natural endpoints search token token natural endpoints requested copy natural endpoints block context localnodes tracking ideal consistency level ideal requested handler track ideal consistency ideal consistency level handler constructed tracking delegate response handler track ideal consistency calculate rf based ensure called replication pretty inverse fine critical require merging tokenmetadata options recognized empty collection options null option null backward compatibility properly validate unrecognized log warning find message natural endpoints ideal handler collections ideal cl response handler address ranges validate replication factor tm primary range validate options logger version runnable highscalelib db util number format token validate expected options constructor token common write expected options array cliffc clone token logger token pending token inet address metadata keyspace pending endpoints google visible network topology strategy ring version keyspace datacenter sync write response handler config options datacenter local multimap collect rf search token net configuration cached token calculate natural endpoints empty range key constructor throwable target logger factory recognized options assignable put keyspace range sorted tokens pending address ranges constructor update normal tokens write response handler strategy options format ring position locator pending tokens parse open consistency level fb utilities service replication strategy pending address collection strategy token cls integer search position annotations query start nano time cached endpoints write instance keyspace simple ideal consistency level parameter replication factor temp write response handler token metadata warn endpoints cached endpoints natural endpoints multimap strategy utils range addresses target quorum ideal consistency level invocation target logger validate replication strategy internal write response handler ep key token iendpoint snitch dht config consistencylevel datacenter write response handler trace arrays token metadata reflect snitch database descriptor lang replication strategy key clear result response handler invalidated version callback slfj blocking
src.java.org.apache.cassandra.hints.HintsWriteExecutor
single threaded executor exclusively writes hints manipulate flushing demultiplexes provided sequentially writes shared write share compression fast scenario write megabytes flush provided recycle offer back flush current flush current buffer hints exceeded size limit individual close current writer flushing writer closed fsync writers blockingly stores iterator open writer session buffer write error write buffer size writer close writers hints buffer pool recycle hints writer runnable session file util hints buffer io iterator hints catalog iterable fsync writers task flush internal flush append wait modifications fsync directory run suppress warnings runtime close writer consuming hints iterator max hints file size session host ids fsync writer shutdown debuggable thread pool executor hints store submit flush buffer task store fixed pool size allocate direct max hints file size offer flush buffer minutes hints descriptor executor time unit write buffer hints write executor await termination flush buffer pool task io execution buffer pool interrupted current buffer config host id nio buffer concurrent catalog future database descriptor error executor service flush buffer pool partially flush buffer pool task shutdown blocking recycled buffer position
src.java.org.apache.cassandra.hadoop.cql3.CqlRecordReader
cql record reader reads rows cql cql local cql row key starts row driver cql result select clause include partition key columns calculate progress based actual cf row clause include total number rows partition keys key cluster negotiated serialization user cql query fall back building query validate user give custom query input progress reported slightly actual close client handle client hadoop api write key copy output expect small performance work wide column family record reader support fine version protocol cluster serialization protocol cql row iterator input cql query select clause include key columns partition key based row clause include total number cf rows previous cf row increase total cf row correct easy access information build query reader select user select partition keys columns user cf meta assume columns order cql config helper iterator codec time user defined clauses session buffer input keyspace true metadata compose big decimal token compare unsigned initialize current add message key columns tuple input partitioner logger additional clauses columns varint udt buffer util previous row key cql record reader db util key config helper replace io token cql total row count input cql execute current row iterator inputcolumns table metadata array codec mapreduce collect partition bound columns common inet address uuid identifier google token validator splitter date commons row iterator token meta connect keyspace timestamp iterables close lang linked logger key column metadata select columns clause quote progress net configuration math core runtime input split size ipartitioner base uuid key select column cql query protocol options big integer locations partition key token row input cluster put keyspace session context marshal make column row key id protocol version metadata end token wrapped row transform null input columns key apply start token linked size inet rows table metadata column definitions column collection protocol version pair datastax auto closeable select columns build query tuple locations unsafe init partition key elements table add empty join compute fetch keys cluster partition key end data row logger factory hadoop compat pos conf token utils result configuration cluster udt io override logger function task attempt context partition keys iterator cluster length format hadoop keys row iterator empty split max column definitions dht cf date column family split nio trace mapred input clauses driver record reader reflect decimal progress partition key ioe joiner local date current key input split error token total read partitioner slfj input column family utils protocol version left
src.java.org.apache.cassandra.exceptions.RepairException
thrown repair message streaming repair preview kind repair job desc override preview kind message desc
src.java.org.apache.cassandra.metrics.StorageMetrics
metrics related metrics registry metrics counter repair metric storage metrics total hints progress counter factory load uncaught metrics metric factory factory codahale total hints
src.java.org.apache.cassandra.metrics.ClientWriteRequestMetrics
metrics tracking information write metric tracking mutation sizes metrics registry metrics metric factory release histogram metrics client request metrics codahale remove mutation size client write request metrics histogram scope
test.unit.org.apache.cassandra.db.marshal.TypeCompareTest
uui compare time uuid wrap utils significant bits compare ascii uuid buffer uuid ut array significant bits empty buffer instance time uuid put allocate junit sort nio buffer util arrays rng db util bb data uuid comparator random ut length ascii position marshal bb
tools.stress.src.org.apache.cassandra.stress.operations.userdefined.SchemaQuery
operations row population ratio iterator random random buffer row schema statement buffer math row generator partition iterator argument index variables db util io report data spec illegal state partitions insert execute array random collect time retry nio bind samerow core random buffer run driver timer partition generator generate seed manager collectors bind buffer timer length bound statement row cl consistency level size fill random statement datastax index select partition count driver run bind row stream result multirow distribution fixed io override session min driver client prepared statement select userdefined row count stress schema query stress runner bind client seed manager
src.java.org.apache.cassandra.db.rows.BaseRowIterator
common row permits sharing methods metadata table iterator rows iterator clustering subset columns rows row iterator guarantee partition key partition iterator part partition row provided iterator empty rows partition key table metadata decorated key utils reverse order db regular columns metadata closeable iterator base row iterator unfiltered row row columns schema
src.java.org.apache.cassandra.db.Keyspace
represents call running makes sense proper directories defined globally order writes views view column family store column family instantiate put absent making synchronize open store removes table directory directory unreadable possibly tables snapshot specific column entire column column family null snapshot tag column family column family snapshot skip flush skip blocking flush io column family snapshot specific column entire column column family null snapshot tag column family column family snapshot io column family client supplied check snapshots exists snapshot user supplied snapshot true snapshot clear snapshots snapshot user supplied snapshot empty snapshots open invoked compaction wait outstanding affect disassociate cfs keyspace registers custom cf instance required offline tools cfs created server startup cf worry races startup adding multiple idential simultaneously cfs mbean instantiation error hit adds cf internal ends creating disk cfs created server startup cf worry races startup adding multiple idential simultaneously cfs mbean instantiation error hit existing happen cleared node repopulated rest apply apply race condition mutation workers beeing blocked complete deadlock mutation mutation row modified calling commitlog happen depending cl executor write commit log false disable commitlog append update indexes false disable index updates collation controller droppable true write timeout acquire lock method appends row global updates memtables mutation row modified calling commitlog happen depending cl executor write commit log false disable commitlog append update indexes false disable index updates collation controller droppable true write timeout acquire lock deferrable true caller waiting future future order lock acquisition matter deadlock wte request view update happen thread ourself queue retry lock mutation mutation applied mutation stage caller waiting future blocking caller defers lead deadlock situation mutation stage blocked waiting futures processed workers wait bit retrying metrics collected droppable write bulk operations commitlog hint write mutation commitlog stores include stores possibly stores concurrent secondary index manager table metadata ref iterator present local drop cf column family stores interrupted prefix system keyspaces collections atomic write rpc timeout jvm stability inspector client supplied view manager metadata system keyspace system keyspace metrics fail writes illegal state add valid atomic ksm snapshot dirs logger keyspace metadata storage service fail mv locks count index remove keyspace instance format max directories db tool initialized util replication io compaction table write open store tables views directories partitions table reader acquire lock iterator system keyspace instance table array view remove remove unreadable tables logger apply future stage manager completable future common timestamped snapshot prefix release initial directories metadata write timeout iterable view index google cfs backing table index force flush system unload cf id iterator replication strategy unlock update transaction reload table iterables initialized cfs created index table metadata ref error collect base cfs concat indexes base mutation mock fb utilities acquire time write commit log stage key runtime update indexes tracing mutation table metadata keyspace droppable base execute key time unit clear snapshot daemon initialized deferrable throwable table ids view manager service read ordering tracing base complete cf current time millis sstable length future force blocking flush snap shot skip flush index manager tables endpoint snitch options valid column families hex invalidate singleton init cf op order column family store metadata replication strategy partition update column family stores updates affect view locator cfm table id cf store shutdown apply open lock key consistency level size table ids index column family stores keyspace metadata table metadata start column family store fail writes transform collection write order params mutation index cfs integer push view replica updates child directories utils schema cf sec override index complete group requires view update apply internal keyspace system keyspace partition updates column family store view lock acquire start timestamped snapshot token metadata commit log position sleep info await barrier property index column family load tables keyspaces index transaction illegal argument inspect throwable stores warn future thread remove unreadable tables unmodifiable collection upd logger factory initialized compaction manager compare snapshot exists auto add indexes view lock acquire time lock metric flush interrupt compaction cfs parent cfs locks put absent complete io cfs trace logger key id replication strategy function indexes compaction strategy manager buffer util store keyspace instance keyspace column family store keyspace instance instance empty table id commit log schema config concurrent open tables transactions op table ref update metrics concurrent schema constants tables local strategy keyspace transformer database descriptor sstable lifecycle stage replication strategy init cf custom commit log position add local strategy keyspaces update transaction integer lock clear futures simple index column family stores mark slfj snapshot klass file snapshot directory commitlog op group milliseconds column family
src.java.org.apache.cassandra.utils.Hex
modify array array reflection access constructor underlying constructor unwrapping swallowing copying access constructor klass param constructor constructor null constructor bint inspect throwable utils offset hex declared constructor throwable jvm stability inspector invocation target logger slfj wrap array message number format integer logger hex ite instance reflect half constructor constructor half hex lang accessible param logger length klass str error constructor logger factory hex
src.java.org.apache.cassandra.notifications.TruncationNotification
fired memtable flushed snapshot tables truncation notification notifications inotification truncated
src.java.org.apache.cassandra.utils.FastByteOperations
utility code optimized borrowed slightly modified compare arrays start lexicographically compare lexicographical comparer faster based reflection gracefully fall back falls back unable unsafe comparer ensure offset element matter swallowed sanity check copied src dst offsets absolute base lexicographically compare left start comparing left buffer memory address relative start comparing buffer memory address relative compare left compare left compare benchmarking shows comparing time slower comparing time substantially faster circuit min copy threshold compare unsigned memory offset trg buf memory offset unsafe operations nicoulaj buffer jvm stability inspector arraycopy buffer trg position fast operations lw remaining obj obj order illegal access constructor inline unsafe copy threshold trg dst offset throwable security src position pure operations google offset offset system rw sun src offset buffer math net common run suppress warnings copy memory field architecture buffer buffer src declared field accessible put array base offset length holder array end array base offset misc src buf end wrap array unsafe comparer size duplicate reverse annotations error override field offset array index scale instance min length error big endian copy unsafe inspect throwable operations limit word comparisons compare privileged action utils field primitives array offset min privileged comparer nio compilecommand access controller reflect order lang length length unsigned unsafe direct buffer address offset unaligned compare position dst
test.unit.org.apache.cassandra.utils.BTreeTest
apply method called key existing existing existing apply method called build apply method called duplicate numbers repeat resolve resulting tree square check produce output sorted sorted check path works checking resolution runs randomized apply method called unique numbers repeat resolve resulting tree square check produce output sorted sorted check path works checking resolution check resolution runs randomized count number call made apply rand random sorted check result building update function call back lb monitor add quick resolver swap input junit number calls util accumulator resolver update update function replacement integer update resolve iterator array random quick resolver collect number calls common builder resolver reverse dir google seq resolver input system result iterables btree array cmp tmp update update function call back slice sum current replacing abort builder comparable abort base key array reverse formed length tree abort early apply allocated iterable size btree apply reverse asc elements integer prev building update function replacement iter sort thread local random split resolver input op copy apply forwards property copy count check resolver output number calls monitor array builder ub compare utils remove builder quick resolver heap size shuffled empty build resolver auto fill dir true comparator arrays update concurrent btree desc add natural order framework update function clear counter swap compare clear abort
src.java.org.apache.cassandra.auth.RolesCacheMBean
retained backwards compatibility mbean removed major version auth roles cache mbean auth cache mbean
src.java.org.apache.cassandra.transport.messages.RegisterMessage
read unsigned write version read connection tracker register codec server connection ready message io cb util override query state transport encoded size service write state minimum version decode dest add codec tracker protocol version encode greater size response channel register message body protocol buffer request server util msg connection version netty execute array register messages connection tracker length tracker size buf event message query start nano time event
test.unit.org.apache.cassandra.cql3.validation.entities.udfverify.UseOfSynchronizedWithNotify
unsupported operation codec data notify buffer protocol version transport functions notify entities params protocol version datastax param execute aggregate impl core nio driver udf context util cql data execute impl udf context udf udfverify validation
src.java.org.apache.cassandra.streaming.StreamRequest
size messaging service range count global partitioner data output serialize cf write utf streaming cf count read utf io validate partitioner sizeof serialized size column families collection read add version iversioned serializer data input net dht sizes stream request serializer db util token io ranges add deserialize stream request array request range keyspace range write serializer left
test.unit.org.apache.cassandra.cql3.validation.operations.InsertTest
insert sending null deletes insert unset columns delete existing treat error missing primary key multiple time multiple time primary key element unknown invalid null clustering key regular missing primary key multiple time multiple time primary key element unknown missing primary key multiple time multiple time primary key element unknown invalid null clustering key regular missing primary key multiple time multiple time primary key element unknown missing primary key operations invalid request minute insert compact storage clustering columns force flush max ttl invalid message array row big cql tester ck insert invalid insert clustering columns junit true insert rows insert astatic column size attributes cql untyped result execute flush pk insert insert ttl insert ttl result insert table throwable validation insert compact format insert unset unset row
src.java.org.apache.cassandra.utils.BooleanSerializer
data output utils serialize serializer io serialized size read version iversioned serializer write data input util io deserialize serializer
src.java.org.apache.cassandra.hints.HintsCatalog
simple catalog easy host id lookup loads hints stores intentionally expensive compared simple allocate capturing method hot delete hints host delete files written delete hints host delete files written true stores file pending load excise store google stores io stream fsync directory utils entry read file collections remove file entry id hints directory sync util files grouping open directory immutable writer params hints store sync library close fd store load stores concurrent host id nio empty descriptors compute absent uuid util concurrent hint file delete hints io fd read error hints path match files host ids collectors stream key writer params put hints descriptor key filter collect common file absolute path entry hints catalog iterable
test.unit.org.apache.cassandra.UpdateBuilder
convenience updates single unlike row update builder update multiple rows aimed unit favor convenience partition update counter update builder mutation apply consistency level clustering rows table metadata simple builder update builder add build row metadata imutation timestamp simple builder db build mutation partition key timestamp apply unsafe partitions row current row column make mutation counter mutation schema row
src.java.org.apache.cassandra.io.sstable.IndexSummaryRedistribution
target number index summary entries differ actual number entries ratio order trigger upsample downsample upsampling requires reading primary index order rebuild upsampling copy sort read rates coldest hottest give sstable amount space number total figure entries ideal space buy pick sampling level based calculate current sampling level match force upsample effective minimum sampling sampling downsample sort amount space regained downsample avoid make leftover space current sampling utility sorting sstables read index summary redistribution redistribute summaries read rate comparator effective index interval collections sstables math downsample clone summary sampling level add logger effective sampling level format db table reader ceil util base sampling level io compaction avg entry size ideal space redistribute uuid remaining space array logger common index summary heap size round replacement resample entry google entries sampling level visible result iterables max index interval force upsample comparator collect remaining max fb utilities holder upsample metadata filename pretty memory calculate sampling level read rate upsample threshold compaction id put num entries sampling level index summary total reads sec force resample tables downsampling downsample cutoff sstable read meter downsample theshold txn lifecycle transaction min index interval random uuid target num entries table id max index summary size cancel total open size stop requested extra space required compaction info params sampling level pair annotations schema sort override distribute remaining space keyspace column family store operation current num entries info originals compaction info space memory pool logger factory compare compacting utils read rates downsample compaction interrupted reads sec io index summary size logger sstables hotness id keyspace min index interval column family store cfs current sampling level memory pool capacity finish trace transactions update read rate index summary builder index summary sampling level fifteen minute rate read rate lifecycle concat adjust sampling levels add max summary size slfj effective index interval entry space left
src.java.org.apache.cassandra.tools.nodetool.DisableAutoCompaction
disable auto compaction nodetool probe airlift node probe arguments io override tools parse optional tables usage node tool description runtime node tool cmd util keyspaces io tablenames parse optional keyspace execute disable auto compaction array keyspace airline command
src.java.org.apache.cassandra.concurrent.StageManager
manages executor services messages message running specific concurrency stages created threads alive rest retrieve stage stage stage method shuts registered executor work queue thread factory logger runnable linked blocking queue view mutation util processors thread pool executor execute read repair tracing executor logger stage manager shared concurrent counter writers rejected execution executor core pool size num threads thread factory counter mutation rejected execution handler locals request response  trace reh verb migration net stage thread factory misc multi threaded stage stage put stage stages multi threaded low signal stage local aware executor service jmx array blocking queue messaging service read alive time maximum pool size anti entropy unit fb utilities handler mutation integer shared executor pool keepalive shutdown tracing concurrent view writers executor locals execute immediately increment dropped messages internal response executor time unit logger factory tracing executor utils concurrent readers logger instance concurrent writers max jmx enabled thread pool executor config blocking queue concurrent jmx gossip database descriptor slfj command
src.java.org.apache.cassandra.auth.AuthCache
unsupported operation present caffeine existing validity loading cache update interval delegate max entries delegate register mbean cache management factory init policy logger maximum max entries delegate supplier supplier auth util max entries logger common maximum size google consumer max entries caffeine max entries validity delegate runtime mbean server executors invalidate eviction apply mbs management enable cache validity builder refresh write init cache direct executor platform mbean server function auth cache expire write malformed update interval info update interval delegate update interval executor time unit logger factory accept validity delegate auth cache mbean logger function build validity period load function concurrent update interval lang github expires mbean base slfj benmanes milliseconds
src.java.org.apache.cassandra.index.internal.composites.CollectionKeyIndexBase
common superclass indexes capture collection indexes keys cell indexed index general cluster column collection element index collection cell cell indexed indexed collection guaranteed index entry viewed row key determined subclasses cell rk row key initial indexing prefix empty partition key query clustering collection key index base index comparator prefix buffer path clustering index primary key liveness info rows base cfs cbuilder cell path add internal build clustering prefix timestamp size comparator schema nio decorated key index entry db index metadata build index clustering prefix indexed column partition key column family store indexed count decode entry clustering index entry index indexed entry clustering clustering columns index def composites metadata builder row
src.java.org.apache.cassandra.locator.SimpleStrategy
nodes responsible key respect rack rf nodes lie add token index size singleton validate replication factor ring iterator locator collections parse endpoint config options replication strategy rf collection ep add empty validate options iendpoint snitch integer net dht configuration calculate natural endpoints replicas token metadata util token snitch replication factor tokens endpoints iterator recognized options array token metadata iter token sorted tokens inet address metadata keyspace simple strategy
src.java.org.apache.cassandra.db.transform.MorePartitions
providing partitions partitions contents produced normal arbitrary partition iterator unfiltered partition iterator transforming iterator invokes method current source inserts contents source product transforming iterators control flow occurs outermost partitions contents unfiltered partition iterator base partition iterator partition iterator extend db transform add mutable iterator transformation partitions
src.java.org.apache.cassandra.db.partitions.AbstractBTreePartition
btree note empty consistent method null optimize comparison la search iterator directly account deletion apply partition deletion deletion range tombstone covers reuse row carry proper deletion columns filtered subclasses precise intersection selection worth spending time computing note building deletion generally pass nonetheless passes mutable deletion info mutates selection iterator unfiltered row bottom search iterator live range covering live desc columns deletion auto db unfiltered row iterator util row iter dir partitions iterator clustering slices deletion info merge row collector iterable clustering delete iter iterator initial row capacity shadowed data btree row btree empty rt slice stats deletion time collect btree search iterator regular columns build encoding stats current holder supersedes metadata kind range tombstone builder partition decorated key partition level deletion top idx rows end data key filter deletion builder row partition deletion slices range iterator clustering bound slice idx column filter slice row deletion merge iterator deletion kind size clustering rows table metadata add fetched columns start unfiltered row iterator deletion info empty schema builder reversed append active deletion row partition key holder reverse slice iterator comparator compute unfiltered iterator tree unfiltered row iterators find index btree partition rows ordered utils raw iter empty deleted row current slice override row slices iterator encoding stats end format row row iterator mutable deletion info empty build unfiltered partition key reverse order partition deletion deletion time search iterator active deletion row count regular range tombstone marker sb stats btree reversed builder row empty row rows iterator
src.java.org.apache.cassandra.tools.nodetool.TruncateHints
truncate hints nodetool probe airlift node probe arguments io override lang tools empty truncate hints empty usage node tool description node tool cmd command execute endpoint commons airline utils
test.unit.org.apache.cassandra.transport.SerDeserTest
protocol required making paging note matter protocol version bind collections udt alway serialized version purpose encoding include partition key bind partition key linked local daemon initialization moved node user collections column spec buffer user util serialized size lb instance field prepared metadata serialization supported event ser deser add codec quoted protocol version null junit change split column specification serialize buffer util created db updated util integer serial cql serializer prepared metadata netty deserialize fields array raw node event bind deserialize protocol meta indexes greater meta keyspace schema change ev transport serializers buffer version dropped fb utilities options constants function page size term target empty unpooled query options decoded meta indexes make paging state key buf marshal topology change ci collection ser deser ser deser entry put literal wrap consistency level size prepare lt decode column identifier protocol version pair integer removed node ut decoded meta metadata serialization decoded options udt encode table setup dd result metadata buf paging state status change collection serializer mb mt serialized str node encoded size decompose pack utils result skip metadata io column length instance linked query options ser deser aggregate config events nio arrays udt ser deser singleton sb serial consistency entry database descriptor consistency lit add field identifier st bb node broadcast address entry
src.java.org.apache.cassandra.cql3.selection.Selectable
keyspace keyspace statement inferable bind exact inferrable valid checks select columns matching select columns matching checks selectables select columns matching selectables selectables selectables select columns matching checks processing performed selected processing performed selected column metadata false override overrides literals unamed bind markers found selection bind typically select good give note differenciate increasing number trivial current code users bind position driver level note users bind markers bind expected null constraint term bind null null function constrain error infer metadata select preparation fine expected bind bound term bind select generic literal terribly practice force bind marker note literals infer udt literal simply error select note term terminal check compatibility found preparation fact inconditionally bind marker selection terribly unclear lot practice user bind markers position bind circumvent normal function lookup process instances accept wait selector factories argument access equivalent term care argument check backward compatibilty support method existing input ambiguous works special note user cast simply ignore represents selection field udt udt tuple single parentheses parser differentiate single element parentheses single element forced wait differentiate tuple elements element element element parentheses force user literal literal parser treats empty literal parser differentiate udt selection equivalent syntax point forced wait differentiate column family store build proper data udt raw force user hints selectable hint selection parser differentiate ud column identifier identifier wait creates unquoted identifier creates quoted identifier represents selection element collection note prepare column specificiation selector factory due functions defs passed selector factory resolve function note matter performance wise factories created preparation represents selection slice collection note prepare column specificiation selector factory due functions defs passed selector factory resolve function note matter performance wise factories created preparation null note slice collection applied pass expected selected user provide syntax equivalent preparing null bound selection quoted selectables text selector unquoted term selector entries collections left spec element slice selector factories slice factory predicate factories column metadata instance field writetime parentheses add quoted expected field identifier udt assignment testable selectable tuple unset elt column specification selector function format weakly assignable db term util column field tuple assignment element factory writetime ttl selector cql append separators bind marker selection duration result user bound spec fields key spec raw delegate array cast fcts elements selector tuple selector factory expected udt commons field index operation fcts element selection id lang assignment function selector append collection hint expected raw identifier collect str builder selected freeze factory selector user column aggregate fcts primary key column raw cq constants variable specifications exact term count rows function empty function index fun selectable field selection add index assignment writetime ttl term idx selection column udt fields selector parentheses tuple keyspace exact receiver marshal invalid request factories collect column definitions statements exact match text literal cfm collect marker specification operator table keys function operator size udt parentheses selector factory table metadata count rows function udt selector factory freezable column identifier user assignment pair ut schema function processes selection forwarding factory tuple selector collection json fct prepared compatible raw term negation exact tuple kind column specification joining collectors field position ut function user selector function resolver tuple spec def elements stream raws utils json function function factory cq raw tuples override tuple field selector function functions function instance linked request validations lower defs assignment exact cast assignment arrays put factory select columns tuple singleton field function assignable predicate error selector factory slice selection field identifier selected operation element invalid request prepare negation function assignable selector factory
src.java.org.apache.cassandra.io.util.MemoryOutputStream
stream writes write override output stream position mem len util memory output stream io io memory
test.unit.org.apache.cassandra.cql3.validation.operations.AggregationTest
empty makes limit affect result empty makes limit affect result empty empty empty empty empty drop aggregate succeed drop function succeed drop function succeed function referenced build average aggregation function function syntax function syntax function syntax make scan interval check replacing replacing aggregate composite ensure composite serialized ensure composite aggregate composite ensure composite operations invalid syntax qos iterator ddl prefix time text aggregate empty infinity logback logger aggregate simple drop statements collections buffer rnon time zone replace optionals row aggregate overflow big decimal state null null aggregates overflow schema change function drop prepared statement parser state null add protocol version ksm wrong state null junit change millisecond wrong keyspace keyspace metadata format db aggregation aggregate functions util arithmetic correctness cql con turbo filter execute empty null initcond count star function countries aggregate commons aggregate state logger functions compact storage table ctx keyspace nested functions empty throwable null event multiply state null null load min system half flush schema change lang client state transport null function frozen composite turbo filter drop referenced empty function frozen udf index aggregate columns simple date format current state null aggregate overload dropped configure logback scan period cq math javascript aggregate turbo filter refresh period aggregates precision rnon target rows state null nan cql literal starts turbo filter broken rno nf schema change context iso countries query processor ud aggregate big integer prepare turbo filter internal calls execute net messages current time millis keyspace length logback reload function execution calendar positive infinity marshal row invalid request rand ch divide stop prepared swapped invalid message parse function logger context aggregate write time ttl prepared logback broken size state null keyspace metadata service start aggregate state empty positive existing con copy sign state null millis day logger context column state called null input function state null null date integer aggregate init today schema turbo infinity thread local random tuple sum precision wrong aggregate null initcond aggregate counters function frozen tuple functions composite function millis untyped result rounding mode aggregates referenced aggregates updated aggregate invalid initcond aggregate aggregate existing funcs function frozen schema change time zone logger factory invalid date utils state minute album count country classic result result message end parse spi func na reversed time zone reconfigure change filter logger state functions keyspace check optionals created cql tester instance statement id null max state wrong aggregate schema negative infinity true state null null infinity nio truncate broken aggregate arrays javascript aggregate simple aggregate complex custom initcond yesterday state null null prepared concurrent schema constants date system keyspace reconfigure filter composite function frozen current aggregate incompatible aggregate state null null invalid message locale aggregate udt fields function overload nf ignore aggregation releases country slfj time invalid calls validation init cond aggregate failing funcs
test.unit.org.apache.cassandra.cql3.validation.entities.SecondaryIndexOnStaticColumnTest
update validate updated reflected update update update update update update secondary index column cql tester index compound row key company company entities index udt format id id row junit index index company empty rows age age cql address execute index simple column age index collections table index frozen collections throwable validation address
src.java.org.apache.cassandra.db.rows.UnfilteredRowIterator
iterator rows partition includes deletion partition informations iterator provide clustering reverse order iff iterator shadow level row range delete iterator range tombstone marker marker pair note due previous rule marker rows deleted note reverse markers counterpart sense clustering note valid call consumer reference longer make copy partition level deletion partition iterate performance reasons code expect iterator data deletion encoding stats rows partition level deletion deletion time empty db stats live base row iterator unfiltered row unfiltered row iterator
tools.stress.src.org.apache.cassandra.stress.generate.values.Strings
generator seed override size distribution math min generate instance generator config size config ut faster random db max rnd size stress identity distribution seed marshal
test.unit.org.apache.cassandra.index.StubIndex
basic custom index indexing records updates query searcher simply performs local scan entire target filtering rows updated collections group row stub index supports expression row filter callable searcher add empty pre join invocation index metadata optional columns searcher partition iterator post processor db util cql index transaction partitions rows deleted array iter insert row pre join task depends operator metadata index backing table indexer register index row data update row index metadata reload task deletion time range tombstone base cfs column metadata regular columns partition range read command read command transaction range tombstone decorated key remove row rows inserted row data key custom expression eq indexed columns column filter execute locally marshal row invalid request op order partition update read command truncate task operator rows bootstrap collection pair ut empty schema function bi function build blocking index metadata partition deletions controller column family store initialization task reset invalidate task finish calls truncated range tombstones utils blocking flush task index metadata util instance index registry command begin finish deletion time transactions update concurrent registry validate sec begin calls post index query filter clear register estimated result rows indexer tombstone partition delete op group
src.java.org.apache.cassandra.service.paxos.PrepareResponse
maintain backward compatibility progress commit bit promised accepted promise previously promised ballot made refuse data output serialize recent write promised io override sizeof serialized size service read response version iversioned serializer progress commit sizes format data input db update partition key io commit prepare response serializer util recent commit success deserialize progress metadata paxos serializer prepare response
src.java.org.apache.cassandra.transport.Frame
frame consists header header defined protocol version version flags stream opcode length protocol version order discarded check protocol version wait complete protocol shorter complete worth wait complete protocol opcode enter discard mode discard received extract message attach connection reset initial state remains support writing headers give proper error messages drivers connect compress startup results message message encoder math discarding frame direction body length encoder add warning protocol version channel handler format util body io compressed netty sharable deserialize length release stream id write frame fail transport slice frame length factory version num custom payload flag version startup attribute key add version body unsigned compress write encode frame compressor idx error message ctx body length size length extract version opcode buf stream id discard message invalid request remaining discard serialize header wrap skip compressor direction discard attr conn decode handler opcode greater decompressor tracing decoder message message decoder msg flag write readable version attr max frame length attribute frame header reader index messages beta factory discard io override cb util allocator protocol version mask min transport max frame size connection compressor codec config channel ordinal decoded flags frame length buffer channel handler context decompress message decoder retain database descriptor compressor connection flags protocol beta connection
src.java.org.apache.cassandra.cql3.statements.DropAggregateStatement
drop statement parsed cql todo ddl build nicer error udt supported frozen frozen keyword moment freeze iterator aggregate function query state keyspace access add exists keyspace metadata change function format db auth util unauthorized keyspace cql functions raw raw query state array keyspace schema change client state transport function permission state dropped local target ud aggregate service frozen event keyspace length marshal invalid request statements check access present drop aggregate statement schema altering statement size announce migration drop collection request validation schema announce aggregate drop find function builder freeze raw keyspace prepare keyspace cql cq function functions raw frozen instance empty append aggregate schema prepare migration manager validate validate keyspace system prepare sb
test.unit.org.apache.cassandra.cql3.validation.entities.udfverify.UseOfSynchronizedWithNotifyAll
unsupported operation codec data buffer protocol version transport functions notify entities params notify protocol version datastax param execute aggregate impl core nio driver udf context util cql data execute impl udf context udf udfverify validation
src.java.org.apache.cassandra.index.Index
consisting top level index handle read write searcher indexer defines secondary index instantiation reflection provide constructor column family store index metadata defines index column family store index metadata index def defines methods index index selection write query validation ultimately represent single helpers lived tasks read write event listener receives notifications points update single base performs queries index based predicate defined expected single involved execution single includes factory methods obtaining instances methods defined top level grouped management group methods primarily concerned maintenance secondary indexes called includes methods registering performing tasks index table invalidating retrieve general metadata index internal tables persistence maintenance functions expectation methods work required performed method inside callable responsibility scheduling execution rest task reloading index potential updates caused modifications base table performed blocking adding index require built existing table potentially expensive performed index facets index write time read time concerned identifying index informed write index search query written index checked part input prior update operation update indexes subscribed stream events generated modifications base subscription registering index base partition registered indexes filtered based properties update selection methods indexes filtered event listener notifications update event handler instance scoped partition secondary index manager obtains handler update processes call factory handler receive events discarded indexer instances secondary index manager expectation call indexer unique instances instance process single partition update query single indexes single instance processing index registered primary secondary index manager support processing expressions row filter examined supported registered supports expression filter indexes support candidate indexes ranked estimated result rows selective expected smallest number searcher instance obtained searcher method perform actual index indexes define post processing step performed results primary received replicas post processing defined function arguments partition iterator reconciled result row filter read command iterator possibly transformed initial results post processing function obtained post processor indexes function optional method provided validate custom index options variants input index options supplied clause index table metadata base metadata supplied overloaded methods including base metadata validation method supplied options valid validation considered failed error choose invalid options helpers building indexes table provider obtain collated view data singleton instance management instance helper provide tasks building index table processing number indexes multiple indexes built single pass singleton instance method indexes provide collated view table instance index build taski index built single task perform initialization work index instance involve costly operations performed task perform initialization index metadata configures defines index passed argument task reload internal metadata called base table metadata modified configuration index task performs work due updating task performed task executed index manager index registered order subscribe update events table provide searcher functionality dispatch involved index performs registration calling back supplied register index make decision register index registry index registry register instance index local table store index data method handle empty optional index optional referencing backing storage table task performs blocking flush data persistent task executed index manager perform task invalidates indicating longer considered include clean releasing resources required dropping task executed index manager invalidate task truncate index truncation called base table truncated timestamp truncation timestamp truncation base task executed index manager base table task executed node enters normal state joins bootstrap node bootstrap task executed index manager joining true index built rebuilt index manager determines false enables index control table data incorporated called secondary index manager build indexes blocking false index exluded process table index included processes table false flush observer observe events generated flushing table flush descriptor descriptor sstable observer requested op operation requests observer memtable flush table flush index called determine index targets specific schema operations dropping renaming check index affected index answers depend schema operations column permitted dropped column column definition true index depends supplied column false column safely dropped modified adversely affecting called determine index provide searcher execute query supplied column forms part query validation cql select statement column target column search query operator operator search query true index capable supporting false index supports custom search expressions table method expected expression index supports custom expressions calls method index support custom custom index expressions supported null custom expressions transform initial row filter filter rows index performed initial reduce amount filtering performed results index filter intial filter belonging reduced filter applied index narrow initial result estimate number results index expected query conjunction determine selective index calculate initial concurrency factor range estimated average number results searcher input called write time ensure present valid rules registered indexes process partition key clustering cell row update checked update partition update validated registered index update creates updates key key partition columns regular columns created indexer deal empty update range row indexer guaranteed cells column part sec current time update op group operation group spanning update transaction kind update performed base write time result newly created indexer index interested index care care listener processing events emitted single partition instances responsible applying modifications index response single operation partition base update generated normal write iterating tables streaming operations building rebuilding index updates occur compaction multiple versions source partition tables make assumptions resolution filtering partition update indexer instance receive notification partition delete range tombstones shadow row receives note ordering guarantee made methods call call methods called process update events include duplicate memtable partition contention events delivered indexer memtable failed due contention notification start partition event occurs notification top level partition notification update single partition multiple notification passed notification row inserted memtable holding implies inserted row present guarantee row exist potentially additional column row row inserted base notification modification row base index clean entries base data flushed disk purged note rows supplied totality data row additional column data tables present aware supplied rows column data row data columns removed representation row data includes previously column data unchanged update row data data present existing row removed base row data data present existing row base notification row removed note called part compaction context transaction supplied indexer guaranteed data belonging supplied row removed ultimate data row indexer assume traces row safe index primary key columns purge entries row data removed base notification end partition event occurs validate parameters supplied called prior command instance practice index call method supplied custom index perform validation query expressions invalid request expression parameter command read command parameters invalid request details command fail meet validation function performs post processing results partition range read generalized mechanism transforming results coordinator coordinator execution range command perform processing merged results obtained results transformed change time usage function partition iterator results replicas command partition iterator transformation input transformation factory method query time search command read command searcher perform supplied performs actual index lookup execution instance performs query created expression predicate form execution controller collection read command performed partitions base table matching criteria sstables row op supports expression row filter callable searcher partitions optional columns searcher partition iterator format db util compaction cql index transaction index metadata table reader insert row pre join task depends operator reducing key iterator index backing table indexer row data cfs index metadata reload task unfiltered partition iterator deletion time range tombstone column metadata regular columns index build task read command flush observer transaction collated view index building support secondary index builder decorated key remove row custom expression descriptor row data key search execution controller column collated view index builder index builder support build task support marshal row invalid request op order partition update truncate task operator rows range tombstone bootstrap collection schema function bi function build blocking index metadata column family store operation initialization task read execution controller invalidate task descriptor truncated io group utils blocking flush task table flush observer filter sstable update row post processor index metadata indexes internal index registry command begin finish deletion time transactions update concurrent registry validate sec post index query filter register estimated result rows indexer tombstone index building support partition delete op group
src.java.org.apache.cassandra.utils.RMIServerSocketFactoryImpl
address bind server sockets null indicating local socket server socket utils server socket io server socket factory close rmi code net reuse address bind address port io rmi server socket factory socket server obj inet address rmi server socket factory impl
test.unit.org.apache.cassandra.io.sstable.SSTableUtils
configured keyspace column family column family column family cf col file iterate context chainable methods configure write alternate path written table cleaned jvm generation number generated pass mark components called open writer ksname iterator tree file unfiltered filename write readers writer add util junit columns unrepaired sstable clhs temp table file format dest db table reader util temp file io entries sorted partitions serialization header datafile iterator header iter ilhs keyspace generation srhs content appender append regular columns irhs reader metadata component builder decorated key descriptor key partition level deletion appender stats table metadata expected size absolute path sorted scanner key sstable separator table utils cf dir delete exit partition update entry cf put cfname active repair service size clustering rows service keyspacename mkdir collection unfiltered row iterator dk schema partition key column family store row update builder unfiltered iterator filename build update descriptor pending repair table metadata delete io table format table scanner override cfname id schema data component cfs instance column family store instance cleanup build tempdir finish components encoding stats keys rhs update mkdirs context entry crhs table txn writer add builder slhs prepare lhs file big entry
src.java.org.apache.cassandra.db.compaction.Scrubber
corruption rows skipped worth support loop deserializing check loop index position index recover row header data position index file data variable side effect check null key avoid npe key order bad rows found repaired finish obsoletes order checker iterator iteration rows proper row stop remaining rows sorted order written todo bitch row circumstances rows merging iterator merges rows refer offer peek duplicate merge cells stored wrong decorator check cells order collect order cells correct decorated partition rows detect rows order store sort remaining insert separate operation iterator rows order repaired regular columns collections buffer jvm stability inspector filename math scrub result row scrub unfiltered writer file pointer order sstable row position index add io error location disk remaining clustering comparator table writer writeable locations format index db compaction strategy index close quietly util io compaction partitions table identity iterator table reader output handler uuid ref row index entry scrubber scrub compaction id array index serializer merge common debug output previous google seek row exists peek scrub visible counter service iter deletion time order offline cfs append index serializer random access reader scrub info compaction info runtime bad rows filename rows order scrubber version validation fb utilities holder primary index metadata pretty memory immutable btree partition writer suppress warnings order writer row merging table iterator partition decorated key table format release base compaction strategy manager empty rows key throwable check data index file closeable wrapping unfiltered row iterator row start end data directories update index key key sorted sstable length rate limiter current index key table metadata tree size output handler stats metadata lifecycle transaction min index interval deserialize position skip header rows path index file row position index index open active repair service row index entry serializer clustering rows table metadata stop requested throwables destination uuid gen construct open data reader compaction info params time uuid wrapped unfiltered row iterator annotations schema error eof data size index completed fatal warn finished partition key column family store append error data start index unrepaired sstable comparator compute unfiltered iterator inspect throwable unfiltered row iterators good rows descriptor expected bloom filter size columns compaction manager table rewriter decorate key compare partition scrub info current row position index scrub result utils save order row compaction interrupted key io close override seek writer partition comparator iterator buffer util index key order checker iterator component instance finish empty data start loc index sstable iterator row reverse order partition level deletion max data age data file commutative scrub nio comparator encoding stats log output max row update skip corrupted singleton propagate scrub info file utils stats lifecycle concat source rows order approximate key count transaction add repaired prev key read length pending repair file compare offer hex
src.java.org.apache.cassandra.utils.MergeIterator
merges sorted input iterators individually unique merge iterator consumes multiple input output straightforward find item iterator back efficient require comparisons consumed input suitable fast makes fact replacing top element binary heap efficiently separately removing placing top large sections output limited number input iterators practically improve sorted section start heap laid line sorted section advance single comparison advancing level requires find lighter element pop sorted section adds constant overhead data uniformly distributed halve iteration time iterator dominant sections merged data iterator complicated avoid advancing input iterators output achieve walks heap find items advancing moves restores heap structure items avoid additional comparisons consume identify track children parents lines diagram define parent child make update parent field additional formal definitions proof number position child advancing start advancing items range advancing correct trees rooted position retain binary heap number elements order binary heap exclusive top heap advance iterators advanced place suitable positions walking iterators backwards point processed correctly ordered build subheap rooted current position sinking newly advanced parents consumed iterator consumed process consumed iterator skip procedure initial building heap heapsort algorithm maximum number comparisons multiplied number iterators items consumed previous linear size heap number consumed elements high initial heap iterators procedure finishes couple turn candidates advance runs maximum index items consumed occur items position valid consume items sort current top advance iterators equivalent items pop walk heap find mark relies parent flag avoid recursively consume items item binary subheap rooted position largest index found replace iterator heap position move heap finds pulling lighter elements found elements form parent flag true elements drop iterator replacing element top point parent advance sorted pulling items lighter greater size idx curr idx sorted section size size idx advance binary pulling lighter element pick smallest smaller restore heap parent sibling cmp idx left sibling cmp idx left siblings inserting pull left descend path found loop guard ensures siblings typically exit loop past end heap condition child compare holds comparable head item iterator iterator null items lower bound ensure lower bound real item skip lower bounds accumulator collects outputs true single source combine previous intermediate state computed reduce called beginning reduce overridden overridden require cleaning compare trivial iterator utils idx reduce reduced sources trivial reduce trivial curr idx iter close consume heap replace sink math imerge iterator comparable key change candidate candidate min runtime ret current idx parent merge iterator max sorted section size size suppress warnings auto closeable consume comparator iters comp reducer compare iterators advance heap iterator util lower bound comparator iterator compute end data reducer sorted section size lower bound sibling cmp item advance source advance cmp iterator lower bound iterable
test.unit.org.apache.cassandra.db.SystemKeyspaceTest
remove existing check absence previous installed setup upgrading previous compare versions verify snapshots created tables system clear snapshots previous recorded version snapshots created snapshot version change upgrade open sstr cfs delete file segments marked deferred files insert verify matches database descriptor linked delete snapshots local host id daemon initialization system keyspace tables system keyspace add version junit snapshot version change saved tokens buffer util format db util token io cql execute internal uuid array patch system keyspace token id collections load tokens token update tokens unknown host cfs deleted deferred current version semver net size metadata field runtime index windows failed snapshot tracker address clear snapshot remove endpoint query processor prep snapshot tracker local token major local address column family stores snapshot system keyspace upgrading clear unsafe open fb utilities snapshot details collection table tok older version minor schema files tokens keyspace column family store id expected count cluster untyped result count ordered partitioner utils release version substring io local tokens baseline snapshotted table inet address system snapshot files local host id empty dht config true singleton schema constants deferred deletion count database descriptor read local version windows setup release version
src.java.org.apache.cassandra.serializers.TypeSerializer
modify position limit buffer validate array valid sequence guarantees called modify position limit buffer serialize marshal buffer remaining serializer serializers cql literal nio buffer validate deserialize
src.java.org.apache.cassandra.tools.nodetool.GcStats
nodetool probe airlift system node probe io printf override tools math reset gc stats stats sqrt node tool description node tool cmd command stdev execute gc stats airline
src.java.org.apache.cassandra.cql3.statements.ModificationStatement
parent individual update operation requires conditional affected column part paxos phase compact tables row update updating declared write compact column add query handler cas updates simulate select require mv updates current state update require base updating regular rows clustering columns note provide columns columns check table clustering checks modification apply modification apply checks operations conditions apply operations conditions apply operation incurs support cas operation multiple conditions columns avoid preserve order order query adding partition key batches disambiguate conditions span multipe rows add batches compatibility convert statement mutations apply options prepared statement local requests performed mutation locally current timestamp microseconds timestamp user ranges invalid restrictions unspecified empty operation requires column metadata column family meta bound bound column conditions make enforced sanity parse column metadata column family meta bound bound column creates metadata column family meta bound bound operations column conditions retrieves raw metadata column family meta raw id raw raw execute iterator requires read attrs buffer linked row timestamp spec partition iterator prepared conditions util updates unauthorized cql raw id condition exists statement iter logger compact table query state builder mutations check null iterables end specs select clustering columns restrictions cbuilder prepare column conditions current cql statement empty query options validate counter write selection options updated columns group check access slices column filter read command timestamp apply conditions fb utilities clustering key restrictions operations add updates partition key clustering columns conditions materialized cas def decorate key regular columns read required schema partition keys prepare conditions update parameters select statement partition iterators ensure permission empty clustering request validations make update parameters element view sec add make mutation build cas result operations query state validation group make cas request exists custom expressions partitions views timestamp auth time live cas internal prepare internal execute iterator merge upd selectors array iterable clustering build partition key counter prepared attributes cas result column operation collector updates row clustering index filter clustering index slice filter column metadata regular columns size clustering index filter validate key cql limits exists condition builder partition update raw put query processor request execution starts messages filter clause view client state cf invalid request singleton partition update process partition trigger executor navigable proposal service prepared params restrictions batch applies columns schema view metadata imutation statement result metadata result builder read execution controller logger factory decompose rows clusterings end bounds result message exists mutate triggers selectors partition keys client state instance build validate indexed columns execute condition singleton columns partition request bound wildcard selection add row update add conditions operations check false parsed statement filtered partition mutations column condition uuid gen local columns column specification dk db execute internal build cas failure result exists column definition common apply columns collections metadata view modify result data size nano time add conditions condition columns selection partition key bind indexes state primary key column conditions ends add update key key columns request validation restrictions commands limits triggers keyspace single partition read command paxos execute internal condition custom expressions cl mutations columns conditions collect marker specification cf statement table metadata regular operations updated columns builder builder pair proposal condition columns builder query start nano time bound terms restrictions comparator applies regular operations clustering columns columns conditions slice primary key columns utils execute internal condition logger id storage proxy find time live make key relation defs function nio applies columns keys clustering selectors exist condition serial consistency validate modified columns max unsigned builder clustering columns bounds operations entry update left bound execute condition attributes row iterator row filter add time live logger remaining format clustering column slices clustering bound cq cas request commit exists condition operations uuid success slices collect operation updates regular rows google slices table system validate read row iterator make updates ballot transport slice raw empty condition data limits validate table mutation statements exist condition variable specifications partition decorated key result metadata execution controller column sorted marshal op column family access applies regular columns consistency level clustering rows prepare collection column identifier requires read builder function bound terms column range slice validate write column family time uuid micros result singleton functions add functions statement restrictions empty bound variables functions start bounds column conditions update start consistency parsed permission partitioner slfj modification statement updates collector
src.java.org.apache.cassandra.service.QueryState
represents state related query state internal calls limited kind clock guarantees updates query state sequence multiple updates happen internal session buffer query state client state thread local random tracing session service address current instance timestamp net storage service trace probability nio remote address tracing session prepared tracing session util concurrent prepare tracing session trace query client address custom payload uuid tracing trace probability session id internal calls inet address client state client state
src.java.org.apache.cassandra.cql3.Operator
binary representation creates binary binary representation write serialized version output output write io problem occurs writing deserializes instance input input read instance io problem occurs deserializing satisfy operator compared checks operator slice operator slice checks operator operator unsupported operation buffer serialized size instance input gt buffer util format db collection util io cql serializer compare cql deserialize write output key write starts suffix data input matches read operator eq marshal operator keys neq slice gte lte kind data output elements utils io override lt nio satisfied read error left operand key ends operand prefix
src.java.org.apache.cassandra.tools.nodetool.SetInterDCStreamThroughput
nodetool probe airlift inter dc stream throughput node probe arguments io override inter dc stream throughput title tools usage integer node tool description node tool cmd command execute required inter dc stream throughput airline
src.java.org.apache.cassandra.exceptions.ReadTimeoutException
received block request timeout read timeout db read timeout code consistency data present consistency level
test.unit.org.apache.cassandra.io.compress.CompressorTest
representation direct buffers temp prepend random output initial compressed buffer length random preferred buffer collections buffer make bb src data files write data snappy compressor junit buffers buffer util dest comp util temp file io lz buffers random compressed length common throwable array copy google snappy buffers empty array result fill bb random close lz compressor capacity error compressors empty offset allocate icompressor supports deflate compressor uncompress comp buffer len compressed src heap deflate buffers length compressors buffer size file garbage read array channels put restore offset open size copy range unsupported encoding write compressor simple decompressed buffer temp flip remaining random access reader limit array file utils array uncompress array io compressor channel nio decompressed length arrays compress delete exit standard open option data path clear file channel offset file position compressed restored
test.unit.org.apache.cassandra.index.sasi.utils.RangeUnionIteratorTest
parts sorted mimic build element building empty total ordering random disk range iterator range union iterator skip add null junit count random sequences util token range intersection iterator array close quietly null overlapping ranges empty range index current iterators single builder overlapping overlapping ranges total count convert skip range range union iterator merging multiple iterators poll maximum num statistics union builder minimum empty sort disjoint thread local random builder builder tokens part min max count size iterators utils single io token count range iterator length build current single iterator true arrays concurrent file utils count iterator range count builder false sasi empty tokens
src.java.org.apache.cassandra.gms.GossipDigestAckVerbHandler
ack completely infer respondent shadow bother ignore gossip digest ack messages handle regular gossip digest syn prevent acks leaking shadow round actual part regular gossip notify failure detector state required send gossipee construct shadow round messaging service payload notify failure detector digest ack message system nano time put debug enabled digest endpoint logger endpoint state message finish shadow round digest delta ep state enabled message gossiper id local ep state ptr instance verb empty gms logger size max version trace enabled trace endpoint state util ep state syn send gossip digest ack verb handler digest ack message iverb handler gossip digest net addr gossip digest ack gossip digest ac apply state locally message verb logger slfj send gossip digest ack debug inet address logger factory gossip digest serializer state version bigger
src.java.org.apache.cassandra.db.marshal.IntegerType
singleton number ignore lhs difference length significant msb signed remaining compared empty buffer empty unsupported operation compatible internal buffer lhs msb idx big integer big decimal custom source lhs len protocol version input remaining lhs msb buffer util format db cql serializer mod deserialize math protocol version transport serializers empty meaningless comparison cq constants term len compose subtract substract big integer rhs msb integer serializer marshal big decimal divide rhs len serialize marshal negate serializer remainder add integer number compatible varint rhs msb idx integer json left decompose utils cq override parsed lhs len diff instance empty number format rhs len diff nio buffer rhs json empty buffer position multiply exc find significant compare integers lhs compare custom left
src.java.org.apache.cassandra.db.monitoring.ApproximateTime
approximation updates time periodic intervals milliseconds faster time imprecision scheduled executors system parse check interval config logger math monitoring scheduled fast tasks integer logger config approximate time max db precision util concurrent info property schedule fixed delay current time millis logger slfj time time unit logger factory property prefix milliseconds
src.java.org.apache.cassandra.exceptions.RequestFailureException
passed failure reason endpoint entries added delayed failure response make copy point ensure modified implications encode failure reason endpoint code consistency level request failure reason net size format db util code block received request execution request failure consistency inet address
src.java.org.apache.cassandra.dht.tokenallocator.ReplicationAwareTokenAllocator
replication aware allocator attempts ensure distribution ownership cluster provided replication unit shorthand translates roughly disk cpu relevant unit units lowest rung ownership evenly moment nodes treated change introduction token ranges allocation replicates heuristics deal random allocations fix problems construct initial token ring state replicas groups allocation random part code reached strategy adapter token allocation algorithm cover behavior initialise state idealised strategy build current token ring construct rank candidate token allocations walk token constructing candidates ring midpoints existing evaluate expected improvements candidates form priority iteratively candidate improvement changed multiple good suggestions improve evaluate good good heuristic works average cuts search time factor construct token ring circular populate ownership build circular finding replication start incorporates selected candidate adjusting ownership information calculated process efficient replication span recalculating replication threshold existing data token data analysis similar fine method dominate put accepted candidate token empty change head update data update candidate curr token calculates chosen permits quickly identify replication start end token group end token group group instance group precedes replication range replication range token boundary closer group replication span evaluates improvement variance units individual tokens candidate inserted form chain units affected insertion qualify change unit unit affected reflect change ownership splitting token loop vnodes replicate candidate split update group token start replication span token inserted applies ownership adjustment updating tracked unit ownership tracker unit ownership tracked chain unit infos field updated token chain ends element points element argument constructor unit calculating variance separate multiplier applied permit freedom choosing tokens loop units chain add clear helper visited chain true iff time visited clean group selects token forms bigger range upper account unlike covering remove unit preserving correct state token info candidate directly preceding token current token unit info optimal token ownership apply ownership adjustment visitor replication visitor replication aware token allocator ni group unit group candidate prev ring curr group add candidates ti tokenallocator candidate info adjusted ownership token info util key token find updated replication start token info navigable replicated ownership group chain token count remove remove collect token improvements replication strategy token infos key google unit change weight candidate end system generate random tokens prev populate group info replication start multimap unit adjustment tracker lead visited opt token ownership replication end curr unit immutable base token info dump tokens populate token info adjust unit units chain common peek remove unit infos midpoint ipartitioner terminator groups priority queue add unit put key evaluate improvement token sorted tokens replication visitor prev unit count replicas format entry token en diff start token unit size collection strategy insert prev token change replication threshold remove unit calculate unit change random token tokens unit simple initial token ownership copy prev impr token allocator base populate candidate candidates unit curr multimap unit mult vn num tokens unit group visitor unit infos unit tracker populate visitor split units dht unit tokens ownership populate replicas tokens add node change ownership unit info entry token group prev weighted ownership candidate unit sq populate token info partitioner clean confirm candidate
src.java.org.apache.cassandra.db.marshal.BytesType
ascii comparison validate compatible read compatible internal parsed utils protocol version hex marshal cq substring override cast buffer wrap starts ascii parsed transport order serializer serializers source comparison instance message protocol version number format hex ut constants term nio buffer util format db json buffer serializer cql serializer previous exc cq blob compatible json marshal hex
test.unit.org.apache.cassandra.db.compaction.BlacklistingCompactionsTest
seed seed reproduce compaction failures reading empty seed seed reproduce undetected table fixed size increase chance detecting corrupt generate error message corrupt table log stop creating custom compaction strategy compaction task kind ridiculous amount intended rows force multiple block indexes disable compaction index corrupt write large corruption wrong loop forever kind hack execution wrapping good errors compaction bring random column family store gc sstables math cache max size add logger null junit row update builder min index interval lcs thread format db util live tables compaction sstables max timestamp table reader define schema random logger close quietly collections metadata standard lcs cmd tear min table system close nano time max size corruption size corruption configuration filename empty builder decorated key make table key apply unsafe keyspace key sstable max timestamp expected blacklisting force blocking flush marshal truncate blocking simple standard cfmd pos standard stcs keyspac sstables corrupt open size clustering table metadata compactions collection rows sstable params length dk schema compaction params leak detect max size keyspace column family store prepare server sleep info err current table random access file logger factory close std err raf disable auto compaction seed io logger seek chunk cache keyspace interrupted cfs util instance force major compaction build timestamp config true blacklisting size tiered compaction strategy schema loader max invalidate file keyspace params file utils database descriptor inserted blacklisting leveled compaction strategy blacklisting compactions slfj write failures
src.java.org.apache.cassandra.cql3.IndexName
idx index idx cf cf index idx override keyspace internal keyspace keyspace element keyspace cql cf
test.unit.org.apache.cassandra.db.PartitionTest
def regulars truncate blocking digest instance add cell junit columns message digest serialize buffer util db util framework io local deletion time partitions simple deserialize define schema cmd delete row data output buffer security configuration data input buffer digest current time millis system cfs single column stats column metadata delete row version read command net size metadata immutable btree partition ascii apply unsafe keyspace deserialized buf algorithm messaging service column simple partition update standard cfmd cmd cmd keyspac currentversion open fb utilities clustering rows schema cached partition cf counte keyspace partition key column family store cache serializer prepare server row update builder cf tencol unfiltered iterator partition unfiltered unfiltered row iterators build update min local deletion time column stats records row deletes correctly utils digest io row encoding stats cached btree partition partition column family store digest util instance build timestamp cf standar data true schema loader arrays update keyspace params columns builder partition marshal dense cfmd false
tools.stress.src.org.apache.cassandra.stress.generate.values.Times
stress generator identity distribution db marshal instance time generator config times config generate
src.java.org.apache.cassandra.locator.OldNetworkTopologyStrategy
replication strategy nodes responsible key respects rack places replica data center data replica rack remaining replicas unused nodes find data found diff datacenter find find found diff rack find found number nodes loop wil loop add size data center endpoint rack snitch ring iterator singleton locator collections parse config options replication strategy collection validate replication factor add empty iendpoint snitch integer net dht configuration datacenter primary token calculate natural endpoints replicas validate options token metadata util token network topology strategy rack replication factor tokens endpoints iterator recognized options array token metadata iter token sorted tokens inet address metadata keyspace
test.unit.org.apache.cassandra.tracing.TracingTest
repair unsupported operation daemon initialization singleton collections buffer uuid teststates add message testget logger junit session util key stopped custom payload custom payload uuid wait activity array commons tracing inet address key traces lang state progress net bb empty tracing tracing testprogresslistener add progress listener tt trace impl trace state active progress event stop session wrap size status idle pe setup dd info join wait pending events put trace state trace utils testgetuuid tag ia enable activity notification trace empty payloads stop session impl config begin nio trace stop testcustom payload tracing impl database descriptor request session id utils
src.java.org.apache.cassandra.tools.nodetool.SetLoggingLevel
nodetool probe airlift qualifier node probe logging level arguments io override lang tools empty usage size node tool description node tool cmd util command execute level array commons logging level airline utils
src.java.org.apache.cassandra.db.partitions.BasePartitionIterator
rows base partition iterator utils db closeable iterator base row iterator close partitions
test.unit.org.apache.cassandra.schema.SchemaKeyspaceTest
compression schema extensions serialized cf singleton collections buffer row serialized cd immutable metadata add snappy ksm junit columns timestamp micros keyspace metadata format table params row db util io cql partitions define schema collect table common check inverses configuration keyspace tables google cfs merge column metadata mutation keyspac rm metadata partition update schema keyspace make table mutation query processor tables keyspace filter keyspace resultify extensions row update table system keyspaces statements simple partition update standard cfmd column family stores table statement mutation wrap table open table params fb utilities keyspace metadata rows compression table metadata cql compression schema keyspace table params column row schema table row columns rows keyspace column family store copy untyped result prepare server columns unfiltered iterator compression params unfiltered row iterators table metadata conversions inverses utils parse unbuild io make update table mutation keyspace instance instance empty build cf standar schema true schema loader nio schema keyspace table schema constants keyspace params
src.java.org.apache.cassandra.streaming.StreamState
current snapshot streaming google plan id streaming session io iterables apply session info stream operation predicate failed session array transform stream state serializable sessions summary summaries util base session summary uuid stream operation collect common failed
test.unit.org.apache.cassandra.security.CipherFactoryTest
key alias google round trip encrypted iv bad padding fail seed cipher factory io build cipher params iv secure random encryptor instance build cipher modes build cipher aliases encryptor algorithm decrypt mode illegal block size build cipher encrypt mode build cipher ivs cipher cipher factory decryptor null iv ulysseus expected transparent data encryption options null config junit false true error decryptor empty iv iv system util decryptor decryptor base io encryption context generator keyalias charsets encryption options decrypted utf setup random crypto original seed cipher cipher factory common provider security encryption options secure random
test.unit.org.apache.cassandra.repair.consistent.AbstractConsistentSessionTest
repair google participan consistent daemon initialization system streaming unknown host active repair service utils instance token service rang participan array register parent repair session participants cfs coordinator uuid gen consistent session time uuid net dht config junit immutable buffer util db preview kind util range participan column family store session id database descriptor error ignore uuid partitioner token current time millis rang collect rang common register session inet address
test.unit.org.apache.cassandra.service.ClientWarningsTest
min size response resp connect iterations query lang open query message transport batch size warn threshold service keyspace batch size warn threshold kb cql tester column family store warnings client protocol version size config junit batch statement client warnings repeat format tombstone warning db large batch proto keyspace query options column family store current table database descriptor cql host address batch statement execute large batch proto addr framework port require network messages commons unlogged batch proto table force blocking flush store message null utils simple client
src.java.org.apache.cassandra.service.DigestResolver
special reads digest mismatch method handles handling initial read data closest replica check digests data checking additional digests arrived minimum requested asynchronous read repair validate digests immediately rely fact single partition queries size max response count partition key system nano time buffer override message make iterator message consistency level partition iterator service read response payload start read command digest preprocess net compare responses trace enabled digest mismatch responses nio trace unfiltered partition iterators response resolver db util keyspace resolve data present digest response millis logger partitions sec data response data concurrent nanoseconds filter keyspace digest command consistency digest resolver time unit response single partition read command
src.java.org.apache.cassandra.auth.RoleResource
iresource representing database root level resource represents collection individual roles represented members root level collection specific database permissions granted root level permissions granted role level creates role resource representing individual role resource instance reresenting parses role resource role resource data role resource instance matching printable form role level full version illegal state called parent illegal state google role level permissions existing role exists format describe role manager role resource override root lang root level permissions alter parent comparable permission drop root code parts role split applicable permissions config iresource immutable level auth util base database descriptor illegal state parent authorize level root illegal argument commons role collect length role common compare root resource utils
src.java.org.apache.cassandra.db.aggregation.AggregationSpecification
defines rows grouped creating group row creates creates state creates instance build aggregates based primary comparator comparator compare clustering clustering prefix size number clustering columns instance build aggregates based primary build aggregates based primary key number clustering component comparator compare clustering size write unsigned vint group maker group maker serialize sizeof unsigned vint read unsigned vint aggregation spec io override sizeof aggregate pk prefix serialized size aggregate pk prefix state version data output clustering prefix size clustering comparator ordinal kind sizes instance data input db aggregation util aggregation specification io write serializer grouping state error kind deserialize comparator group read unsigned empty state aggregate pk prefix aggregate serializer
src.java.org.apache.cassandra.db.commitlog.CommitLogReadHandler
handle error segment signaling reader skip remainder current segment commit log read indicating stop io event handler forceful termination instances recover specific error care reader commit log read process deserialized deserialized size serialized size entry location file pointer offset inside commit log segment desc commit log descriptor mutation eof mutation io message skip segment error mutation error handle mutation size entry location commit log read handler db reason io permissible recoverable descriptor error desc unrecoverable unknown error commit log descriptor commit log read error reason commit log read commitlog unrecoverable descriptor error handle unrecoverable error
src.java.org.apache.cassandra.streaming.ProgressInfo
progress info file transfer direction true file transfer progress info considered attributes current completed code io total peer progress info google override append direction code session index net serializable current direction builder file sb base streaming common inet address
src.java.org.apache.cassandra.schema.CompactionParams
strategy options excluding lcs stcs dtcs compaction threshold helper min threshold immutable method add message logger lcs invoke tombstone option db util key compaction lower leveled compaction strategy commons remove logger common provide overlapping tombstones throwable row google max threshold system bloom filter fb chance numeric lang collect code options scts configuration suppress warnings provide overlapping tombstones runtime base reflect key assignable upper options enabled put parse cp table params fb utilities max compaction threshold min threshold method unknown options unrecognized options integer max threshold schema compaction params size tiered compaction strategy warn simple copy parse property supports threshold params min threshold logger factory enabled strategy utils enabled target put absent override invocation target logger min compaction threshold format cell empty illegal access compaction strategy max threshold thresholds validate option lang tombstone option slfj klass utils
src.java.org.apache.cassandra.io.util.FastByteArrayInputStream
file modified methods original replaced makes file remains formatted harmony original make patching easier bug fixes made harmony specialized input stream reading contents array stream current position current mark initially parameter total number initially constructs array stream constructs initial position number array stream initial position start streaming number number stream method number read source number closes stream frees resources error occurs closing matches jdk mark position sending reposition stream back marked stream supports reads single source array integer range end array read end stream reads stream array starting reads source array store initial position store read maximum number store number read read end stream offset length offset greater size avoid resets stream marked resets position marked start supplied constructor skips number skips number target number number readlimit skip mark supported pos input stream io override close fast array input stream system mark reset read copylen arraycopy array input stream util io offset buf null pointer count temp length index bounds
src.java.org.apache.cassandra.gms.GossipDigestAck
ack result receipt gossip digest syn message stage messaging gossip size data output serialize entry gossip digest io entry digest sizeof endpoint state digest ack message serialized size gossip digest ack serializer ep state ep version iversioned serializer gms net sizes read data input endpoint state db util ep state io gossip digest serialization helper entry compact endpoint serialization helper gossip digest deserialize gossip digest ack put key ack write inet address serializer
src.java.org.apache.cassandra.tools.nodetool.Flush
nodetool probe airlift node probe arguments io override tools parse optional tables table usage force keyspace flush node tool description runtime node tool cmd util keyspaces command parse optional keyspace execute array keyspace airline flush
test.unit.org.apache.cassandra.service.ProtocolBetaVersionTest
change beta version remove beta change beta version remove beta message supported resp result message fail rows encryption options connect query query message transport result service keyspace beta version batch size warn threshold kb cql tester client version protocol beta version logger size config junit true beta version unforced protocol version format protocol version protocol beta version framework beta database descriptor cql host address info execute client encryption options addr port require network messages query options table beta current table simple client
src.java.org.apache.cassandra.db.BufferDecoratedKey
decorated key nio buffer decorated key db token key key token buffer dht
src.java.org.apache.cassandra.gms.GossipShutdownVerbHandler
message mark shutdown message enabled slfj id instance gossip shutdown verb handler gms logger logger iverb handler net verb logger gossiper debug logger factory
src.java.org.apache.cassandra.cql3.statements.CreateTypeStatement
validate happen present query state keyspace access add udt keyspace metadata change db auth util keyspace field unauthorized keyspace cql array raw query state event counter keyspace schema change client state transport permission user state add definition configuration local target request validation prepare collectors keyspace column collect created marshal invalid request statements check access raw builder schema altering statement size statement keyspace metadata user service schema announce ksm check duplicate prepare keyspace field identifier stream add raw builder cq exists override schema column format frozen instance ut migration manager announce migration validate builder
test.unit.org.apache.cassandra.db.TransformerTest
mock transformations check mock data combinations mock data checks extending call empty call singleton iterator function expects receive call nested version function expects receive future fourth indicating iterators daemon initialization unfiltered row buffer cell cur row iterator live junit columns count buffer util db util framework contents add partition key column illegal state simple clustering apply config array iter singleton add clustering column extending iterator row extension check clustering filtered rows expect empty iterators close btree row transformation stats regular columns single cell row closed apply checks metadata ttl nested extend decorated key add end data filter rows expect transformer add regular column row singleton init deletion time apply refill clustering rows table metadata buffer decorated key transform base row iterator integer unfiltered row iterator add column schema token filter partition key partition level deletion murmur partitioner partition close comparator compute empty refill nested utils regular columns base row iterator check encoding stats apply outer iterator unfiltered row util instance empty build unfiltered max filtered dht reverse order true deletion time iter empty buffer stats database descriptor empty builder apply row marshal row
test.long.org.apache.cassandra.hints.HintsWriteThenReadTest
write hints calculate checksum compare checksum file iterate written make hints reader iterator base timestamp session buffer verify hints hints iterator row files write hint hint writer add util null junit hints writer dk buffer util read timestamp db file util framework io hex uuid iterator write hints collect calculate checksum common clean page google exists system iterables append expected checksum crc cell mutation reader  size hints count write read cycle key checksum file partition updates zip idx keyspace current time millis keyspace session row simple standard cfmd random uuid input stream cell file utils mutation table open fb utilities clustering rows table metadata temp directory table schema allocate direct checksum file integer read prepare server hints row update builder cells creation time hints descriptor input stream descriptor read lines table metadata cr time unit file hint utils hints file io mutation micros instance build schema true schema loader nio index buffer session update concurrent keyspace params delete exit hints write read page path max unsigned actual checksum verify checksum file file directory milliseconds
src.java.org.apache.cassandra.service.CASRequest
conditions updates cas command fetch compare provided represents fetched match cas conditions stands updates perform cas fetched passed invalid request sec make updates service cas request partitions db current read command applies single partition read command filtered partition partition update
src.java.org.apache.cassandra.streaming.management.StreamSummaryCompositeData
google stream summary composite data cd streaming table id composite data support total size management open throwables composite data composite data integer composite data schema files composite item descs util openmbean base propagate composite stream summary stream summary simple put item table id common item open data
src.java.org.apache.cassandra.utils.GuidGenerator
convert standard format rand guid generator md utils rand substring sid unknown host buffer wrap array guid secure random raw position convert standard format secure initializer append guid integer net fb utilities random secure rand nio builder thread local md digest system util sb property sb md hex error property local host random upper current time millis length guid limit time md inet address security digest host id
src.java.org.apache.cassandra.auth.CassandraLoginModule
login module authenticates user database internal authentication initial authentication username initialize subject callback handler end user user shared state shared param options options login param authenticate obtaining credentials supplied supports true failed login authentication login unable perform prompt user verify authentication failed clean actual users authenticate login privilege required authenticate method called authentication relevant sufficient optional authentication attempt succeeded retrieving state saved method associates authentication attempted method removes state originally true login commit attempts false login commit add principal method called authentication relevant sufficient optional authentication attempt succeeded retrieving state saved method cleans state originally false login commit attempts true login abort login succeeded authentication authentication succeeded commit commit logout method removes principal added true login logout authentication callback handler arraycopy principal authenticator add message logger storage service info handle format failed login auth util principals io credentials password iauthenticator remove logger clean internal state security principal subject callback system subject authenticate clear password login module password username key logout initialize auth setup complete length commit login options shared state legacy authenticate put role manager service tmp password pc username authenticator callback callback handler login commit succeeded authenticated user unsupported callback login logger factory anonymous spi abort io override logger nc password callback instance password key config login module user database descriptor system lang password authenticator succeeded primary role callback slfj
src.java.org.apache.cassandra.repair.messages.PrepareConsistentResponse
size repair write length data output utils serialize serialized size write result io sizeof serializer inet address serializer read participant deserialize code instance version serialized size length parent session net sizes read length buffer util consistent response data input db util uuid serializer io serializers response message serializer repair message uuid success messages inet serializer inet address prepare consistent response serializer
src.java.org.apache.cassandra.dht.ExcludingBounds
bounds cql key key range unlike excluding bounds excluding bounds bounds minimum utils ring position lb collections override inclusive left split rb pair end inclusive dht closing unwrap rhs range position excluding bounds util start inclusive singleton inclusive compare strictly wraps opening left
tools.stress.src.org.apache.cassandra.stress.CompactionStress
tool fast route loading data arbitrary schemas compacting open add tables firing indexing eventual unsupported populate token metadata consistently consistency write compact data range aware sstable compaction stats bg cleanup finish thread operations schema insert data dirs open validation random airlift option system keyspace write jvm stability inspector sstables executor service statement generator executors add tables add illegal state add message io error data writer storage service compaction maximal pending tasks runnable submit background total size gb format daemon initialization directories db uri collections util token compaction cql index manager maximum compactor threads insert table reader make range aware array random fixed work manager indexes collect compaction stats common inet address command directories run offline google exists system active compactions seed str submit cfs current size gb submit maximal option uri code gb yaml file exit inject data directories net fb utilities output dir close quietly run array capacity builder partition generator stress profile ipartitioner descriptor command force shutdown report compaction stats generate futures await uninterruptibly fixed thread pool estimated remaining tasks working components directories key filter sstable airline threads executor service update normal tokens seed manager load init cf statements cli lifecycle transaction entry raw diretories size data directories locator data dir table statement inject count enable auto compaction tools size offline generator lister core compactor threads service compaction stress remove unfinished leftovers sleep uninterruptibly integer description seed manager utils enable table writer partitions random token tokens finished column family store skip temporary count statement err stack trace report compaction table inspect throwable token metadata stress profile ignore rate table lister commands addr time unit compaction logger compactions compaction manager disable auto compaction stream nodetool count latch offline insert num tokens parse load tables directory seed io throwable txn err buffer size data clear unsafe cli builder compaction strategy manager offline table uninterruptibles component writer option instance build max generate tokens empty dht config profile stress cqlss table writer count description userdefined stress profile stop token metadata concurrent future stress work manager file utils entry database descriptor lifecycle sstable lister stress token metadata raw statement builder required partitioner broadcast address file work manager entry finish startup
src.java.org.apache.cassandra.io.ISerializer
serialize data output data output serialization deserialize data input data input deserialization serialized size deserialize data input serialize util io io data output skip iserializer
src.java.org.apache.cassandra.db.DeletionPurger
sec deletion purger deletion time timestamp liveness info purge purge marked delete liveness db live local expiration time ldt dt local deletion time
src.java.org.apache.cassandra.io.util.SequentialWriter
adds fsyncing fsync fsync incrementally absolute path offset start buffer relative underlying trickling avoid sudden bursts dirty buffer flushing kernel causing latency due lack proxy transactional close parameter permit existing file sequenial writer buffer file file sequential writer file specific writer file file option writer synchronize file contents safe call truncation close leave size compressed block middle compressed format handle remember write override method overriding write error current file pointer underlying note write works buffering increase size write writer modify compressed refers compressed writer refers current file drops buffered data past limits file mark buffer syncs underlying file marked resetting point buffered adjust buffered position drop desired synchronize current buffer disk data truncate file hold mark position trickle fsync sync internal write error math previous transactional buffered file writer mark fchannel sequential writer runnable file path util io accumulate strict flushing file merge estimated disk written read error commit throwable transactional proxy post flush listener force exists transactional sync finish flush close truncate target flush offset pointer pre cleanup finish close current run runtime position abort sequential writer option trickle fsync trickle fsync interval reset truncate commit sync data internal disk file pointer read channels run post flush prepare commit mark open size flush offset throwables path skip txn proxy option buffered data output stream prepare count add suppressed open channel reset buffer flip allocate buffer size absolute path file utils parent file abort io override flush data flush sync util length write channel buffer offset nio truncate buffer max concurrent data position file utils standard open option path write sync dir num open clear file channel clean position
src.java.org.apache.cassandra.tools.nodetool.InvalidateCounterCache
invalidate counter cache execute probe invalidate counter cache node tool cmd nodetool description airlift override node probe command airline io tools node tool
test.unit.org.apache.cassandra.streaming.StreamTransferTaskTest
streaming task streams file sending completes timeout task timeout runs task streaming time task streaming task streams task stream aborted stream session copy outgoing file task cleared start stream session reference finish reference cancellation session collections file stream session add outgoing file message junit format db util framework token live tables token table reader dht uuid ref define schema array stream coordinator total number files inet address configuration tear streaming state ref cfs state fail session transfer release references net size ref stream event handler metadata empty insert data schedule timeout ranges range time unit peer generate null keyspace messages sstable force blocking flush start transfer stream result future simple standard cfmd random uuid keyspac table id collection open fb utilities init clear unsafe refs schema files complete keyspace column family store add transfer file prepare server cf standard finish transfer future positions ranges preview kind stream transfer task linked utils stream coordinator io id schedule timeout global count stream operation column family store stream transfer task true schema loader put concurrent future keyspace params transfers task nanoseconds error broadcast address wait complete milliseconds
test.unit.org.apache.cassandra.LogbackStatusListener
listen logback readiness redirect stupid stream empty log framework windows serve logback fake console appender replaced real logback times log deadlock thread logs blocks appender async appender thread log directly part internal logback prevent exhaustively check locking stream real async thread id based qos level stderr logger original message logger info err thread format util io sequence add status event logger async appender thread id min system flush close error append async appender wrap logger size core stream runtime len offset replacement obj ch current thread encoding printf logback install replacement streams status start statement output stream replacement err buf reset property err logback status listener locale array error logger factory stdout logger original err io override baos logger end length id write csq status encoding property array output stream effective level slfj status listener original
src.java.org.apache.cassandra.auth.IResource
core represents resource resource supported printable resource call parent make resource parent illegal state resource parent perform check calling resource resource exists permissions applied permissions applicable makes sense talk permission select filter permissions depending specific resource applied cql syntax supports permissions resolve varies permissions granted specific parent exists permission auth util applicable permissions parent iresource
src.java.org.apache.cassandra.repair.messages.PrepareConsistentRequest
size repair google write length prepare consistent request data output utils serialize peer request coordinator result io sizeof serialized size serializer serializers deserialize code instance participants version empty parent session net consistent request immutable sizes read length buffer util read data input num peers db util inet address serializer io copy message serializer repair message peers uuid uuid serializer serialized size length messages inet serializer collect session id common add write inet address serializer
test.unit.org.apache.cassandra.db.compaction.SizeTieredCompactionStrategyTest
disable tombstone histogram rounding max coldest ksname num tables collections buffer add validate options junit db util compaction table reader define schema array metadata estimated keys key size tiered compaction strategy options system fail cfs override read meter buckets open configuration buckets key min sstable size key pairs options validation keyspace keyspace length force blocking flush options truncate blocking simple format standard cfmd put keyspac wrap prep bucket bucket high key cfname size clustering apply unsafe pair interesting bucket schema size tiered compaction strategy unvalidated expected bucket hotness keyspace column family store property prepare server row update builder trim threshold hotness bucket bucket low key disable auto compaction sstrs utils io buckets sstable restorable meter size tiered compaction strategy column family store empty build cf standar true schema loader nio metrics singleton keyspace params pair clear st interesting bucket live tables left
src.java.org.apache.cassandra.cql3.restrictions.RestrictionSet
column comparator sort restrictions checks restrictions applies column specific kind column restrictions applies column specific adds restriction restriction restriction restriction immutable clone restrictions restrictions applied column defs column restrictions applied column column def column column merges restriction restriction merged invalid request restrictions checks restrictions multiple restrictions multiple checks underlying restriction underlying restriction checks underlying restrictions eq underlying restrictions eq decorator removes duplicates ordered iterator decorated iterator element decorated previous restriction secondary index manager iterator existing column collections previous row filter add empty number db util key cql restriction index manager iterator array collect common iterable google column column defs number index merge number keys column metadata tree key kind query options add restriction multiple supporting index column defs restriction restriction single column restriction multi column end data number entries key filter entry column definition comparator options invalid request singleton restriction eq put column restriction restriction size collection tail restrictions integer schema restrictions column def restrictions restrictions multi column restrictions restrictions slice kind compute column existing restrictions distinct iterator compare restriction override function functions iterator slice add functions empty comparator single restriction add row filter compare merge restrictions position column
src.java.org.apache.cassandra.cql3.statements.DropKeyspaceStatement
invalid request statements check access schema altering statement announce keyspace drop schema change override query state client state transport schema keyspace access service permission drop state exists change schema local migration manager auth dropped unauthorized validate cql request validation validate keyspace system drop keyspace statement announce migration keyspace query state configuration event
src.java.org.apache.cassandra.db.Clusterable
common identified clustering sorted clustering clusterable db clustering prefix
src.java.org.apache.cassandra.repair.RepairSession
coordinates repair overlapping token repair session repairs replicas ranges column column family creates handles repair repair job job requests merkle trees replica waits trees received trees job compares tree difference concerned sync task start streaming difference endpoint job sync tasks computed streaming started session execute phase start job start job validation phase replica merkle tree range ensure creation roughly time node phases run concurrently validation repair job sequential requests merkle tree creation replica sequence send message node flush snapshot data merkle creation similar actual creation merkle tree requested job handle sync task parallel repair session id replicas included relevant range repair validation task waits response replica validating concurrent cf endpoint remote syncing jobs wait response syncing tasks validate run repair parent repair session parent sessions id sessions ranges ranges keyspace parallelism degree specifies degree parallelism calculating merkle endpoints data centers part null pull repair true repair remote host host applicable force true repair ignore dead endpoints cfnames force filter dead promoting sstables repaired replicas excluded receive merkle tree response failed response current repair desc repair job endpoint endpoint merkle trees calculated merkle null validation notify session sync desc synced repair nodes nodes completed success true sync start repair job validates replica creates repair jobs submit run executor executor run checking nodes submit repair job repair jobs cleanup repair session mark session clear repair jobs terminate reason error higher confidence failure detection usual failing repair wrongly high arrive multiple time avoid error message node stop activity sync complete system distributed keyspace terminate results listening decorator atomic ranges summaries alive application state add gms logger change failure format max endpoint state execute trees util token io restart repair job desc session summary syncing tasks uuid success array remove remove logger common failed debug inet address merkle trees listening executor service google force repaired nodes job concurrent streaming repair job desc compare change jobs ep parent repair session repair result iendpoint state change subscriber collect array remote sync task trace repair ifailure detection event listener state convict net futures consistent state key tracing repair parallelism error force shutdown ranges node pair range key throwable debuggable thread pool executor logger factory future callback tracing validation complete keyspace length current state fail repairs log prefix executors add callback phi convict threshold repair start repairs skipped replicas put force skipped replicas collection shutdown join message wait validation active repair service fb utilities terminated service start ep state validating pair endpoint endpoint cached threadpool max size shutdown wait sync validation task builder nodes info endpoint reason parallelism degree versioned success column family executor task executor preview kind endpoints io utils remove candidates alive logger id runtime failure detector preview id phi instance empty append cfname dead repair session result cfnames dht config repair session future concurrent arrays remove trees received concurrent preview kind database descriptor listenable future task pull repair clear slfj broadcast address sb atomic
src.java.org.apache.cassandra.cql3.functions.Function
checks function coded function coded checks function aggregate function function aggregate function column columns call function reference function functions column add functions assignment testable function function db aggregate util column unmetered cql github jamm marshal
src.java.org.apache.cassandra.service.DatacenterSyncWriteResponseHandler
blocks quorum responses response managed make include pending endpoints fail consistency guarantees quorum conditions subclass latency snitch network topology strategy locator atomic integer message datacenter sync write response handler message consistency level service callback log response ideal cl delegate collection strategy decrement rf natural endpoints iendpoint snitch net config pending query start nano time data center datacenter runnable write responses datacenters db dc util keyspace quorum local data center snitch database descriptor replication factor signal response write concurrent write response handler replication strategy put ack count keyspace increment acks inet address endpoint snitch pending endpoints consistency level atomic
src.java.org.apache.cassandra.cql3.functions.ScriptBasedUDFunction
scripted ud rely security mechanisms scripting engine security manager unlike strict access udf loader nashorn builds configured system required required nashorn required required jvm standard executor service debuggable thread pool executor references triggers access control udf execute compilation prevent evil code code simply pass plain binding nashorn script execute methods parameter remaining parameters paramters prevent superfluous state scalar functions aggregates called prevent script engine nashorn enforces special permission granted big decimal accurate big decimal accurate udt codec collections url stream handler buffer udf loader compose big decimal parameters call protocol version ret tup logger param function thread format url db tup util script engine udf executor service bindings cql compiled script tuple big integer udf context udf context binding unmodifiable thread aware security manager execute script internal attribute member privileged action nashorn script engine udf context wrapper result protocol version engine transport privileged action min priority factory factory result script context execute aggregate user defined net script math body udt runtime script context called null input throwable simple script context security cls protection domain language assignable put code source decompose executor service marshal access control context invalid request filter certificate nashorn replace ignore api execute user defined bindings size script based ud function script bindings column identifier params length engine scope ud function script engine manager engine url connection big integer malformed url security thread group integer script engine manager info thiz nashorn script engine factory jdk thread factory script engine number compile script engine executor scripting ret udt protection domain array privileged cert udt open connection nio initialize thread arrays functions access controller concurrent eval access control context tuple filter number secure resource permissions ud helper
test.unit.org.apache.cassandra.db.lifecycle.ViewTest
check permit compacting duplicates spin infinitely screw check fail application presence lots trivial checks compacting related methods behave properly simple check marking compacting readers fails make equivalents attempt mark compacting version live update liveset instance confirm liveset compacting unmark check methods correctly copy daemon initialization collections sstables flushing identity memtable cur readers failure add empty mock schema partition position junit immutable memtable format db live memtables util framework table reader ref noncompacting array table collect common release throwable flushing memtables view memtable google memtable count iterables cfs current memtable immutable permit compacting empty empty base mark flushing tables bounds sstable count filter sstable update live helpers singleton apply select size failed compacting live tables bounds predicates schema function column family store cfs replace flushed min bounds reader bounds compacting memtables bounds initial view io view function fake view min update compacting compaction cleanup build ref dht config uncompacting true memtable memtable max table interval tree database descriptor lifecycle concat view memtable max false sstables left
tools.stress.src.org.apache.cassandra.stress.generate.Seed
compare utils position updater max size seed atomic sample code move forwards append node comparable add save visits util concurrent pool node updater generate stress row count atomic integer field updater remove seed dynamic saved compare position
src.java.org.apache.cassandra.service.ResponseResolver
accumulator optimal algorithmic compares received potentially triggering digest mismatch digest data functionally equivalent calling consuming slightly efficient due fact care result asynchronous digest mismatch digest resolver responses max response count utils partition iterator messages logger message consistency level service logger read response add read command preprocess logger data compare responses concurrent responses response resolver db accumulator data present net partitions digest mismatch resolve keyspace message keyspace slfj command consistency logger factory iterable
src.java.org.apache.cassandra.db.rows.AbstractUnfilteredRowIterator
utils unfiltered close encoding stats rows iterator table metadata regular columns unfiltered row iterator reverse order columns metadata deletion time db decorated key unfiltered row iterator stats partition key partition level deletion row schema row
test.unit.org.apache.cassandra.db.ScrubTest
insert data verify back range check data compression corrupted chunks partitions chunks size override chunk compression skip corrupted scrub expected skip corrupted corrupt rows corrupted chunk chose partitions cover overwrite row skip corrupted scrub expected skip corrupted corrupt row skip corrupted corrupt row verify read insert data verify back range check data insert data verify back range check data insert data verify back range check data assumes order partitioner expected open validation reset overwrite garbage compression chunks overwrite garbage check compact table cluster insert clustering including conflict cql column scrub remove broken reading back make partitioner preserves order secondary index row index check scrub scrub check index writer write order invalid sstables duplicate entries storage caused upgrading duplicate range big table writer index cfs filename scrub result iterator txn open validation decorated key table txn writer col index column family store io error collections path buffer directory tables desc filename math append files util scrub partition key update builder aborted cache comp data illegal state simple add temp data dir empty scrub row prev path partition position null junit col index multi writer table writer dk buffer util format metadata collector sstable level writer db ordered partitioner data file scrub corrupted row small file util temp file counter cfmd io compaction load schema scrub composite index join cql offline partitions serialization header table reader resolve comparator iterator header define schema cf chunk keyspace commons iter chunk scrubber operator unfiltered simple table multi writer metadata write timeout fail scrub keys index composite cmd key end position exists pending repair system index manager scrub corrupted counter row early open scrub txn repeat result fail scrub lang collector cfs append table op status table metadata ref run random access file num partitions row start scrub row corrupted key bad rows scrub order current arrays read command table multi writer col compression parameters table rewriter start position primary index configuration filename process column family scrub composite indexpreserve order partition key compression info row start ipartitioner descriptor empty rows offset compression chunk length eq apply unsafe query processor decorated key seek scrub result request execution scrub index components keyspace col ordered junit runner filter keyspace length separator scrub ordered marshal ise table descriptor uuid scrub corrupted counter row cf inde byteordered scrub index lifecycle transaction key count partition update standard cfmd writer override scrub keys index cf inde cf inde invalid legacy sstable root prop mutation stats apply counter cf open consistency level size fill index cf writer rows compression keys cf inde byteordered clear unsafe num rows assume true row key integer temp dir tracker schema row stats composite index cfmd validation compact storage assume override garbage cf summary write keyspace fail scrub composite index delete recursive cf uuid operation keys index cfmd chunk chunk copy untyped result position murmur partitioner parse property wait deletions err unfiltered iterator scrub column validation expected size cfs good rows descriptor counter mutation compression metadata partitions table compaction manager decompose delete invalidate file paths disable auto compaction file ordered runner scrub result utils parent file regular columns partitioner perform scrub io execution close toc fill counter cf cf cf directories encoding stats scrub chunk cache sstable partitioner unsafe data execute internal component interrupted instance build fill cf big force blocking flush disabled val dht config true legacy table root scrub keys indexpreserve order finish schema loader nio filter scrubber max compare compress update mkdirs scrubs load tables concurrent uuid successful keyspace params position file utils write database descriptor filter duplicates lifecycle live tables disable early opening partition failure repaired builder min index cfss scrub multi row partitioner index column family stores file modify partitioner column family store utils
